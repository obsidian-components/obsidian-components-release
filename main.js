/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var epe=Object.create;var kw=Object.defineProperty;var tpe=Object.getOwnPropertyDescriptor;var npe=Object.getOwnPropertyNames;var rpe=Object.getPrototypeOf,ope=Object.prototype.hasOwnProperty;var ipe=(n,e,t)=>e in n?kw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Gh=(n,e)=>()=>(n&&(e=n(n=0)),e);var $e=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),t6=(n,e)=>{for(var t in e)kw(n,t,{get:e[t],enumerable:!0})},n6=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of npe(e))!ope.call(n,o)&&o!==t&&kw(n,o,{get:()=>e[o],enumerable:!(r=tpe(e,o))||r.enumerable});return n};var _=(n,e,t)=>(t=n!=null?epe(rpe(n)):{},n6(e||!n||!n.__esModule?kw(t,"default",{value:n,enumerable:!0}):t,n)),ape=n=>n6(kw({},"__esModule",{value:!0}),n);var Se=(n,e,t)=>(ipe(n,typeof e!="symbol"?e+"":e,t),t);var h6=$e(Lt=>{"use strict";var Gw=Symbol.for("react.element"),spe=Symbol.for("react.portal"),lpe=Symbol.for("react.fragment"),upe=Symbol.for("react.strict_mode"),cpe=Symbol.for("react.profiler"),dpe=Symbol.for("react.provider"),fpe=Symbol.for("react.context"),ppe=Symbol.for("react.forward_ref"),hpe=Symbol.for("react.suspense"),mpe=Symbol.for("react.memo"),gpe=Symbol.for("react.lazy"),o6=Symbol.iterator;function vpe(n){return n===null||typeof n!="object"?null:(n=o6&&n[o6]||n["@@iterator"],typeof n=="function"?n:null)}var s6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l6=Object.assign,u6={};function vv(n,e,t){this.props=n,this.context=e,this.refs=u6,this.updater=t||s6}vv.prototype.isReactComponent={};vv.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};vv.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function c6(){}c6.prototype=vv.prototype;function mA(n,e,t){this.props=n,this.context=e,this.refs=u6,this.updater=t||s6}var gA=mA.prototype=new c6;gA.constructor=mA;l6(gA,vv.prototype);gA.isPureReactComponent=!0;var i6=Array.isArray,d6=Object.prototype.hasOwnProperty,vA={current:null},f6={key:!0,ref:!0,__self:!0,__source:!0};function p6(n,e,t){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)d6.call(e,r)&&!f6.hasOwnProperty(r)&&(o[r]=e[r]);var s=arguments.length-2;if(s===1)o.children=t;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Gw,type:n,key:i,ref:a,props:o,_owner:vA.current}}function ype(n,e){return{$$typeof:Gw,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function yA(n){return typeof n=="object"&&n!==null&&n.$$typeof===Gw}function Cpe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var a6=/\/+/g;function hA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Cpe(""+n.key):e.toString(36)}function Ix(n,e,t,r,o){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Gw:case spe:a=!0}}if(a)return a=n,o=o(a),n=r===""?"."+hA(a,0):r,i6(o)?(t="",n!=null&&(t=n.replace(a6,"$&/")+"/"),Ix(o,e,t,"",function(u){return u})):o!=null&&(yA(o)&&(o=ype(o,t+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(a6,"$&/")+"/")+n)),e.push(o)),1;if(a=0,r=r===""?".":r+":",i6(n))for(var s=0;s<n.length;s++){i=n[s];var l=r+hA(i,s);a+=Ix(i,e,t,l,o)}else if(l=vpe(n),typeof l=="function")for(n=l.call(n),s=0;!(i=n.next()).done;)i=i.value,l=r+hA(i,s++),a+=Ix(i,e,t,l,o);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ox(n,e,t){if(n==null)return n;var r=[],o=0;return Ix(n,r,"","",function(i){return e.call(t,i,o++)}),r}function wpe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Pi={current:null},Fx={transition:null},Spe={ReactCurrentDispatcher:Pi,ReactCurrentBatchConfig:Fx,ReactCurrentOwner:vA};Lt.Children={map:Ox,forEach:function(n,e,t){Ox(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ox(n,function(){e++}),e},toArray:function(n){return Ox(n,function(e){return e})||[]},only:function(n){if(!yA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Lt.Component=vv;Lt.Fragment=lpe;Lt.Profiler=cpe;Lt.PureComponent=mA;Lt.StrictMode=upe;Lt.Suspense=hpe;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Spe;Lt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=l6({},n.props),o=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=vA.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in e)d6.call(e,l)&&!f6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Gw,type:n.type,key:o,ref:i,props:r,_owner:a}};Lt.createContext=function(n){return n={$$typeof:fpe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dpe,_context:n},n.Consumer=n};Lt.createElement=p6;Lt.createFactory=function(n){var e=p6.bind(null,n);return e.type=n,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(n){return{$$typeof:ppe,render:n}};Lt.isValidElement=yA;Lt.lazy=function(n){return{$$typeof:gpe,_payload:{_status:-1,_result:n},_init:wpe}};Lt.memo=function(n,e){return{$$typeof:mpe,type:n,compare:e===void 0?null:e}};Lt.startTransition=function(n){var e=Fx.transition;Fx.transition={};try{n()}finally{Fx.transition=e}};Lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lt.useCallback=function(n,e){return Pi.current.useCallback(n,e)};Lt.useContext=function(n){return Pi.current.useContext(n)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(n){return Pi.current.useDeferredValue(n)};Lt.useEffect=function(n,e){return Pi.current.useEffect(n,e)};Lt.useId=function(){return Pi.current.useId()};Lt.useImperativeHandle=function(n,e,t){return Pi.current.useImperativeHandle(n,e,t)};Lt.useInsertionEffect=function(n,e){return Pi.current.useInsertionEffect(n,e)};Lt.useLayoutEffect=function(n,e){return Pi.current.useLayoutEffect(n,e)};Lt.useMemo=function(n,e){return Pi.current.useMemo(n,e)};Lt.useReducer=function(n,e,t){return Pi.current.useReducer(n,e,t)};Lt.useRef=function(n){return Pi.current.useRef(n)};Lt.useState=function(n){return Pi.current.useState(n)};Lt.useSyncExternalStore=function(n,e,t){return Pi.current.useSyncExternalStore(n,e,t)};Lt.useTransition=function(){return Pi.current.useTransition()};Lt.version="18.2.0"});var z=$e((m4e,m6)=>{"use strict";m6.exports=h6()});var x6=$e(Fn=>{"use strict";function bA(n,e){var t=n.length;n.push(e);e:for(;0<t;){var r=t-1>>>1,o=n[r];if(0<Lx(o,e))n[r]=e,n[t]=o,t=r;else break e}}function xl(n){return n.length===0?null:n[0]}function Ax(n){if(n.length===0)return null;var e=n[0],t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,o=n.length,i=o>>>1;r<i;){var a=2*(r+1)-1,s=n[a],l=a+1,u=n[l];if(0>Lx(s,t))l<o&&0>Lx(u,s)?(n[r]=u,n[l]=t,r=l):(n[r]=s,n[a]=t,r=a);else if(l<o&&0>Lx(u,t))n[r]=u,n[l]=t,r=l;else break e}}return e}function Lx(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(g6=performance,Fn.unstable_now=function(){return g6.now()}):(CA=Date,v6=CA.now(),Fn.unstable_now=function(){return CA.now()-v6});var g6,CA,v6,Hu=[],Lf=[],bpe=1,Os=null,ci=3,Nx=!1,Bh=!1,$w=!1,w6=typeof setTimeout=="function"?setTimeout:null,S6=typeof clearTimeout=="function"?clearTimeout:null,y6=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _A(n){for(var e=xl(Lf);e!==null;){if(e.callback===null)Ax(Lf);else if(e.startTime<=n)Ax(Lf),e.sortIndex=e.expirationTime,bA(Hu,e);else break;e=xl(Lf)}}function EA(n){if($w=!1,_A(n),!Bh)if(xl(Hu)!==null)Bh=!0,DA(xA);else{var e=xl(Lf);e!==null&&RA(EA,e.startTime-n)}}function xA(n,e){Bh=!1,$w&&($w=!1,S6(Bw),Bw=-1),Nx=!0;var t=ci;try{for(_A(e),Os=xl(Hu);Os!==null&&(!(Os.expirationTime>e)||n&&!E6());){var r=Os.callback;if(typeof r=="function"){Os.callback=null,ci=Os.priorityLevel;var o=r(Os.expirationTime<=e);e=Fn.unstable_now(),typeof o=="function"?Os.callback=o:Os===xl(Hu)&&Ax(Hu),_A(e)}else Ax(Hu);Os=xl(Hu)}if(Os!==null)var i=!0;else{var a=xl(Lf);a!==null&&RA(EA,a.startTime-e),i=!1}return i}finally{Os=null,ci=t,Nx=!1}}var kx=!1,Mx=null,Bw=-1,b6=5,_6=-1;function E6(){return!(Fn.unstable_now()-_6<b6)}function wA(){if(Mx!==null){var n=Fn.unstable_now();_6=n;var e=!0;try{e=Mx(!0,n)}finally{e?Hw():(kx=!1,Mx=null)}}else kx=!1}var Hw;typeof y6=="function"?Hw=function(){y6(wA)}:typeof MessageChannel!="undefined"?(SA=new MessageChannel,C6=SA.port2,SA.port1.onmessage=wA,Hw=function(){C6.postMessage(null)}):Hw=function(){w6(wA,0)};var SA,C6;function DA(n){Mx=n,kx||(kx=!0,Hw())}function RA(n,e){Bw=w6(function(){n(Fn.unstable_now())},e)}Fn.unstable_IdlePriority=5;Fn.unstable_ImmediatePriority=1;Fn.unstable_LowPriority=4;Fn.unstable_NormalPriority=3;Fn.unstable_Profiling=null;Fn.unstable_UserBlockingPriority=2;Fn.unstable_cancelCallback=function(n){n.callback=null};Fn.unstable_continueExecution=function(){Bh||Nx||(Bh=!0,DA(xA))};Fn.unstable_forceFrameRate=function(n){0>n||125<n||(b6=0<n?Math.floor(1e3/n):5)};Fn.unstable_getCurrentPriorityLevel=function(){return ci};Fn.unstable_getFirstCallbackNode=function(){return xl(Hu)};Fn.unstable_next=function(n){switch(ci){case 1:case 2:case 3:var e=3;break;default:e=ci}var t=ci;ci=e;try{return n()}finally{ci=t}};Fn.unstable_pauseExecution=function(){};Fn.unstable_requestPaint=function(){};Fn.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=ci;ci=n;try{return e()}finally{ci=t}};Fn.unstable_scheduleCallback=function(n,e,t){var r=Fn.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=t+o,n={id:bpe++,callback:e,priorityLevel:n,startTime:t,expirationTime:o,sortIndex:-1},t>r?(n.sortIndex=t,bA(Lf,n),xl(Hu)===null&&n===xl(Lf)&&($w?(S6(Bw),Bw=-1):$w=!0,RA(EA,t-r))):(n.sortIndex=o,bA(Hu,n),Bh||Nx||(Bh=!0,DA(xA))),n};Fn.unstable_shouldYield=E6;Fn.unstable_wrapCallback=function(n){var e=ci;return function(){var t=ci;ci=e;try{return n.apply(this,arguments)}finally{ci=t}}}});var R6=$e((v4e,D6)=>{"use strict";D6.exports=x6()});var L5=$e(Na=>{"use strict";var MU=z(),Ma=R6();function ve(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AU=new Set,cS={};function tm(n,e){Vv(n,e),Vv(n+"Capture",e)}function Vv(n,e){for(cS[n]=e,n=0;n<e.length;n++)AU.add(e[n])}var cd=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),XA=Object.prototype.hasOwnProperty,_pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T6={},P6={};function Epe(n){return XA.call(P6,n)?!0:XA.call(T6,n)?!1:_pe.test(n)?P6[n]=!0:(T6[n]=!0,!1)}function xpe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Dpe(n,e,t,r){if(e===null||typeof e=="undefined"||xpe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fi(n,e,t,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ko={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ko[n]=new Fi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ko[e]=new Fi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ko[n]=new Fi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ko[n]=new Fi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ko[n]=new Fi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ko[n]=new Fi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ko[n]=new Fi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ko[n]=new Fi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ko[n]=new Fi(n,5,!1,n.toLowerCase(),null,!1,!1)});var BN=/[\-:]([a-z])/g;function WN(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(BN,WN);Ko[e]=new Fi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(BN,WN);Ko[e]=new Fi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(BN,WN);Ko[e]=new Fi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ko[n]=new Fi(n,1,!1,n.toLowerCase(),null,!1,!1)});Ko.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ko[n]=new Fi(n,1,!1,n.toLowerCase(),null,!0,!0)});function zN(n,e,t,r){var o=Ko.hasOwnProperty(e)?Ko[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Dpe(e,t,o,r)&&(t=null),r||o===null?Epe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):o.mustUseProperty?n[o.propertyName]=t===null?o.type===3?!1:"":t:(e=o.attributeName,r=o.attributeNamespace,t===null?n.removeAttribute(e):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var hd=MU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vx=Symbol.for("react.element"),wv=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),UN=Symbol.for("react.strict_mode"),ZA=Symbol.for("react.profiler"),NU=Symbol.for("react.provider"),kU=Symbol.for("react.context"),jN=Symbol.for("react.forward_ref"),QA=Symbol.for("react.suspense"),JA=Symbol.for("react.suspense_list"),KN=Symbol.for("react.memo"),Af=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var VU=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var O6=Symbol.iterator;function Ww(n){return n===null||typeof n!="object"?null:(n=O6&&n[O6]||n["@@iterator"],typeof n=="function"?n:null)}var ur=Object.assign,TA;function Zw(n){if(TA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);TA=e&&e[1]||""}return`
`+TA+n}var PA=!1;function OA(n,e){if(!n||PA)return"";PA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var l=`
`+o[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=s);break}}}finally{PA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Zw(n):""}function Rpe(n){switch(n.tag){case 5:return Zw(n.type);case 16:return Zw("Lazy");case 13:return Zw("Suspense");case 19:return Zw("SuspenseList");case 0:case 2:case 15:return n=OA(n.type,!1),n;case 11:return n=OA(n.type.render,!1),n;case 1:return n=OA(n.type,!0),n;default:return""}}function eN(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Sv:return"Fragment";case wv:return"Portal";case ZA:return"Profiler";case UN:return"StrictMode";case QA:return"Suspense";case JA:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kU:return(n.displayName||"Context")+".Consumer";case NU:return(n._context.displayName||"Context")+".Provider";case jN:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case KN:return e=n.displayName||null,e!==null?e:eN(n.type)||"Memo";case Af:e=n._payload,n=n._init;try{return eN(n(e))}catch(t){}}return null}function Tpe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eN(e);case 8:return e===UN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function GU(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ppe(n){var e=GU(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Gx(n){n._valueTracker||(n._valueTracker=Ppe(n))}function HU(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=GU(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function pD(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(e){return n.body}}function tN(n,e){var t=e.checked;return ur({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function I6(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Yf(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $U(n,e){e=e.checked,e!=null&&zN(n,"checked",e,!1)}function nN(n,e){$U(n,e);var t=Yf(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?rN(n,e.type,t):e.hasOwnProperty("defaultValue")&&rN(n,e.type,Yf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function F6(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function rN(n,e,t){(e!=="number"||pD(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Qw=Array.isArray;function Fv(n,e,t,r){if(n=n.options,e){e={};for(var o=0;o<t.length;o++)e["$"+t[o]]=!0;for(t=0;t<n.length;t++)o=e.hasOwnProperty("$"+n[t].value),n[t].selected!==o&&(n[t].selected=o),o&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Yf(t),e=null,o=0;o<n.length;o++){if(n[o].value===t){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function oN(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return ur({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function L6(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ve(92));if(Qw(t)){if(1<t.length)throw Error(ve(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Yf(t)}}function BU(n,e){var t=Yf(e.value),r=Yf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function M6(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function WU(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iN(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?WU(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hx,zU=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Hx=Hx||document.createElement("div"),Hx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function dS(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var tS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ope=["Webkit","ms","Moz","O"];Object.keys(tS).forEach(function(n){Ope.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),tS[e]=tS[n]})});function UU(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||tS.hasOwnProperty(n)&&tS[n]?(""+e).trim():e+"px"}function jU(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,o=UU(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,o):n[t]=o}}var Ipe=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aN(n,e){if(e){if(Ipe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function sN(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lN=null;function qN(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var uN=null,Lv=null,Mv=null;function A6(n){if(n=PS(n)){if(typeof uN!="function")throw Error(ve(280));var e=n.stateNode;e&&(e=$D(e),uN(n.stateNode,n.type,e))}}function KU(n){Lv?Mv?Mv.push(n):Mv=[n]:Lv=n}function qU(){if(Lv){var n=Lv,e=Mv;if(Mv=Lv=null,A6(n),e)for(n=0;n<e.length;n++)A6(e[n])}}function YU(n,e){return n(e)}function XU(){}var IA=!1;function ZU(n,e,t){if(IA)return n(e,t);IA=!0;try{return YU(n,e,t)}finally{IA=!1,(Lv!==null||Mv!==null)&&(XU(),qU())}}function fS(n,e){var t=n.stateNode;if(t===null)return null;var r=$D(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ve(231,e,typeof t));return t}var cN=!1;if(cd)try{yv={},Object.defineProperty(yv,"passive",{get:function(){cN=!0}}),window.addEventListener("test",yv,yv),window.removeEventListener("test",yv,yv)}catch(n){cN=!1}var yv;function Fpe(n,e,t,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var nS=!1,hD=null,mD=!1,dN=null,Lpe={onError:function(n){nS=!0,hD=n}};function Mpe(n,e,t,r,o,i,a,s,l){nS=!1,hD=null,Fpe.apply(Lpe,arguments)}function Ape(n,e,t,r,o,i,a,s,l){if(Mpe.apply(this,arguments),nS){if(nS){var u=hD;nS=!1,hD=null}else throw Error(ve(198));mD||(mD=!0,dN=u)}}function nm(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function QU(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function N6(n){if(nm(n)!==n)throw Error(ve(188))}function Npe(n){var e=n.alternate;if(!e){if(e=nm(n),e===null)throw Error(ve(188));return e!==n?null:n}for(var t=n,r=e;;){var o=t.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return N6(o),n;if(i===r)return N6(o),e;i=i.sibling}throw Error(ve(188))}if(t.return!==r.return)t=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===t){a=!0,t=o,r=i;break}if(s===r){a=!0,r=o,t=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===t){a=!0,t=i,r=o;break}if(s===r){a=!0,r=i,t=o;break}s=s.sibling}if(!a)throw Error(ve(189))}}if(t.alternate!==r)throw Error(ve(190))}if(t.tag!==3)throw Error(ve(188));return t.stateNode.current===t?n:e}function JU(n){return n=Npe(n),n!==null?ej(n):null}function ej(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=ej(n);if(e!==null)return e;n=n.sibling}return null}var tj=Ma.unstable_scheduleCallback,k6=Ma.unstable_cancelCallback,kpe=Ma.unstable_shouldYield,Vpe=Ma.unstable_requestPaint,Mr=Ma.unstable_now,Gpe=Ma.unstable_getCurrentPriorityLevel,YN=Ma.unstable_ImmediatePriority,nj=Ma.unstable_UserBlockingPriority,gD=Ma.unstable_NormalPriority,Hpe=Ma.unstable_LowPriority,rj=Ma.unstable_IdlePriority,kD=null,zu=null;function $pe(n){if(zu&&typeof zu.onCommitFiberRoot=="function")try{zu.onCommitFiberRoot(kD,n,void 0,(n.current.flags&128)===128)}catch(e){}}var Ol=Math.clz32?Math.clz32:zpe,Bpe=Math.log,Wpe=Math.LN2;function zpe(n){return n>>>=0,n===0?32:31-(Bpe(n)/Wpe|0)|0}var $x=64,Bx=4194304;function Jw(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vD(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,o=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var s=a&~o;s!==0?r=Jw(s):(i&=a,i!==0&&(r=Jw(i)))}else a=t&~o,a!==0?r=Jw(a):i!==0&&(r=Jw(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ol(e),o=1<<t,r|=n[t],e&=~o;return r}function Upe(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jpe(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-Ol(i),s=1<<a,l=o[a];l===-1?(!(s&t)||s&r)&&(o[a]=Upe(s,e)):l<=e&&(n.expiredLanes|=s),i&=~s}}function fN(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function oj(){var n=$x;return $x<<=1,!($x&4194240)&&($x=64),n}function FA(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function RS(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ol(e),n[e]=t}function Kpe(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var o=31-Ol(t),i=1<<o;e[o]=0,r[o]=-1,n[o]=-1,t&=~i}}function XN(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ol(t),o=1<<r;o&e|n[r]&e&&(n[r]|=e),t&=~o}}var un=0;function ij(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var aj,ZN,sj,lj,uj,pN=!1,Wx=[],$f=null,Bf=null,Wf=null,pS=new Map,hS=new Map,kf=[],qpe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V6(n,e){switch(n){case"focusin":case"focusout":$f=null;break;case"dragenter":case"dragleave":Bf=null;break;case"mouseover":case"mouseout":Wf=null;break;case"pointerover":case"pointerout":pS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hS.delete(e.pointerId)}}function zw(n,e,t,r,o,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=PS(e),e!==null&&ZN(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function Ype(n,e,t,r,o){switch(e){case"focusin":return $f=zw($f,n,e,t,r,o),!0;case"dragenter":return Bf=zw(Bf,n,e,t,r,o),!0;case"mouseover":return Wf=zw(Wf,n,e,t,r,o),!0;case"pointerover":var i=o.pointerId;return pS.set(i,zw(pS.get(i)||null,n,e,t,r,o)),!0;case"gotpointercapture":return i=o.pointerId,hS.set(i,zw(hS.get(i)||null,n,e,t,r,o)),!0}return!1}function cj(n){var e=Uh(n.target);if(e!==null){var t=nm(e);if(t!==null){if(e=t.tag,e===13){if(e=QU(t),e!==null){n.blockedOn=e,uj(n.priority,function(){sj(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rD(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=hN(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);lN=r,t.target.dispatchEvent(r),lN=null}else return e=PS(t),e!==null&&ZN(e),n.blockedOn=t,!1;e.shift()}return!0}function G6(n,e,t){rD(n)&&t.delete(e)}function Xpe(){pN=!1,$f!==null&&rD($f)&&($f=null),Bf!==null&&rD(Bf)&&(Bf=null),Wf!==null&&rD(Wf)&&(Wf=null),pS.forEach(G6),hS.forEach(G6)}function Uw(n,e){n.blockedOn===e&&(n.blockedOn=null,pN||(pN=!0,Ma.unstable_scheduleCallback(Ma.unstable_NormalPriority,Xpe)))}function mS(n){function e(o){return Uw(o,n)}if(0<Wx.length){Uw(Wx[0],n);for(var t=1;t<Wx.length;t++){var r=Wx[t];r.blockedOn===n&&(r.blockedOn=null)}}for($f!==null&&Uw($f,n),Bf!==null&&Uw(Bf,n),Wf!==null&&Uw(Wf,n),pS.forEach(e),hS.forEach(e),t=0;t<kf.length;t++)r=kf[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<kf.length&&(t=kf[0],t.blockedOn===null);)cj(t),t.blockedOn===null&&kf.shift()}var Av=hd.ReactCurrentBatchConfig,yD=!0;function Zpe(n,e,t,r){var o=un,i=Av.transition;Av.transition=null;try{un=1,QN(n,e,t,r)}finally{un=o,Av.transition=i}}function Qpe(n,e,t,r){var o=un,i=Av.transition;Av.transition=null;try{un=4,QN(n,e,t,r)}finally{un=o,Av.transition=i}}function QN(n,e,t,r){if(yD){var o=hN(n,e,t,r);if(o===null)GA(n,e,r,CD,t),V6(n,r);else if(Ype(o,n,e,t,r))r.stopPropagation();else if(V6(n,r),e&4&&-1<qpe.indexOf(n)){for(;o!==null;){var i=PS(o);if(i!==null&&aj(i),i=hN(n,e,t,r),i===null&&GA(n,e,r,CD,t),i===o)break;o=i}o!==null&&r.stopPropagation()}else GA(n,e,r,null,t)}}var CD=null;function hN(n,e,t,r){if(CD=null,n=qN(r),n=Uh(n),n!==null)if(e=nm(n),e===null)n=null;else if(t=e.tag,t===13){if(n=QU(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return CD=n,null}function dj(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gpe()){case YN:return 1;case nj:return 4;case gD:case Hpe:return 16;case rj:return 536870912;default:return 16}default:return 16}}var Gf=null,JN=null,oD=null;function fj(){if(oD)return oD;var n,e=JN,t=e.length,r,o="value"in Gf?Gf.value:Gf.textContent,i=o.length;for(n=0;n<t&&e[n]===o[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===o[i-r];r++);return oD=o.slice(n,1<r?1-r:void 0)}function iD(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function zx(){return!0}function H6(){return!1}function Aa(n){function e(t,r,o,i,a){this._reactName=t,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(t=n[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zx:H6,this.isPropagationStopped=H6,this}return ur(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=zx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=zx)},persist:function(){},isPersistent:zx}),e}var Uv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e1=Aa(Uv),TS=ur({},Uv,{view:0,detail:0}),Jpe=Aa(TS),LA,MA,jw,VD=ur({},TS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jw&&(jw&&n.type==="mousemove"?(LA=n.screenX-jw.screenX,MA=n.screenY-jw.screenY):MA=LA=0,jw=n),LA)},movementY:function(n){return"movementY"in n?n.movementY:MA}}),$6=Aa(VD),ehe=ur({},VD,{dataTransfer:0}),the=Aa(ehe),nhe=ur({},TS,{relatedTarget:0}),AA=Aa(nhe),rhe=ur({},Uv,{animationName:0,elapsedTime:0,pseudoElement:0}),ohe=Aa(rhe),ihe=ur({},Uv,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ahe=Aa(ihe),she=ur({},Uv,{data:0}),B6=Aa(she),lhe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uhe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},che={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dhe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=che[n])?!!e[n]:!1}function t1(){return dhe}var fhe=ur({},TS,{key:function(n){if(n.key){var e=lhe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=iD(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uhe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t1,charCode:function(n){return n.type==="keypress"?iD(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?iD(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),phe=Aa(fhe),hhe=ur({},VD,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W6=Aa(hhe),mhe=ur({},TS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t1}),ghe=Aa(mhe),vhe=ur({},Uv,{propertyName:0,elapsedTime:0,pseudoElement:0}),yhe=Aa(vhe),Che=ur({},VD,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),whe=Aa(Che),She=[9,13,27,32],n1=cd&&"CompositionEvent"in window,rS=null;cd&&"documentMode"in document&&(rS=document.documentMode);var bhe=cd&&"TextEvent"in window&&!rS,pj=cd&&(!n1||rS&&8<rS&&11>=rS),z6=String.fromCharCode(32),U6=!1;function hj(n,e){switch(n){case"keyup":return She.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mj(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bv=!1;function _he(n,e){switch(n){case"compositionend":return mj(e);case"keypress":return e.which!==32?null:(U6=!0,z6);case"textInput":return n=e.data,n===z6&&U6?null:n;default:return null}}function Ehe(n,e){if(bv)return n==="compositionend"||!n1&&hj(n,e)?(n=fj(),oD=JN=Gf=null,bv=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pj&&e.locale!=="ko"?null:e.data;default:return null}}var xhe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!xhe[n.type]:e==="textarea"}function gj(n,e,t,r){KU(r),e=wD(e,"onChange"),0<e.length&&(t=new e1("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var oS=null,gS=null;function Dhe(n){Rj(n,0)}function GD(n){var e=xv(n);if(HU(e))return n}function Rhe(n,e){if(n==="change")return e}var vj=!1;cd&&(cd?(jx="oninput"in document,jx||(NA=document.createElement("div"),NA.setAttribute("oninput","return;"),jx=typeof NA.oninput=="function"),Ux=jx):Ux=!1,vj=Ux&&(!document.documentMode||9<document.documentMode));var Ux,jx,NA;function K6(){oS&&(oS.detachEvent("onpropertychange",yj),gS=oS=null)}function yj(n){if(n.propertyName==="value"&&GD(gS)){var e=[];gj(e,gS,n,qN(n)),ZU(Dhe,e)}}function The(n,e,t){n==="focusin"?(K6(),oS=e,gS=t,oS.attachEvent("onpropertychange",yj)):n==="focusout"&&K6()}function Phe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return GD(gS)}function Ohe(n,e){if(n==="click")return GD(e)}function Ihe(n,e){if(n==="input"||n==="change")return GD(e)}function Fhe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fl=typeof Object.is=="function"?Object.is:Fhe;function vS(n,e){if(Fl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!XA.call(e,o)||!Fl(n[o],e[o]))return!1}return!0}function q6(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Y6(n,e){var t=q6(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=q6(t)}}function Cj(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Cj(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function wj(){for(var n=window,e=pD();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(r){t=!1}if(t)n=e.contentWindow;else break;e=pD(n.document)}return e}function r1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Lhe(n){var e=wj(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Cj(t.ownerDocument.documentElement,t)){if(r!==null&&r1(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=Y6(t,i);var a=Y6(t,r);o&&a&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Mhe=cd&&"documentMode"in document&&11>=document.documentMode,_v=null,mN=null,iS=null,gN=!1;function X6(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;gN||_v==null||_v!==pD(r)||(r=_v,"selectionStart"in r&&r1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iS&&vS(iS,r)||(iS=r,r=wD(mN,"onSelect"),0<r.length&&(e=new e1("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=_v)))}function Kx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ev={animationend:Kx("Animation","AnimationEnd"),animationiteration:Kx("Animation","AnimationIteration"),animationstart:Kx("Animation","AnimationStart"),transitionend:Kx("Transition","TransitionEnd")},kA={},Sj={};cd&&(Sj=document.createElement("div").style,"AnimationEvent"in window||(delete Ev.animationend.animation,delete Ev.animationiteration.animation,delete Ev.animationstart.animation),"TransitionEvent"in window||delete Ev.transitionend.transition);function HD(n){if(kA[n])return kA[n];if(!Ev[n])return n;var e=Ev[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Sj)return kA[n]=e[t];return n}var bj=HD("animationend"),_j=HD("animationiteration"),Ej=HD("animationstart"),xj=HD("transitionend"),Dj=new Map,Z6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zf(n,e){Dj.set(n,e),tm(e,[n])}for(qx=0;qx<Z6.length;qx++)Yx=Z6[qx],Q6=Yx.toLowerCase(),J6=Yx[0].toUpperCase()+Yx.slice(1),Zf(Q6,"on"+J6);var Yx,Q6,J6,qx;Zf(bj,"onAnimationEnd");Zf(_j,"onAnimationIteration");Zf(Ej,"onAnimationStart");Zf("dblclick","onDoubleClick");Zf("focusin","onFocus");Zf("focusout","onBlur");Zf(xj,"onTransitionEnd");Vv("onMouseEnter",["mouseout","mouseover"]);Vv("onMouseLeave",["mouseout","mouseover"]);Vv("onPointerEnter",["pointerout","pointerover"]);Vv("onPointerLeave",["pointerout","pointerover"]);tm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tm("onBeforeInput",["compositionend","keypress","textInput","paste"]);tm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ahe=new Set("cancel close invalid load scroll toggle".split(" ").concat(eS));function eU(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Ape(r,e,void 0,n),n.currentTarget=null}function Rj(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;eU(o,s,u),i=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;eU(o,s,u),i=l}}}if(mD)throw n=dN,mD=!1,dN=null,n}function zn(n,e){var t=e[SN];t===void 0&&(t=e[SN]=new Set);var r=n+"__bubble";t.has(r)||(Tj(e,n,2,!1),t.add(r))}function VA(n,e,t){var r=0;e&&(r|=4),Tj(t,n,r,e)}var Xx="_reactListening"+Math.random().toString(36).slice(2);function yS(n){if(!n[Xx]){n[Xx]=!0,AU.forEach(function(t){t!=="selectionchange"&&(Ahe.has(t)||VA(t,!1,n),VA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Xx]||(e[Xx]=!0,VA("selectionchange",!1,e))}}function Tj(n,e,t,r){switch(dj(e)){case 1:var o=Zpe;break;case 4:o=Qpe;break;default:o=QN}t=o.bind(null,e,t,n),o=void 0,!cN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,t,{capture:!0,passive:o}):n.addEventListener(e,t,!0):o!==void 0?n.addEventListener(e,t,{passive:o}):n.addEventListener(e,t,!1)}function GA(n,e,t,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if(a=Uh(s),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}s=s.parentNode}}r=r.return}ZU(function(){var u=i,c=qN(t),d=[];e:{var f=Dj.get(n);if(f!==void 0){var p=e1,h=n;switch(n){case"keypress":if(iD(t)===0)break e;case"keydown":case"keyup":p=phe;break;case"focusin":h="focus",p=AA;break;case"focusout":h="blur",p=AA;break;case"beforeblur":case"afterblur":p=AA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=the;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ghe;break;case bj:case _j:case Ej:p=ohe;break;case xj:p=yhe;break;case"scroll":p=Jpe;break;case"wheel":p=whe;break;case"copy":case"cut":case"paste":p=ahe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=W6}var m=(e&4)!==0,v=!m&&n==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,C;y!==null;){C=y;var w=C.stateNode;if(C.tag===5&&w!==null&&(C=w,g!==null&&(w=fS(y,g),w!=null&&m.push(CS(y,w,C)))),v)break;y=y.return}0<m.length&&(f=new p(f,h,null,t,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==lN&&(h=t.relatedTarget||t.fromElement)&&(Uh(h)||h[dd]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=t.relatedTarget||t.toElement,p=u,h=h?Uh(h):null,h!==null&&(v=nm(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(m=$6,w="onMouseLeave",g="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(m=W6,w="onPointerLeave",g="onPointerEnter",y="pointer"),v=p==null?f:xv(p),C=h==null?f:xv(h),f=new m(w,y+"leave",p,t,c),f.target=v,f.relatedTarget=C,w=null,Uh(c)===u&&(m=new m(g,y+"enter",h,t,c),m.target=C,m.relatedTarget=v,w=m),v=w,p&&h)t:{for(m=p,g=h,y=0,C=m;C;C=Cv(C))y++;for(C=0,w=g;w;w=Cv(w))C++;for(;0<y-C;)m=Cv(m),y--;for(;0<C-y;)g=Cv(g),C--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Cv(m),g=Cv(g)}m=null}else m=null;p!==null&&tU(d,f,p,m,!1),h!==null&&v!==null&&tU(d,v,h,m,!0)}}e:{if(f=u?xv(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=Rhe;else if(j6(f))if(vj)b=Ihe;else{b=Phe;var E=The}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Ohe);if(b&&(b=b(n,u))){gj(d,b,t,c);break e}E&&E(n,f,u),n==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&rN(f,"number",f.value)}switch(E=u?xv(u):window,n){case"focusin":(j6(E)||E.contentEditable==="true")&&(_v=E,mN=u,iS=null);break;case"focusout":iS=mN=_v=null;break;case"mousedown":gN=!0;break;case"contextmenu":case"mouseup":case"dragend":gN=!1,X6(d,t,c);break;case"selectionchange":if(Mhe)break;case"keydown":case"keyup":X6(d,t,c)}var D;if(n1)e:{switch(n){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bv?hj(n,t)&&(S="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(S="onCompositionStart");S&&(pj&&t.locale!=="ko"&&(bv||S!=="onCompositionStart"?S==="onCompositionEnd"&&bv&&(D=fj()):(Gf=c,JN="value"in Gf?Gf.value:Gf.textContent,bv=!0)),E=wD(u,S),0<E.length&&(S=new B6(S,n,null,t,c),d.push({event:S,listeners:E}),D?S.data=D:(D=mj(t),D!==null&&(S.data=D)))),(D=bhe?_he(n,t):Ehe(n,t))&&(u=wD(u,"onBeforeInput"),0<u.length&&(c=new B6("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=D))}Rj(d,e)})}function CS(n,e,t){return{instance:n,listener:e,currentTarget:t}}function wD(n,e){for(var t=e+"Capture",r=[];n!==null;){var o=n,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=fS(n,t),i!=null&&r.unshift(CS(n,i,o)),i=fS(n,e),i!=null&&r.push(CS(n,i,o))),n=n.return}return r}function Cv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function tU(n,e,t,r,o){for(var i=e._reactName,a=[];t!==null&&t!==r;){var s=t,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,o?(l=fS(t,i),l!=null&&a.unshift(CS(t,l,s))):o||(l=fS(t,i),l!=null&&a.push(CS(t,l,s)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var Nhe=/\r\n?/g,khe=/\u0000|\uFFFD/g;function nU(n){return(typeof n=="string"?n:""+n).replace(Nhe,`
`).replace(khe,"")}function Zx(n,e,t){if(e=nU(e),nU(n)!==e&&t)throw Error(ve(425))}function SD(){}var vN=null,yN=null;function CN(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wN=typeof setTimeout=="function"?setTimeout:void 0,Vhe=typeof clearTimeout=="function"?clearTimeout:void 0,rU=typeof Promise=="function"?Promise:void 0,Ghe=typeof queueMicrotask=="function"?queueMicrotask:typeof rU!="undefined"?function(n){return rU.resolve(null).then(n).catch(Hhe)}:wN;function Hhe(n){setTimeout(function(){throw n})}function HA(n,e){var t=e,r=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(r===0){n.removeChild(o),mS(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=o}while(t);mS(e)}function zf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function oU(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var jv=Math.random().toString(36).slice(2),Wu="__reactFiber$"+jv,wS="__reactProps$"+jv,dd="__reactContainer$"+jv,SN="__reactEvents$"+jv,$he="__reactListeners$"+jv,Bhe="__reactHandles$"+jv;function Uh(n){var e=n[Wu];if(e)return e;for(var t=n.parentNode;t;){if(e=t[dd]||t[Wu]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=oU(n);n!==null;){if(t=n[Wu])return t;n=oU(n)}return e}n=t,t=n.parentNode}return null}function PS(n){return n=n[Wu]||n[dd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xv(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ve(33))}function $D(n){return n[wS]||null}var bN=[],Dv=-1;function Qf(n){return{current:n}}function Un(n){0>Dv||(n.current=bN[Dv],bN[Dv]=null,Dv--)}function Ln(n,e){Dv++,bN[Dv]=n.current,n.current=e}var Xf={},hi=Qf(Xf),ea=Qf(!1),Xh=Xf;function Gv(n,e){var t=n.type.contextTypes;if(!t)return Xf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in t)o[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function ta(n){return n=n.childContextTypes,n!=null}function bD(){Un(ea),Un(hi)}function iU(n,e,t){if(hi.current!==Xf)throw Error(ve(168));Ln(hi,e),Ln(ea,t)}function Pj(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(ve(108,Tpe(n)||"Unknown",o));return ur({},t,r)}function _D(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xf,Xh=hi.current,Ln(hi,n),Ln(ea,ea.current),!0}function aU(n,e,t){var r=n.stateNode;if(!r)throw Error(ve(169));t?(n=Pj(n,e,Xh),r.__reactInternalMemoizedMergedChildContext=n,Un(ea),Un(hi),Ln(hi,n)):Un(ea),Ln(ea,t)}var ad=null,BD=!1,$A=!1;function Oj(n){ad===null?ad=[n]:ad.push(n)}function Whe(n){BD=!0,Oj(n)}function Jf(){if(!$A&&ad!==null){$A=!0;var n=0,e=un;try{var t=ad;for(un=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ad=null,BD=!1}catch(o){throw ad!==null&&(ad=ad.slice(n+1)),tj(YN,Jf),o}finally{un=e,$A=!1}}return null}var Rv=[],Tv=0,ED=null,xD=0,Is=[],Fs=0,Zh=null,sd=1,ld="";function Wh(n,e){Rv[Tv++]=xD,Rv[Tv++]=ED,ED=n,xD=e}function Ij(n,e,t){Is[Fs++]=sd,Is[Fs++]=ld,Is[Fs++]=Zh,Zh=n;var r=sd;n=ld;var o=32-Ol(r)-1;r&=~(1<<o),t+=1;var i=32-Ol(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,sd=1<<32-Ol(e)+o|t<<o|r,ld=i+n}else sd=1<<i|t<<o|r,ld=n}function o1(n){n.return!==null&&(Wh(n,1),Ij(n,1,0))}function i1(n){for(;n===ED;)ED=Rv[--Tv],Rv[Tv]=null,xD=Rv[--Tv],Rv[Tv]=null;for(;n===Zh;)Zh=Is[--Fs],Is[Fs]=null,ld=Is[--Fs],Is[Fs]=null,sd=Is[--Fs],Is[Fs]=null}var La=null,Fa=null,tr=!1,Pl=null;function Fj(n,e){var t=Ls(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function sU(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,La=n,Fa=zf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,La=n,Fa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Zh!==null?{id:sd,overflow:ld}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ls(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,La=n,Fa=null,!0):!1;default:return!1}}function _N(n){return(n.mode&1)!==0&&(n.flags&128)===0}function EN(n){if(tr){var e=Fa;if(e){var t=e;if(!sU(n,e)){if(_N(n))throw Error(ve(418));e=zf(t.nextSibling);var r=La;e&&sU(n,e)?Fj(r,t):(n.flags=n.flags&-4097|2,tr=!1,La=n)}}else{if(_N(n))throw Error(ve(418));n.flags=n.flags&-4097|2,tr=!1,La=n}}}function lU(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;La=n}function Qx(n){if(n!==La)return!1;if(!tr)return lU(n),tr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!CN(n.type,n.memoizedProps)),e&&(e=Fa)){if(_N(n))throw Lj(),Error(ve(418));for(;e;)Fj(n,e),e=zf(e.nextSibling)}if(lU(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ve(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Fa=zf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Fa=null}}else Fa=La?zf(n.stateNode.nextSibling):null;return!0}function Lj(){for(var n=Fa;n;)n=zf(n.nextSibling)}function Hv(){Fa=La=null,tr=!1}function a1(n){Pl===null?Pl=[n]:Pl.push(n)}var zhe=hd.ReactCurrentBatchConfig;function Rl(n,e){if(n&&n.defaultProps){e=ur({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var DD=Qf(null),RD=null,Pv=null,s1=null;function l1(){s1=Pv=RD=null}function u1(n){var e=DD.current;Un(DD),n._currentValue=e}function xN(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Nv(n,e){RD=n,s1=Pv=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ji=!0),n.firstContext=null)}function As(n){var e=n._currentValue;if(s1!==n)if(n={context:n,memoizedValue:e,next:null},Pv===null){if(RD===null)throw Error(ve(308));Pv=n,RD.dependencies={lanes:0,firstContext:n}}else Pv=Pv.next=n;return e}var jh=null;function c1(n){jh===null?jh=[n]:jh.push(n)}function Mj(n,e,t,r){var o=e.interleaved;return o===null?(t.next=t,c1(e)):(t.next=o.next,o.next=t),e.interleaved=t,fd(n,r)}function fd(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Nf=!1;function d1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aj(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ud(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Uf(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,fd(n,t)}return o=r.interleaved,o===null?(e.next=e,c1(r)):(e.next=o.next,o.next=e),r.interleaved=e,fd(n,t)}function aD(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,XN(n,t)}}function uU(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var o=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?o=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?o=i=e:i=i.next=e}else o=i=e;t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function TD(n,e,t,r){var o=n.updateQueue;Nf=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;a=0,c=u=l=null,s=i;do{var f=s.lane,p=s.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=n,m=s;switch(f=e,p=t,m.tag){case 1:if(h=m.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=ur({},d,f);break e;case 2:Nf=!0}}s.callback!==null&&s.lane!==0&&(n.flags|=64,f=o.effects,f===null?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=f;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;f=s,s=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Jh|=a,n.lanes=a,n.memoizedState=d}}function cU(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=t,typeof o!="function")throw Error(ve(191,o));o.call(r)}}}var Nj=new MU.Component().refs;function DN(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ur({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var WD={isMounted:function(n){return(n=n._reactInternals)?nm(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ii(),o=Kf(n),i=ud(r,o);i.payload=e,t!=null&&(i.callback=t),e=Uf(n,i,o),e!==null&&(Il(e,n,o,r),aD(e,n,o))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ii(),o=Kf(n),i=ud(r,o);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Uf(n,i,o),e!==null&&(Il(e,n,o,r),aD(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ii(),r=Kf(n),o=ud(t,r);o.tag=2,e!=null&&(o.callback=e),e=Uf(n,o,r),e!==null&&(Il(e,n,r,t),aD(e,n,r))}};function dU(n,e,t,r,o,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!vS(t,r)||!vS(o,i):!0}function kj(n,e,t){var r=!1,o=Xf,i=e.contextType;return typeof i=="object"&&i!==null?i=As(i):(o=ta(e)?Xh:hi.current,r=e.contextTypes,i=(r=r!=null)?Gv(n,o):Xf),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=WD,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=i),e}function fU(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&WD.enqueueReplaceState(e,e.state,null)}function RN(n,e,t,r){var o=n.stateNode;o.props=t,o.state=n.memoizedState,o.refs=Nj,d1(n);var i=e.contextType;typeof i=="object"&&i!==null?o.context=As(i):(i=ta(e)?Xh:hi.current,o.context=Gv(n,i)),o.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(DN(n,e,i,t),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&WD.enqueueReplaceState(o,o.state,null),TD(n,t,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function Kw(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ve(309));var r=t.stateNode}if(!r)throw Error(ve(147,n));var o=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var s=o.refs;s===Nj&&(s=o.refs={}),a===null?delete s[i]:s[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(ve(284));if(!t._owner)throw Error(ve(290,n))}return n}function Jx(n,e){throw n=Object.prototype.toString.call(e),Error(ve(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function pU(n){var e=n._init;return e(n._payload)}function Vj(n){function e(g,y){if(n){var C=g.deletions;C===null?(g.deletions=[y],g.flags|=16):C.push(y)}}function t(g,y){if(!n)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function o(g,y){return g=qf(g,y),g.index=0,g.sibling=null,g}function i(g,y,C){return g.index=C,n?(C=g.alternate,C!==null?(C=C.index,C<y?(g.flags|=2,y):C):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return n&&g.alternate===null&&(g.flags|=2),g}function s(g,y,C,w){return y===null||y.tag!==6?(y=qA(C,g.mode,w),y.return=g,y):(y=o(y,C),y.return=g,y)}function l(g,y,C,w){var b=C.type;return b===Sv?c(g,y,C.props.children,w,C.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Af&&pU(b)===y.type)?(w=o(y,C.props),w.ref=Kw(g,y,C),w.return=g,w):(w=fD(C.type,C.key,C.props,null,g.mode,w),w.ref=Kw(g,y,C),w.return=g,w)}function u(g,y,C,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=YA(C,g.mode,w),y.return=g,y):(y=o(y,C.children||[]),y.return=g,y)}function c(g,y,C,w,b){return y===null||y.tag!==7?(y=Yh(C,g.mode,w,b),y.return=g,y):(y=o(y,C),y.return=g,y)}function d(g,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qA(""+y,g.mode,C),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vx:return C=fD(y.type,y.key,y.props,null,g.mode,C),C.ref=Kw(g,null,y),C.return=g,C;case wv:return y=YA(y,g.mode,C),y.return=g,y;case Af:var w=y._init;return d(g,w(y._payload),C)}if(Qw(y)||Ww(y))return y=Yh(y,g.mode,C,null),y.return=g,y;Jx(g,y)}return null}function f(g,y,C,w){var b=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return b!==null?null:s(g,y,""+C,w);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vx:return C.key===b?l(g,y,C,w):null;case wv:return C.key===b?u(g,y,C,w):null;case Af:return b=C._init,f(g,y,b(C._payload),w)}if(Qw(C)||Ww(C))return b!==null?null:c(g,y,C,w,null);Jx(g,C)}return null}function p(g,y,C,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(C)||null,s(y,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vx:return g=g.get(w.key===null?C:w.key)||null,l(y,g,w,b);case wv:return g=g.get(w.key===null?C:w.key)||null,u(y,g,w,b);case Af:var E=w._init;return p(g,y,C,E(w._payload),b)}if(Qw(w)||Ww(w))return g=g.get(C)||null,c(y,g,w,b,null);Jx(y,w)}return null}function h(g,y,C,w){for(var b=null,E=null,D=y,S=y=0,T=null;D!==null&&S<C.length;S++){D.index>S?(T=D,D=null):T=D.sibling;var O=f(g,D,C[S],w);if(O===null){D===null&&(D=T);break}n&&D&&O.alternate===null&&e(g,D),y=i(O,y,S),E===null?b=O:E.sibling=O,E=O,D=T}if(S===C.length)return t(g,D),tr&&Wh(g,S),b;if(D===null){for(;S<C.length;S++)D=d(g,C[S],w),D!==null&&(y=i(D,y,S),E===null?b=D:E.sibling=D,E=D);return tr&&Wh(g,S),b}for(D=r(g,D);S<C.length;S++)T=p(D,g,S,C[S],w),T!==null&&(n&&T.alternate!==null&&D.delete(T.key===null?S:T.key),y=i(T,y,S),E===null?b=T:E.sibling=T,E=T);return n&&D.forEach(function(L){return e(g,L)}),tr&&Wh(g,S),b}function m(g,y,C,w){var b=Ww(C);if(typeof b!="function")throw Error(ve(150));if(C=b.call(C),C==null)throw Error(ve(151));for(var E=b=null,D=y,S=y=0,T=null,O=C.next();D!==null&&!O.done;S++,O=C.next()){D.index>S?(T=D,D=null):T=D.sibling;var L=f(g,D,O.value,w);if(L===null){D===null&&(D=T);break}n&&D&&L.alternate===null&&e(g,D),y=i(L,y,S),E===null?b=L:E.sibling=L,E=L,D=T}if(O.done)return t(g,D),tr&&Wh(g,S),b;if(D===null){for(;!O.done;S++,O=C.next())O=d(g,O.value,w),O!==null&&(y=i(O,y,S),E===null?b=O:E.sibling=O,E=O);return tr&&Wh(g,S),b}for(D=r(g,D);!O.done;S++,O=C.next())O=p(D,g,S,O.value,w),O!==null&&(n&&O.alternate!==null&&D.delete(O.key===null?S:O.key),y=i(O,y,S),E===null?b=O:E.sibling=O,E=O);return n&&D.forEach(function(k){return e(g,k)}),tr&&Wh(g,S),b}function v(g,y,C,w){if(typeof C=="object"&&C!==null&&C.type===Sv&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Vx:e:{for(var b=C.key,E=y;E!==null;){if(E.key===b){if(b=C.type,b===Sv){if(E.tag===7){t(g,E.sibling),y=o(E,C.props.children),y.return=g,g=y;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Af&&pU(b)===E.type){t(g,E.sibling),y=o(E,C.props),y.ref=Kw(g,E,C),y.return=g,g=y;break e}t(g,E);break}else e(g,E);E=E.sibling}C.type===Sv?(y=Yh(C.props.children,g.mode,w,C.key),y.return=g,g=y):(w=fD(C.type,C.key,C.props,null,g.mode,w),w.ref=Kw(g,y,C),w.return=g,g=w)}return a(g);case wv:e:{for(E=C.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){t(g,y.sibling),y=o(y,C.children||[]),y.return=g,g=y;break e}else{t(g,y);break}else e(g,y);y=y.sibling}y=YA(C,g.mode,w),y.return=g,g=y}return a(g);case Af:return E=C._init,v(g,y,E(C._payload),w)}if(Qw(C))return h(g,y,C,w);if(Ww(C))return m(g,y,C,w);Jx(g,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(t(g,y.sibling),y=o(y,C),y.return=g,g=y):(t(g,y),y=qA(C,g.mode,w),y.return=g,g=y),a(g)):t(g,y)}return v}var $v=Vj(!0),Gj=Vj(!1),OS={},Uu=Qf(OS),SS=Qf(OS),bS=Qf(OS);function Kh(n){if(n===OS)throw Error(ve(174));return n}function f1(n,e){switch(Ln(bS,e),Ln(SS,n),Ln(Uu,OS),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iN(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=iN(e,n)}Un(Uu),Ln(Uu,e)}function Bv(){Un(Uu),Un(SS),Un(bS)}function Hj(n){Kh(bS.current);var e=Kh(Uu.current),t=iN(e,n.type);e!==t&&(Ln(SS,n),Ln(Uu,t))}function p1(n){SS.current===n&&(Un(Uu),Un(SS))}var sr=Qf(0);function PD(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var BA=[];function h1(){for(var n=0;n<BA.length;n++)BA[n]._workInProgressVersionPrimary=null;BA.length=0}var sD=hd.ReactCurrentDispatcher,WA=hd.ReactCurrentBatchConfig,Qh=0,lr=null,ho=null,Eo=null,OD=!1,aS=!1,_S=0,Uhe=0;function di(){throw Error(ve(321))}function m1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fl(n[t],e[t]))return!1;return!0}function g1(n,e,t,r,o,i){if(Qh=i,lr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sD.current=n===null||n.memoizedState===null?Yhe:Xhe,n=t(r,o),aS){i=0;do{if(aS=!1,_S=0,25<=i)throw Error(ve(301));i+=1,Eo=ho=null,e.updateQueue=null,sD.current=Zhe,n=t(r,o)}while(aS)}if(sD.current=ID,e=ho!==null&&ho.next!==null,Qh=0,Eo=ho=lr=null,OD=!1,e)throw Error(ve(300));return n}function v1(){var n=_S!==0;return _S=0,n}function Bu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Eo===null?lr.memoizedState=Eo=n:Eo=Eo.next=n,Eo}function Ns(){if(ho===null){var n=lr.alternate;n=n!==null?n.memoizedState:null}else n=ho.next;var e=Eo===null?lr.memoizedState:Eo.next;if(e!==null)Eo=e,ho=n;else{if(n===null)throw Error(ve(310));ho=n,n={memoizedState:ho.memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},Eo===null?lr.memoizedState=Eo=n:Eo=Eo.next=n}return Eo}function ES(n,e){return typeof e=="function"?e(n):e}function zA(n){var e=Ns(),t=e.queue;if(t===null)throw Error(ve(311));t.lastRenderedReducer=n;var r=ho,o=r.baseQueue,i=t.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,t.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,l=null,u=i;do{var c=u.lane;if((Qh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,lr.lanes|=c,Jh|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=s,Fl(r,e.memoizedState)||(Ji=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){o=n;do i=o.lane,lr.lanes|=i,Jh|=i,o=o.next;while(o!==n)}else o===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function UA(n){var e=Ns(),t=e.queue;if(t===null)throw Error(ve(311));t.lastRenderedReducer=n;var r=t.dispatch,o=t.pending,i=e.memoizedState;if(o!==null){t.pending=null;var a=o=o.next;do i=n(i,a.action),a=a.next;while(a!==o);Fl(i,e.memoizedState)||(Ji=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function $j(){}function Bj(n,e){var t=lr,r=Ns(),o=e(),i=!Fl(r.memoizedState,o);if(i&&(r.memoizedState=o,Ji=!0),r=r.queue,y1(Uj.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Eo!==null&&Eo.memoizedState.tag&1){if(t.flags|=2048,xS(9,zj.bind(null,t,r,o,e),void 0,null),xo===null)throw Error(ve(349));Qh&30||Wj(t,e,o)}return o}function Wj(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=lr.updateQueue,e===null?(e={lastEffect:null,stores:null},lr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function zj(n,e,t,r){e.value=t,e.getSnapshot=r,jj(e)&&Kj(n)}function Uj(n,e,t){return t(function(){jj(e)&&Kj(n)})}function jj(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Fl(n,t)}catch(r){return!0}}function Kj(n){var e=fd(n,1);e!==null&&Il(e,n,1,-1)}function hU(n){var e=Bu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ES,lastRenderedState:n},e.queue=n,n=n.dispatch=qhe.bind(null,lr,n),[e.memoizedState,n]}function xS(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=lr.updateQueue,e===null?(e={lastEffect:null,stores:null},lr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function qj(){return Ns().memoizedState}function lD(n,e,t,r){var o=Bu();lr.flags|=n,o.memoizedState=xS(1|e,t,void 0,r===void 0?null:r)}function zD(n,e,t,r){var o=Ns();r=r===void 0?null:r;var i=void 0;if(ho!==null){var a=ho.memoizedState;if(i=a.destroy,r!==null&&m1(r,a.deps)){o.memoizedState=xS(e,t,i,r);return}}lr.flags|=n,o.memoizedState=xS(1|e,t,i,r)}function mU(n,e){return lD(8390656,8,n,e)}function y1(n,e){return zD(2048,8,n,e)}function Yj(n,e){return zD(4,2,n,e)}function Xj(n,e){return zD(4,4,n,e)}function Zj(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Qj(n,e,t){return t=t!=null?t.concat([n]):null,zD(4,4,Zj.bind(null,e,n),t)}function C1(){}function Jj(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function e5(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function t5(n,e,t){return Qh&21?(Fl(t,e)||(t=oj(),lr.lanes|=t,Jh|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ji=!0),n.memoizedState=t)}function jhe(n,e){var t=un;un=t!==0&&4>t?t:4,n(!0);var r=WA.transition;WA.transition={};try{n(!1),e()}finally{un=t,WA.transition=r}}function n5(){return Ns().memoizedState}function Khe(n,e,t){var r=Kf(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},r5(n))o5(e,t);else if(t=Mj(n,e,t,r),t!==null){var o=Ii();Il(t,n,r,o),i5(t,e,r)}}function qhe(n,e,t){var r=Kf(n),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(r5(n))o5(e,o);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,s=i(a,t);if(o.hasEagerState=!0,o.eagerState=s,Fl(s,a)){var l=e.interleaved;l===null?(o.next=o,c1(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch(u){}finally{}t=Mj(n,e,o,r),t!==null&&(o=Ii(),Il(t,n,r,o),i5(t,e,r))}}function r5(n){var e=n.alternate;return n===lr||e!==null&&e===lr}function o5(n,e){aS=OD=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function i5(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,XN(n,t)}}var ID={readContext:As,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},Yhe={readContext:As,useCallback:function(n,e){return Bu().memoizedState=[n,e===void 0?null:e],n},useContext:As,useEffect:mU,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,lD(4194308,4,Zj.bind(null,e,n),t)},useLayoutEffect:function(n,e){return lD(4194308,4,n,e)},useInsertionEffect:function(n,e){return lD(4,2,n,e)},useMemo:function(n,e){var t=Bu();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Bu();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=Khe.bind(null,lr,n),[r.memoizedState,n]},useRef:function(n){var e=Bu();return n={current:n},e.memoizedState=n},useState:hU,useDebugValue:C1,useDeferredValue:function(n){return Bu().memoizedState=n},useTransition:function(){var n=hU(!1),e=n[0];return n=jhe.bind(null,n[1]),Bu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=lr,o=Bu();if(tr){if(t===void 0)throw Error(ve(407));t=t()}else{if(t=e(),xo===null)throw Error(ve(349));Qh&30||Wj(r,e,t)}o.memoizedState=t;var i={value:t,getSnapshot:e};return o.queue=i,mU(Uj.bind(null,r,i,n),[n]),r.flags|=2048,xS(9,zj.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Bu(),e=xo.identifierPrefix;if(tr){var t=ld,r=sd;t=(r&~(1<<32-Ol(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=_S++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Uhe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Xhe={readContext:As,useCallback:Jj,useContext:As,useEffect:y1,useImperativeHandle:Qj,useInsertionEffect:Yj,useLayoutEffect:Xj,useMemo:e5,useReducer:zA,useRef:qj,useState:function(){return zA(ES)},useDebugValue:C1,useDeferredValue:function(n){var e=Ns();return t5(e,ho.memoizedState,n)},useTransition:function(){var n=zA(ES)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:$j,useSyncExternalStore:Bj,useId:n5,unstable_isNewReconciler:!1},Zhe={readContext:As,useCallback:Jj,useContext:As,useEffect:y1,useImperativeHandle:Qj,useInsertionEffect:Yj,useLayoutEffect:Xj,useMemo:e5,useReducer:UA,useRef:qj,useState:function(){return UA(ES)},useDebugValue:C1,useDeferredValue:function(n){var e=Ns();return ho===null?e.memoizedState=n:t5(e,ho.memoizedState,n)},useTransition:function(){var n=UA(ES)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:$j,useSyncExternalStore:Bj,useId:n5,unstable_isNewReconciler:!1};function Wv(n,e){try{var t="",r=e;do t+=Rpe(r),r=r.return;while(r);var o=t}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:o,digest:null}}function jA(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function TN(n,e){try{}catch(t){setTimeout(function(){throw t})}}var Qhe=typeof WeakMap=="function"?WeakMap:Map;function a5(n,e,t){t=ud(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){LD||(LD=!0,VN=r),TN(n,e)},t}function s5(n,e,t){t=ud(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;t.payload=function(){return r(o)},t.callback=function(){TN(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){TN(n,e),typeof r!="function"&&(jf===null?jf=new Set([this]):jf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function gU(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Qhe;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(t)||(o.add(t),n=fme.bind(null,n,e,t),e.then(n,n))}function vU(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function yU(n,e,t,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ud(-1,1),e.tag=2,Uf(t,e,1))),t.lanes|=1),n)}var Jhe=hd.ReactCurrentOwner,Ji=!1;function Oi(n,e,t,r){e.child=n===null?Gj(e,null,t,r):$v(e,n.child,t,r)}function CU(n,e,t,r,o){t=t.render;var i=e.ref;return Nv(e,o),r=g1(n,e,t,r,i,o),t=v1(),n!==null&&!Ji?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,pd(n,e,o)):(tr&&t&&o1(e),e.flags|=1,Oi(n,e,r,o),e.child)}function wU(n,e,t,r,o){if(n===null){var i=t.type;return typeof i=="function"&&!R1(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,l5(n,e,i,r,o)):(n=fD(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&o)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:vS,t(a,r)&&n.ref===e.ref)return pd(n,e,o)}return e.flags|=1,n=qf(i,r),n.ref=e.ref,n.return=e,e.child=n}function l5(n,e,t,r,o){if(n!==null){var i=n.memoizedProps;if(vS(i,r)&&n.ref===e.ref)if(Ji=!1,e.pendingProps=r=i,(n.lanes&o)!==0)n.flags&131072&&(Ji=!0);else return e.lanes=n.lanes,pd(n,e,o)}return PN(n,e,t,r,o)}function u5(n,e,t){var r=e.pendingProps,o=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ln(Iv,Ia),Ia|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ln(Iv,Ia),Ia|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Ln(Iv,Ia),Ia|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Ln(Iv,Ia),Ia|=r;return Oi(n,e,o,t),e.child}function c5(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function PN(n,e,t,r,o){var i=ta(t)?Xh:hi.current;return i=Gv(e,i),Nv(e,o),t=g1(n,e,t,r,i,o),r=v1(),n!==null&&!Ji?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,pd(n,e,o)):(tr&&r&&o1(e),e.flags|=1,Oi(n,e,t,o),e.child)}function SU(n,e,t,r,o){if(ta(t)){var i=!0;_D(e)}else i=!1;if(Nv(e,o),e.stateNode===null)uD(n,e),kj(e,t,r),RN(e,t,r,o),r=!0;else if(n===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=As(u):(u=ta(t)?Xh:hi.current,u=Gv(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&fU(e,a,r,u),Nf=!1;var f=e.memoizedState;a.state=f,TD(e,r,a,o),l=e.memoizedState,s!==r||f!==l||ea.current||Nf?(typeof c=="function"&&(DN(e,t,c,r),l=e.memoizedState),(s=Nf||dU(e,t,s,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Aj(n,e),s=e.memoizedProps,u=e.type===e.elementType?s:Rl(e.type,s),a.props=u,d=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=As(l):(l=ta(t)?Xh:hi.current,l=Gv(e,l));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&fU(e,a,r,l),Nf=!1,f=e.memoizedState,a.state=f,TD(e,r,a,o);var h=e.memoizedState;s!==d||f!==h||ea.current||Nf?(typeof p=="function"&&(DN(e,t,p,r),h=e.memoizedState),(u=Nf||dU(e,t,u,r,f,h,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return ON(n,e,t,r,i,o)}function ON(n,e,t,r,o,i){c5(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&aU(e,t,!1),pd(n,e,i);r=e.stateNode,Jhe.current=e;var s=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=$v(e,n.child,null,i),e.child=$v(e,null,s,i)):Oi(n,e,s,i),e.memoizedState=r.state,o&&aU(e,t,!0),e.child}function d5(n){var e=n.stateNode;e.pendingContext?iU(n,e.pendingContext,e.pendingContext!==e.context):e.context&&iU(n,e.context,!1),f1(n,e.containerInfo)}function bU(n,e,t,r,o){return Hv(),a1(o),e.flags|=256,Oi(n,e,t,r),e.child}var IN={dehydrated:null,treeContext:null,retryLane:0};function FN(n){return{baseLanes:n,cachePool:null,transitions:null}}function f5(n,e,t){var r=e.pendingProps,o=sr.current,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(o&2)!==0),s?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),Ln(sr,o&1),n===null)return EN(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=KD(a,r,0,null),n=Yh(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=FN(t),e.memoizedState=IN,n):w1(e,a));if(o=n.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return eme(n,e,a,r,s,o,t);if(i){i=r.fallback,a=e.mode,o=n.child,s=o.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qf(o,l),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=qf(s,i):(i=Yh(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?FN(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=IN,r}return i=n.child,n=i.sibling,r=qf(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function w1(n,e){return e=KD({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function eD(n,e,t,r){return r!==null&&a1(r),$v(e,n.child,null,t),n=w1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function eme(n,e,t,r,o,i,a){if(t)return e.flags&256?(e.flags&=-257,r=jA(Error(ve(422))),eD(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=KD({mode:"visible",children:r.children},o,0,null),i=Yh(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$v(e,n.child,null,a),e.child.memoizedState=FN(a),e.memoizedState=IN,i);if(!(e.mode&1))return eD(n,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(ve(419)),r=jA(i,r,void 0),eD(n,e,a,r)}if(s=(a&n.childLanes)!==0,Ji||s){if(r=xo,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,fd(n,o),Il(r,n,o,-1))}return D1(),r=jA(Error(ve(421))),eD(n,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=pme.bind(null,n),o._reactRetry=e,null):(n=i.treeContext,Fa=zf(o.nextSibling),La=e,tr=!0,Pl=null,n!==null&&(Is[Fs++]=sd,Is[Fs++]=ld,Is[Fs++]=Zh,sd=n.id,ld=n.overflow,Zh=e),e=w1(e,r.children),e.flags|=4096,e)}function _U(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),xN(n.return,e,t)}function KA(n,e,t,r,o){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=o)}function p5(n,e,t){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Oi(n,e,r.children,t),r=sr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_U(n,t,e);else if(n.tag===19)_U(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ln(sr,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(t=e.child,o=null;t!==null;)n=t.alternate,n!==null&&PD(n)===null&&(o=t),t=t.sibling;t=o,t===null?(o=e.child,e.child=null):(o=t.sibling,t.sibling=null),KA(e,!1,o,t,i);break;case"backwards":for(t=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&PD(n)===null){e.child=o;break}n=o.sibling,o.sibling=t,t=o,o=n}KA(e,!0,t,null,i);break;case"together":KA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uD(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function pd(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Jh|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ve(153));if(e.child!==null){for(n=e.child,t=qf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=qf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function tme(n,e,t){switch(e.tag){case 3:d5(e),Hv();break;case 5:Hj(e);break;case 1:ta(e.type)&&_D(e);break;case 4:f1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ln(DD,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ln(sr,sr.current&1),e.flags|=128,null):t&e.child.childLanes?f5(n,e,t):(Ln(sr,sr.current&1),n=pd(n,e,t),n!==null?n.sibling:null);Ln(sr,sr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return p5(n,e,t);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ln(sr,sr.current),r)break;return null;case 22:case 23:return e.lanes=0,u5(n,e,t)}return pd(n,e,t)}var h5,LN,m5,g5;h5=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};LN=function(){};m5=function(n,e,t,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,Kh(Uu.current);var i=null;switch(t){case"input":o=tN(n,o),r=tN(n,r),i=[];break;case"select":o=ur({},o,{value:void 0}),r=ur({},r,{value:void 0}),i=[];break;case"textarea":o=oN(n,o),r=oN(n,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=SD)}aN(t,r);var a;t=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cS.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cS.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&zn("scroll",n),i||s===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};g5=function(n,e,t,r){t!==r&&(e.flags|=4)};function qw(n,e){if(!tr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function fi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function nme(n,e,t){var r=e.pendingProps;switch(i1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(e),null;case 1:return ta(e.type)&&bD(),fi(e),null;case 3:return r=e.stateNode,Bv(),Un(ea),Un(hi),h1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Qx(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pl!==null&&($N(Pl),Pl=null))),LN(n,e),fi(e),null;case 5:p1(e);var o=Kh(bS.current);if(t=e.type,n!==null&&e.stateNode!=null)m5(n,e,t,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return fi(e),null}if(n=Kh(Uu.current),Qx(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Wu]=e,r[wS]=i,n=(e.mode&1)!==0,t){case"dialog":zn("cancel",r),zn("close",r);break;case"iframe":case"object":case"embed":zn("load",r);break;case"video":case"audio":for(o=0;o<eS.length;o++)zn(eS[o],r);break;case"source":zn("error",r);break;case"img":case"image":case"link":zn("error",r),zn("load",r);break;case"details":zn("toggle",r);break;case"input":I6(r,i),zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zn("invalid",r);break;case"textarea":L6(r,i),zn("invalid",r)}aN(t,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Zx(r.textContent,s,n),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Zx(r.textContent,s,n),o=["children",""+s]):cS.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&zn("scroll",r)}switch(t){case"input":Gx(r),F6(r,i,!0);break;case"textarea":Gx(r),M6(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=SD)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=WU(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Wu]=e,n[wS]=r,h5(n,e,!1,!1),e.stateNode=n;e:{switch(a=sN(t,r),t){case"dialog":zn("cancel",n),zn("close",n),o=r;break;case"iframe":case"object":case"embed":zn("load",n),o=r;break;case"video":case"audio":for(o=0;o<eS.length;o++)zn(eS[o],n);o=r;break;case"source":zn("error",n),o=r;break;case"img":case"image":case"link":zn("error",n),zn("load",n),o=r;break;case"details":zn("toggle",n),o=r;break;case"input":I6(n,r),o=tN(n,r),zn("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=ur({},r,{value:void 0}),zn("invalid",n);break;case"textarea":L6(n,r),o=oN(n,r),zn("invalid",n);break;default:o=r}aN(t,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?jU(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zU(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&dS(n,l):typeof l=="number"&&dS(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cS.hasOwnProperty(i)?l!=null&&i==="onScroll"&&zn("scroll",n):l!=null&&zN(n,i,l,a))}switch(t){case"input":Gx(n),F6(n,r,!1);break;case"textarea":Gx(n),M6(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Yf(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?Fv(n,!!r.multiple,i,!1):r.defaultValue!=null&&Fv(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=SD)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fi(e),null;case 6:if(n&&e.stateNode!=null)g5(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(t=Kh(bS.current),Kh(Uu.current),Qx(e)){if(r=e.stateNode,t=e.memoizedProps,r[Wu]=e,(i=r.nodeValue!==t)&&(n=La,n!==null))switch(n.tag){case 3:Zx(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zx(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Wu]=e,e.stateNode=r}return fi(e),null;case 13:if(Un(sr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tr&&Fa!==null&&e.mode&1&&!(e.flags&128))Lj(),Hv(),e.flags|=98560,i=!1;else if(i=Qx(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(ve(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[Wu]=e}else Hv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fi(e),i=!1}else Pl!==null&&($N(Pl),Pl=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||sr.current&1?mo===0&&(mo=3):D1())),e.updateQueue!==null&&(e.flags|=4),fi(e),null);case 4:return Bv(),LN(n,e),n===null&&yS(e.stateNode.containerInfo),fi(e),null;case 10:return u1(e.type._context),fi(e),null;case 17:return ta(e.type)&&bD(),fi(e),null;case 19:if(Un(sr),i=e.memoizedState,i===null)return fi(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)qw(i,!1);else{if(mo!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=PD(n),a!==null){for(e.flags|=128,qw(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ln(sr,sr.current&1|2),e.child}n=n.sibling}i.tail!==null&&Mr()>zv&&(e.flags|=128,r=!0,qw(i,!1),e.lanes=4194304)}else{if(!r)if(n=PD(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qw(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tr)return fi(e),null}else 2*Mr()-i.renderingStartTime>zv&&t!==1073741824&&(e.flags|=128,r=!0,qw(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mr(),e.sibling=null,t=sr.current,Ln(sr,r?t&1|2:t&1),e):(fi(e),null);case 22:case 23:return x1(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ia&1073741824&&(fi(e),e.subtreeFlags&6&&(e.flags|=8192)):fi(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function rme(n,e){switch(i1(e),e.tag){case 1:return ta(e.type)&&bD(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bv(),Un(ea),Un(hi),h1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return p1(e),null;case 13:if(Un(sr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));Hv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Un(sr),null;case 4:return Bv(),null;case 10:return u1(e.type._context),null;case 22:case 23:return x1(),null;case 24:return null;default:return null}}var tD=!1,pi=!1,ome=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Ov(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Sr(n,e,r)}else t.current=null}function MN(n,e,t){try{t()}catch(r){Sr(n,e,r)}}var EU=!1;function ime(n,e){if(vN=yD,n=wj(),r1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(w){t=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=n,f=null;t:for(;;){for(var p;d!==t||o!==0&&d.nodeType!==3||(s=a+o),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===o&&(s=a),f===i&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=s===-1||l===-1?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(yN={focusedElem:n,selectionRange:t},yD=!1,Me=e;Me!==null;)if(e=Me,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Me=n;else for(;Me!==null;){e=Me;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,v=h.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Rl(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(w){Sr(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}return h=EU,EU=!1,h}function sS(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var i=o.destroy;o.destroy=void 0,i!==void 0&&MN(e,t,i)}o=o.next}while(o!==r)}}function UD(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function AN(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function v5(n){var e=n.alternate;e!==null&&(n.alternate=null,v5(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Wu],delete e[wS],delete e[SN],delete e[$he],delete e[Bhe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function y5(n){return n.tag===5||n.tag===3||n.tag===4}function xU(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||y5(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function NN(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=SD));else if(r!==4&&(n=n.child,n!==null))for(NN(n,e,t),n=n.sibling;n!==null;)NN(n,e,t),n=n.sibling}function kN(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(kN(n,e,t),n=n.sibling;n!==null;)kN(n,e,t),n=n.sibling}var Uo=null,Tl=!1;function Mf(n,e,t){for(t=t.child;t!==null;)C5(n,e,t),t=t.sibling}function C5(n,e,t){if(zu&&typeof zu.onCommitFiberUnmount=="function")try{zu.onCommitFiberUnmount(kD,t)}catch(s){}switch(t.tag){case 5:pi||Ov(t,e);case 6:var r=Uo,o=Tl;Uo=null,Mf(n,e,t),Uo=r,Tl=o,Uo!==null&&(Tl?(n=Uo,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Uo.removeChild(t.stateNode));break;case 18:Uo!==null&&(Tl?(n=Uo,t=t.stateNode,n.nodeType===8?HA(n.parentNode,t):n.nodeType===1&&HA(n,t),mS(n)):HA(Uo,t.stateNode));break;case 4:r=Uo,o=Tl,Uo=t.stateNode.containerInfo,Tl=!0,Mf(n,e,t),Uo=r,Tl=o;break;case 0:case 11:case 14:case 15:if(!pi&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&MN(t,e,a),o=o.next}while(o!==r)}Mf(n,e,t);break;case 1:if(!pi&&(Ov(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){Sr(t,e,s)}Mf(n,e,t);break;case 21:Mf(n,e,t);break;case 22:t.mode&1?(pi=(r=pi)||t.memoizedState!==null,Mf(n,e,t),pi=r):Mf(n,e,t);break;default:Mf(n,e,t)}}function DU(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ome),e.forEach(function(r){var o=hme.bind(null,n,r);t.has(r)||(t.add(r),r.then(o,o))})}}function Dl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];try{var i=n,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Uo=s.stateNode,Tl=!1;break e;case 3:Uo=s.stateNode.containerInfo,Tl=!0;break e;case 4:Uo=s.stateNode.containerInfo,Tl=!0;break e}s=s.return}if(Uo===null)throw Error(ve(160));C5(i,a,o),Uo=null,Tl=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Sr(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w5(e,n),e=e.sibling}function w5(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dl(e,n),$u(n),r&4){try{sS(3,n,n.return),UD(3,n)}catch(m){Sr(n,n.return,m)}try{sS(5,n,n.return)}catch(m){Sr(n,n.return,m)}}break;case 1:Dl(e,n),$u(n),r&512&&t!==null&&Ov(t,t.return);break;case 5:if(Dl(e,n),$u(n),r&512&&t!==null&&Ov(t,t.return),n.flags&32){var o=n.stateNode;try{dS(o,"")}catch(m){Sr(n,n.return,m)}}if(r&4&&(o=n.stateNode,o!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,s=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&$U(o,i),sN(s,a);var u=sN(s,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?jU(o,d):c==="dangerouslySetInnerHTML"?zU(o,d):c==="children"?dS(o,d):zN(o,c,d,u)}switch(s){case"input":nN(o,i);break;case"textarea":BU(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fv(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fv(o,!!i.multiple,i.defaultValue,!0):Fv(o,!!i.multiple,i.multiple?[]:"",!1))}o[wS]=i}catch(m){Sr(n,n.return,m)}}break;case 6:if(Dl(e,n),$u(n),r&4){if(n.stateNode===null)throw Error(ve(162));o=n.stateNode,i=n.memoizedProps;try{o.nodeValue=i}catch(m){Sr(n,n.return,m)}}break;case 3:if(Dl(e,n),$u(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{mS(e.containerInfo)}catch(m){Sr(n,n.return,m)}break;case 4:Dl(e,n),$u(n);break;case 13:Dl(e,n),$u(n),o=n.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(_1=Mr())),r&4&&DU(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(pi=(u=pi)||c,Dl(e,n),pi=u):Dl(e,n),$u(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(Me=n,c=n.child;c!==null;){for(d=Me=c;Me!==null;){switch(f=Me,p=f.child,f.tag){case 0:case 11:case 14:case 15:sS(4,f,f.return);break;case 1:Ov(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(m){Sr(r,t,m)}}break;case 5:Ov(f,f.return);break;case 22:if(f.memoizedState!==null){TU(d);continue}}p!==null?(p.return=f,Me=p):TU(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=UU("display",a))}catch(m){Sr(n,n.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Sr(n,n.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dl(e,n),$u(n),r&4&&DU(n);break;case 21:break;default:Dl(e,n),$u(n)}}function $u(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(y5(t)){var r=t;break e}t=t.return}throw Error(ve(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(dS(o,""),r.flags&=-33);var i=xU(n);kN(n,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,s=xU(n);NN(n,s,a);break;default:throw Error(ve(161))}}catch(l){Sr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function ame(n,e,t){Me=n,S5(n,e,t)}function S5(n,e,t){for(var r=(n.mode&1)!==0;Me!==null;){var o=Me,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||tD;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||pi;s=tD;var u=pi;if(tD=a,(pi=l)&&!u)for(Me=o;Me!==null;)a=Me,l=a.child,a.tag===22&&a.memoizedState!==null?PU(o):l!==null?(l.return=a,Me=l):PU(o);for(;i!==null;)Me=i,S5(i,e,t),i=i.sibling;Me=o,tD=s,pi=u}RU(n,e,t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Me=i):RU(n,e,t)}}function RU(n){for(;Me!==null;){var e=Me;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pi||UD(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pi)if(t===null)r.componentDidMount();else{var o=e.elementType===e.type?t.memoizedProps:Rl(e.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cU(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}cU(e,a,t)}break;case 5:var s=e.stateNode;if(t===null&&e.flags&4){t=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&mS(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}pi||e.flags&512&&AN(e)}catch(f){Sr(e,e.return,f)}}if(e===n){Me=null;break}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}}function TU(n){for(;Me!==null;){var e=Me;if(e===n){Me=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Me=t;break}Me=e.return}}function PU(n){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{UD(4,e)}catch(l){Sr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){Sr(e,o,l)}}var i=e.return;try{AN(e)}catch(l){Sr(e,i,l)}break;case 5:var a=e.return;try{AN(e)}catch(l){Sr(e,a,l)}}}catch(l){Sr(e,e.return,l)}if(e===n){Me=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Me=s;break}Me=e.return}}var sme=Math.ceil,FD=hd.ReactCurrentDispatcher,S1=hd.ReactCurrentOwner,Ms=hd.ReactCurrentBatchConfig,Wt=0,xo=null,Kr=null,jo=0,Ia=0,Iv=Qf(0),mo=0,DS=null,Jh=0,jD=0,b1=0,lS=null,Qi=null,_1=0,zv=1/0,id=null,LD=!1,VN=null,jf=null,nD=!1,Hf=null,MD=0,uS=0,GN=null,cD=-1,dD=0;function Ii(){return Wt&6?Mr():cD!==-1?cD:cD=Mr()}function Kf(n){return n.mode&1?Wt&2&&jo!==0?jo&-jo:zhe.transition!==null?(dD===0&&(dD=oj()),dD):(n=un,n!==0||(n=window.event,n=n===void 0?16:dj(n.type)),n):1}function Il(n,e,t,r){if(50<uS)throw uS=0,GN=null,Error(ve(185));RS(n,t,r),(!(Wt&2)||n!==xo)&&(n===xo&&(!(Wt&2)&&(jD|=t),mo===4&&Vf(n,jo)),na(n,r),t===1&&Wt===0&&!(e.mode&1)&&(zv=Mr()+500,BD&&Jf()))}function na(n,e){var t=n.callbackNode;jpe(n,e);var r=vD(n,n===xo?jo:0);if(r===0)t!==null&&k6(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&k6(t),e===1)n.tag===0?Whe(OU.bind(null,n)):Oj(OU.bind(null,n)),Ghe(function(){!(Wt&6)&&Jf()}),t=null;else{switch(ij(r)){case 1:t=YN;break;case 4:t=nj;break;case 16:t=gD;break;case 536870912:t=rj;break;default:t=gD}t=P5(t,b5.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function b5(n,e){if(cD=-1,dD=0,Wt&6)throw Error(ve(327));var t=n.callbackNode;if(kv()&&n.callbackNode!==t)return null;var r=vD(n,n===xo?jo:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=AD(n,r);else{e=r;var o=Wt;Wt|=2;var i=E5();(xo!==n||jo!==e)&&(id=null,zv=Mr()+500,qh(n,e));do try{cme();break}catch(s){_5(n,s)}while(1);l1(),FD.current=i,Wt=o,Kr!==null?e=0:(xo=null,jo=0,e=mo)}if(e!==0){if(e===2&&(o=fN(n),o!==0&&(r=o,e=HN(n,o))),e===1)throw t=DS,qh(n,0),Vf(n,r),na(n,Mr()),t;if(e===6)Vf(n,r);else{if(o=n.current.alternate,!(r&30)&&!lme(o)&&(e=AD(n,r),e===2&&(i=fN(n),i!==0&&(r=i,e=HN(n,i))),e===1))throw t=DS,qh(n,0),Vf(n,r),na(n,Mr()),t;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:zh(n,Qi,id);break;case 3:if(Vf(n,r),(r&130023424)===r&&(e=_1+500-Mr(),10<e)){if(vD(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){Ii(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=wN(zh.bind(null,n,Qi,id),e);break}zh(n,Qi,id);break;case 4:if(Vf(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var a=31-Ol(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=Mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sme(r/1960))-r,10<r){n.timeoutHandle=wN(zh.bind(null,n,Qi,id),r);break}zh(n,Qi,id);break;case 5:zh(n,Qi,id);break;default:throw Error(ve(329))}}}return na(n,Mr()),n.callbackNode===t?b5.bind(null,n):null}function HN(n,e){var t=lS;return n.current.memoizedState.isDehydrated&&(qh(n,e).flags|=256),n=AD(n,e),n!==2&&(e=Qi,Qi=t,e!==null&&$N(e)),n}function $N(n){Qi===null?Qi=n:Qi.push.apply(Qi,n)}function lme(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var o=t[r],i=o.getSnapshot;o=o.value;try{if(!Fl(i(),o))return!1}catch(a){return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vf(n,e){for(e&=~b1,e&=~jD,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ol(e),r=1<<t;n[t]=-1,e&=~r}}function OU(n){if(Wt&6)throw Error(ve(327));kv();var e=vD(n,0);if(!(e&1))return na(n,Mr()),null;var t=AD(n,e);if(n.tag!==0&&t===2){var r=fN(n);r!==0&&(e=r,t=HN(n,r))}if(t===1)throw t=DS,qh(n,0),Vf(n,e),na(n,Mr()),t;if(t===6)throw Error(ve(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,zh(n,Qi,id),na(n,Mr()),null}function E1(n,e){var t=Wt;Wt|=1;try{return n(e)}finally{Wt=t,Wt===0&&(zv=Mr()+500,BD&&Jf())}}function em(n){Hf!==null&&Hf.tag===0&&!(Wt&6)&&kv();var e=Wt;Wt|=1;var t=Ms.transition,r=un;try{if(Ms.transition=null,un=1,n)return n()}finally{un=r,Ms.transition=t,Wt=e,!(Wt&6)&&Jf()}}function x1(){Ia=Iv.current,Un(Iv)}function qh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Vhe(t)),Kr!==null)for(t=Kr.return;t!==null;){var r=t;switch(i1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bD();break;case 3:Bv(),Un(ea),Un(hi),h1();break;case 5:p1(r);break;case 4:Bv();break;case 13:Un(sr);break;case 19:Un(sr);break;case 10:u1(r.type._context);break;case 22:case 23:x1()}t=t.return}if(xo=n,Kr=n=qf(n.current,null),jo=Ia=e,mo=0,DS=null,b1=jD=Jh=0,Qi=lS=null,jh!==null){for(e=0;e<jh.length;e++)if(t=jh[e],r=t.interleaved,r!==null){t.interleaved=null;var o=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}t.pending=r}jh=null}return n}function _5(n,e){do{var t=Kr;try{if(l1(),sD.current=ID,OD){for(var r=lr.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}OD=!1}if(Qh=0,Eo=ho=lr=null,aS=!1,_S=0,S1.current=null,t===null||t.return===null){mo=1,DS=e,Kr=null;break}e:{var i=n,a=t.return,s=t,l=e;if(e=jo,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vU(a);if(p!==null){p.flags&=-257,yU(p,a,s,i,e),p.mode&1&&gU(i,u,e),e=p,l=u;var h=e.updateQueue;if(h===null){var m=new Set;m.add(l),e.updateQueue=m}else h.add(l);break e}else{if(!(e&1)){gU(i,u,e),D1();break e}l=Error(ve(426))}}else if(tr&&s.mode&1){var v=vU(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),yU(v,a,s,i,e),a1(Wv(l,s));break e}}i=l=Wv(l,s),mo!==4&&(mo=2),lS===null?lS=[i]:lS.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=a5(i,l,e);uU(i,g);break e;case 1:s=l;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(jf===null||!jf.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=s5(i,s,e);uU(i,w);break e}}i=i.return}while(i!==null)}D5(t)}catch(b){e=b,Kr===t&&t!==null&&(Kr=t=t.return);continue}break}while(1)}function E5(){var n=FD.current;return FD.current=ID,n===null?ID:n}function D1(){(mo===0||mo===3||mo===2)&&(mo=4),xo===null||!(Jh&268435455)&&!(jD&268435455)||Vf(xo,jo)}function AD(n,e){var t=Wt;Wt|=2;var r=E5();(xo!==n||jo!==e)&&(id=null,qh(n,e));do try{ume();break}catch(o){_5(n,o)}while(1);if(l1(),Wt=t,FD.current=r,Kr!==null)throw Error(ve(261));return xo=null,jo=0,mo}function ume(){for(;Kr!==null;)x5(Kr)}function cme(){for(;Kr!==null&&!kpe();)x5(Kr)}function x5(n){var e=T5(n.alternate,n,Ia);n.memoizedProps=n.pendingProps,e===null?D5(n):Kr=e,S1.current=null}function D5(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=rme(t,e),t!==null){t.flags&=32767,Kr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mo=6,Kr=null;return}}else if(t=nme(t,e,Ia),t!==null){Kr=t;return}if(e=e.sibling,e!==null){Kr=e;return}Kr=e=n}while(e!==null);mo===0&&(mo=5)}function zh(n,e,t){var r=un,o=Ms.transition;try{Ms.transition=null,un=1,dme(n,e,t,r)}finally{Ms.transition=o,un=r}return null}function dme(n,e,t,r){do kv();while(Hf!==null);if(Wt&6)throw Error(ve(327));t=n.finishedWork;var o=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ve(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(Kpe(n,i),n===xo&&(Kr=xo=null,jo=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||nD||(nD=!0,P5(gD,function(){return kv(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Ms.transition,Ms.transition=null;var a=un;un=1;var s=Wt;Wt|=4,S1.current=null,ime(n,t),w5(t,n),Lhe(yN),yD=!!vN,yN=vN=null,n.current=t,ame(t,n,o),Vpe(),Wt=s,un=a,Ms.transition=i}else n.current=t;if(nD&&(nD=!1,Hf=n,MD=o),i=n.pendingLanes,i===0&&(jf=null),$pe(t.stateNode,r),na(n,Mr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)o=e[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(LD)throw LD=!1,n=VN,VN=null,n;return MD&1&&n.tag!==0&&kv(),i=n.pendingLanes,i&1?n===GN?uS++:(uS=0,GN=n):uS=0,Jf(),null}function kv(){if(Hf!==null){var n=ij(MD),e=Ms.transition,t=un;try{if(Ms.transition=null,un=16>n?16:n,Hf===null)var r=!1;else{if(n=Hf,Hf=null,MD=0,Wt&6)throw Error(ve(331));var o=Wt;for(Wt|=4,Me=n.current;Me!==null;){var i=Me,a=i.child;if(Me.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Me=u;Me!==null;){var c=Me;switch(c.tag){case 0:case 11:case 15:sS(8,c,i)}var d=c.child;if(d!==null)d.return=c,Me=d;else for(;Me!==null;){c=Me;var f=c.sibling,p=c.return;if(v5(c),c===u){Me=null;break}if(f!==null){f.return=p,Me=f;break}Me=p}}}var h=i.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Me=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Me=a;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sS(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Me=g;break e}Me=i.return}}var y=n.current;for(Me=y;Me!==null;){a=Me;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Me=C;else e:for(a=y;Me!==null;){if(s=Me,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:UD(9,s)}}catch(b){Sr(s,s.return,b)}if(s===a){Me=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,Me=w;break e}Me=s.return}}if(Wt=o,Jf(),zu&&typeof zu.onPostCommitFiberRoot=="function")try{zu.onPostCommitFiberRoot(kD,n)}catch(b){}r=!0}return r}finally{un=t,Ms.transition=e}}return!1}function IU(n,e,t){e=Wv(t,e),e=a5(n,e,1),n=Uf(n,e,1),e=Ii(),n!==null&&(RS(n,1,e),na(n,e))}function Sr(n,e,t){if(n.tag===3)IU(n,n,t);else for(;e!==null;){if(e.tag===3){IU(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jf===null||!jf.has(r))){n=Wv(t,n),n=s5(e,n,1),e=Uf(e,n,1),n=Ii(),e!==null&&(RS(e,1,n),na(e,n));break}}e=e.return}}function fme(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ii(),n.pingedLanes|=n.suspendedLanes&t,xo===n&&(jo&t)===t&&(mo===4||mo===3&&(jo&130023424)===jo&&500>Mr()-_1?qh(n,0):b1|=t),na(n,e)}function R5(n,e){e===0&&(n.mode&1?(e=Bx,Bx<<=1,!(Bx&130023424)&&(Bx=4194304)):e=1);var t=Ii();n=fd(n,e),n!==null&&(RS(n,e,t),na(n,t))}function pme(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),R5(n,t)}function hme(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(t=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),R5(n,t)}var T5;T5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ea.current)Ji=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ji=!1,tme(n,e,t);Ji=!!(n.flags&131072)}else Ji=!1,tr&&e.flags&1048576&&Ij(e,xD,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uD(n,e),n=e.pendingProps;var o=Gv(e,hi.current);Nv(e,t),o=g1(null,e,r,n,o,t);var i=v1();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ta(r)?(i=!0,_D(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,d1(e),o.updater=WD,e.stateNode=o,o._reactInternals=e,RN(e,r,n,t),e=ON(null,e,r,!0,i,t)):(e.tag=0,tr&&i&&o1(e),Oi(null,e,o,t),e=e.child),e;case 16:r=e.elementType;e:{switch(uD(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=gme(r),n=Rl(r,n),o){case 0:e=PN(null,e,r,n,t);break e;case 1:e=SU(null,e,r,n,t);break e;case 11:e=CU(null,e,r,n,t);break e;case 14:e=wU(null,e,r,Rl(r.type,n),t);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rl(r,o),PN(n,e,r,o,t);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rl(r,o),SU(n,e,r,o,t);case 3:e:{if(d5(e),n===null)throw Error(ve(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Aj(n,e),TD(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Wv(Error(ve(423)),e),e=bU(n,e,r,t,o);break e}else if(r!==o){o=Wv(Error(ve(424)),e),e=bU(n,e,r,t,o);break e}else for(Fa=zf(e.stateNode.containerInfo.firstChild),La=e,tr=!0,Pl=null,t=Gj(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Hv(),r===o){e=pd(n,e,t);break e}Oi(n,e,r,t)}e=e.child}return e;case 5:return Hj(e),n===null&&EN(e),r=e.type,o=e.pendingProps,i=n!==null?n.memoizedProps:null,a=o.children,CN(r,o)?a=null:i!==null&&CN(r,i)&&(e.flags|=32),c5(n,e),Oi(n,e,a,t),e.child;case 6:return n===null&&EN(e),null;case 13:return f5(n,e,t);case 4:return f1(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=$v(e,null,r,t):Oi(n,e,r,t),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rl(r,o),CU(n,e,r,o,t);case 7:return Oi(n,e,e.pendingProps,t),e.child;case 8:return Oi(n,e,e.pendingProps.children,t),e.child;case 12:return Oi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,Ln(DD,r._currentValue),r._currentValue=a,i!==null)if(Fl(i.value,a)){if(i.children===o.children&&!ea.current){e=pd(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ud(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),xN(i.return,t,e),s.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ve(341));a.lanes|=t,s=a.alternate,s!==null&&(s.lanes|=t),xN(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Oi(n,e,o.children,t),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Nv(e,t),o=As(o),r=r(o),e.flags|=1,Oi(n,e,r,t),e.child;case 14:return r=e.type,o=Rl(r,e.pendingProps),o=Rl(r.type,o),wU(n,e,r,o,t);case 15:return l5(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rl(r,o),uD(n,e),e.tag=1,ta(r)?(n=!0,_D(e)):n=!1,Nv(e,t),kj(e,r,o),RN(e,r,o,t),ON(null,e,r,!0,n,t);case 19:return p5(n,e,t);case 22:return u5(n,e,t)}throw Error(ve(156,e.tag))};function P5(n,e){return tj(n,e)}function mme(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(n,e,t,r){return new mme(n,e,t,r)}function R1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gme(n){if(typeof n=="function")return R1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===jN)return 11;if(n===KN)return 14}return 2}function qf(n,e){var t=n.alternate;return t===null?(t=Ls(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function fD(n,e,t,r,o,i){var a=2;if(r=n,typeof n=="function")R1(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Sv:return Yh(t.children,o,i,e);case UN:a=8,o|=8;break;case ZA:return n=Ls(12,t,e,o|2),n.elementType=ZA,n.lanes=i,n;case QA:return n=Ls(13,t,e,o),n.elementType=QA,n.lanes=i,n;case JA:return n=Ls(19,t,e,o),n.elementType=JA,n.lanes=i,n;case VU:return KD(t,o,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case NU:a=10;break e;case kU:a=9;break e;case jN:a=11;break e;case KN:a=14;break e;case Af:a=16,r=null;break e}throw Error(ve(130,n==null?n:typeof n,""))}return e=Ls(a,t,e,o),e.elementType=n,e.type=r,e.lanes=i,e}function Yh(n,e,t,r){return n=Ls(7,n,r,e),n.lanes=t,n}function KD(n,e,t,r){return n=Ls(22,n,r,e),n.elementType=VU,n.lanes=t,n.stateNode={isHidden:!1},n}function qA(n,e,t){return n=Ls(6,n,null,e),n.lanes=t,n}function YA(n,e,t){return e=Ls(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function vme(n,e,t,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=FA(0),this.expirationTimes=FA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=FA(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function T1(n,e,t,r,o,i,a,s,l){return n=new vme(n,e,t,s,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ls(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},d1(i),n}function yme(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wv,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function O5(n){if(!n)return Xf;n=n._reactInternals;e:{if(nm(n)!==n||n.tag!==1)throw Error(ve(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ta(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(n.tag===1){var t=n.type;if(ta(t))return Pj(n,t,e)}return e}function I5(n,e,t,r,o,i,a,s,l){return n=T1(t,r,!0,n,o,i,a,s,l),n.context=O5(null),t=n.current,r=Ii(),o=Kf(t),i=ud(r,o),i.callback=e!=null?e:null,Uf(t,i,o),n.current.lanes=o,RS(n,o,r),na(n,r),n}function qD(n,e,t,r){var o=e.current,i=Ii(),a=Kf(o);return t=O5(t),e.context===null?e.context=t:e.pendingContext=t,e=ud(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Uf(o,e,a),n!==null&&(Il(n,o,a,i),aD(n,o,a)),a}function ND(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function FU(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function P1(n,e){FU(n,e),(n=n.alternate)&&FU(n,e)}function Cme(){return null}var F5=typeof reportError=="function"?reportError:function(n){};function O1(n){this._internalRoot=n}YD.prototype.render=O1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ve(409));qD(n,e,null,null)};YD.prototype.unmount=O1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;em(function(){qD(null,n,null,null)}),e[dd]=null}};function YD(n){this._internalRoot=n}YD.prototype.unstable_scheduleHydration=function(n){if(n){var e=lj();n={blockedOn:null,target:n,priority:e};for(var t=0;t<kf.length&&e!==0&&e<kf[t].priority;t++);kf.splice(t,0,n),t===0&&cj(n)}};function I1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function XD(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function LU(){}function wme(n,e,t,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=ND(a);i.call(u)}}var a=I5(e,r,n,0,null,!1,!1,"",LU);return n._reactRootContainer=a,n[dd]=a.current,yS(n.nodeType===8?n.parentNode:n),em(),a}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=ND(l);s.call(u)}}var l=T1(n,0,!1,null,null,!1,!1,"",LU);return n._reactRootContainer=l,n[dd]=l.current,yS(n.nodeType===8?n.parentNode:n),em(function(){qD(e,l,t,r)}),l}function ZD(n,e,t,r,o){var i=t._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var l=ND(a);s.call(l)}}qD(e,a,n,o)}else a=wme(t,e,n,o,r);return ND(a)}aj=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Jw(e.pendingLanes);t!==0&&(XN(e,t|1),na(e,Mr()),!(Wt&6)&&(zv=Mr()+500,Jf()))}break;case 13:em(function(){var r=fd(n,1);if(r!==null){var o=Ii();Il(r,n,1,o)}}),P1(n,1)}};ZN=function(n){if(n.tag===13){var e=fd(n,134217728);if(e!==null){var t=Ii();Il(e,n,134217728,t)}P1(n,134217728)}};sj=function(n){if(n.tag===13){var e=Kf(n),t=fd(n,e);if(t!==null){var r=Ii();Il(t,n,e,r)}P1(n,e)}};lj=function(){return un};uj=function(n,e){var t=un;try{return un=n,e()}finally{un=t}};uN=function(n,e,t){switch(e){case"input":if(nN(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var o=$D(r);if(!o)throw Error(ve(90));HU(r),nN(r,o)}}}break;case"textarea":BU(n,t);break;case"select":e=t.value,e!=null&&Fv(n,!!t.multiple,e,!1)}};YU=E1;XU=em;var Sme={usingClientEntryPoint:!1,Events:[PS,xv,$D,KU,qU,E1]},Yw={findFiberByHostInstance:Uh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bme={bundleType:Yw.bundleType,version:Yw.version,rendererPackageName:Yw.rendererPackageName,rendererConfig:Yw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hd.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=JU(n),n===null?null:n.stateNode},findFiberByHostInstance:Yw.findFiberByHostInstance||Cme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Xw=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xw.isDisabled&&Xw.supportsFiber))try{kD=Xw.inject(bme),zu=Xw}catch(n){}var Xw;Na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sme;Na.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I1(e))throw Error(ve(200));return yme(n,e,null,t)};Na.createRoot=function(n,e){if(!I1(n))throw Error(ve(299));var t=!1,r="",o=F5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=T1(n,1,!1,null,null,t,!1,r,o),n[dd]=e.current,yS(n.nodeType===8?n.parentNode:n),new O1(e)};Na.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ve(188)):(n=Object.keys(n).join(","),Error(ve(268,n)));return n=JU(e),n=n===null?null:n.stateNode,n};Na.flushSync=function(n){return em(n)};Na.hydrate=function(n,e,t){if(!XD(e))throw Error(ve(200));return ZD(null,n,e,!0,t)};Na.hydrateRoot=function(n,e,t){if(!I1(n))throw Error(ve(405));var r=t!=null&&t.hydratedSources||null,o=!1,i="",a=F5;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=I5(e,null,n,1,t!=null?t:null,o,!1,i,a),n[dd]=e.current,yS(n),r)for(n=0;n<r.length;n++)t=r[n],o=t._getVersion,o=o(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o);return new YD(e)};Na.render=function(n,e,t){if(!XD(e))throw Error(ve(200));return ZD(null,n,e,!1,t)};Na.unmountComponentAtNode=function(n){if(!XD(n))throw Error(ve(40));return n._reactRootContainer?(em(function(){ZD(null,null,n,!1,function(){n._reactRootContainer=null,n[dd]=null})}),!0):!1};Na.unstable_batchedUpdates=E1;Na.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!XD(t))throw Error(ve(200));if(n==null||n._reactInternals===void 0)throw Error(ve(38));return ZD(n,e,t,!1,r)};Na.version="18.2.0-next-9e3b772b8-20220608"});var ka=$e((C4e,A5)=>{"use strict";function M5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M5)}catch(n){}}M5(),A5.exports=L5()});var IS=$e(F1=>{"use strict";var N5=ka();F1.createRoot=N5.createRoot,F1.hydrateRoot=N5.hydrateRoot;var w4e});var QD,md,_e,ht=Gh(()=>{QD=_(z()),md=(0,QD.createContext)(void 0),_e=()=>{let n=(0,QD.useContext)(md);if(!n)throw new Error("useObsidianApp must be used within a ObsidianAppContext");return n}});var G5=$e(JD=>{"use strict";var Eme=z(),xme=Symbol.for("react.element"),Dme=Symbol.for("react.fragment"),Rme=Object.prototype.hasOwnProperty,Tme=Eme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pme={key:!0,ref:!0,__self:!0,__source:!0};function V5(n,e,t){var r,o={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Rme.call(e,r)&&!Pme.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:xme,type:n,key:i,ref:a,props:o,_owner:Tme.current}}JD.Fragment=Dme;JD.jsx=V5;JD.jsxs=V5});var F=$e((a5e,H5)=>{"use strict";H5.exports=G5()});var eR,W5=Gh(()=>{eR=class{constructor(){this.linked_notes="Linked Notes";this.type_formula_description="input formula to generate content";this.type_formula="Formula";this.insert_at_left="Insert at left";this.insert_at_right="Insert at right";this.alias="Alias";this.file_tags="File Tags";this.file_tags_description="Tags in file and frontmatter";this.internal_property="Internal Property";this.file_size="File Size";this.close="Close";this.unnamed="Unnamed";this.content_prefix="Content Prefix";this.content_suffix="Content Suffix";this.click_to_add="Click to add";this.operation_can_not_recover="This operation can not be recovered";this.template_type="Template Type";this.default="default";this.add_tempalte_in_setting_page="Add tempalte in setting page";this.warning_no_templater_installed="warning: No templater plugin installed or enabled";this.select_template="Select Template";this.type_image_description="Show image in view";this.type_image="Image";this.type_link_description="Network link or obsidian link";this.type_link="Link";this.search="Search";this.create_at="Create At";this.copy="Copy";this.share="Share";this.err_can_not_find_widget_by_refId=`Can't find widget by refId: {0}

 Maybe the widget has been deleted at repository 

 you can create new widget.`;this.enter_to_create="Enter to create";this.gallary_item_size="Card Size";this.small="Small";this.medium="Medium";this.large="Large";this.open_page_in="Open Page In";this.open_page_in_current="Current Page";this.open_page_in_split="Split";this.open_page_in_window="New Window";this.open_page_in_tab="New Tab";this.picture_layout="Picture Layout";this.picture_contains="Contains";this.picture_fill="Fill";this.type_backlink_count="Backlink Count";this.type_backlink_count_description="Count of files linking to this note";this.add_property="Add Property";this.property_name="Property";this.property_type="Type";this.view_setting="View";this.view_setting_description="Switch view type or modify basic settings";this.datasource_setting="Datasource";this.datasource_setting_description="Filter notes, set sort and new note location";this.template_setting="Template";this.template_setting_description="Select template for new note";this.property_setting="Property";this.property_setting_description="Show or hide property, modify component type of property";this.dynamic_dataview_default_value_description="Default value for this property when create new note";this.type_datetime="Datetime";this.type_datetime_description="Datetime input";this.type_multi_select="Multi Select";this.type_multi_select_description="Multi select input";this.data_save_location="New Note Location";this.data_limit="Data Limit";this.new="New";this.ascending="Ascending";this.descending="Descending";this.sort="Sort";this.file_rename_failed="Rename failed, please check your file name";this.beautify="Beautify";this.hidden="Hidden";this.bottom="Bottom";this.chart_label_position="Label Position";this.add_condition="Add Condition";this.clock_show_date_label="Show Date Label";this.type_text_description="normal text input";this.type_number_description="normal number input";this.type_checkbox_description="check or uncheck here";this.type_select_description="list specific options";this.tag_suggestions_description="automatically show all tags in obsidian";this.property_value_suggestions_description="automatically show distinct values from specific property";this.property_value_suggestions="Property Value Suggestions";this.param_component_from_property="From Property";this.text_content="Text Content";this.widget_type_embed_markdown_description="Embed markdown file or content in widget";this.widget_type_embed_markdown="Markdown";this.widget_type_dynamic_data_view="Dynamic Data View";this.widget_type_dynamic_data_view_description="Create gallary, table or kanban view from your notes";this.file_count="File Count";this.sum="Sum";this.avg="Avg";this.max="Max";this.min="Min";this.property_format="Property Format";this.delete_success="Delete success";this.delete="Delete";this.edit="Edit";this.clock_dial_background_color="Dial Background Color";this.clock_pointer_color="Pointer Color";this.widget_type_clock="Clock";this.widget_type_clock_description="Show a clock widget";this.clock_second_hand_color="Second Hand Color";this.clock_minute_hand_color="Minute Hand Color";this.clock_hour_hand_color="Hour Hand Color";this.clock_marker_color="Marker Color";this.clock_dial_type="Dialog Type";this.clock_show_time_label="Show Time Label";this.clock_circle="Circle";this.clock_square="Square";this.please_add_widget="No widget found, Click to add";this.tag_suggestions="Tag Suggestions";this.found_items="{0} items found";this.label="Label";this.value="Value";this.option="Option";this.dynamic_param_description="Reference dynamic parameters in queries via {{paramName}}";this.type_text="Text";this.type_number="Number";this.type_checkbox="Checkbox";this.type_select="Select";this.param_component_label="Label";this.dynamic_param="Dynamic Param";this.component_type="Component Type";this.param_name="Param Name";this.default_value="Default Value";this.auto_value="Auto Value";this.placeholder="Placeholder";this.file_basename="File Basename";this.file_ctime="File Create Time";this.file_mtime="File Modify Time";this.file_extension="File Extension";this.layout_type="Layout Type";this.layout_type_tab="Tab";this.layout_type_vertical_tab="Vertical Tab";this.layout_type_column="Column";this.chart_type="Chart Type";this.chart_bar="Bar Chart";this.chart_line="Line Chart";this.chart_pie="Pie Chart";this.chart_doughnut="Doughnut Chart";this.chart_color="Chart Color";this.to_year="Convert To Year";this.to_month="Convert To Month";this.to_quarter="Convert To Quarter";this.to_week="Convert To Week";this.to_date="Convert To Date";this.x_axis_property="X Axis Property";this.x_axis_property_format="X Axis Format";this.y_axis_property="Y Axis Property";this.y_axis_property_format="Y Axis Format";this.align_center="Center";this.align_right="Right";this.align_left="Left";this.finish="Finish";this.start_layout="Start Layout";this.confirm_to_delete="Are you sure to delete?";this.confirm="ok";this.import_success="Import success";this.import="import";this.copy_success="Copy success";this.preview="Preview";this.cover_type="Cover Type";this.url="Url";this.page_property="Page Property";this.first_image_in_page="First Image in Page";this.check_in_record_save_way="Record save way";this.save_as_page_property="Save as page property";this.save_as_task_item="Save as task item";this.widget_type_count_description="Count your documents and show number on the widget";this.widget_type_date_progress_description="Calculate the percentage of the current time in the time period you provide";this.widget_type_timing_description="How long has it been since a certain time";this.widget_type_countdown_description="How much is left until the deadline";this.widget_type_quote_description="Show random quote from your documents or blocks";this.widget_type_multi_description="Create multi widgets in one";this.widget_type_custom_card_description="Custom cards can be your social cards, shortcut command execution buttons";this.widget_type_chart="Chart";this.widget_type_chart_description="draw bar, line or pie chart by data from your notes";this.basic_setting="Basic";this.style_setting="Style Setting";this.author="Author";this.year="Year";this.month="Month";this.day="Day";this.hour="Hour";this.minute="Minute";this.second="Second";this.please_select_month="select month here";this.please_select_date="select date here";this.create_widget="Create widget";this.add_widget="Add widget";this.please_select_option="Select option here";this.check_in_success="Check in success";this.cell_shape="Cell Shape";this.title="Title";this.title_align="Title Align";this.content_align="Content Align";this.none="None";this.description="Description";this.widget="Widget";this.please_select_widget="select widget here";this.widgetType="Widget Type";this.widget_type_count="Count";this.widget_type_date_progress="Date Progress";this.widget_type_timing="Timing";this.widget_type_countdown="Countdown";this.widget_type_multi="Multi";this.widget_type_custom_card="Custom Card";this.widget_type_quote="Quote";this.widget_type_check_in="Check In";this.widget_type_check_in_description="Check in your daily task or habit, and save to journal.";this.widget_type_ref="Reference";this.widget_type_ref_description="Use widget exists in repository";this.widget_type_dataview="Dataview";this.widget_type_dataview_description="Wrap and render dataview as widget";this.dataview_query="Query Statement";this.dataview_query_type="Query Type";this.count_type="Count Type";this.page="Page";this.task="Task";this.task_name="Task Name";this.remark="Remark";this.filter="Filter";this.content_type="Content Type";this.block="Block";this.max_height="Max Height";this.width_ratio="Width Ratio";this.condition_type="Condition Type";this.tag="Tag";this.property="Property";this.file_path="File Path";this.please_type_property_name="type property...";this.please_type_name="type and enter";this.background_color="Background color";this.background_style="Background style";this.slightly_object_like_style="Slightly object-like style";this.font_color="Font color";this.picture="Picture";this.picture_pos="Picture position";this.picture_shape="Picture shape";this.top="Top";this.left="Left";this.right="Right";this.center="Center";this.repeat_type="Repeat";this.daily="Daily";this.weekly="Weekly";this.monthly="Monthly";this.yearly="Yearly";this.no_repeat="No repeat";this.end_time="End Time";this.start_time="Start Time";this.select_time_unit="Select Time Unit";this.show_end_time="Show End Time";this.show_start_time="Show Start Time";this.show_date_indicator="Show Date Indicator";this.show_progress_indicator="Show Progress Indicator";this.ui_type="UI type";this.circle="Circle";this.round="Round";this.rectangle="Rectangle";this.button_name="Button Name";this.button_action_type="Action";this.button_action_url="Url";this.button_action_command="Command";this.show_button="Show Button";this.monday="Monday";this.tuesday="Tuesday";this.wednesday="Wednesday";this.thursday="Thursday";this.friday="Friday";this.saturday="Saturday";this.sunday="Sunday";this.equal="equal";this.not_equal="not equal";this.less_than="less than";this.less_than_or_equal="less than or equal";this.greater_than="greater than";this.greater_than_or_equal="greater than or equal";this.contains="contains";this.not_contains="not contains";this.contains_any="contains any";this.contains_all="contains all";this.regex_match="regex match";this.time_before="time before";this.time_before_or_equal="time before or equal";this.time_after="time after";this.time_after_or_equal="time after or equal";this.click_to_select="Click to select";this.now="Now";this.today="Today";this.tomorrow="Tomorrow";this.yesterday="Yesterday";this.start_of_today="Start of Today";this.end_of_today="End of Today";this.start_of_week="Start of Week";this.end_of_week="End of Week";this.start_of_month="Start of Month";this.end_of_month="End of Month";this.start_of_year="Start of Year";this.end_of_year="End of Year";this.start_of_quarter="Start of Quarter";this.end_of_quarter="End of Quarter";this.specified_date_time="Specified Date Time";this.save="Save";this.cancel="Cancel"}}});var tR,z5=Gh(()=>{tR=class{constructor(){this.linked_notes="\u5173\u8054\u7B14\u8BB0\u6570";this.type_formula_description="\u4F7F\u7528\u516C\u5F0F\u6765\u751F\u6210\u5185\u5BB9";this.type_formula="\u516C\u5F0F";this.insert_at_left="\u5DE6\u4FA7\u63D2\u5165\u5217";this.insert_at_right="\u53F3\u4FA7\u63D2\u5165\u5217";this.alias="\u522B\u540D";this.file_tags="\u6587\u4EF6\u6807\u7B7E";this.file_tags_description="\u6587\u4EF6\u4E2D\u7684\u6240\u6709\u6807\u7B7E\uFF08\u5305\u542B\u6B63\u6587\u548C\u5C5E\u6027\u4E2D\uFF09";this.internal_property="\u5185\u90E8\u5C5E\u6027";this.file_size="\u6587\u4EF6\u5927\u5C0F";this.close="\u5173\u95ED";this.unnamed="\u672A\u547D\u540D";this.content_prefix="\u5185\u5BB9\u524D\u7F00";this.content_suffix="\u5185\u5BB9\u540E\u7F00";this.click_to_add="\u70B9\u51FB\u6DFB\u52A0";this.operation_can_not_recover="\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D";this.template_type="\u6A21\u677F\u7C7B\u578B";this.default="\u9ED8\u8BA4";this.add_tempalte_in_setting_page="\u60A8\u53EF\u4EE5\u5728\u8BBE\u7F6E\u9875\u9762\u4E2D\u6DFB\u52A0\u6A21\u677F";this.warning_no_templater_installed="\u63D0\u793A\uFF1A\u60A8\u5F53\u524D\u8FD8\u6CA1\u6709\u5B89\u88C5\u6216\u542F\u7528 Templater \u63D2\u4EF6";this.select_template="\u9009\u62E9\u6A21\u677F";this.type_image_description="\u5728\u89C6\u56FE\u4E2D\u5C55\u793A\u4F60\u7684\u56FE\u7247";this.type_image="\u56FE\u7247";this.type_link_description="\u4E92\u8054\u7F51\u94FE\u63A5\u6216\u8005 obsidian \u5185\u90E8\u94FE\u63A5";this.type_link="\u94FE\u63A5";this.search="\u641C\u7D22";this.create_at="\u521B\u5EFA\u65F6\u95F4";this.copy="\u590D\u5236";this.share="\u5206\u4EAB";this.err_can_not_find_widget_by_refId=`\u627E\u4E0D\u5230 refId \u4E3A {0} \u7684\u6302\u4EF6

 \u6302\u4EF6\u53EF\u80FD\u5DF2\u7ECF\u4ECE\u4ED3\u5E93\u4E2D\u5220\u9664\u4E86

 \u4F60\u53EF\u4EE5\u521B\u5EFA\u65B0\u7684\u6302\u4EF6`;this.enter_to_create="\u56DE\u8F66\u521B\u5EFA";this.gallary_item_size="\u5361\u7247\u5927\u5C0F";this.small="\u5C0F";this.medium="\u4E2D";this.large="\u5927";this.open_page_in="\u7B14\u8BB0\u6253\u5F00\u4F4D\u7F6E";this.open_page_in_current="\u5F53\u524D\u9875";this.open_page_in_split="\u5206\u5C4F";this.open_page_in_window="\u65B0\u7A97\u53E3";this.open_page_in_tab="\u65B0\u6807\u7B7E\u9875";this.picture_layout="\u56FE\u7247\u5E03\u5C40";this.picture_contains="\u81EA\u9002\u5E94";this.picture_fill="\u586B\u5145";this.type_backlink_count="\u53CD\u5411\u94FE\u63A5\u6570\u91CF";this.type_backlink_count_description="\u94FE\u63A5\u5F53\u524D\u7B14\u8BB0\u7684\u6587\u4EF6\u6570\u91CF";this.add_property="\u6DFB\u52A0\u5C5E\u6027";this.property_name="\u5C5E\u6027";this.property_type="\u7C7B\u578B";this.view_setting="\u89C6\u56FE";this.view_setting_description="\u5207\u6362\u89C6\u56FE\u7C7B\u578B\u6216\u4FEE\u6539\u57FA\u7840\u8BBE\u7F6E";this.datasource_setting="\u6570\u636E\u6E90";this.datasource_setting_description="\u7B5B\u9009\u7B14\u8BB0\u3001\u8BBE\u7F6E\u6392\u5E8F\u4EE5\u53CA\u65B0\u7B14\u8BB0\u7684\u5B58\u653E\u4F4D\u7F6E";this.template_setting="\u6A21\u677F";this.template_setting_description="\u9009\u62E9\u7528\u4E8E\u521B\u5EFA\u65B0\u7B14\u8BB0\u7684\u6A21\u677F";this.property_setting="\u5C5E\u6027";this.property_setting_description="\u663E\u793A\u6216\u9690\u85CF\u5C5E\u6027\uFF0C\u4FEE\u6539\u5C5E\u6027\u7684\u7EC4\u4EF6\u7C7B\u578B";this.dynamic_dataview_default_value_description="\u5728\u89C6\u56FE\u4E2D\u65B0\u5EFA\u7B14\u8BB0\u65F6\u8BE5\u5C5E\u6027\u7684\u9ED8\u8BA4\u503C";this.type_datetime="\u65E5\u671F\u65F6\u95F4";this.type_datetime_description="\u53EF\u4EE5\u540C\u65F6\u9009\u62E9\u65E5\u548C\u65F6\u95F4\u7684\u8F93\u5165\u7EC4\u4EF6";this.type_multi_select="\u591A\u9009\u5217\u8868";this.type_multi_select_description="\u53EF\u4EE5\u9009\u62E9\u591A\u4E2A\u5217\u8868\u9879\u7684\u7EC4\u4EF6";this.data_save_location="\u65B0\u5EFA\u7B14\u8BB0\u4F4D\u7F6E";this.data_limit="\u6570\u636E\u91CF";this.new="\u65B0\u5EFA";this.ascending="\u5347\u5E8F";this.descending="\u964D\u5E8F";this.sort="\u6392\u5E8F";this.file_rename_failed="\u91CD\u547D\u540D\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u4F60\u7684\u6587\u4EF6\u540D\u662F\u5426\u5408\u6CD5";this.beautify="\u7F8E\u5316";this.hidden="\u9690\u85CF";this.chart_label_position="\u6807\u7B7E\u4F4D\u7F6E";this.add_condition="\u6DFB\u52A0\u6761\u4EF6";this.clock_show_date_label="\u663E\u793A\u65E5\u671F";this.type_text_description="\u666E\u901A\u6587\u672C\u8F93\u5165";this.type_number_description="\u666E\u901A\u6570\u5B57\u8F93\u5165";this.type_checkbox_description="\u590D\u9009\u6846";this.type_select_description="\u5355\u9009\u5217\u8868\u7EC4\u4EF6";this.tag_suggestions_description="\u81EA\u52A8\u663E\u793A\u6240\u6709\u6807\u7B7E";this.property_value_suggestions_description="\u81EA\u52A8\u663E\u793A\u6307\u5B9A\u5C5E\u6027\u7684\u6240\u6709\u53EF\u9009\u503C";this.property_value_suggestions="\u5C5E\u6027\u503C\u5217\u8868";this.param_component_from_property="\u5C5E\u6027\u6E90\u540D\u79F0";this.text_content="\u6587\u672C\u5185\u5BB9";this.widget_type_embed_markdown_description="\u5D4C\u5165 markdown \u6587\u4EF6\u6216\u5185\u5BB9";this.widget_type_embed_markdown="Markdown";this.widget_type_dynamic_data_view="\u6570\u636E\u89C6\u56FE";this.widget_type_dynamic_data_view_description="\u53EF\u4EE5\u5C06\u4F60\u7684\u7B14\u8BB0\u5C55\u793A\u4E3A\u753B\u5ECA\u3001\u8868\u683C\u6216\u770B\u677F\u7B49\u89C6\u56FE";this.file_count="\u6587\u4EF6\u6570\u91CF";this.sum="\u603B\u8BA1";this.avg="\u5E73\u5747\u503C";this.max="\u6700\u5927\u503C";this.min="\u6700\u5C0F\u503C";this.property_format="\u5C5E\u6027\u8F6C\u6362";this.delete_success="\u5220\u9664\u6210\u529F";this.delete="\u5220\u9664";this.edit="\u7F16\u8F91";this.clock_dial_background_color="\u8868\u76D8\u80CC\u666F\u989C\u8272";this.clock_pointer_color="\u6307\u9488\u989C\u8272";this.widget_type_clock="\u65F6\u949F";this.widget_type_clock_description="\u663E\u793A\u4E00\u4E2A\u65F6\u949F";this.clock_second_hand_color="\u79D2\u9488\u989C\u8272";this.clock_minute_hand_color="\u5206\u9488\u989C\u8272";this.clock_hour_hand_color="\u65F6\u9488\u989C\u8272";this.clock_marker_color="\u523B\u5EA6\u989C\u8272";this.clock_dial_type="\u8868\u76D8\u7C7B\u578B";this.clock_show_time_label="\u663E\u793A\u65F6\u95F4";this.clock_circle="\u5706\u949F";this.clock_square="\u65B9\u949F";this.please_add_widget="\u70B9\u51FB\u6B64\u5904\u6DFB\u52A0\u6302\u4EF6";this.tag_suggestions="\u6807\u7B7E\u5217\u8868";this.found_items="\u627E\u5230\u4E86 {0} \u4E2A\u7ED3\u679C";this.label="\u540D\u79F0";this.value="\u503C";this.option="\u9009\u9879";this.dynamic_param="\u52A8\u6001\u53C2\u6570";this.dynamic_param_description="\u901A\u8FC7 {{paramName}} \u5728\u67E5\u8BE2\u8BED\u53E5\u4E2D\u5F15\u7528\u52A8\u6001\u53C2\u6570";this.type_text="\u6587\u672C";this.type_number="\u6570\u5B57";this.type_checkbox="\u590D\u9009\u6846";this.type_select="\u5355\u9009\u5217\u8868";this.param_component_label="\u7EC4\u4EF6\u540D\u79F0";this.component_type="\u7EC4\u4EF6\u7C7B\u578B";this.param_name="\u53C2\u6570\u540D\u79F0";this.default_value="\u9ED8\u8BA4\u503C";this.auto_value="\u81EA\u52A8";this.placeholder="\u63D0\u793A\u8BED";this.file_basename="\u6587\u4EF6\u540D";this.file_ctime="\u6587\u4EF6\u521B\u5EFA\u65F6\u95F4";this.file_mtime="\u6587\u4EF6\u4FEE\u6539\u65F6\u95F4";this.file_extension="\u6587\u4EF6\u7C7B\u578B";this.layout_type="\u5E03\u5C40";this.layout_type_tab="\u6807\u7B7E\u9875";this.layout_type_vertical_tab="\u5782\u76F4\u6807\u7B7E\u9875";this.layout_type_column="\u5206\u680F";this.chart_type="\u56FE\u8868\u7C7B\u578B";this.chart_bar="\u67F1\u72B6\u56FE";this.chart_line="\u6298\u7EBF\u56FE";this.chart_pie="\u997C\u56FE";this.chart_doughnut="\u73AF\u5F62\u56FE";this.chart_color="\u56FE\u8868\u989C\u8272";this.to_year="\u8F6C\u6362\u4E3A\u5E74";this.to_month="\u8F6C\u6362\u4E3A\u6708";this.to_quarter="\u8F6C\u6362\u4E3A\u5B63\u5EA6";this.to_week="\u8F6C\u6362\u4E3A\u5468";this.to_date="\u8F6C\u6362\u4E3A\u65E5\u671F";this.x_axis_property="X \u8F74\u5C5E\u6027";this.x_axis_property_format="X \u8F74\u5C5E\u6027\u8F6C\u6362";this.y_axis_property="Y \u8F74\u5C5E\u6027";this.y_axis_property_format="Y \u8F74\u5C5E\u6027\u8F6C\u6362";this.align_center="\u5C45\u4E2D";this.align_right="\u53F3\u5BF9\u9F50";this.align_left="\u5DE6\u5BF9\u9F50";this.finish="\u5B8C\u6210";this.start_layout="\u8C03\u6574\u5E03\u5C40";this.confirm_to_delete="\u60A8\u786E\u8BA4\u8981\u5220\u9664\u5417\uFF1F";this.confirm="\u786E\u8BA4";this.import_success="\u5BFC\u5165\u6210\u529F";this.import="\u5BFC\u5165";this.copy_success="\u590D\u5236\u6210\u529F";this.preview="\u9884\u89C8";this.cover_type="\u5C01\u9762\u7C7B\u578B";this.url="\u94FE\u63A5";this.page_property="\u6587\u6863\u5C5E\u6027";this.first_image_in_page="\u6587\u6863\u4E2D\u7684\u7B2C\u4E00\u5F20\u56FE\u7247";this.check_in_record_save_way="\u6253\u5361\u8BB0\u5F55\u4FDD\u5B58\u65B9\u5F0F";this.save_as_page_property="\u4FDD\u5B58\u4E3A\u6587\u6863\u5C5E\u6027";this.save_as_task_item="\u4FDD\u5B58\u4E3A\u4EFB\u52A1\u9879";this.widget_type_count_description="\u7EDF\u8BA1\u60A8\u7684\u6587\u6863\u5E76\u5728\u6302\u4EF6\u4E0A\u663E\u793A\u6570\u5B57";this.widget_type_date_progress_description="\u8F7B\u677E\u638C\u63E1\u65F6\u95F4\u8FDB\u5EA6";this.widget_type_timing_description="\u8DDD\u79BB\u67D0\u4E2A\u5F00\u59CB\u65F6\u95F4\u8FC7\u53BB\u4E86\u591A\u5C11\u65F6\u95F4";this.widget_type_countdown_description="\u8DDD\u79BB\u67D0\u4E2A\u622A\u6B62\u65F6\u95F4\u8FD8\u5269\u4E0B\u591A\u5C11\u65F6\u95F4";this.widget_type_quote_description="\u968F\u673A\u7684\u4ECE\u4F60\u7684\u6587\u6863\u6216\u5757\u4E2D\u83B7\u53D6\u5185\u5BB9\uFF0C\u5E76\u4F5C\u4E3A\u6458\u5F55\u663E\u793A";this.widget_type_multi_description="\u521B\u5EFA\u591A\u4E2A\u4E0D\u540C\u7C7B\u578B\u7684\u3001\u5E76\u5217\u7684\u6302\u4EF6";this.widget_type_custom_card_description="\u81EA\u5B9A\u4E49\u5361\u7247\u53EF\u4EE5\u662F\u4F60\u7684\u793E\u4EA4\u5361\u7247\u3001\u5FEB\u6377\u547D\u4EE4\u6267\u884C\u6309\u94AE";this.widget_type_check_in="\u6253\u5361";this.widget_type_check_in_description="\u6253\u5361\u4F60\u7684\u65E5\u5E38\u4EFB\u52A1\u6216\u4E60\u60EF\uFF0C\u5E76\u4FDD\u5B58\u5230\u65E5\u8BB0\u4E2D";this.widget_type_ref="\u5F15\u7528\u6302\u4EF6";this.widget_type_ref_description="\u5F15\u7528\u6302\u4EF6\u4ED3\u5E93\u4E2D\u5DF2\u6709\u7684\u6302\u4EF6";this.widget_type_dataview="Dataview";this.widget_type_dataview_description="\u5C06 dataview\uFF08\u6216 dataviewjs\uFF09 \u7684\u67E5\u8BE2\u7ED3\u679C\u4F5C\u4E3A\u6302\u4EF6\u663E\u793A";this.dataview_query="\u67E5\u8BE2\u8BED\u53E5";this.dataview_query_type="\u67E5\u8BE2\u7C7B\u578B";this.widget_type_chart="\u56FE\u8868";this.widget_type_chart_description="\u6839\u636E\u4F60\u7684\u7B14\u8BB0\u4E2D\u7684\u6570\u636E\u7ED8\u5236\u67F1\u72B6\u56FE\u3001\u6298\u7EBF\u56FE\u6216\u997C\u56FE";this.basic_setting="\u57FA\u672C\u8BBE\u7F6E";this.style_setting="\u6837\u5F0F\u8BBE\u7F6E";this.author="\u4F5C\u8005";this.year="\u5E74";this.month="\u6708";this.day="\u65E5";this.hour="\u65F6";this.minute="\u5206";this.second="\u79D2";this.please_select_month="\u8BF7\u9009\u62E9\u6708\u4EFD";this.please_select_date="\u8BF7\u9009\u62E9\u65E5\u671F";this.create_widget="\u521B\u5EFA\u6302\u4EF6";this.add_widget="\u6DFB\u52A0\u6302\u4EF6";this.please_select_option="\u8BF7\u9009\u62E9";this.check_in_success="\u6253\u5361\u6210\u529F";this.title="\u6807\u9898";this.title_align="\u6807\u9898\u5BF9\u9F50";this.content_align="\u5185\u5BB9\u5BF9\u9F50";this.none="\u65E0";this.description="\u63CF\u8FF0";this.widget="\u7EC4\u4EF6";this.please_select_widget="\u8BF7\u9009\u62E9\u7EC4\u4EF6\u7C7B\u578B";this.widgetType="\u6302\u4EF6\u7C7B\u578B";this.widget_type_count="\u8BA1\u6570";this.widget_type_date_progress="\u65E5\u671F\u8FDB\u5EA6";this.widget_type_timing="\u6B63\u8BA1\u65F6";this.widget_type_countdown="\u5012\u8BA1\u65F6";this.widget_type_multi="\u7EC4\u5408";this.widget_type_custom_card="\u81EA\u5B9A\u4E49\u5361\u7247";this.widget_type_quote="\u6458\u5F55";this.cell_shape="\u5355\u5143\u683C\u5F62\u72B6";this.count_type="\u7EDF\u8BA1\u6570\u636E\u7C7B\u578B";this.page="\u9875\u9762";this.task="\u4EFB\u52A1";this.task_name="\u4EFB\u52A1\u540D\u79F0";this.remark="\u5907\u6CE8";this.filter="\u7B5B\u9009";this.content_type="\u5185\u5BB9\u7C7B\u578B";this.block="\u5757";this.max_height="\u6700\u5927\u9AD8\u5EA6";this.width_ratio="\u5BBD\u5EA6\u6BD4\u4F8B";this.condition_type="\u6761\u4EF6\u7C7B\u578B";this.tag="\u6807\u7B7E";this.property="\u5C5E\u6027";this.file_path="\u6587\u4EF6\u8DEF\u5F84";this.please_type_property_name="\u8F93\u5165\u5C5E\u6027\u540D...";this.please_type_name="\u6309\u4E0B\u56DE\u8F66\u786E\u8BA4";this.background_color="\u80CC\u666F\u989C\u8272";this.background_style="\u80CC\u666F\u6837\u5F0F";this.slightly_object_like_style="\u8F7B\u5FAE\u62DF\u7269\u98CE\u683C";this.font_color="\u5B57\u4F53\u989C\u8272";this.picture="\u56FE\u7247";this.picture_pos="\u56FE\u7247\u4F4D\u7F6E";this.picture_shape="\u56FE\u7247\u5F62\u72B6";this.top="\u4E0A\u8FB9";this.left="\u5DE6\u8FB9";this.right="\u53F3\u8FB9";this.bottom="\u5E95\u90E8";this.center="\u5C45\u4E2D";this.repeat_type="\u91CD\u590D";this.end_time="\u7ED3\u675F\u65F6\u95F4";this.start_time="\u5F00\u59CB\u65F6\u95F4";this.select_time_unit="\u663E\u793A\u65F6\u95F4\u5355\u4F4D";this.show_end_time="\u663E\u793A\u7ED3\u675F\u65F6\u95F4";this.show_start_time="\u663E\u793A\u5F00\u59CB\u65F6\u95F4";this.show_date_indicator="\u663E\u793A\u65E5\u671F\u6307\u793A\u5668";this.show_progress_indicator="\u663E\u793A\u8FDB\u5EA6\u6307\u793A\u5668";this.ui_type="\u663E\u793A\u7C7B\u578B";this.circle="\u5706\u5F62";this.round="\u5706\u89D2";this.rectangle="\u957F\u65B9\u5F62";this.button_name="\u6309\u94AE\u540D\u79F0";this.button_action_type="\u6267\u884C\u52A8\u4F5C";this.button_action_url="\u94FE\u63A5\u5730\u5740";this.button_action_command="\u547D\u4EE4";this.show_button="\u663E\u793A\u6309\u94AE";this.daily="\u6309\u5929";this.weekly="\u6309\u5468";this.monthly="\u6309\u6708";this.yearly="\u6309\u5E74";this.no_repeat="\u4E0D\u91CD\u590D";this.monday="\u5468\u4E00";this.tuesday="\u5468\u4E8C";this.wednesday="\u5468\u4E09";this.thursday="\u5468\u56DB";this.friday="\u5468\u4E94";this.saturday="\u5468\u516D";this.sunday="\u5468\u65E5";this.equal="\u7B49\u4E8E";this.not_equal="\u4E0D\u7B49\u4E8E";this.less_than="\u5C0F\u4E8E";this.less_than_or_equal="\u5C0F\u4E8E\u7B49\u4E8E";this.greater_than="\u5927\u4E8E";this.greater_than_or_equal="\u5927\u4E8E\u7B49\u4E8E";this.contains="\u5305\u542B";this.not_contains="\u4E0D\u5305\u542B";this.contains_any="\u5305\u542B\u4EFB\u610F\u4E00\u4E2A";this.contains_all="\u5305\u542B\u5168\u90E8";this.regex_match="\u6B63\u5219\u5339\u914D";this.time_before="\u65E9\u4E8E";this.time_before_or_equal="\u65E9\u4E8E\u7B49\u4E8E";this.time_after="\u665A\u4E8E";this.time_after_or_equal="\u665A\u4E8E\u7B49\u4E8E";this.click_to_select="\u70B9\u51FB\u9009\u62E9";this.now="\u73B0\u5728";this.today="\u4ECA\u5929";this.tomorrow="\u660E\u5929";this.yesterday="\u6628\u5929";this.start_of_today="\u6BCF\u5929\u5F00\u59CB";this.end_of_today="\u6BCF\u5929\u7ED3\u675F";this.start_of_week="\u6BCF\u5468\u7B2C\u4E00\u5929";this.end_of_week="\u6BCF\u5468\u6700\u540E\u4E00\u5929";this.start_of_month="\u6BCF\u4E2A\u6708\u7B2C\u4E00\u5929";this.end_of_month="\u6BCF\u4E2A\u6708\u6700\u540E\u4E00\u5929";this.start_of_year="\u6BCF\u5E74\u7B2C\u4E00\u5929";this.end_of_year="\u6BCF\u5E74\u6700\u540E\u4E00\u5929";this.start_of_quarter="\u6BCF\u4E2A\u5B63\u5EA6\u7B2C\u4E00\u5929";this.end_of_quarter="\u6BCF\u4E2A\u5B63\u5EA6\u6700\u540E\u4E00\u5929";this.specified_date_time="\u6307\u5B9A\u65F6\u95F4";this.save="\u4FDD\u5B58";this.cancel="\u53D6\u6D88"}}});function ip(){return window.localStorage.getItem("language")==="zh"}var jn,R,ue=Gh(()=>{W5();z5();jn=class{static get(){return window.localStorage.getItem("language")==="zh"?new tR:new eR}};R=jn.get()});var dK=Gh(()=>{});function Et(n){return(0,fK.jsx)("span",{className:`contribution-placeholder ${n.type||""}`,children:n.children})}var fK,Mo=Gh(()=>{dK();fK=_(F())});var CX=$e(yX=>{"use strict";var Zy=z();function I_e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var F_e=typeof Object.is=="function"?Object.is:I_e,L_e=Zy.useState,M_e=Zy.useEffect,A_e=Zy.useLayoutEffect,N_e=Zy.useDebugValue;function k_e(n,e){var t=e(),r=L_e({inst:{value:t,getSnapshot:e}}),o=r[0].inst,i=r[1];return A_e(function(){o.value=t,o.getSnapshot=e,mH(o)&&i({inst:o})},[n,t,e]),M_e(function(){return mH(o)&&i({inst:o}),n(function(){mH(o)&&i({inst:o})})},[n]),N_e(t),t}function mH(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!F_e(n,t)}catch(r){return!0}}function V_e(n,e){return e()}var G_e=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?V_e:k_e;yX.useSyncExternalStore=Zy.useSyncExternalStore!==void 0?Zy.useSyncExternalStore:G_e});var SX=$e((kJe,wX)=>{"use strict";wX.exports=CX()});var DQ=$e(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});require("obsidian");var Xd=class extends Error{},VH=class extends Xd{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},GH=class extends Xd{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},HH=class extends Xd{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},ig=class extends Xd{},fO=class extends Xd{constructor(e){super(`Invalid unit ${e}`)}},ua=class extends Xd{},gc=class extends Xd{constructor(){super("Zone is an abstract class")}},xe="numeric",nu="short",Za="long",pO={year:xe,month:xe,day:xe},RZ={year:xe,month:nu,day:xe},FEe={year:xe,month:nu,day:xe,weekday:nu},TZ={year:xe,month:Za,day:xe},PZ={year:xe,month:Za,day:xe,weekday:Za},OZ={hour:xe,minute:xe},IZ={hour:xe,minute:xe,second:xe},FZ={hour:xe,minute:xe,second:xe,timeZoneName:nu},LZ={hour:xe,minute:xe,second:xe,timeZoneName:Za},MZ={hour:xe,minute:xe,hourCycle:"h23"},AZ={hour:xe,minute:xe,second:xe,hourCycle:"h23"},NZ={hour:xe,minute:xe,second:xe,hourCycle:"h23",timeZoneName:nu},kZ={hour:xe,minute:xe,second:xe,hourCycle:"h23",timeZoneName:Za},VZ={year:xe,month:xe,day:xe,hour:xe,minute:xe},GZ={year:xe,month:xe,day:xe,hour:xe,minute:xe,second:xe},HZ={year:xe,month:nu,day:xe,hour:xe,minute:xe},$Z={year:xe,month:nu,day:xe,hour:xe,minute:xe,second:xe},LEe={year:xe,month:nu,day:xe,weekday:nu,hour:xe,minute:xe},BZ={year:xe,month:Za,day:xe,hour:xe,minute:xe,timeZoneName:nu},WZ={year:xe,month:Za,day:xe,hour:xe,minute:xe,second:xe,timeZoneName:nu},zZ={year:xe,month:Za,day:xe,weekday:Za,hour:xe,minute:xe,timeZoneName:Za},UZ={year:xe,month:Za,day:xe,weekday:Za,hour:xe,minute:xe,second:xe,timeZoneName:Za},lg=class{get type(){throw new gc}get name(){throw new gc}get ianaName(){return this.name}get isUniversal(){throw new gc}offsetName(e,t){throw new gc}formatOffset(e,t){throw new gc}offset(e){throw new gc}equals(e){throw new gc}get isValid(){throw new gc}},IH=null,oC=class extends lg{static get instance(){return IH===null&&(IH=new oC),IH}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return KZ(e,t,r)}formatOffset(e,t){return h_(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},cO={};function MEe(n){return cO[n]||(cO[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),cO[n]}var AEe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function NEe(n,e){let t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,o,i,a,s,l,u,c]=r;return[a,o,i,s,l,u,c]}function kEe(n,e){let t=n.formatToParts(e),r=[];for(let o=0;o<t.length;o++){let{type:i,value:a}=t[o],s=AEe[i];i==="era"?r[s]=a:kt(s)||(r[s]=parseInt(a,10))}return r}var oO={},ru=class extends lg{static create(e){return oO[e]||(oO[e]=new ru(e)),oO[e]}static resetCache(){oO={},cO={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=ru.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return KZ(e,t,r,this.name)}formatOffset(e,t){return h_(this.offset(e),t)}offset(e){let t=new Date(e);if(isNaN(t))return NaN;let r=MEe(this.name),[o,i,a,s,l,u,c]=r.formatToParts?kEe(r,t):NEe(r,t);s==="BC"&&(o=-Math.abs(o)+1);let f=SO({year:o,month:i,day:a,hour:l===24?0:l,minute:u,second:c,millisecond:0}),p=+t,h=p%1e3;return p-=h>=0?h:1e3+h,(f-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},XX={};function VEe(n,e={}){let t=JSON.stringify([n,e]),r=XX[t];return r||(r=new Intl.ListFormat(n,e),XX[t]=r),r}var $H={};function BH(n,e={}){let t=JSON.stringify([n,e]),r=$H[t];return r||(r=new Intl.DateTimeFormat(n,e),$H[t]=r),r}var WH={};function GEe(n,e={}){let t=JSON.stringify([n,e]),r=WH[t];return r||(r=new Intl.NumberFormat(n,e),WH[t]=r),r}var zH={};function HEe(n,e={}){let{base:t,...r}=e,o=JSON.stringify([n,r]),i=zH[o];return i||(i=new Intl.RelativeTimeFormat(n,e),zH[o]=i),i}var f_=null;function $Ee(){return f_||(f_=new Intl.DateTimeFormat().resolvedOptions().locale,f_)}function BEe(n){let e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));let t=n.indexOf("-u-");if(t===-1)return[n];{let r,o;try{r=BH(n).resolvedOptions(),o=n}catch(s){let l=n.substring(0,t);r=BH(l).resolvedOptions(),o=l}let{numberingSystem:i,calendar:a}=r;return[o,i,a]}}function WEe(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function zEe(n){let e=[];for(let t=1;t<=12;t++){let r=Ge.utc(2009,t,1);e.push(n(r))}return e}function UEe(n){let e=[];for(let t=1;t<=7;t++){let r=Ge.utc(2016,11,13+t);e.push(n(r))}return e}function iO(n,e,t,r){let o=n.listingMode();return o==="error"?null:o==="en"?t(e):r(e)}function jEe(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var UH=class{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;let{padTo:o,floor:i,...a}=r;if(!t||Object.keys(a).length>0){let s={useGrouping:!1,...r};r.padTo>0&&(s.minimumIntegerDigits=r.padTo),this.inf=GEe(e,s)}}format(e){if(this.inf){let t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{let t=this.floor?Math.floor(e):r$(e,3);return eo(t,this.padTo)}}},jH=class{constructor(e,t,r){this.opts=r,this.originalZone=void 0;let o;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let a=-1*(e.offset/60),s=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&ru.create(s).valid?(o=s,this.dt=e):(o="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,o=e.zone.name):(o="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let i={...this.opts};i.timeZone=i.timeZone||o,this.dtf=BH(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){let r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:r}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},KH=class{constructor(e,t,r){this.opts={style:"long",...r},!t&&jZ()&&(this.rtf=HEe(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):lxe(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},Tn=class{static fromOpts(e){return Tn.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,r,o=!1){let i=e||Tr.defaultLocale,a=i||(o?"en-US":$Ee()),s=t||Tr.defaultNumberingSystem,l=r||Tr.defaultOutputCalendar;return new Tn(a,s,l,i)}static resetCache(){f_=null,$H={},WH={},zH={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r}={}){return Tn.create(e,t,r)}constructor(e,t,r,o){let[i,a,s]=BEe(e);this.locale=i,this.numberingSystem=t||a||null,this.outputCalendar=r||s||null,this.intl=WEe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=jEe(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Tn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return iO(this,e,XZ,()=>{let r=t?{month:e,day:"numeric"}:{month:e},o=t?"format":"standalone";return this.monthsCache[o][e]||(this.monthsCache[o][e]=zEe(i=>this.extract(i,r,"month"))),this.monthsCache[o][e]})}weekdays(e,t=!1){return iO(this,e,JZ,()=>{let r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},o=t?"format":"standalone";return this.weekdaysCache[o][e]||(this.weekdaysCache[o][e]=UEe(i=>this.extract(i,r,"weekday"))),this.weekdaysCache[o][e]})}meridiems(){return iO(this,void 0,()=>eQ,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ge.utc(2016,11,13,9),Ge.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return iO(this,e,tQ,()=>{let t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ge.utc(-40,1,1),Ge.utc(2017,1,1)].map(r=>this.extract(r,t,"era"))),this.eraCache[e]})}extract(e,t,r){let o=this.dtFormatter(e,t),i=o.formatToParts(),a=i.find(s=>s.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new UH(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new jH(e,this.intl,t)}relFormatter(e={}){return new KH(this.intl,this.isEnglish(),e)}listFormatter(e={}){return VEe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},FH=null,Xo=class extends lg{static get utcInstance(){return FH===null&&(FH=new Xo(0)),FH}static instance(e){return e===0?Xo.utcInstance:new Xo(e)}static parseSpecifier(e){if(e){let t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Xo(bO(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${h_(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${h_(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return h_(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},qH=class extends lg{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Ip(n,e){if(kt(n)||n===null)return e;if(n instanceof lg)return n;if(KEe(n)){let t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?oC.instance:t==="utc"||t==="gmt"?Xo.utcInstance:Xo.parseSpecifier(t)||ru.create(n)}else return sg(n)?Xo.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new qH(n)}var ZX=()=>Date.now(),QX="system",JX=null,eZ=null,tZ=null,nZ=60,rZ,Tr=class{static get now(){return ZX}static set now(e){ZX=e}static set defaultZone(e){QX=e}static get defaultZone(){return Ip(QX,oC.instance)}static get defaultLocale(){return JX}static set defaultLocale(e){JX=e}static get defaultNumberingSystem(){return eZ}static set defaultNumberingSystem(e){eZ=e}static get defaultOutputCalendar(){return tZ}static set defaultOutputCalendar(e){tZ=e}static get twoDigitCutoffYear(){return nZ}static set twoDigitCutoffYear(e){nZ=e%100}static get throwOnInvalid(){return rZ}static set throwOnInvalid(e){rZ=e}static resetCaches(){Tn.resetCache(),ru.resetCache()}};function kt(n){return typeof n=="undefined"}function sg(n){return typeof n=="number"}function wO(n){return typeof n=="number"&&n%1===0}function KEe(n){return typeof n=="string"}function qEe(n){return Object.prototype.toString.call(n)==="[object Date]"}function jZ(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(n){return!1}}function YEe(n){return Array.isArray(n)?n:[n]}function oZ(n,e,t){if(n.length!==0)return n.reduce((r,o)=>{let i=[e(o),o];return r&&t(r[0],i[0])===r[0]?r:i},null)[1]}function XEe(n,e){return e.reduce((t,r)=>(t[r]=n[r],t),{})}function iC(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Yd(n,e,t){return wO(n)&&n>=e&&n<=t}function ZEe(n,e){return n-e*Math.floor(n/e)}function eo(n,e=2){let t=n<0,r;return t?r="-"+(""+-n).padStart(e,"0"):r=(""+n).padStart(e,"0"),r}function Op(n){if(!(kt(n)||n===null||n===""))return parseInt(n,10)}function rg(n){if(!(kt(n)||n===null||n===""))return parseFloat(n)}function n$(n){if(!(kt(n)||n===null||n==="")){let e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function r$(n,e,t=!1){let r=10**e;return(t?Math.trunc:Math.round)(n*r)/r}function C_(n){return n%4===0&&(n%100!==0||n%400===0)}function p_(n){return C_(n)?366:365}function hO(n,e){let t=ZEe(e-1,12)+1,r=n+(e-t)/12;return t===2?C_(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function SO(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function mO(n){let e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function YH(n){return n>99?n:n>Tr.twoDigitCutoffYear?1900+n:2e3+n}function KZ(n,e,t,r=null){let o=new Date(n),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);let a={timeZoneName:e,...i},s=new Intl.DateTimeFormat(t,a).formatToParts(o).find(l=>l.type.toLowerCase()==="timezonename");return s?s.value:null}function bO(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);let r=parseInt(e,10)||0,o=t<0||Object.is(t,-0)?-r:r;return t*60+o}function qZ(n){let e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new ua(`Invalid unit value ${n}`);return e}function gO(n,e){let t={};for(let r in n)if(iC(n,r)){let o=n[r];if(o==null)continue;t[e(r)]=qZ(o)}return t}function h_(n,e){let t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),o=n>=0?"+":"-";switch(e){case"short":return`${o}${eo(t,2)}:${eo(r,2)}`;case"narrow":return`${o}${t}${r>0?`:${r}`:""}`;case"techie":return`${o}${eo(t,2)}${eo(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function _O(n){return XEe(n,["hour","minute","second","millisecond"])}var QEe=["January","February","March","April","May","June","July","August","September","October","November","December"],YZ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],JEe=["J","F","M","A","M","J","J","A","S","O","N","D"];function XZ(n){switch(n){case"narrow":return[...JEe];case"short":return[...YZ];case"long":return[...QEe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var ZZ=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],QZ=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],exe=["M","T","W","T","F","S","S"];function JZ(n){switch(n){case"narrow":return[...exe];case"short":return[...QZ];case"long":return[...ZZ];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var eQ=["AM","PM"],txe=["Before Christ","Anno Domini"],nxe=["BC","AD"],rxe=["B","A"];function tQ(n){switch(n){case"narrow":return[...rxe];case"short":return[...nxe];case"long":return[...txe];default:return null}}function oxe(n){return eQ[n.hour<12?0:1]}function ixe(n,e){return JZ(e)[n.weekday-1]}function axe(n,e){return XZ(e)[n.month-1]}function sxe(n,e){return tQ(e)[n.year<0?0:1]}function lxe(n,e,t="always",r=!1){let o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&i){let d=n==="days";switch(e){case 1:return d?"tomorrow":`next ${o[n][0]}`;case-1:return d?"yesterday":`last ${o[n][0]}`;case 0:return d?"today":`this ${o[n][0]}`}}let a=Object.is(e,-0)||e<0,s=Math.abs(e),l=s===1,u=o[n],c=r?l?u[1]:u[2]||u[1]:l?o[n][0]:n;return a?`${s} ${c} ago`:`in ${s} ${c}`}function iZ(n,e){let t="";for(let r of n)r.literal?t+=r.val:t+=e(r.val);return t}var uxe={D:pO,DD:RZ,DDD:TZ,DDDD:PZ,t:OZ,tt:IZ,ttt:FZ,tttt:LZ,T:MZ,TT:AZ,TTT:NZ,TTTT:kZ,f:VZ,ff:HZ,fff:BZ,ffff:zZ,F:GZ,FF:$Z,FFF:WZ,FFFF:UZ},Ho=class{static create(e,t={}){return new Ho(e,t)}static parseFormat(e){let t=null,r="",o=!1,i=[];for(let a=0;a<e.length;a++){let s=e.charAt(a);s==="'"?(r.length>0&&i.push({literal:o||/^\s+$/.test(r),val:r}),t=null,r="",o=!o):o||s===t?r+=s:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=s,t=s)}return r.length>0&&i.push({literal:o||/^\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return uxe[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return eo(e,t);let r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){let r=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,h)=>this.loc.extract(e,p,h),a=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",s=()=>r?oxe(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,h)=>r?axe(e,p):i(h?{month:p}:{month:p,day:"numeric"},"month"),u=(p,h)=>r?ixe(e,p):i(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),c=p=>{let h=Ho.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(e,h):p},d=p=>r?sxe(e,p):i({era:p},"era"),f=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return o?i({day:"numeric"},"day"):this.num(e.day);case"dd":return o?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return o?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return o?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return o?i({month:"numeric"},"month"):this.num(e.month);case"MM":return o?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return o?i({year:"numeric"},"year"):this.num(e.year);case"yy":return o?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return o?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return o?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(p)}};return iZ(Ho.parseFormat(t),f)}formatDurationFromString(e,t){let r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=l=>u=>{let c=r(u);return c?this.num(l.get(c),u.length):u},i=Ho.parseFormat(t),a=i.reduce((l,{literal:u,val:c})=>u?l:l.concat(c),[]),s=e.shiftTo(...a.map(r).filter(l=>l));return iZ(i,o(s))}},Xa=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},nQ=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function aC(...n){let e=n.reduce((t,r)=>t+r.source,"");return RegExp(`^${e}$`)}function sC(...n){return e=>n.reduce(([t,r,o],i)=>{let[a,s,l]=i(e,o);return[{...t,...a},s||r,l]},[{},null,1]).slice(0,2)}function lC(n,...e){if(n==null)return[null,null];for(let[t,r]of e){let o=t.exec(n);if(o)return r(o)}return[null,null]}function rQ(...n){return(e,t)=>{let r={},o;for(o=0;o<n.length;o++)r[n[o]]=Op(e[t+o]);return[r,null,t+o]}}var oQ=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,cxe=`(?:${oQ.source}?(?:\\[(${nQ.source})\\])?)?`,o$=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,iQ=RegExp(`${o$.source}${cxe}`),i$=RegExp(`(?:T${iQ.source})?`),dxe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,fxe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,pxe=/(\d{4})-?(\d{3})/,hxe=rQ("weekYear","weekNumber","weekDay"),mxe=rQ("year","ordinal"),gxe=/(\d{4})-(\d\d)-(\d\d)/,aQ=RegExp(`${o$.source} ?(?:${oQ.source}|(${nQ.source}))?`),vxe=RegExp(`(?: ${aQ.source})?`);function rC(n,e,t){let r=n[e];return kt(r)?t:Op(r)}function yxe(n,e){return[{year:rC(n,e),month:rC(n,e+1,1),day:rC(n,e+2,1)},null,e+3]}function uC(n,e){return[{hours:rC(n,e,0),minutes:rC(n,e+1,0),seconds:rC(n,e+2,0),milliseconds:n$(n[e+3])},null,e+4]}function w_(n,e){let t=!n[e]&&!n[e+1],r=bO(n[e+1],n[e+2]),o=t?null:Xo.instance(r);return[{},o,e+3]}function S_(n,e){let t=n[e]?ru.create(n[e]):null;return[{},t,e+1]}var Cxe=RegExp(`^T?${o$.source}$`),wxe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Sxe(n){let[e,t,r,o,i,a,s,l,u]=n,c=e[0]==="-",d=l&&l[0]==="-",f=(p,h=!1)=>p!==void 0&&(h||p&&c)?-p:p;return[{years:f(rg(t)),months:f(rg(r)),weeks:f(rg(o)),days:f(rg(i)),hours:f(rg(a)),minutes:f(rg(s)),seconds:f(rg(l),l==="-0"),milliseconds:f(n$(u),d)}]}var bxe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function a$(n,e,t,r,o,i,a){let s={year:e.length===2?YH(Op(e)):Op(e),month:YZ.indexOf(t)+1,day:Op(r),hour:Op(o),minute:Op(i)};return a&&(s.second=Op(a)),n&&(s.weekday=n.length>3?ZZ.indexOf(n)+1:QZ.indexOf(n)+1),s}var _xe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Exe(n){let[,e,t,r,o,i,a,s,l,u,c,d]=n,f=a$(e,o,r,t,i,a,s),p;return l?p=bxe[l]:u?p=0:p=bO(c,d),[f,new Xo(p)]}function xxe(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Dxe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Rxe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Txe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function aZ(n){let[,e,t,r,o,i,a,s]=n;return[a$(e,o,r,t,i,a,s),Xo.utcInstance]}function Pxe(n){let[,e,t,r,o,i,a,s]=n;return[a$(e,s,t,r,o,i,a),Xo.utcInstance]}var Oxe=aC(dxe,i$),Ixe=aC(fxe,i$),Fxe=aC(pxe,i$),Lxe=aC(iQ),sQ=sC(yxe,uC,w_,S_),Mxe=sC(hxe,uC,w_,S_),Axe=sC(mxe,uC,w_,S_),Nxe=sC(uC,w_,S_);function kxe(n){return lC(n,[Oxe,sQ],[Ixe,Mxe],[Fxe,Axe],[Lxe,Nxe])}function Vxe(n){return lC(xxe(n),[_xe,Exe])}function Gxe(n){return lC(n,[Dxe,aZ],[Rxe,aZ],[Txe,Pxe])}function Hxe(n){return lC(n,[wxe,Sxe])}var $xe=sC(uC);function Bxe(n){return lC(n,[Cxe,$xe])}var Wxe=aC(gxe,vxe),zxe=aC(aQ),Uxe=sC(uC,w_,S_);function jxe(n){return lC(n,[Wxe,sQ],[zxe,Uxe])}var sZ="Invalid Duration",lQ={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Kxe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lQ},nl=146097/400,eC=146097/4800,qxe={years:{quarters:4,months:12,weeks:nl/7,days:nl,hours:nl*24,minutes:nl*24*60,seconds:nl*24*60*60,milliseconds:nl*24*60*60*1e3},quarters:{months:3,weeks:nl/28,days:nl/4,hours:nl*24/4,minutes:nl*24*60/4,seconds:nl*24*60*60/4,milliseconds:nl*24*60*60*1e3/4},months:{weeks:eC/7,days:eC,hours:eC*24,minutes:eC*24*60,seconds:eC*24*60*60,milliseconds:eC*24*60*60*1e3},...lQ},ag=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Yxe=ag.slice(0).reverse();function Pp(n,e,t=!1){let r={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Te(r)}function uQ(n,e){var r;let t=(r=e.milliseconds)!=null?r:0;for(let o of Yxe.slice(1))e[o]&&(t+=e[o]*n[o].milliseconds);return t}function lZ(n,e){let t=uQ(n,e)<0?-1:1;ag.reduceRight((r,o)=>{if(kt(e[o]))return r;if(r){let i=e[r]*t,a=n[o][r],s=Math.floor(i/a);e[o]+=s*t,e[r]-=s*a*t}return o},null),ag.reduce((r,o)=>{if(kt(e[o]))return r;if(r){let i=e[r]%1;e[r]-=i,e[o]+=i*n[r][o]}return o},null)}function Xxe(n){let e={};for(let[t,r]of Object.entries(n))r!==0&&(e[t]=r);return e}var Te=class{constructor(e){let t=e.conversionAccuracy==="longterm"||!1,r=t?qxe:Kxe;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Tn.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return Te.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new ua(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Te({values:gO(e,Te.normalizeUnit),loc:Tn.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(sg(e))return Te.fromMillis(e);if(Te.isDuration(e))return e;if(typeof e=="object")return Te.fromObject(e);throw new ua(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){let[r]=Hxe(e);return r?Te.fromObject(r,t):Te.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){let[r]=Bxe(e);return r?Te.fromObject(r,t):Te.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new ua("need to specify a reason the Duration is invalid");let r=e instanceof Xa?e:new Xa(e,t);if(Tr.throwOnInvalid)throw new HH(r);return new Te({invalid:r})}static normalizeUnit(e){let t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new fO(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let r={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Ho.create(this.loc,r).formatDurationFromString(this,e):sZ}toHuman(e={}){if(!this.isValid)return sZ;let t=ag.map(r=>{let o=this.values[r];return kt(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(o)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=r$(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ge.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?uQ(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let t=Te.fromDurationLike(e),r={};for(let o of ag)(iC(t.values,o)||iC(this.values,o))&&(r[o]=t.get(o)+this.get(o));return Pp(this,{values:r},!0)}minus(e){if(!this.isValid)return this;let t=Te.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let r of Object.keys(this.values))t[r]=qZ(e(this.values[r],r));return Pp(this,{values:t},!0)}get(e){return this[Te.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let t={...this.values,...gO(e,Te.normalizeUnit)};return Pp(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:o}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:o,conversionAccuracy:r};return Pp(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return lZ(this.matrix,e),Pp(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=Xxe(this.normalize().shiftToAll().toObject());return Pp(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Te.normalizeUnit(a));let t={},r={},o=this.toObject(),i;for(let a of ag)if(e.indexOf(a)>=0){i=a;let s=0;for(let u in r)s+=this.matrix[u][a]*r[u],r[u]=0;sg(o[a])&&(s+=o[a]);let l=Math.trunc(s);t[a]=l,r[a]=(s*1e3-l*1e3)/1e3}else sg(o[a])&&(r[a]=o[a]);for(let a in r)r[a]!==0&&(t[i]+=a===i?r[a]:r[a]/this.matrix[i][a]);return lZ(this.matrix,t),Pp(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Pp(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(r,o){return r===void 0||r===0?o===void 0||o===0:r===o}for(let r of ag)if(!t(this.values[r],e.values[r]))return!1;return!0}},tC="Invalid Interval";function Zxe(n,e){return!n||!n.isValid?rr.invalid("missing or invalid start"):!e||!e.isValid?rr.invalid("missing or invalid end"):e<n?rr.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}var rr=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new ua("need to specify a reason the Interval is invalid");let r=e instanceof Xa?e:new Xa(e,t);if(Tr.throwOnInvalid)throw new GH(r);return new rr({invalid:r})}static fromDateTimes(e,t){let r=c_(e),o=c_(t),i=Zxe(r,o);return i==null?new rr({start:r,end:o}):i}static after(e,t){let r=Te.fromDurationLike(t),o=c_(e);return rr.fromDateTimes(o,o.plus(r))}static before(e,t){let r=Te.fromDurationLike(t),o=c_(e);return rr.fromDateTimes(o.minus(r),o)}static fromISO(e,t){let[r,o]=(e||"").split("/",2);if(r&&o){let i,a;try{i=Ge.fromISO(r,t),a=i.isValid}catch(u){a=!1}let s,l;try{s=Ge.fromISO(o,t),l=s.isValid}catch(u){l=!1}if(a&&l)return rr.fromDateTimes(i,s);if(a){let u=Te.fromISO(o,t);if(u.isValid)return rr.after(i,u)}else if(l){let u=Te.fromISO(r,t);if(u.isValid)return rr.before(s,u)}}return rr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let t=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(t,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?rr.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];let t=e.map(c_).filter(a=>this.contains(a)).sort(),r=[],{s:o}=this,i=0;for(;o<this.e;){let a=t[i]||this.e,s=+a>+this.e?this.e:a;r.push(rr.fromDateTimes(o,s)),o=s,i+=1}return r}splitBy(e){let t=Te.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:r}=this,o=1,i,a=[];for(;r<this.e;){let s=this.start.plus(t.mapUnits(l=>l*o));i=+s>+this.e?this.e:s,a.push(rr.fromDateTimes(r,i)),r=i,o+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:rr.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;let t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return rr.fromDateTimes(t,r)}static merge(e){let[t,r]=e.sort((o,i)=>o.s-i.s).reduce(([o,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[o,i.union(a)]:[o.concat([i]),a]:[o,a],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0,o=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...i),s=a.sort((l,u)=>l.time-u.time);for(let l of s)r+=l.type==="s"?1:-1,r===1?t=l.time:(t&&+t!=+l.time&&o.push(rr.fromDateTimes(t,l.time)),t=null);return rr.merge(o)}difference(...e){return rr.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:tC}toLocaleString(e=pO,t={}){return this.isValid?Ho.create(this.s.loc.clone(t),e).formatInterval(this):tC}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:tC}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:tC}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:tC}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:tC}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Te.invalid(this.invalidReason)}mapEndpoints(e){return rr.fromDateTimes(e(this.s),e(this.e))}},nC=class{static hasDST(e=Tr.defaultZone){let t=Ge.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return ru.isValidZone(e)}static normalizeZone(e){return Ip(e,Tr.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Tn.create(t,r,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Tn.create(t,r,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null}={}){return(o||Tn.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null}={}){return(o||Tn.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Tn.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Tn.create(t,null,"gregory").eras(e)}static features(){return{relative:jZ()}}};function uZ(n,e){let t=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=t(e)-t(n);return Math.floor(Te.fromMillis(r).as("days"))}function Qxe(n,e,t){let r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{let c=uZ(l,u);return(c-c%7)/7}],["days",uZ]],o={},i=n,a,s;for(let[l,u]of r)t.indexOf(l)>=0&&(a=l,o[l]=u(n,e),s=i.plus(o),s>e?(o[l]--,n=i.plus(o),n>e&&(s=n,o[l]--,n=i.plus(o))):n=s);return[n,o,s,a]}function Jxe(n,e,t,r){let[o,i,a,s]=Qxe(n,e,t),l=e-o,u=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);u.length===0&&(a<e&&(a=o.plus({[s]:1})),a!==o&&(i[s]=(i[s]||0)+l/(a-o)));let c=Te.fromObject(i,r);return u.length>0?Te.fromMillis(l,r).shiftTo(...u).plus(c):c}var s$={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},cZ={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},eDe=s$.hanidec.replace(/[\[|\]]/g,"").split("");function tDe(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(n[t].search(s$.hanidec)!==-1)e+=eDe.indexOf(n[t]);else for(let o in cZ){let[i,a]=cZ[o];r>=i&&r<=a&&(e+=r-i)}}return parseInt(e,10)}else return e}function Jl({numberingSystem:n},e=""){return new RegExp(`${s$[n||"latn"]}${e}`)}var nDe="missing Intl.DateTimeFormat.formatToParts support";function rn(n,e=t=>t){return{regex:n,deser:([t])=>e(tDe(t))}}var rDe=String.fromCharCode(160),cQ=`[ ${rDe}]`,dQ=new RegExp(cQ,"g");function oDe(n){return n.replace(/\./g,"\\.?").replace(dQ,cQ)}function dZ(n){return n.replace(/\./g,"").replace(dQ," ").toLowerCase()}function eu(n,e){return n===null?null:{regex:RegExp(n.map(oDe).join("|")),deser:([t])=>n.findIndex(r=>dZ(t)===dZ(r))+e}}function fZ(n,e){return{regex:n,deser:([,t,r])=>bO(t,r),groups:e}}function aO(n){return{regex:n,deser:([e])=>e}}function iDe(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function aDe(n,e){let t=Jl(e),r=Jl(e,"{2}"),o=Jl(e,"{3}"),i=Jl(e,"{4}"),a=Jl(e,"{6}"),s=Jl(e,"{1,2}"),l=Jl(e,"{1,3}"),u=Jl(e,"{1,6}"),c=Jl(e,"{1,9}"),d=Jl(e,"{2,4}"),f=Jl(e,"{4,6}"),p=v=>({regex:RegExp(iDe(v.val)),deser:([g])=>g,literal:!0}),m=(v=>{if(n.literal)return p(v);switch(v.val){case"G":return eu(e.eras("short"),0);case"GG":return eu(e.eras("long"),0);case"y":return rn(u);case"yy":return rn(d,YH);case"yyyy":return rn(i);case"yyyyy":return rn(f);case"yyyyyy":return rn(a);case"M":return rn(s);case"MM":return rn(r);case"MMM":return eu(e.months("short",!0),1);case"MMMM":return eu(e.months("long",!0),1);case"L":return rn(s);case"LL":return rn(r);case"LLL":return eu(e.months("short",!1),1);case"LLLL":return eu(e.months("long",!1),1);case"d":return rn(s);case"dd":return rn(r);case"o":return rn(l);case"ooo":return rn(o);case"HH":return rn(r);case"H":return rn(s);case"hh":return rn(r);case"h":return rn(s);case"mm":return rn(r);case"m":return rn(s);case"q":return rn(s);case"qq":return rn(r);case"s":return rn(s);case"ss":return rn(r);case"S":return rn(l);case"SSS":return rn(o);case"u":return aO(c);case"uu":return aO(s);case"uuu":return rn(t);case"a":return eu(e.meridiems(),0);case"kkkk":return rn(i);case"kk":return rn(d,YH);case"W":return rn(s);case"WW":return rn(r);case"E":case"c":return rn(t);case"EEE":return eu(e.weekdays("short",!1),1);case"EEEE":return eu(e.weekdays("long",!1),1);case"ccc":return eu(e.weekdays("short",!0),1);case"cccc":return eu(e.weekdays("long",!0),1);case"Z":case"ZZ":return fZ(new RegExp(`([+-]${s.source})(?::(${r.source}))?`),2);case"ZZZ":return fZ(new RegExp(`([+-]${s.source})(${r.source})?`),2);case"z":return aO(/[a-z_+-/]{1,256}?/i);case" ":return aO(/[^\S\n\r]/);default:return p(v)}})(n)||{invalidReason:nDe};return m.token=n,m}var sDe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function lDe(n,e,t){let{type:r,value:o}=n;if(r==="literal"){let l=/^\s+$/.test(o);return{literal:!l,val:l?" ":o}}let i=e[r],a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=t.hour12?"hour12":"hour24");let s=sDe[a];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function uDe(n){return[`^${n.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"")}$`,n]}function cDe(n,e,t){let r=n.match(e);if(r){let o={},i=1;for(let a in t)if(iC(t,a)){let s=t[a],l=s.groups?s.groups+1:1;!s.literal&&s.token&&(o[s.token.val[0]]=s.deser(r.slice(i,i+l))),i+=l}return[r,o]}else return[r,{}]}function dDe(n){let e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t=null,r;return kt(n.z)||(t=ru.create(n.z)),kt(n.Z)||(t||(t=new Xo(n.Z)),r=n.Z),kt(n.q)||(n.M=(n.q-1)*3+1),kt(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),kt(n.u)||(n.S=n$(n.u)),[Object.keys(n).reduce((i,a)=>{let s=e(a);return s&&(i[s]=n[a]),i},{}),t,r]}var LH=null;function fDe(){return LH||(LH=Ge.fromMillis(1555555555555)),LH}function pDe(n,e){if(n.literal)return n;let t=Ho.macroTokenToFormatOpts(n.val),r=hQ(t,e);return r==null||r.includes(void 0)?n:r}function fQ(n,e){return Array.prototype.concat(...n.map(t=>pDe(t,e)))}function pQ(n,e,t){let r=fQ(Ho.parseFormat(t),n),o=r.map(a=>aDe(a,n)),i=o.find(a=>a.invalidReason);if(i)return{input:e,tokens:r,invalidReason:i.invalidReason};{let[a,s]=uDe(o),l=RegExp(a,"i"),[u,c]=cDe(e,l,s),[d,f,p]=c?dDe(c):[null,null,void 0];if(iC(c,"a")&&iC(c,"H"))throw new ig("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:c,result:d,zone:f,specificOffset:p}}}function hDe(n,e,t){let{result:r,zone:o,specificOffset:i,invalidReason:a}=pQ(n,e,t);return[r,o,i,a]}function hQ(n,e){if(!n)return null;let r=Ho.create(e,n).dtFormatter(fDe()),o=r.formatToParts(),i=r.resolvedOptions();return o.map(a=>lDe(a,n,i))}var mQ=[0,31,59,90,120,151,181,212,243,273,304,334],gQ=[0,31,60,91,121,152,182,213,244,274,305,335];function rl(n,e){return new Xa("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function vQ(n,e,t){let r=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);let o=r.getUTCDay();return o===0?7:o}function yQ(n,e,t){return t+(C_(n)?gQ:mQ)[e-1]}function CQ(n,e){let t=C_(n)?gQ:mQ,r=t.findIndex(i=>i<e),o=e-t[r];return{month:r+1,day:o}}function XH(n){let{year:e,month:t,day:r}=n,o=yQ(e,t,r),i=vQ(e,t,r),a=Math.floor((o-i+10)/7),s;return a<1?(s=e-1,a=mO(s)):a>mO(e)?(s=e+1,a=1):s=e,{weekYear:s,weekNumber:a,weekday:i,..._O(n)}}function pZ(n){let{weekYear:e,weekNumber:t,weekday:r}=n,o=vQ(e,1,4),i=p_(e),a=t*7+r-o-3,s;a<1?(s=e-1,a+=p_(s)):a>i?(s=e+1,a-=p_(e)):s=e;let{month:l,day:u}=CQ(s,a);return{year:s,month:l,day:u,..._O(n)}}function MH(n){let{year:e,month:t,day:r}=n,o=yQ(e,t,r);return{year:e,ordinal:o,..._O(n)}}function hZ(n){let{year:e,ordinal:t}=n,{month:r,day:o}=CQ(e,t);return{year:e,month:r,day:o,..._O(n)}}function mDe(n){let e=wO(n.weekYear),t=Yd(n.weekNumber,1,mO(n.weekYear)),r=Yd(n.weekday,1,7);return e?t?r?!1:rl("weekday",n.weekday):rl("week",n.week):rl("weekYear",n.weekYear)}function gDe(n){let e=wO(n.year),t=Yd(n.ordinal,1,p_(n.year));return e?t?!1:rl("ordinal",n.ordinal):rl("year",n.year)}function wQ(n){let e=wO(n.year),t=Yd(n.month,1,12),r=Yd(n.day,1,hO(n.year,n.month));return e?t?r?!1:rl("day",n.day):rl("month",n.month):rl("year",n.year)}function SQ(n){let{hour:e,minute:t,second:r,millisecond:o}=n,i=Yd(e,0,23)||e===24&&t===0&&r===0&&o===0,a=Yd(t,0,59),s=Yd(r,0,59),l=Yd(o,0,999);return i?a?s?l?!1:rl("millisecond",o):rl("second",r):rl("minute",t):rl("hour",e)}var AH="Invalid DateTime",mZ=864e13;function sO(n){return new Xa("unsupported zone",`the zone "${n.name}" is not supported`)}function NH(n){return n.weekData===null&&(n.weekData=XH(n.c)),n.weekData}function og(n,e){let t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Ge({...t,...e,old:t})}function bQ(n,e,t){let r=n-e*60*1e3,o=t.offset(r);if(e===o)return[r,e];r-=(o-e)*60*1e3;let i=t.offset(r);return o===i?[r,o]:[n-Math.min(o,i)*60*1e3,Math.max(o,i)]}function lO(n,e){n+=e*60*1e3;let t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function dO(n,e,t){return bQ(SO(n),e,t)}function gZ(n,e){let t=n.o,r=n.c.year+Math.trunc(e.years),o=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...n.c,year:r,month:o,day:Math.min(n.c.day,hO(r,o))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Te.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),s=SO(i),[l,u]=bQ(s,t,n.zone);return a!==0&&(l+=a,u=n.zone.offset(l)),{ts:l,o:u}}function u_(n,e,t,r,o,i){let{setZone:a,zone:s}=t;if(n&&Object.keys(n).length!==0||e){let l=e||s,u=Ge.fromObject(n,{...t,zone:l,specificOffset:i});return a?u:u.setZone(s)}else return Ge.invalid(new Xa("unparsable",`the input "${o}" can't be parsed as ${r}`))}function uO(n,e,t=!0){return n.isValid?Ho.create(Tn.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function kH(n,e){let t=n.c.year>9999||n.c.year<0,r="";return t&&n.c.year>=0&&(r+="+"),r+=eo(n.c.year,t?6:4),e?(r+="-",r+=eo(n.c.month),r+="-",r+=eo(n.c.day)):(r+=eo(n.c.month),r+=eo(n.c.day)),r}function vZ(n,e,t,r,o,i){let a=eo(n.c.hour);return e?(a+=":",a+=eo(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=":")):a+=eo(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=eo(n.c.second),(n.c.millisecond!==0||!r)&&(a+=".",a+=eo(n.c.millisecond,3))),o&&(n.isOffsetFixed&&n.offset===0&&!i?a+="Z":n.o<0?(a+="-",a+=eo(Math.trunc(-n.o/60)),a+=":",a+=eo(Math.trunc(-n.o%60))):(a+="+",a+=eo(Math.trunc(n.o/60)),a+=":",a+=eo(Math.trunc(n.o%60)))),i&&(a+="["+n.zone.ianaName+"]"),a}var _Q={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},vDe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},yDe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},EQ=["year","month","day","hour","minute","second","millisecond"],CDe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wDe=["year","ordinal","hour","minute","second","millisecond"];function yZ(n){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new fO(n);return e}function CZ(n,e){let t=Ip(e.zone,Tr.defaultZone),r=Tn.fromObject(e),o=Tr.now(),i,a;if(kt(n.year))i=o;else{for(let u of EQ)kt(n[u])&&(n[u]=_Q[u]);let s=wQ(n)||SQ(n);if(s)return Ge.invalid(s);let l=t.offset(o);[i,a]=dO(n,l,t)}return new Ge({ts:i,zone:t,loc:r,o:a})}function wZ(n,e,t){let r=kt(t.round)?!0:t.round,o=(a,s)=>(a=r$(a,r||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,s)),i=a=>t.calendary?e.hasSame(n,a)?0:e.startOf(a).diff(n.startOf(a),a).get(a):e.diff(n,a).get(a);if(t.unit)return o(i(t.unit),t.unit);for(let a of t.units){let s=i(a);if(Math.abs(s)>=1)return o(s,a)}return o(n>e?-0:0,t.units[t.units.length-1])}function SZ(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}var Ge=class{constructor(e){let t=e.zone||Tr.defaultZone,r=e.invalid||(Number.isNaN(e.ts)?new Xa("invalid input"):null)||(t.isValid?null:sO(t));this.ts=kt(e.ts)?Tr.now():e.ts;let o=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[o,i]=[e.old.c,e.old.o];else{let s=t.offset(this.ts);o=lO(this.ts,s),r=Number.isNaN(o.year)?new Xa("invalid input"):null,o=r?null:o,i=r?null:s}this._zone=t,this.loc=e.loc||Tn.create(),this.invalid=r,this.weekData=null,this.c=o,this.o=i,this.isLuxonDateTime=!0}static now(){return new Ge({})}static local(){let[e,t]=SZ(arguments),[r,o,i,a,s,l,u]=t;return CZ({year:r,month:o,day:i,hour:a,minute:s,second:l,millisecond:u},e)}static utc(){let[e,t]=SZ(arguments),[r,o,i,a,s,l,u]=t;return e.zone=Xo.utcInstance,CZ({year:r,month:o,day:i,hour:a,minute:s,second:l,millisecond:u},e)}static fromJSDate(e,t={}){let r=qEe(e)?e.valueOf():NaN;if(Number.isNaN(r))return Ge.invalid("invalid input");let o=Ip(t.zone,Tr.defaultZone);return o.isValid?new Ge({ts:r,zone:o,loc:Tn.fromObject(t)}):Ge.invalid(sO(o))}static fromMillis(e,t={}){if(sg(e))return e<-mZ||e>mZ?Ge.invalid("Timestamp out of range"):new Ge({ts:e,zone:Ip(t.zone,Tr.defaultZone),loc:Tn.fromObject(t)});throw new ua(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(sg(e))return new Ge({ts:e*1e3,zone:Ip(t.zone,Tr.defaultZone),loc:Tn.fromObject(t)});throw new ua("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};let r=Ip(t.zone,Tr.defaultZone);if(!r.isValid)return Ge.invalid(sO(r));let o=Tr.now(),i=kt(t.specificOffset)?r.offset(o):t.specificOffset,a=gO(e,yZ),s=!kt(a.ordinal),l=!kt(a.year),u=!kt(a.month)||!kt(a.day),c=l||u,d=a.weekYear||a.weekNumber,f=Tn.fromObject(t);if((c||s)&&d)throw new ig("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&s)throw new ig("Can't mix ordinal dates with month/day");let p=d||a.weekday&&!c,h,m,v=lO(o,i);p?(h=CDe,m=vDe,v=XH(v)):s?(h=wDe,m=yDe,v=MH(v)):(h=EQ,m=_Q);let g=!1;for(let S of h){let T=a[S];kt(T)?g?a[S]=m[S]:a[S]=v[S]:g=!0}let y=p?mDe(a):s?gDe(a):wQ(a),C=y||SQ(a);if(C)return Ge.invalid(C);let w=p?pZ(a):s?hZ(a):a,[b,E]=dO(w,i,r),D=new Ge({ts:b,zone:r,o:E,loc:f});return a.weekday&&c&&e.weekday!==D.weekday?Ge.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${D.toISO()}`):D}static fromISO(e,t={}){let[r,o]=kxe(e);return u_(r,o,t,"ISO 8601",e)}static fromRFC2822(e,t={}){let[r,o]=Vxe(e);return u_(r,o,t,"RFC 2822",e)}static fromHTTP(e,t={}){let[r,o]=Gxe(e);return u_(r,o,t,"HTTP",t)}static fromFormat(e,t,r={}){if(kt(e)||kt(t))throw new ua("fromFormat requires an input string and a format");let{locale:o=null,numberingSystem:i=null}=r,a=Tn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0}),[s,l,u,c]=hDe(a,e,t);return c?Ge.invalid(c):u_(s,l,r,`format ${t}`,e,u)}static fromString(e,t,r={}){return Ge.fromFormat(e,t,r)}static fromSQL(e,t={}){let[r,o]=jxe(e);return u_(r,o,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new ua("need to specify a reason the DateTime is invalid");let r=e instanceof Xa?e:new Xa(e,t);if(Tr.throwOnInvalid)throw new VH(r);return new Ge({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let r=hQ(e,Tn.fromObject(t));return r?r.map(o=>o?o.val:null).join(""):null}static expandFormat(e,t={}){return fQ(Ho.parseFormat(e),Tn.fromObject(t)).map(o=>o.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?NH(this).weekYear:NaN}get weekNumber(){return this.isValid?NH(this).weekNumber:NaN}get weekday(){return this.isValid?NH(this).weekday:NaN}get ordinal(){return this.isValid?MH(this.c).ordinal:NaN}get monthShort(){return this.isValid?nC.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?nC.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?nC.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?nC.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,t=6e4,r=SO(this.c),o=this.zone.offset(r-e),i=this.zone.offset(r+e),a=this.zone.offset(r-o*t),s=this.zone.offset(r-i*t);if(a===s)return[this];let l=r-a*t,u=r-s*t,c=lO(l,a),d=lO(u,s);return c.hour===d.hour&&c.minute===d.minute&&c.second===d.second&&c.millisecond===d.millisecond?[og(this,{ts:l}),og(this,{ts:u})]:[this]}get isInLeapYear(){return C_(this.year)}get daysInMonth(){return hO(this.year,this.month)}get daysInYear(){return this.isValid?p_(this.year):NaN}get weeksInWeekYear(){return this.isValid?mO(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:r,calendar:o}=Ho.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:o}}toUTC(e=0,t={}){return this.setZone(Xo.instance(e),t)}toLocal(){return this.setZone(Tr.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if(e=Ip(e,Tr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let o=this.ts;if(t||r){let i=e.offset(this.ts),a=this.toObject();[o]=dO(a,i,e)}return og(this,{ts:o,zone:e})}else return Ge.invalid(sO(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){let o=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r});return og(this,{loc:o})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let t=gO(e,yZ),r=!kt(t.weekYear)||!kt(t.weekNumber)||!kt(t.weekday),o=!kt(t.ordinal),i=!kt(t.year),a=!kt(t.month)||!kt(t.day),s=i||a,l=t.weekYear||t.weekNumber;if((s||o)&&l)throw new ig("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&o)throw new ig("Can't mix ordinal dates with month/day");let u;r?u=pZ({...XH(this.c),...t}):kt(t.ordinal)?(u={...this.toObject(),...t},kt(t.day)&&(u.day=Math.min(hO(u.year,u.month),u.day))):u=hZ({...MH(this.c),...t});let[c,d]=dO(u,this.o,this.zone);return og(this,{ts:c,o:d})}plus(e){if(!this.isValid)return this;let t=Te.fromDurationLike(e);return og(this,gZ(this,t))}minus(e){if(!this.isValid)return this;let t=Te.fromDurationLike(e).negate();return og(this,gZ(this,t))}startOf(e){if(!this.isValid)return this;let t={},r=Te.normalizeUnit(e);switch(r){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(r==="weeks"&&(t.weekday=1),r==="quarters"){let o=Math.ceil(this.month/3);t.month=(o-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Ho.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):AH}toLocaleString(e=pO,t={}){return this.isValid?Ho.create(this.loc.clone(t),e).formatDateTime(this):AH}toLocaleParts(e={}){return this.isValid?Ho.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:o=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;let a=e==="extended",s=kH(this,a);return s+="T",s+=vZ(this,a,t,r,o,i),s}toISODate({format:e="extended"}={}){return this.isValid?kH(this,e==="extended"):null}toISOWeekDate(){return uO(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:o=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+vZ(this,a==="extended",t,e,r,i):null}toRFC2822(){return uO(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return uO(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?kH(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let o="HH:mm:ss.SSS";return(t||e)&&(r&&(o+=" "),t?o+="z":e&&(o+="ZZ")),uO(this,o,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():AH}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return Te.invalid("created by diffing an invalid DateTime");let o={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=YEe(t).map(Te.normalizeUnit),a=e.valueOf()>this.valueOf(),s=a?this:e,l=a?e:this,u=Jxe(s,l,i,o);return a?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(Ge.now(),e,t)}until(e){return this.isValid?rr.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;let r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t)<=r&&r<=o.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let t=e.base||Ge.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0,o=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(o=e.unit,i=void 0),wZ(t,this.plus(r),{...e,numeric:"always",units:o,unit:i})}toRelativeCalendar(e={}){return this.isValid?wZ(e.base||Ge.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ge.isDateTime))throw new ua("min requires all arguments be DateTimes");return oZ(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Ge.isDateTime))throw new ua("max requires all arguments be DateTimes");return oZ(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){let{locale:o=null,numberingSystem:i=null}=r,a=Tn.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return pQ(a,e,t)}static fromStringExplain(e,t,r={}){return Ge.fromFormatExplain(e,t,r)}static get DATE_SHORT(){return pO}static get DATE_MED(){return RZ}static get DATE_MED_WITH_WEEKDAY(){return FEe}static get DATE_FULL(){return TZ}static get DATE_HUGE(){return PZ}static get TIME_SIMPLE(){return OZ}static get TIME_WITH_SECONDS(){return IZ}static get TIME_WITH_SHORT_OFFSET(){return FZ}static get TIME_WITH_LONG_OFFSET(){return LZ}static get TIME_24_SIMPLE(){return MZ}static get TIME_24_WITH_SECONDS(){return AZ}static get TIME_24_WITH_SHORT_OFFSET(){return NZ}static get TIME_24_WITH_LONG_OFFSET(){return kZ}static get DATETIME_SHORT(){return VZ}static get DATETIME_SHORT_WITH_SECONDS(){return GZ}static get DATETIME_MED(){return HZ}static get DATETIME_MED_WITH_SECONDS(){return $Z}static get DATETIME_MED_WITH_WEEKDAY(){return LEe}static get DATETIME_FULL(){return BZ}static get DATETIME_FULL_WITH_SECONDS(){return WZ}static get DATETIME_HUGE(){return zZ}static get DATETIME_HUGE_WITH_SECONDS(){return UZ}};function c_(n){if(Ge.isDateTime(n))return n;if(n&&n.valueOf&&sg(n.valueOf()))return Ge.fromJSDate(n);if(n&&typeof n=="object")return Ge.fromObject(n);throw new ua(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var l$={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},SDe={allowHtml:!0};({...l$,...SDe});var m_=class{constructor(e){this.value=e,this.successful=!0}map(e){return new m_(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,t){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},g_=class{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new g_(e(this.error))}bimap(e,t){return this.mapErr(t)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},vO;(function(n){function e(i){return new m_(i)}n.success=e;function t(i){return new g_(i)}n.failure=t;function r(i,a,s){return i.successful?a.successful?s(i.value,a.value):t(a.error):t(i.error)}n.flatMap2=r;function o(i,a,s){return r(i,a,(l,u)=>e(s(l,u)))}n.map2=o})(vO||(vO={}));var bDe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},yO={exports:{}};yO.exports;(function(n,e){(function(t,r){n.exports=r()})(typeof self!="undefined"?self:bDe,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=t,o.c=r,o.d=function(i,a,s){o.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:s})},o.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=0)}([function(t,r,o){function i(M){if(!(this instanceof i))return new i(M);this._=M}var a=i.prototype;function s(M,W){for(var q=0;q<M;q++)W(q)}function l(M,W,q){return function(Z,le){s(le.length,function(N){Z(le[N],N,le)})}(function(Z,le,N){W=M(W,Z,le,N)},q),W}function u(M,W){return l(function(q,Z,le,N){return q.concat([M(Z,le,N)])},[],W)}function c(M,W){var q={v:0,buf:W};return s(M,function(){var Z;q={v:q.v<<1|(Z=q.buf,Z[0]>>7),buf:function(le){var N=l(function(H,U,oe,we){return H.concat(oe===we.length-1?Buffer.from([U,0]).readUInt16BE(0):we.readUInt16BE(oe))},[],le);return Buffer.from(u(function(H){return(H<<1&65535)>>8},N))}(q.buf)}}),q}function d(){return typeof Buffer!="undefined"}function f(){if(!d())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function p(M){f();var W=l(function(N,H){return N+H},0,M);if(W%8!=0)throw new Error("The bits ["+M.join(", ")+"] add up to "+W+" which is not an even number of bytes; the total should be divisible by 8");var q,Z=W/8,le=(q=function(N){return N>48},l(function(N,H){return N||(q(H)?H:N)},null,M));if(le)throw new Error(le+" bit range requested exceeds 48 bit (6 byte) Number max.");return new i(function(N,H){var U=Z+H;return U>N.length?S(H,Z.toString()+" bytes"):D(U,l(function(oe,we){var Ae=c(we,oe.buf);return{coll:oe.coll.concat(Ae.v),buf:Ae.buf}},{coll:[],buf:N.slice(H,U)},M).coll)})}function h(M,W){return new i(function(q,Z){return f(),Z+W>q.length?S(Z,W+" bytes for "+M):D(Z+W,q.slice(Z,Z+W))})}function m(M,W){if(typeof(q=W)!="number"||Math.floor(q)!==q||W<0||W>6)throw new Error(M+" requires integer length in range [0, 6].");var q}function v(M){return m("uintBE",M),h("uintBE("+M+")",M).map(function(W){return W.readUIntBE(0,M)})}function g(M){return m("uintLE",M),h("uintLE("+M+")",M).map(function(W){return W.readUIntLE(0,M)})}function y(M){return m("intBE",M),h("intBE("+M+")",M).map(function(W){return W.readIntBE(0,M)})}function C(M){return m("intLE",M),h("intLE("+M+")",M).map(function(W){return W.readIntLE(0,M)})}function w(M){return M instanceof i}function b(M){return{}.toString.call(M)==="[object Array]"}function E(M){return d()&&Buffer.isBuffer(M)}function D(M,W){return{status:!0,index:M,value:W,furthest:-1,expected:[]}}function S(M,W){return b(W)||(W=[W]),{status:!1,index:-1,value:null,furthest:M,expected:W}}function T(M,W){if(!W||M.furthest>W.furthest)return M;var q=M.furthest===W.furthest?function(Z,le){if(function(){if(i._supportsSet!==void 0)return i._supportsSet;var Oe=typeof Set!="undefined";return i._supportsSet=Oe,Oe}()&&Array.from){for(var N=new Set(Z),H=0;H<le.length;H++)N.add(le[H]);var U=Array.from(N);return U.sort(),U}for(var oe={},we=0;we<Z.length;we++)oe[Z[we]]=!0;for(var Ae=0;Ae<le.length;Ae++)oe[le[Ae]]=!0;var Fe=[];for(var Le in oe)({}).hasOwnProperty.call(oe,Le)&&Fe.push(Le);return Fe.sort(),Fe}(M.expected,W.expected):W.expected;return{status:M.status,index:M.index,value:M.value,furthest:W.furthest,expected:q}}var O={};function L(M,W){if(E(M))return{offset:W,line:-1,column:-1};M in O||(O[M]={});for(var q=O[M],Z=0,le=0,N=0,H=W;H>=0;){if(H in q){Z=q[H].line,N===0&&(N=q[H].lineStart);break}(M.charAt(H)===`
`||M.charAt(H)==="\r"&&M.charAt(H+1)!==`
`)&&(le++,N===0&&(N=H+1)),H--}var U=Z+le,oe=W-N;return q[W]={line:U,lineStart:N},{offset:W,line:U+1,column:oe+1}}function k(M){if(!w(M))throw new Error("not a parser: "+M)}function A(M,W){return typeof M=="string"?M.charAt(W):M[W]}function $(M){if(typeof M!="number")throw new Error("not a number: "+M)}function G(M){if(typeof M!="function")throw new Error("not a function: "+M)}function K(M){if(typeof M!="string")throw new Error("not a string: "+M)}var V=2,Y=3,Q=8,X=5*Q,fe=4*Q,ne="  ";function me(M,W){return new Array(W+1).join(M)}function de(M,W,q){var Z=W-M.length;return Z<=0?M:me(q,Z)+M}function Ce(M,W,q,Z){return{from:M-W>0?M-W:0,to:M+q>Z?Z:M+q}}function ge(M,W){var q,Z,le,N,H,U=W.index,oe=U.offset,we=1;if(oe===M.length)return"Got the end of the input";if(E(M)){var Ae=oe-oe%Q,Fe=oe-Ae,Le=Ce(Ae,X,fe+Q,M.length),Oe=u(function(Ne){return u(function(yt){return de(yt.toString(16),2,"0")},Ne)},function(Ne,yt){var sn=Ne.length,Jn=[],Wn=0;if(sn<=yt)return[Ne.slice()];for(var Oa=0;Oa<sn;Oa++)Jn[Wn]||Jn.push([]),Jn[Wn].push(Ne[Oa]),(Oa+1)%yt==0&&Wn++;return Jn}(M.slice(Le.from,Le.to).toJSON().data,Q));N=function(Ne){return Ne.from===0&&Ne.to===1?{from:Ne.from,to:Ne.to}:{from:Ne.from/Q,to:Math.floor(Ne.to/Q)}}(Le),Z=Ae/Q,q=3*Fe,Fe>=4&&(q+=1),we=2,le=u(function(Ne){return Ne.length<=4?Ne.join(" "):Ne.slice(0,4).join(" ")+"  "+Ne.slice(4).join(" ")},Oe),(H=(8*(N.to>0?N.to-1:N.to)).toString(16).length)<2&&(H=2)}else{var nt=M.split(/\r\n|[\n\r\u2028\u2029]/);q=U.column-1,Z=U.line-1,N=Ce(Z,V,Y,nt.length),le=nt.slice(N.from,N.to),H=N.to.toString().length}var Bn=Z-N.from;return E(M)&&(H=(8*(N.to>0?N.to-1:N.to)).toString(16).length)<2&&(H=2),l(function(Ne,yt,sn){var Jn,Wn=sn===Bn,Oa=Wn?"> ":ne;return Jn=E(M)?de((8*(N.from+sn)).toString(16),H,"0"):de((N.from+sn+1).toString(),H," "),[].concat(Ne,[Oa+Jn+" | "+yt],Wn?[ne+me(" ",H)+" | "+de("",q," ")+me("^",we)]:[])},[],le).join(`
`)}function He(M,W){return[`
`,"-- PARSING FAILED "+me("-",50),`

`,ge(M,W),`

`,(q=W.expected,q.length===1?`Expected:

`+q[0]:`Expected one of the following: 

`+q.join(", ")),`
`].join("");var q}function dt(M){return M.flags!==void 0?M.flags:[M.global?"g":"",M.ignoreCase?"i":"",M.multiline?"m":"",M.unicode?"u":"",M.sticky?"y":""].join("")}function ot(){for(var M=[].slice.call(arguments),W=M.length,q=0;q<W;q+=1)k(M[q]);return i(function(Z,le){for(var N,H=new Array(W),U=0;U<W;U+=1){if(!(N=T(M[U]._(Z,le),N)).status)return N;H[U]=N.value,le=N.index}return T(D(le,H),N)})}function ke(){var M=[].slice.call(arguments);if(M.length===0)throw new Error("seqMap needs at least one argument");var W=M.pop();return G(W),ot.apply(null,M).map(function(q){return W.apply(null,q)})}function it(){var M=[].slice.call(arguments),W=M.length;if(W===0)return On("zero alternates");for(var q=0;q<W;q+=1)k(M[q]);return i(function(Z,le){for(var N,H=0;H<M.length;H+=1)if((N=T(M[H]._(Z,le),N)).status)return N;return N})}function De(M,W){return Ye(M,W).or(wt([]))}function Ye(M,W){return k(M),k(W),ke(M,W.then(M).many(),function(q,Z){return[q].concat(Z)})}function je(M){K(M);var W="'"+M+"'";return i(function(q,Z){var le=Z+M.length,N=q.slice(Z,le);return N===M?D(le,N):S(Z,W)})}function Pe(M,W){(function(le){if(!(le instanceof RegExp))throw new Error("not a regexp: "+le);for(var N=dt(le),H=0;H<N.length;H++){var U=N.charAt(H);if(U!=="i"&&U!=="m"&&U!=="u"&&U!=="s")throw new Error('unsupported regexp flag "'+U+'": '+le)}})(M),arguments.length>=2?$(W):W=0;var q=function(le){return RegExp("^(?:"+le.source+")",dt(le))}(M),Z=""+M;return i(function(le,N){var H=q.exec(le.slice(N));if(H){if(0<=W&&W<=H.length){var U=H[0],oe=H[W];return D(N+U.length,oe)}return S(N,"valid match group (0 to "+H.length+") in "+Z)}return S(N,Z)})}function wt(M){return i(function(W,q){return D(q,M)})}function On(M){return i(function(W,q){return S(q,M)})}function Ve(M){if(w(M))return i(function(W,q){var Z=M._(W,q);return Z.index=q,Z.value="",Z});if(typeof M=="string")return Ve(je(M));if(M instanceof RegExp)return Ve(Pe(M));throw new Error("not a string, regexp, or parser: "+M)}function $n(M){return k(M),i(function(W,q){var Z=M._(W,q),le=W.slice(q,Z.index);return Z.status?S(q,'not "'+le+'"'):D(q,null)})}function Xe(M){return G(M),i(function(W,q){var Z=A(W,q);return q<W.length&&M(Z)?D(q+1,Z):S(q,"a character/byte matching "+M)})}function at(M,W){arguments.length<2&&(W=M,M=void 0);var q=i(function(Z,le){return q._=W()._,q._(Z,le)});return M?q.desc(M):q}function Bt(){return On("fantasy-land/empty")}a.parse=function(M){if(typeof M!="string"&&!E(M))throw new Error(".parse must be called with a string or Buffer as its argument");var W,q=this.skip(bt)._(M,0);return W=q.status?{status:!0,value:q.value}:{status:!1,index:L(M,q.furthest),expected:q.expected},delete O[M],W},a.tryParse=function(M){var W=this.parse(M);if(W.status)return W.value;var q=He(M,W),Z=new Error(q);throw Z.type="ParsimmonError",Z.result=W,Z},a.assert=function(M,W){return this.chain(function(q){return M(q)?wt(q):On(W)})},a.or=function(M){return it(this,M)},a.trim=function(M){return this.wrap(M,M)},a.wrap=function(M,W){return ke(M,this,W,function(q,Z){return Z})},a.thru=function(M){return M(this)},a.then=function(M){return k(M),ot(this,M).map(function(W){return W[1]})},a.many=function(){var M=this;return i(function(W,q){for(var Z=[],le=void 0;;){if(!(le=T(M._(W,q),le)).status)return T(D(q,Z),le);if(q===le.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");q=le.index,Z.push(le.value)}})},a.tieWith=function(M){return K(M),this.map(function(W){if(function(le){if(!b(le))throw new Error("not an array: "+le)}(W),W.length){K(W[0]);for(var q=W[0],Z=1;Z<W.length;Z++)K(W[Z]),q+=M+W[Z];return q}return""})},a.tie=function(){return this.tieWith("")},a.times=function(M,W){var q=this;return arguments.length<2&&(W=M),$(M),$(W),i(function(Z,le){for(var N=[],H=void 0,U=void 0,oe=0;oe<M;oe+=1){if(U=T(H=q._(Z,le),U),!H.status)return U;le=H.index,N.push(H.value)}for(;oe<W&&(U=T(H=q._(Z,le),U),H.status);oe+=1)le=H.index,N.push(H.value);return T(D(le,N),U)})},a.result=function(M){return this.map(function(){return M})},a.atMost=function(M){return this.times(0,M)},a.atLeast=function(M){return ke(this.times(M),this.many(),function(W,q){return W.concat(q)})},a.map=function(M){G(M);var W=this;return i(function(q,Z){var le=W._(q,Z);return le.status?T(D(le.index,M(le.value)),le):le})},a.contramap=function(M){G(M);var W=this;return i(function(q,Z){var le=W.parse(M(q.slice(Z)));return le.status?D(Z+q.length,le.value):le})},a.promap=function(M,W){return G(M),G(W),this.contramap(M).map(W)},a.skip=function(M){return ot(this,M).map(function(W){return W[0]})},a.mark=function(){return ke(We,this,We,function(M,W,q){return{start:M,value:W,end:q}})},a.node=function(M){return ke(We,this,We,function(W,q,Z){return{name:M,value:q,start:W,end:Z}})},a.sepBy=function(M){return De(this,M)},a.sepBy1=function(M){return Ye(this,M)},a.lookahead=function(M){return this.skip(Ve(M))},a.notFollowedBy=function(M){return this.skip($n(M))},a.desc=function(M){b(M)||(M=[M]);var W=this;return i(function(q,Z){var le=W._(q,Z);return le.status||(le.expected=M),le})},a.fallback=function(M){return this.or(wt(M))},a.ap=function(M){return ke(M,this,function(W,q){return W(q)})},a.chain=function(M){var W=this;return i(function(q,Z){var le=W._(q,Z);return le.status?T(M(le.value)._(q,le.index),le):le})},a.concat=a.or,a.empty=Bt,a.of=wt,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var We=i(function(M,W){return D(W,L(M,W))}),ft=i(function(M,W){return W>=M.length?S(W,"any character/byte"):D(W+1,A(M,W))}),St=i(function(M,W){return D(M.length,M.slice(W))}),bt=i(function(M,W){return W<M.length?S(W,"EOF"):D(W,null)}),Yt=Pe(/[0-9]/).desc("a digit"),Xt=Pe(/[0-9]*/).desc("optional digits"),In=Pe(/[a-z]/i).desc("a letter"),pn=Pe(/[a-z]*/i).desc("optional letters"),bn=Pe(/\s*/).desc("optional whitespace"),Nu=Pe(/\s+/).desc("whitespace"),pv=je("\r"),Nh=je(`
`),ku=je(`\r
`),kh=it(ku,Nh,pv).desc("newline"),If=it(kh,bt);i.all=St,i.alt=it,i.any=ft,i.cr=pv,i.createLanguage=function(M){var W={};for(var q in M)({}).hasOwnProperty.call(M,q)&&function(Z){W[Z]=at(function(){return M[Z](W)})}(q);return W},i.crlf=ku,i.custom=function(M){return i(M(D,S))},i.digit=Yt,i.digits=Xt,i.empty=Bt,i.end=If,i.eof=bt,i.fail=On,i.formatError=He,i.index=We,i.isParser=w,i.lazy=at,i.letter=In,i.letters=pn,i.lf=Nh,i.lookahead=Ve,i.makeFailure=S,i.makeSuccess=D,i.newline=kh,i.noneOf=function(M){return Xe(function(W){return M.indexOf(W)<0}).desc("none of '"+M+"'")},i.notFollowedBy=$n,i.of=wt,i.oneOf=function(M){for(var W=M.split(""),q=0;q<W.length;q++)W[q]="'"+W[q]+"'";return Xe(function(Z){return M.indexOf(Z)>=0}).desc(W)},i.optWhitespace=bn,i.Parser=i,i.range=function(M,W){return Xe(function(q){return M<=q&&q<=W}).desc(M+"-"+W)},i.regex=Pe,i.regexp=Pe,i.sepBy=De,i.sepBy1=Ye,i.seq=ot,i.seqMap=ke,i.seqObj=function(){for(var M,W={},q=0,Z=(M=arguments,Array.prototype.slice.call(M)),le=Z.length,N=0;N<le;N+=1){var H=Z[N];if(!w(H)){if(b(H)&&H.length===2&&typeof H[0]=="string"&&w(H[1])){var U=H[0];if(Object.prototype.hasOwnProperty.call(W,U))throw new Error("seqObj: duplicate key "+U);W[U]=!0,q++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(q===0)throw new Error("seqObj expects at least one named parser, found zero");return i(function(oe,we){for(var Ae,Fe={},Le=0;Le<le;Le+=1){var Oe,nt;if(b(Z[Le])?(Oe=Z[Le][0],nt=Z[Le][1]):(Oe=null,nt=Z[Le]),!(Ae=T(nt._(oe,we),Ae)).status)return Ae;Oe&&(Fe[Oe]=Ae.value),we=Ae.index}return T(D(we,Fe),Ae)})},i.string=je,i.succeed=wt,i.takeWhile=function(M){return G(M),i(function(W,q){for(var Z=q;Z<W.length&&M(A(W,Z));)Z++;return D(Z,W.slice(q,Z))})},i.test=Xe,i.whitespace=Nu,i["fantasy-land/empty"]=Bt,i["fantasy-land/of"]=wt,i.Binary={bitSeq:p,bitSeqObj:function(M){f();var W={},q=0,Z=u(function(N){if(b(N)){var H=N;if(H.length!==2)throw new Error("["+H.join(", ")+"] should be length 2, got length "+H.length);if(K(H[0]),$(H[1]),Object.prototype.hasOwnProperty.call(W,H[0]))throw new Error("duplicate key in bitSeqObj: "+H[0]);return W[H[0]]=!0,q++,H}return $(N),[null,N]},M);if(q<1)throw new Error("bitSeqObj expects at least one named pair, got ["+M.join(", ")+"]");var le=u(function(N){return N[0]},Z);return p(u(function(N){return N[1]},Z)).map(function(N){return l(function(H,U){return U[0]!==null&&(H[U[0]]=U[1]),H},{},u(function(H,U){return[H,N[U]]},le))})},byte:function(M){if(f(),$(M),M>255)throw new Error("Value specified to byte constructor ("+M+"=0x"+M.toString(16)+") is larger in value than a single byte.");var W=(M>15?"0x":"0x0")+M.toString(16);return i(function(q,Z){var le=A(q,Z);return le===M?D(Z+1,le):S(Z,W)})},buffer:function(M){return h("buffer",M).map(function(W){return Buffer.from(W)})},encodedString:function(M,W){return h("string",W).map(function(q){return q.toString(M)})},uintBE:v,uint8BE:v(1),uint16BE:v(2),uint32BE:v(4),uintLE:g,uint8LE:g(1),uint16LE:g(2),uint32LE:g(4),intBE:y,int8BE:y(1),int16BE:y(2),int32BE:y(4),intLE:C,int8LE:C(1),int16LE:C(2),int32LE:C(4),floatBE:h("floatBE",4).map(function(M){return M.readFloatBE(0)}),floatLE:h("floatLE",4).map(function(M){return M.readFloatLE(0)}),doubleBE:h("doubleBE",8).map(function(M){return M.readDoubleBE(0)}),doubleLE:h("doubleLE",8).map(function(M){return M.readDoubleLE(0)})},t.exports=i}])})})(yO,yO.exports);var B=yO.exports,u$=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function xQ(n){return n==null?n:n.shiftToAll().normalize()}function bZ(n){return n.includes("/")&&(n=n.substring(n.lastIndexOf("/")+1)),n.endsWith(".md")&&(n=n.substring(0,n.length-3)),n}B.alt(B.regex(new RegExp(u$(),"")),B.regex(/[0-9\p{Letter}_-]+/u).map(n=>n.toLocaleLowerCase()),B.whitespace.map(n=>"-"),B.any.map(n=>"")).many().map(n=>n.join(""));var _De=B.alt(B.regex(new RegExp(u$(),"")),B.regex(/[0-9\p{Letter}_-]+/u),B.whitespace.map(n=>" "),B.any.map(n=>" ")).many().map(n=>n.join("").split(/\s+/).join(" ").trim());function EDe(n){return _De.tryParse(n)}function xDe(n){return n=xQ(n),n=Te.fromObject(Object.fromEntries(Object.entries(n.toObject()).filter(([,e])=>e!=0))),n.toHuman()}var v_;(function(n){function e(w,b=l$,E=!1){let D=t(w);if(!D)return b.renderNullAs;switch(D.type){case"null":return b.renderNullAs;case"string":return D.value;case"number":case"boolean":return""+D.value;case"html":return D.value.outerHTML;case"widget":return D.value.markdown();case"link":return D.value.markdown();case"function":return"<function>";case"array":let S="";return E&&(S+="["),S+=D.value.map(T=>e(T,b,!0)).join(", "),E&&(S+="]"),S;case"object":return"{ "+Object.entries(D.value).map(T=>T[0]+": "+e(T[1],b,!0)).join(", ")+" }";case"date":return D.value.second==0&&D.value.hour==0&&D.value.minute==0?D.value.toFormat(b.defaultDateFormat):D.value.toFormat(b.defaultDateTimeFormat);case"duration":return xDe(D.value)}}n.toString=e;function t(w){return f(w)?{type:"null",value:w}:u(w)?{type:"number",value:w}:l(w)?{type:"string",value:w}:h(w)?{type:"boolean",value:w}:d(w)?{type:"duration",value:w}:c(w)?{type:"date",value:w}:v(w)?{type:"widget",value:w}:p(w)?{type:"array",value:w}:m(w)?{type:"link",value:w}:C(w)?{type:"function",value:w}:g(w)?{type:"html",value:w}:y(w)?{type:"object",value:w}:void 0}n.wrapValue=t;function r(w,b){if(y(w)){let E={};for(let[D,S]of Object.entries(w))E[D]=r(S,b);return E}else if(p(w)){let E=[];for(let D of w)E.push(r(D,b));return E}else return b(w)}n.mapLeaves=r;function o(w,b,E){var D,S;if(w===void 0&&(w=null),b===void 0&&(b=null),w===null&&b===null)return 0;if(w===null)return-1;if(b===null)return 1;let T=t(w),O=t(b);if(T===void 0&&O===void 0)return 0;if(T===void 0)return-1;if(O===void 0)return 1;if(T.type!=O.type)return T.type.localeCompare(O.type);if(T.value===O.value)return 0;switch(T.type){case"string":return T.value.localeCompare(O.value);case"number":return T.value<O.value?-1:T.value==O.value?0:1;case"null":return 0;case"boolean":return T.value==O.value?0:T.value?1:-1;case"link":let L=T.value,k=O.value,A=E!=null?E:me=>me,$=A(L.path).localeCompare(A(k.path));if($!=0)return $;let G=L.type.localeCompare(k.type);return G!=0?G:L.subpath&&!k.subpath?1:!L.subpath&&k.subpath?-1:!L.subpath&&!k.subpath?0:((D=L.subpath)!==null&&D!==void 0?D:"").localeCompare((S=k.subpath)!==null&&S!==void 0?S:"");case"date":return T.value<O.value?-1:T.value.equals(O.value)?0:1;case"duration":return T.value<O.value?-1:T.value.equals(O.value)?0:1;case"array":let K=T.value,V=O.value;for(let me=0;me<Math.min(K.length,V.length);me++){let de=o(K[me],V[me]);if(de!=0)return de}return K.length-V.length;case"object":let Y=T.value,Q=O.value,X=Array.from(Object.keys(Y)),fe=Array.from(Object.keys(Q));X.sort(),fe.sort();let ne=o(X,fe);if(ne!=0)return ne;for(let me of X){let de=o(Y[me],Q[me]);if(de!=0)return de}return 0;case"widget":case"html":case"function":return 0}}n.compareValue=o;function i(w){var b;return(b=t(w))===null||b===void 0?void 0:b.type}n.typeOf=i;function a(w){let b=t(w);if(!b)return!1;switch(b.type){case"number":return b.value!=0;case"string":return b.value.length>0;case"boolean":return b.value;case"link":return!!b.value.path;case"date":return b.value.toMillis()!=0;case"duration":return b.value.as("seconds")!=0;case"object":return Object.keys(b.value).length>0;case"array":return b.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}n.isTruthy=a;function s(w){if(w==null)return w;if(n.isArray(w))return[].concat(w.map(b=>s(b)));if(n.isObject(w)){let b={};for(let[E,D]of Object.entries(w))b[E]=s(D);return b}else return w}n.deepCopy=s;function l(w){return typeof w=="string"}n.isString=l;function u(w){return typeof w=="number"}n.isNumber=u;function c(w){return w instanceof Ge}n.isDate=c;function d(w){return w instanceof Te}n.isDuration=d;function f(w){return w==null}n.isNull=f;function p(w){return Array.isArray(w)}n.isArray=p;function h(w){return typeof w=="boolean"}n.isBoolean=h;function m(w){return w instanceof Go}n.isLink=m;function v(w){return w instanceof y_}n.isWidget=v;function g(w){return typeof HTMLElement!="undefined"?w instanceof HTMLElement:!1}n.isHtml=g;function y(w){return typeof w=="object"&&!g(w)&&!v(w)&&!p(w)&&!d(w)&&!c(w)&&!m(w)&&w!==void 0&&!f(w)}n.isObject=y;function C(w){return typeof w=="function"}n.isFunction=C})(v_||(v_={}));var _Z;(function(n){function e(o){return v_.isObject(o)&&Object.keys(o).length==2&&"key"in o&&"rows"in o}n.isElementGroup=e;function t(o){for(let i of o)if(!e(i))return!1;return!0}n.isGrouping=t;function r(o){if(t(o)){let i=0;for(let a of o)i+=r(a.rows);return i}else return o.length}n.count=r})(_Z||(_Z={}));var Go=class{static file(e,t=!1,r){return new Go({path:e,embed:t,display:r,subpath:void 0,type:"file"})}static infer(e,t=!1,r){if(e.includes("#^")){let o=e.split("#^");return Go.block(o[0],o[1],t,r)}else if(e.includes("#")){let o=e.split("#");return Go.header(o[0],o[1],t,r)}else return Go.file(e,t,r)}static header(e,t,r,o){return new Go({path:e,embed:r,display:o,subpath:EDe(t),type:"header"})}static block(e,t,r,o){return new Go({path:e,embed:r,display:o,subpath:t,type:"block"})}static fromObject(e){return new Go(e)}constructor(e){Object.assign(this,e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new Go(Object.assign({},this,{path:e}))}withDisplay(e){return new Go(Object.assign({},this,{display:e}))}withHeader(e){return Go.header(this.path,e,this.embed,this.display)}toFile(){return Go.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new Go(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new Go(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+bZ(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,t;let r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?r+"#^"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):r}fileName(){return bZ(this.path).replace(".md","")}},y_=class{constructor(e){this.$widget=e}},ZH=class extends y_{constructor(e,t){super("dataview:list-pair"),this.key=e,this.value=t}markdown(){return`${v_.toString(this.key)}: ${v_.toString(this.value)}`}},QH=class extends y_{constructor(e,t){super("dataview:external-link"),this.url=e,this.display=t}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},EZ;(function(n){function e(a,s){return new ZH(a,s)}n.listPair=e;function t(a,s){return new QH(a,s)}n.externalLink=t;function r(a){return a.$widget==="dataview:list-pair"}n.isListPair=r;function o(a){return a.$widget==="dataview:external-link"}n.isExternalLink=o;function i(a){return r(a)||o(a)}n.isBuiltin=i})(EZ||(EZ={}));var Rr;(function(n){function e(f){return{type:"variable",name:f}}n.variable=e;function t(f){return{type:"literal",value:f}}n.literal=t;function r(f,p,h){return{type:"binaryop",left:f,op:p,right:h}}n.binaryOp=r;function o(f,p){return{type:"index",object:f,index:p}}n.index=o;function i(f){let p=f.split("."),h=n.variable(p[0]);for(let m=1;m<p.length;m++)h=n.index(h,n.literal(p[m]));return h}n.indexVariable=i;function a(f,p){return{type:"lambda",arguments:f,value:p}}n.lambda=a;function s(f,p){return{type:"function",func:f,arguments:p}}n.func=s;function l(f){return{type:"list",values:f}}n.list=l;function u(f){return{type:"object",values:f}}n.object=u;function c(f){return{type:"negated",child:f}}n.negate=c;function d(f){return f=="<="||f=="<"||f==">"||f==">="||f=="!="||f=="="}n.isCompareOp=d,n.NULL=n.literal(null)})(Rr||(Rr={}));var vc;(function(n){function e(c){return{type:"tag",tag:c}}n.tag=e;function t(c){return{type:"csv",path:c}}n.csv=t;function r(c){return{type:"folder",folder:c}}n.folder=r;function o(c,d){return{type:"link",file:c,direction:d?"incoming":"outgoing"}}n.link=o;function i(c,d,f){return{type:"binaryop",left:c,op:d,right:f}}n.binaryOp=i;function a(c,d){return{type:"binaryop",left:c,op:"&",right:d}}n.and=a;function s(c,d){return{type:"binaryop",left:c,op:"|",right:d}}n.or=s;function l(c){return{type:"negate",child:c}}n.negate=l;function u(){return{type:"empty"}}n.empty=u})(vc||(vc={}));var xZ=new RegExp(u$(),""),JH={year:Te.fromObject({years:1}),years:Te.fromObject({years:1}),yr:Te.fromObject({years:1}),yrs:Te.fromObject({years:1}),month:Te.fromObject({months:1}),months:Te.fromObject({months:1}),mo:Te.fromObject({months:1}),mos:Te.fromObject({months:1}),week:Te.fromObject({weeks:1}),weeks:Te.fromObject({weeks:1}),wk:Te.fromObject({weeks:1}),wks:Te.fromObject({weeks:1}),w:Te.fromObject({weeks:1}),day:Te.fromObject({days:1}),days:Te.fromObject({days:1}),d:Te.fromObject({days:1}),hour:Te.fromObject({hours:1}),hours:Te.fromObject({hours:1}),hr:Te.fromObject({hours:1}),hrs:Te.fromObject({hours:1}),h:Te.fromObject({hours:1}),minute:Te.fromObject({minutes:1}),minutes:Te.fromObject({minutes:1}),min:Te.fromObject({minutes:1}),mins:Te.fromObject({minutes:1}),m:Te.fromObject({minutes:1}),second:Te.fromObject({seconds:1}),seconds:Te.fromObject({seconds:1}),sec:Te.fromObject({seconds:1}),secs:Te.fromObject({seconds:1}),s:Te.fromObject({seconds:1})},e$={now:()=>Ge.local(),today:()=>Ge.local().startOf("day"),yesterday:()=>Ge.local().startOf("day").minus(Te.fromObject({days:1})),tomorrow:()=>Ge.local().startOf("day").plus(Te.fromObject({days:1})),sow:()=>Ge.local().startOf("week"),"start-of-week":()=>Ge.local().startOf("week"),eow:()=>Ge.local().endOf("week"),"end-of-week":()=>Ge.local().endOf("week"),soy:()=>Ge.local().startOf("year"),"start-of-year":()=>Ge.local().startOf("year"),eoy:()=>Ge.local().endOf("year"),"end-of-year":()=>Ge.local().endOf("year"),som:()=>Ge.local().startOf("month"),"start-of-month":()=>Ge.local().startOf("month"),eom:()=>Ge.local().endOf("month"),"end-of-month":()=>Ge.local().endOf("month")},t$=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function DDe(n){let e=-1;for(;(e=n.indexOf("|",e+1))>=0;)if(!(e>0&&n[e-1]=="\\"))return[n.substring(0,e).replace(/\\\|/g,"|"),n.substring(e+1)];return[n.replace(/\\\|/g,"|"),void 0]}function RDe(n){let[e,t]=DDe(n);return Go.infer(e,!1,t)}function d_(n,e,t){return B.seqMap(n,B.seq(B.optWhitespace,e,B.optWhitespace,n).many(),(r,o)=>{if(o.length==0)return r;let i=t(r,o[0][1],o[0][3]);for(let a=1;a<o.length;a++)i=t(i,o[a][1],o[a][3]);return i})}function TDe(n,...e){return B.custom((t,r)=>(o,i)=>{let a=n._(o,i);if(!a.status)return a;for(let s of e){let l=s(a.value)._(o,a.index);if(!l.status)return a;a=l}return a})}var tu=B.createLanguage({number:n=>B.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:n=>B.string('"').then(B.alt(n.escapeCharacter,B.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(B.string('"')).desc("string"),escapeCharacter:n=>B.string("\\").then(B.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:n=>B.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:n=>B.seqMap(B.string("#"),B.alt(B.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,t)=>e+t.join("")).desc("tag ('#hello/stuff')"),identifier:n=>B.seqMap(B.alt(B.regexp(/\p{Letter}/u),B.regexp(xZ).desc("text")),B.alt(B.regexp(/[0-9\p{Letter}_-]/u),B.regexp(xZ).desc("text")).many(),(e,t)=>e+t.join("")).desc("variable identifier"),link:n=>B.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>RDe(e)).desc("file link"),embedLink:n=>B.seqMap(B.string("!").atMost(1),n.link,(e,t)=>(e.length>0&&(t.embed=!0),t)).desc("file link"),binaryPlusMinus:n=>B.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:n=>B.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:n=>B.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:n=>B.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:n=>B.seqMap(B.regexp(/\d{4}/),B.string("-"),B.regexp(/\d{2}/),(e,t,r)=>Ge.fromObject({year:Number.parseInt(e),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:n=>B.alt(...Object.keys(e$).sort((e,t)=>t.length-e.length).map(B.string)),date:n=>TDe(n.rootDate,e=>B.seqMap(B.string("-"),B.regexp(/\d{2}/),(t,r)=>e.set({day:Number.parseInt(r)})),e=>B.seqMap(B.string("T"),B.regexp(/\d{2}/),(t,r)=>e.set({hour:Number.parseInt(r)})),e=>B.seqMap(B.string(":"),B.regexp(/\d{2}/),(t,r)=>e.set({minute:Number.parseInt(r)})),e=>B.seqMap(B.string(":"),B.regexp(/\d{2}/),(t,r)=>e.set({second:Number.parseInt(r)})),e=>B.alt(B.seqMap(B.string("."),B.regexp(/\d{3}/),(t,r)=>e.set({millisecond:Number.parseInt(r)})),B.succeed(e)),e=>B.alt(B.seqMap(B.string("+").or(B.string("-")),B.regexp(/\d{1,2}(:\d{2})?/),(t,r)=>e.setZone("UTC"+t+r,{keepLocalTime:!0})),B.seqMap(B.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),B.seqMap(B.string("["),B.regexp(/[0-9A-Za-z+-\/]+/u),B.string("]"),(t,r,o)=>e.setZone(r,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:n=>B.alt(n.dateShorthand.map(e=>e$[e]()),n.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:n=>B.alt(...Object.keys(JH).sort((e,t)=>t.length-e.length).map(B.string)),duration:n=>B.seqMap(n.number,B.optWhitespace,n.durationType,(e,t,r)=>JH[r].mapUnits(o=>o*e)).sepBy1(B.string(",").trim(B.optWhitespace).or(B.optWhitespace)).map(e=>e.reduce((t,r)=>t.plus(r))).desc("duration like 4hr2min"),rawNull:n=>B.string("null"),tagSource:n=>n.tag.map(e=>vc.tag(e)),csvSource:n=>B.seqMap(B.string("csv(").skip(B.optWhitespace),n.string,B.string(")"),(e,t,r)=>vc.csv(t)),linkIncomingSource:n=>n.link.map(e=>vc.link(e.path,!0)),linkOutgoingSource:n=>B.seqMap(B.string("outgoing(").skip(B.optWhitespace),n.link,B.string(")"),(e,t,r)=>vc.link(t.path,!1)),folderSource:n=>n.string.map(e=>vc.folder(e)),parensSource:n=>B.seqMap(B.string("("),B.optWhitespace,n.source,B.optWhitespace,B.string(")"),(e,t,r,o,i)=>r),negateSource:n=>B.seqMap(B.alt(B.string("-"),B.string("!")),n.atomSource,(e,t)=>vc.negate(t)),atomSource:n=>B.alt(n.parensSource,n.negateSource,n.linkOutgoingSource,n.linkIncomingSource,n.folderSource,n.tagSource,n.csvSource),binaryOpSource:n=>d_(n.atomSource,n.binaryBooleanOp.map(e=>e),vc.binaryOp),source:n=>n.binaryOpSource,variableField:n=>n.identifier.chain(e=>t$.includes(e.toUpperCase())?B.fail("Variable fields cannot be a keyword ("+t$.join(" or ")+")"):B.succeed(Rr.variable(e))).desc("variable"),numberField:n=>n.number.map(e=>Rr.literal(e)).desc("number"),stringField:n=>n.string.map(e=>Rr.literal(e)).desc("string"),boolField:n=>n.bool.map(e=>Rr.literal(e)).desc("boolean"),dateField:n=>B.seqMap(B.string("date("),B.optWhitespace,n.datePlus,B.optWhitespace,B.string(")"),(e,t,r,o,i)=>Rr.literal(r)).desc("date"),durationField:n=>B.seqMap(B.string("dur("),B.optWhitespace,n.duration,B.optWhitespace,B.string(")"),(e,t,r,o,i)=>Rr.literal(r)).desc("duration"),nullField:n=>n.rawNull.map(e=>Rr.NULL),linkField:n=>n.link.map(e=>Rr.literal(e)),listField:n=>n.field.sepBy(B.string(",").trim(B.optWhitespace)).wrap(B.string("[").skip(B.optWhitespace),B.optWhitespace.then(B.string("]"))).map(e=>Rr.list(e)).desc("list ('[1, 2, 3]')"),objectField:n=>B.seqMap(n.identifier.or(n.string),B.string(":").trim(B.optWhitespace),n.field,(e,t,r)=>({name:e,value:r})).sepBy(B.string(",").trim(B.optWhitespace)).wrap(B.string("{").skip(B.optWhitespace),B.optWhitespace.then(B.string("}"))).map(e=>{let t={};for(let r of e)t[r.name]=r.value;return Rr.object(t)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:n=>B.alt(n.date,n.duration.map(e=>xQ(e)),n.string,n.tag,n.embedLink,n.bool,n.number,n.rawNull),inlineFieldList:n=>n.atomInlineField.sepBy(B.string(",").trim(B.optWhitespace).lookahead(n.atomInlineField)),inlineField:n=>B.alt(B.seqMap(n.atomInlineField,B.string(",").trim(B.optWhitespace),n.inlineFieldList,(e,t,r)=>[e].concat(r)),n.atomInlineField),atomField:n=>B.alt(n.embedLink.map(e=>Rr.literal(e)),n.negatedField,n.linkField,n.listField,n.objectField,n.lambdaField,n.parensField,n.boolField,n.numberField,n.stringField,n.dateField,n.durationField,n.nullField,n.variableField),indexField:n=>B.seqMap(n.atomField,B.alt(n.dotPostfix,n.indexPostfix,n.functionPostfix).many(),(e,t)=>{let r=e;for(let o of t)switch(o.type){case"dot":r=Rr.index(r,Rr.literal(o.field));break;case"index":r=Rr.index(r,o.field);break;case"function":r=Rr.func(r,o.fields);break}return r}),negatedField:n=>B.seqMap(B.string("!"),n.indexField,(e,t)=>Rr.negate(t)).desc("negated field"),parensField:n=>B.seqMap(B.string("("),B.optWhitespace,n.field,B.optWhitespace,B.string(")"),(e,t,r,o,i)=>r),lambdaField:n=>B.seqMap(n.identifier.sepBy(B.string(",").trim(B.optWhitespace)).wrap(B.string("(").trim(B.optWhitespace),B.string(")").trim(B.optWhitespace)),B.string("=>").trim(B.optWhitespace),n.field,(e,t,r)=>({type:"lambda",arguments:e,value:r})),dotPostfix:n=>B.seqMap(B.string("."),n.identifier,(e,t)=>({type:"dot",field:t})),indexPostfix:n=>B.seqMap(B.string("["),B.optWhitespace,n.field,B.optWhitespace,B.string("]"),(e,t,r,o,i)=>({type:"index",field:r})),functionPostfix:n=>B.seqMap(B.string("("),B.optWhitespace,n.field.sepBy(B.string(",").trim(B.optWhitespace)),B.optWhitespace,B.string(")"),(e,t,r,o,i)=>({type:"function",fields:r})),binaryMulDivField:n=>d_(n.indexField,n.binaryMulDiv,Rr.binaryOp),binaryPlusMinusField:n=>d_(n.binaryMulDivField,n.binaryPlusMinus,Rr.binaryOp),binaryCompareField:n=>d_(n.binaryPlusMinusField,n.binaryCompareOp,Rr.binaryOp),binaryBooleanField:n=>d_(n.binaryCompareField,n.binaryBooleanOp,Rr.binaryOp),binaryOpField:n=>n.binaryBooleanField,field:n=>n.binaryOpField});function PDe(n){try{return vO.success(tu.field.tryParse(n))}catch(e){return vO.failure(""+e)}}var CO;(function(n){function e(r,o){return{name:r,field:o}}n.named=e;function t(r,o){return{field:r,direction:o}}n.sortBy=t})(CO||(CO={}));function ODe(n){return B.custom((e,t)=>(r,o)=>{let i=n._(r,o);return i.status?Object.assign({},i,{value:[i.value,r.substring(o,i.index)]}):i})}function IDe(n){return n.split(/[\r\n]+/).map(e=>e.trim()).join("")}function DZ(n,e){return B.eof.map(n).or(B.whitespace.then(e))}var FDe=B.createLanguage({queryType:n=>B.alt(B.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:n=>B.seqMap(tu.field.skip(B.whitespace),B.regexp(/AS/i).skip(B.whitespace),tu.identifier.or(tu.string),(e,t,r)=>CO.named(r,e)),namedField:n=>B.alt(n.explicitNamedField,ODe(tu.field).map(([e,t])=>CO.named(IDe(t),e))),sortField:n=>B.seqMap(tu.field.skip(B.optWhitespace),B.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,t)=>{let r=t.length==0?"ascending":t[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:e,direction:r}}),headerClause:n=>n.queryType.chain(e=>{switch(e){case"table":return DZ(()=>({type:e,fields:[],showId:!0}),B.seqMap(B.regexp(/WITHOUT\s+ID/i).skip(B.optWhitespace).atMost(1),B.sepBy(n.namedField,B.string(",").trim(B.optWhitespace)),(t,r)=>({type:e,fields:r,showId:t.length==0})));case"list":return DZ(()=>({type:e,format:void 0,showId:!0}),B.seqMap(B.regexp(/WITHOUT\s+ID/i).skip(B.optWhitespace).atMost(1),tu.field.atMost(1),(t,r)=>({type:e,format:r.length==1?r[0]:void 0,showId:t.length==0})));case"task":return B.succeed({type:e});case"calendar":return B.whitespace.then(B.seqMap(n.namedField,t=>({type:e,showId:!0,field:t})));default:return B.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:n=>B.seqMap(B.regexp(/FROM/i),B.whitespace,tu.source,(e,t,r)=>r),whereClause:n=>B.seqMap(B.regexp(/WHERE/i),B.whitespace,tu.field,(e,t,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:n=>B.seqMap(B.regexp(/SORT/i),B.whitespace,n.sortField.sepBy1(B.string(",").trim(B.optWhitespace)),(e,t,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:n=>B.seqMap(B.regexp(/LIMIT/i),B.whitespace,tu.field,(e,t,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:n=>B.seqMap(B.regexp(/FLATTEN/i).skip(B.whitespace),n.namedField,(e,t)=>({type:"flatten",field:t})).desc("FLATTEN <value> [AS <name>]"),groupByClause:n=>B.seqMap(B.regexp(/GROUP BY/i).skip(B.whitespace),n.namedField,(e,t)=>({type:"group",field:t})).desc("GROUP BY <value> [AS <name>]"),clause:n=>B.alt(n.fromClause,n.whereClause,n.sortByClause,n.limitClause,n.groupByClause,n.flattenClause),query:n=>B.seqMap(n.headerClause.trim(B.optWhitespace),n.fromClause.trim(B.optWhitespace).atMost(1),n.clause.trim(B.optWhitespace).many(),(e,t,r)=>({header:e,source:t.length==0?vc.folder(""):t[0],operations:r,settings:l$}))}),LDe=n=>{var e;return n?(e=n.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},MDe=n=>n.plugins.enabledPlugins.has("dataview");yc.DATE_SHORTHANDS=e$;yc.DURATION_TYPES=JH;yc.EXPRESSION=tu;yc.KEYWORDS=t$;yc.QUERY_LANGUAGE=FDe;yc.getAPI=LDe;yc.isPluginEnabled=MDe;yc.parseField=PDe});var io=$e(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});function Nc(n){return n==null||n===""?null:n}function te(n,e){return e===void 0&&(e=!1),n!=null&&(n!==""||e)}function Ke(n){return!te(n)}function os(n){return n==null||n.length===0}function oE(n){return n!=null&&typeof n.toString=="function"?n.toString():null}function Zp(n){if(n!==void 0){if(n===null||n==="")return null;if(typeof n=="number")return isNaN(n)?void 0:n;var e=parseInt(n,10);return isNaN(e)?void 0:e}}function EI(n){if(n!==void 0)return n===null||n===""?!1:typeof n=="boolean"?n:/true/i.test(n)}function GDe(n){if(!(n==null||n===""))return n}function wB(n,e){var t=n?JSON.stringify(n):null,r=e?JSON.stringify(e):null;return t===r}function HDe(n,e,t){t===void 0&&(t=!1);var r=n==null,o=e==null;if(n&&n.toNumber&&(n=n.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&o)return 0;if(r)return-1;if(o)return 1;function i(a,s){return a>s?1:a<s?-1:0}if(typeof n!="string"||!t)return i(n,e);try{return n.localeCompare(e)}catch(a){return i(n,e)}}function wg(n){if(n instanceof Set||n instanceof Map){var e=[];return n.forEach(function(t){return e.push(t)}),e}return Object.values(n)}var $De=Object.freeze({makeNull:Nc,exists:te,missing:Ke,missingOrEmpty:os,toStringOrNull:oE,attrToNumber:Zp,attrToBoolean:EI,attrToString:GDe,jsonEquals:wB,defaultComparator:HDe,values:wg}),mee=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},n.prototype.getUniqueKey=function(e,t){e=oE(e);for(var r=0;;){var o=void 0;if(e?(o=e,r!==0&&(o+="_"+r)):t?(o=t,r!==0&&(o+="_"+r)):o=r,!this.existingKeys[o])return this.existingKeys[o]=!0,String(o);r++}},n}(),BDe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WDe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i};function bi(n,e){var t,r;if(n!=null){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(o.toString(),n[o]);return}try{for(var i=BDe(Object.entries(n)),a=i.next();!a.done;a=i.next()){var s=WDe(a.value,2),l=s[0],u=s[1];e(l,u)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}}function $B(n){for(var e={},t=Object.keys(n),r=0;r<t.length;r++){var o=t[r],i=n[o];e[o]=i}return e}function xI(n,e){if(n){var t=n,r={};return Object.keys(t).forEach(function(o){if(!(e&&e.indexOf(o)>=0)){var i=t[o],a=DI(i)&&i.constructor===Object;a?r[o]=xI(i):r[o]=i}}),r}}function eh(n){if(!n)return[];var e=Object;if(typeof e.values=="function")return e.values(n);var t=[];for(var r in n)n.hasOwnProperty(r)&&n.propertyIsEnumerable(r)&&t.push(n[r]);return t}function is(n,e,t,r){t===void 0&&(t=!0),r===void 0&&(r=!1),te(e)&&bi(e,function(o,i){var a=n[o];if(a!==i){if(r){var s=a==null&&i!=null;if(s){var l=typeof i=="object"&&i.constructor===Object,u=l;u&&(a={},n[o]=a)}}DI(i)&&DI(a)&&!Array.isArray(a)?is(a,i,t,r):(t||i!==void 0)&&(n[o]=i)}})}function EC(n,e,t){if(!(!e||!n)){if(!t)return n[e];for(var r=e.split("."),o=n,i=0;i<r.length;i++){if(o==null)return;o=o[r[i]]}return o}}function gee(n,e,t){e===void 0&&(e=[]),Object.keys(n).forEach(function(a){var s=n[a];typeof s=="object"&&!e.includes(a)&&(n[a]=void 0)});var r=Object.getPrototypeOf(n),o={},i=function(a){return"AG Grid: Grid API function ".concat(a,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(t)};Object.getOwnPropertyNames(r).forEach(function(a){var s=r[a];if(typeof s=="function"&&!e.includes(a)){var l=function(){};o[a]={value:l,writable:!0}}}),Object.defineProperties(n,o)}function DI(n){return typeof n=="object"&&n!==null}var zDe=Object.freeze({iterateObject:bi,cloneObject:$B,deepCloneDefinition:xI,getAllValuesInObject:eh,mergeDeep:is,getValueUsingField:EC,removeAllReferences:gee,isNonNullObject:DI}),nJ={};function Sg(n,e){nJ[e]||(n(),nJ[e]=!0)}function ze(n){Sg(function(){},n)}function uu(n){Sg(function(){},n)}function UI(n){if(n.name)return n.name;var e=/function\s+([^\(]+)/.exec(n.toString());return e&&e.length===2?e[1].trim():null}function jI(n){return!!(n&&n.constructor&&n.call&&n.apply)}function vee(n){yee(n,400)}var w$=[],S$=!1;function SB(n){w$.push(n),!S$&&(S$=!0,window.setTimeout(function(){var e=w$.slice();w$.length=0,S$=!1,e.forEach(function(t){return t()})},0))}function yee(n,e){e===void 0&&(e=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(t){return t()})},e)}function as(n,e){var t;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this;window.clearTimeout(t),t=window.setTimeout(function(){n.apply(i,r)},e)}}function bB(n,e){var t=0;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this,a=new Date().getTime();a-t<e||(t=a,n.apply(i,r))}}function BB(n,e,t,r){t===void 0&&(t=100);var o=new Date().getTime(),i=null,a=!1,s=function(){var l=new Date().getTime()-o>t;(n()||l)&&(e(),a=!0,i!=null&&(window.clearInterval(i),i=null))};s(),a||(i=window.setInterval(s,10))}function UDe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return n.reduce(function(r,o){return o(r)},t)}}var jDe=function(){},KDe=Object.freeze({doOnce:Sg,warnOnce:ze,errorOnce:uu,getFunctionName:UI,isFunction:jI,executeInAWhile:vee,executeNextVMTurn:SB,executeAfter:yee,debounce:as,throttle:bB,waitUntil:BB,compose:UDe,noop:jDe});(function(n){n.CommunityCoreModule="@ag-grid-community/core",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue"})(x.ModuleNames||(x.ModuleNames={}));var x_=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},rJ=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},zt=function(){function n(){}return n.register=function(e){n.__register(e,!0,void 0)},n.registerModules=function(e){n.__registerModules(e,!0,void 0)},n.__register=function(e,t,r){n.runVersionChecks(e),r!==void 0?(n.areGridScopedModules=!0,n.gridModulesMap[r]===void 0&&(n.gridModulesMap[r]={}),n.gridModulesMap[r][e.moduleName]=e):n.globalModulesMap[e.moduleName]=e,n.setModuleBased(t)},n.__unRegisterGridModules=function(e){delete n.gridModulesMap[e]},n.__registerModules=function(e,t,r){n.setModuleBased(t),e&&e.forEach(function(o){return n.__register(o,t,r)})},n.isValidModuleVersion=function(e){var t=x_(e.version.split(".")||[],2),r=t[0],o=t[1],i=x_(n.currentModuleVersion.split(".")||[],2),a=i[0],s=i[1];return r===a&&o===s},n.runVersionChecks=function(e){if(n.currentModuleVersion||(n.currentModuleVersion=e.version),e.version&&n.isValidModuleVersion(e),e.validate){var t=e.validate();if(!t.isValid)var r=t}},n.setModuleBased=function(e){n.moduleBased===void 0?n.moduleBased=e:n.moduleBased!==e&&Sg(function(){},"ModulePackageCheck")},n.__setIsBundled=function(){n.isBundled=!0},n.__assertRegistered=function(e,t,r){var o;if(this.__isRegistered(e,r))return!0;var i=t+e,a;if(n.isBundled)a="AG Grid: unable to use ".concat(t,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(n.moduleBased||n.moduleBased===void 0){var s=(o=Object.entries(x.ModuleNames).find(function(l){var u=x_(l,2),c=u[0],d=u[1];return d===e}))===null||o===void 0?void 0:o[0];a="AG Grid: unable to use ".concat(t," as the ").concat(s," is not registered").concat(n.areGridScopedModules?" for gridId: ".concat(r):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(s," } from '").concat(e,`';
    
    ModuleRegistry.registerModules([ `).concat(s,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else a="AG Grid: unable to use ".concat(t,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return Sg(function(){},i),!1},n.__warnEnterpriseChartDisabled=function(e){var t="ag-charts-enterprise",r=t+":"+e,o="https://ag-grid.com/javascript-data-grid/integrated-charts/",i="AG Grid: the '".concat(e,"' chart type is not supported in AG Charts Community. See ").concat(o," for more details.");Sg(function(){},r)},n.__isRegistered=function(e,t){var r;return!!n.globalModulesMap[e]||!!(!((r=n.gridModulesMap[t])===null||r===void 0)&&r[e])},n.__getRegisteredModules=function(e){return rJ(rJ([],x_(wg(n.globalModulesMap)),!1),x_(wg(n.gridModulesMap[e]||{})),!1)},n.__getGridRegisteredModules=function(e){var t;return wg((t=n.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]},n.__isPackageBased=function(){return!n.moduleBased},n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n}(),qDe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},YDe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},Cee=function(){function n(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return wg(this.beanWrappers).map(function(e){return e.beanInstance})},n.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},n.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),te(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},n.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),bi(this.beanWrappers,function(r,o){var i;o.bean.__agBeanMetaData&&o.bean.__agBeanMetaData.autowireMethods&&o.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=o.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=e.getBeansForParameters(i,o.bean.name),s=new(o.bean.bind.apply(o.bean,YDe([null],qDe(a),!1)));o.beanInstance=s});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(t))},n.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var r=void 0;e.prototype.constructor?r=UI(e.prototype.constructor):r=""+e;return}var o={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=o},n.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(r){t.forEachMetaDataInHierarchy(r,function(o,i){var a=o.agClassAttributes;a&&a.forEach(function(s){var l=t.lookupBeanInstance(i,s.beanName,s.optional);r[s.attributeName]=l})})})},n.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(r){t.forEachMetaDataInHierarchy(r,function(o,i){bi(o.autowireMethods,function(a,s){if(a!=="agConstructor"){var l=t.getBeansForParameters(s,i);r[a].apply(r,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(e,t){for(var r=Object.getPrototypeOf(e);r!=null;){var o=r.constructor;if(o.hasOwnProperty("__agBeanMetaData")){var i=o.__agBeanMetaData,a=this.getBeanName(o);t(i,a)}r=Object.getPrototypeOf(r)}},n.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),r=t.substring(9,t.indexOf("("));return r},n.prototype.getBeansForParameters=function(e,t){var r=this,o=[];return e&&bi(e,function(i,a){var s=r.lookupBeanInstance(t,a);o[Number(i)]=s}),o},n.prototype.lookupBeanInstance=function(e,t,r){if(r===void 0&&(r=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(t," is used after the grid is destroyed!")),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var o=this.beanWrappers[t];return o?o.beanInstance:null},n.prototype.callLifeCycleMethods=function(e,t){var r=this;e.forEach(function(o){return r.callLifeCycleMethodsOnBean(o,t)})},n.prototype.callLifeCycleMethodsOnBean=function(e,t,r){var o={};this.forEachMetaDataInHierarchy(e,function(a){var s=a[t];s&&s.forEach(function(l){l!=r&&(o[l]=!0)})});var i=Object.keys(o);i.forEach(function(a){return e[a]()})},n.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,zt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},n.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(r){t.callLifeCycleMethodsOnBean(r,"preDestroyMethods","destroy");var o=r;typeof o.destroy=="function"&&o.destroy()}),[]):[]},n.prototype.isDestroyed=function(){return this.destroyed},n.prototype.getGridId=function(){return this.contextParams.gridId},n}();function _B(n,e,t){var r=xg(n.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function se(n,e,t){var r=xg(n.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function _i(n,e,t){var r=xg(n.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function be(n){return function(e){var t=xg(e);t.beanName=n}}function P(n){return function(e,t,r){wee(e,n,!1,e,t,null)}}function Ot(n){return function(e,t,r){wee(e,n,!0,e,t,null)}}function wee(n,e,t,r,o,i){if(e!==null&&typeof i!="number"){var a=xg(n.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:o,beanName:e,optional:t})}}function ss(n){return function(e,t,r){var o=typeof e=="function"?e:e.constructor,i;if(typeof r=="number"){var a=void 0;t?(i=xg(o),a=t):(i=xg(o),a="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[a]||(i.autowireMethods[a]={}),i.autowireMethods[a][r]=n}}}function xg(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var oJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},jO=function(n,e){return function(t,r){e(t,r,n)}},of=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(e,t,r,o){if(r===void 0&&(r=null),o===void 0&&(o=null),this.frameworkOverrides=t,this.gridOptionsService=e,r){var i=e.useAsyncEvents();this.addGlobalListener(r,i)}o&&this.addGlobalListener(o,!1)},n.prototype.setFrameworkOverrides=function(e){this.frameworkOverrides=e},n.prototype.getListeners=function(e,t,r){var o=t?this.allAsyncListeners:this.allSyncListeners,i=o.get(e);return!i&&r&&(i=new Set,o.set(e,i)),i},n.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},n.prototype.addEventListener=function(e,t,r){r===void 0&&(r=!1),this.getListeners(e,r,!0).add(t)},n.prototype.removeEventListener=function(e,t,r){r===void 0&&(r=!1);var o=this.getListeners(e,r,!1);if(o&&(o.delete(t),o.size===0)){var i=r?this.allAsyncListeners:this.allSyncListeners;i.delete(e)}},n.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},n.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},n.prototype.dispatchEvent=function(e){var t=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},n.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},n.prototype.dispatchToListeners=function(e,t){var r=this,o,i=e.type;if(t&&"event"in e){var a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}var s=function(d,f){return d.forEach(function(p){if(f.has(p)){var h=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return p(e)})}:function(){return p(e)};t?r.dispatchAsync(h):h()}})},l=(o=this.getListeners(i,t,!1))!==null&&o!==void 0?o:new Set,u=new Set(l);u.size>0&&s(u,l);var c=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){var f=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return d(i,e)})}:function(){return d(i,e)};t?r.dispatchAsync(f):f()})},n.prototype.dispatchAsync=function(e){var t=this;this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(t.flushAsyncQueue.bind(t),0)}),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},oJ([jO(0,ss("gridOptionsService")),jO(1,ss("frameworkOverrides")),jO(2,ss("globalEventListener")),jO(3,ss("globalSyncEventListener"))],n.prototype,"setBeans",null),n=oJ([be("eventService")],n),n}(),WB=function(){function n(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return n.prototype.wrap=function(e){var t=this,r=e;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(o){t.frameworkOverrides.wrapOutgoing(function(){return e(o)})},this.wrappedListeners.set(e,r)),r},n.prototype.wrapGlobal=function(e){var t=this,r=e;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(o,i){t.frameworkOverrides.wrapOutgoing(function(){return e(o,i)})},this.wrappedGlobalListeners.set(e,r)),r},n.prototype.unwrap=function(e){var t;return(t=this.wrappedListeners.get(e))!==null&&t!==void 0?t:e},n.prototype.unwrapGlobal=function(e){var t;return(t=this.wrappedGlobalListeners.get(e))!==null&&t!==void 0?t:e},n}(),D_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},XDe={resizable:!0,sortable:!0},ZDe=0;function See(){return ZDe++}var on=function(){function n(e,t,r,o){this.instanceId=See(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new of,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=o,this.setState(e)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);var t=e.sortIndex,r=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):r!==null&&(this.sortIndex=r);var o=e.hide,i=e.initialHide;o!==void 0?this.visible=!o:this.visible=!i,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var a=e.flex,s=e.initialFlex;a!==void 0?this.flex=a:s!==void 0&&(this.flex=s)},n.prototype.setColDef=function(e,t,r){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(e){this.parent=e},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(e){this.originalParent=e},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},n.prototype.initDotNotation=function(){var e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=te(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=te(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},n.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},n.prototype.initTooltip=function(){this.tooltipEnabled=te(this.colDef.tooltipField)||te(this.colDef.tooltipValueGetter)||te(this.colDef.tooltipComponent)},n.prototype.resetActualWidth=function(e){var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(e){if(Ke(this.colDef)||Ke(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return t||r},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.addEventListener=function(e,t){var r,o;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new WB(this.frameworkOverrides));var i=(o=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(t))!==null&&o!==void 0?o:t;this.eventService.addEventListener(e,i)},n.prototype.removeEventListener=function(e,t){var r,o,i=(o=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(t))!==null&&o!==void 0?o:t;this.eventService.removeEventListener(e,i)},n.prototype.createColumnFunctionCallbackParams=function(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})},n.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(t)}return!1},n.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},n.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},n.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},n.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},n.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},n.prototype.getColDefValue=function(e){var t;return(t=this.colDef[e])!==null&&t!==void 0?t:XDe[e]},n.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var r=this.createColumnFunctionCallbackParams(e),o=t;return o(r)}return!1},n.prototype.setMoving=function(e,t){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},n.prototype.createColumnEvent=function(e,t){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:t})},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(e,t){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},n.prototype.setMenuVisible=function(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},n.prototype.isSortAscending=function(){return this.sort==="asc"},n.prototype.isSortDescending=function(){return this.sort==="desc"},n.prototype.isSortNone=function(){return Ke(this.sort)},n.prototype.isSorting=function(){return te(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},n.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(e,t,r){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var o=this.createColumnEvent("filterChanged",t);r&&is(o,r),this.eventService.dispatchEvent(o)},n.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},n.prototype.setPinned=function(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},n.prototype.setFirstRightPinned=function(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},n.prototype.setLastLeftPinned=function(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},n.prototype.isPinnedLeft=function(){return this.pinned==="left"},n.prototype.isPinnedRight=function(){return this.pinned==="right"},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(e,t){var r=e===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},n.prototype.isVisible=function(){return this.visible},n.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},n.prototype.getColumnGroupPaddingInfo=function(){var e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var t=e.getPaddingLevel()+1,r=!0;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.colId},n.prototype.getUniqueId=function(){return this.colId},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},n.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},n.prototype.createBaseColDefParams=function(e){var t=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this});return t},n.prototype.getColSpan=function(e){if(Ke(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)},n.prototype.getRowSpan=function(e){if(Ke(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)},n.prototype.setActualWidth=function(e,t,r){r===void 0&&(r=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},n.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},n.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},n.prototype.setMinimum=function(e){te(this.minWidth)&&this.setActualWidth(this.minWidth,e)},n.prototype.setRowGroupActive=function(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},n.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},n.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},n.prototype.getMenuTabs=function(e){ze("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");var t=this.getColDef().menuTabs;return t==null&&(t=e),t},n.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:n.EVENT_STATE_UPDATED,key:e})},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n.EVENT_STATE_UPDATED="columnStateUpdated",D_([P("gridOptionsService")],n.prototype,"gridOptionsService",void 0),D_([P("columnUtils")],n.prototype,"columnUtils",void 0),D_([P("columnHoverService")],n.prototype,"columnHoverService",void 0),D_([P("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),D_([se],n.prototype,"initialise",null),n}(),QDe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},yr=function(){function n(e,t,r,o){this.localEventService=new of,this.expandable=!1,this.instanceId=See(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=o}return n.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},n.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setOriginalParent=function(e){this.originalParent=e},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:n.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(e){this.children=e},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},n.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(t){t instanceof on?e.push(t):t instanceof n&&t.addLeafColumns(e)})},n.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},n.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(r){return r.addEventListener("visibleChanged",t)}),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach(function(r){return r.removeEventListener("visibleChanged",t)}),e.expandableListenerRemoveCallback=null}},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,r=!1,o=this.findChildrenRemovingPadding(),i=0,a=o.length;i<a;i++){var s=o[i];if(s.isVisible()){var l=s.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}}var u=e&&t&&r;if(this.expandable!==u){this.expandable=u;var c={type:n.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},n.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(r){r.forEach(function(o){var i=o instanceof n&&o.isPadding();i?t(o.children):e.push(o)})};return t(this.children),e},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",QDe([_i],n.prototype,"destroy",null),n}(),JDe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function eRe(n){return n!=null&&n.length>0}function Vt(n){if(!(!n||!n.length))return n[n.length-1]}function nf(n,e,t){return n==null&&e==null?!0:n!=null&&e!=null&&n.length===e.length&&n.every(function(r,o){return t?t(r,e[o]):e[o]===r})}function tRe(n,e){return nf(n,e)}function bee(n){return n.sort(function(e,t){return e-t})}function nRe(n,e){if(n)for(var t=n.length-2;t>=0;t--){var r=n[t]===e,o=n[t+1]===e;r&&o&&n.splice(t+1,1)}}function zB(n,e){var t=n.indexOf(e);t>=0&&(n[t]=n[n.length-1],n.pop())}function Ca(n,e){var t=n.indexOf(e);t>=0&&n.splice(t,1)}function _ee(n,e){for(var t=0;t<e.length;t++)zB(n,e[t])}function Eee(n,e){for(var t=0;t<e.length;t++)Ca(n,e[t])}function iE(n,e,t){n.splice(t,0,e)}function rRe(n,e,t){if(!(n==null||e==null))for(var r=e.length-1;r>=0;r--){var o=e[r];iE(n,o,t)}}function EB(n,e,t){Eee(n,e),e.slice().reverse().forEach(function(r){return iE(n,r,t)})}function cu(n,e){return n.indexOf(e)>-1}function xee(n){return[].concat.apply([],n)}function xB(n,e){e==null||n==null||e.forEach(function(t){return n.push(t)})}function oRe(n){return n.map(oE)}function iRe(n,e){if(n!=null)for(var t=n.length-1;t>=0;t--)e(n[t],t)}var aRe=Object.freeze({existsAndNotEmpty:eRe,last:Vt,areEqual:nf,shallowCompare:tRe,sortNumerically:bee,removeRepeatsFromArray:nRe,removeFromUnorderedArray:zB,removeFromArray:Ca,removeAllFromUnorderedArray:_ee,removeAllFromArray:Eee,insertIntoArray:iE,insertArrayIntoArray:rRe,moveInArray:EB,includes:cu,flatten:xee,pushAll:xB,toStrings:oRe,forEachReverse:iRe}),Dee="__ag_Grid_Stop_Propagation",sRe=["touchstart","touchend","touchmove","touchcancel","scroll"],b$={};function fu(n){n[Dee]=!0}function du(n){return n[Dee]===!0}var UB=function(){var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof b$[t]=="boolean")return b$[t];var r=document.createElement(n[t]||"div");return t="on"+t,b$[t]=t in r};return e}();function RI(n,e,t){for(var r=e;r;){var o=n.getDomData(r,t);if(o)return o;r=r.parentElement}return null}function TI(n,e){return!e||!n?!1:Tee(e).indexOf(n)>=0}function Ree(n){for(var e=[],t=n.target;t;)e.push(t),t=t.parentElement;return e}function Tee(n){var e=n;return e.path?e.path:e.composedPath?e.composedPath():Ree(e)}function Pee(n,e,t,r){var o=cu(sRe,t),i=o?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(e,t,r,i)}var lRe=Object.freeze({stopPropagationForAgGrid:fu,isStopPropagationForAgGrid:du,isEventSupported:UB,getCtrlForEventTarget:RI,isElementInEventPath:TI,createEventPath:Ree,getEventPath:Tee,addSafePassiveEventListener:Pee}),fg=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},re=function(){function n(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!e.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new of),this.localEventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},n.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},n.prototype.addManagedListener=function(e,t,r){var o=this;if(!this.destroyed){e instanceof HTMLElement?Pee(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);var i=function(){return e.removeEventListener(t,r),o.destroyFunctions=o.destroyFunctions.filter(function(a){return a!==i}),null};return this.destroyFunctions.push(i),i}},n.prototype.setupGridOptionListener=function(e,t){var r=this;this.gridOptionsService.addEventListener(e,t);var o=function(){return r.gridOptionsService.removeEventListener(e,t),r.destroyFunctions=r.destroyFunctions.filter(function(i){return i!==o}),null};return this.destroyFunctions.push(o),o},n.prototype.addManagedPropertyListener=function(e,t){return this.destroyed?function(){return null}:this.setupGridOptionListener(e,t)},n.prototype.addManagedPropertyListeners=function(e,t){var r=this;if(!this.destroyed){var o=e.join("-")+this.propertyListenerId++,i=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===r.lastChangeSetIdLookup[o])return;r.lastChangeSetIdLookup[o]=a.changeSet.id}var s={type:"gridPropertyChanged",changeSet:a.changeSet,source:a.source};t(s)};e.forEach(function(a){return r.setupGridOptionListener(a,i)})}},n.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},n.prototype.createManagedBean=function(e,t){var r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r},n.prototype.createBean=function(e,t,r){return(t||this.getContext()).createBean(e,r)},n.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},n.prototype.destroyBeans=function(e,t){var r=this;return e&&e.forEach(function(o){return r.destroyBean(o,t)}),[]},n.EVENT_DESTROYED="destroyed",fg([P("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),fg([P("context")],n.prototype,"context",void 0),fg([P("eventService")],n.prototype,"eventService",void 0),fg([P("gridOptionsService")],n.prototype,"gridOptionsService",void 0),fg([P("localeService")],n.prototype,"localeService",void 0),fg([P("environment")],n.prototype,"environment",void 0),fg([_i],n.prototype,"destroy",null),n}(),uRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KO=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},cRe=function(n,e){return function(t,r){e(t,r,n)}},Oee=function(n){uRe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,r,o,i){var a=new mee,s=this.extractExistingTreeData(o),l=s.existingCols,u=s.existingGroups,c=s.existingColKeys;a.addExistingKeys(c);var d=this.recursivelyCreateColumns(t,0,r,l,a,u,i),f=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+f);var p=this.balanceColumnTree(d,0,f,a),h=function(m,v){m instanceof yr&&m.setupExpandable(),m.setOriginalParent(v)};return this.columnUtils.depthFirstOriginalTreeSearch(null,p,h),{columnTree:p,treeDept:f}},e.prototype.extractExistingTreeData=function(t){var r=[],o=[],i=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(a){if(a instanceof yr){var s=a;o.push(s)}else{var l=a;i.push(l.getId()),r.push(l)}}),{existingCols:r,existingGroups:o,existingColKeys:i}},e.prototype.createForAutoGroups=function(t,r){var o=this;return t.map(function(i){return o.createAutoGroupTreeItem(r,i)})},e.prototype.createAutoGroupTreeItem=function(t,r){for(var o=this.findDepth(t),i=r,a=o-1;a>=0;a--){var s=new yr(null,"FAKE_PATH_".concat(r.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([i]),i.setOriginalParent(s),i=s}return o===0&&r.setOriginalParent(null),i},e.prototype.findDepth=function(t){for(var r=0,o=t;o&&o[0]&&o[0]instanceof yr;)r++,o=o[0].getChildren();return r},e.prototype.balanceColumnTree=function(t,r,o,i){for(var a=[],s=0;s<t.length;s++){var l=t[s];if(l instanceof yr){var u=l,c=this.balanceColumnTree(u.getChildren(),r+1,o,i);u.setChildren(c),a.push(u)}else{for(var d=void 0,f=void 0,p=o-1;p>=r;p--){var h=i.getUniqueKey(null,null),m=this.createMergedColGroupDef(null),v=new yr(m,h,!0,r);this.createBean(v),f&&f.setChildren([v]),f=v,d||(d=f)}if(d&&f){a.push(d);var g=t.some(function(y){return y instanceof yr});if(g){f.setChildren([l]);continue}else{f.setChildren(t);break}}a.push(l)}}return a},e.prototype.findMaxDept=function(t,r){for(var o=r,i=0;i<t.length;i++){var a=t[i];if(a instanceof yr){var s=a,l=this.findMaxDept(s.getChildren(),r+1);o<l&&(o=l)}}return o},e.prototype.recursivelyCreateColumns=function(t,r,o,i,a,s,l){if(!t)return[];for(var u=new Array(t.length),c=0;c<u.length;c++){var d=t[c];this.isColumnGroup(d)?u[c]=this.createColumnGroup(o,d,r,i,a,s,l):u[c]=this.createColumn(o,d,i,a,l)}return u},e.prototype.createColumnGroup=function(t,r,o,i,a,s,l){var u=this.createMergedColGroupDef(r),c=a.getUniqueKey(u.groupId||null,null),d=new yr(u,c,!1,o);this.createBean(d);var f=this.findExistingGroup(r,s);f&&s.splice(f.idx,1);var p=f==null?void 0:f.group;p&&d.setExpanded(p.isExpanded());var h=this.recursivelyCreateColumns(u.children,o+1,t,i,a,s,l);return d.setChildren(h),d},e.prototype.createMergedColGroupDef=function(t){var r={};return Object.assign(r,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(r,t),r},e.prototype.createColumn=function(t,r,o,i,a){var s=this.findExistingColumn(r,o);s&&(o==null||o.splice(s.idx,1));var l=s==null?void 0:s.column;if(l){var c=this.addColumnDefaultAndTypes(r,l.getColId());l.setColDef(c,r,a),this.applyColumnState(l,c,a)}else{var u=i.getUniqueKey(r.colId,r.field),c=this.addColumnDefaultAndTypes(r,u);l=new on(c,r,u,t),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},e.prototype.applyColumnState=function(t,r,o){var i=Zp(r.flex);i!==void 0&&t.setFlex(i);var a=t.getFlex()<=0;if(a){var s=Zp(r.width);if(s!=null)t.setActualWidth(s,o);else{var l=t.getActualWidth();t.setActualWidth(l,o)}}r.sort!==void 0&&(r.sort=="asc"||r.sort=="desc"?t.setSort(r.sort,o):t.setSort(void 0,o));var u=Zp(r.sortIndex);u!==void 0&&t.setSortIndex(u);var c=EI(r.hide);c!==void 0&&t.setVisible(!c,o),r.pinned!==void 0&&t.setPinned(r.pinned)},e.prototype.findExistingColumn=function(t,r){if(r)for(var o=0;o<r.length;o++){var i=r[o].getUserProvidedColDef();if(i){var a=t.colId!=null;if(a){if(r[o].getId()===t.colId)return{idx:o,column:r[o]};continue}var s=t.field!=null;if(s){if(i.field===t.field)return{idx:o,column:r[o]};continue}if(i===t)return{idx:o,column:r[o]}}}},e.prototype.findExistingGroup=function(t,r){var o=t.groupId!=null;if(o)for(var i=0;i<r.length;i++){var a=r[i],s=a.getColGroupDef();if(s&&a.getId()===t.groupId)return{idx:i,group:a}}},e.prototype.addColumnDefaultAndTypes=function(t,r){var o={},i=this.gridOptionsService.get("defaultColDef");is(o,i,!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(o,t,r);a&&this.assignColumnTypes(a,o),is(o,t,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&l&&is(o,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(o),o},e.prototype.assignColumnTypes=function(t,r){if(t.length){var o=Object.assign({},JDe),i=this.gridOptionsService.get("columnTypes")||{};bi(i,function(a,s){if(!(a in o)){var l=s;l.type&&ze("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),o[a]=s}}),t.forEach(function(a){var s=o[a.trim()];s&&is(r,s,!1,!0)})}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},KO([P("columnUtils")],e.prototype,"columnUtils",void 0),KO([P("dataTypeService")],e.prototype,"dataTypeService",void 0),KO([cRe(0,ss("loggerFactory"))],e.prototype,"setBeans",null),e=KO([be("columnFactory")],e),e}(re),dRe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},kr=function(){function n(e,t,r,o){this.displayedChildren=[],this.localEventService=new of,this.groupId=t,this.partId=r,this.providedColumnGroup=e,this.pinned=o}return n.createUniqueId=function(e,t){return e+"_"+t},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(e){this.parent=e},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.partId)},n.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},n.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(o){o instanceof n&&o.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=Vt(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(e){return{type:e}},n.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getPartId=function(){return this.partId},n.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(r){e===r&&(t=!0),r instanceof n&&r.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},n.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},n.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},n.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},n.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},n.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof on?e.push(t):t instanceof n&&t.addDisplayedLeafColumns(e)})},n.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof on?e.push(t):t instanceof n&&t.addLeafColumns(e)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},n.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var r=t?t.providedColumnGroup.isExpandable():!1;if(!r){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(o){var i=o instanceof n&&(!o.displayedChildren||!o.displayedChildren.length);if(!i){var a=o.getColumnGroupShow();switch(a){case"open":t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(o);break;case"closed":t.providedColumnGroup.isExpanded()||e.displayedChildren.push(o);break;default:e.displayedChildren.push(o);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",dRe([P("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),I=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",n.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",n.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",n.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",n.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",n.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_TOOLTIP_SHOW="tooltipShow",n.EVENT_TOOLTIP_HIDE="tooltipHide",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_STATE_UPDATED="stateUpdated",n.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",n.EVENT_ROW_COUNT_READY="rowCountReady",n.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",n.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",n.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",n.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",n.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",n}(),jB=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r},n}(),fRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Dg="ag-Grid-AutoColumn",pRe=function(n){fRe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createAutoGroupColumns=function(t){var r=this,o=[],i=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return i&&a&&(a=!1),a?t.forEach(function(s,l){o.push(r.createOneAutoGroupColumn(s,l))}):o.push(this.createOneAutoGroupColumn()),o},e.prototype.updateAutoGroupColumns=function(t,r){var o=this;t.forEach(function(i,a){return o.updateOneAutoGroupColumn(i,a,r)})},e.prototype.createOneAutoGroupColumn=function(t,r){var o;t?o="".concat(Dg,"-").concat(t.getId()):o=Dg;var i=this.createAutoGroupColDef(o,t,r);i.colId=o;var a=new on(i,null,o,!0);return this.context.createBean(a),a},e.prototype.updateOneAutoGroupColumn=function(t,r,o){var i=t.getColDef(),a=typeof i.showRowGroup=="string"?i.showRowGroup:void 0,s=a!=null?this.columnModel.getPrimaryColumn(a):void 0,l=this.createAutoGroupColDef(t.getId(),s!=null?s:void 0,r);t.setColDef(l,null,o),this.columnFactory.applyColumnState(t,l,o)},e.prototype.createAutoGroupColDef=function(t,r,o){var i=this.createBaseColDef(r),a=this.gridOptionsService.get("autoGroupColumnDef");if(is(i,a),i=this.columnFactory.addColumnDefaultAndTypes(i,t),!this.gridOptionsService.get("treeData")){var s=Ke(i.field)&&Ke(i.valueGetter)&&Ke(i.filterValueGetter)&&i.filter!=="agGroupColumnFilter";s&&(i.filter=!1)}o&&o>0&&(i.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=i.valueGetter||i.field!=null;return l&&!u&&(i.sortIndex=void 0,i.initialSort=void 0),i},e.prototype.createBaseColDef=function(t){var r=this.gridOptionsService.get("autoGroupColumnDef"),o=this.localeService.getLocaleTextFunc(),i={headerName:o("group","Group")},a=r&&(r.cellRenderer||r.cellRendererSelector);if(a||(i.cellRenderer="agGroupCellRenderer"),t){var s=t.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),i.showRowGroup=t.getColId()}else i.showRowGroup=!0;return i},_$([P("columnModel")],e.prototype,"columnModel",void 0),_$([P("columnFactory")],e.prototype,"columnFactory",void 0),e=_$([be("autoGroupColService")],e),e}(re),hRe=/[&<>"']/g,mRe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gRe(n){var e=String.fromCharCode;function t(d){var f=[];if(!d)return[];for(var p=d.length,h=0,m,v;h<p;)m=d.charCodeAt(h++),m>=55296&&m<=56319&&h<p?(v=d.charCodeAt(h++),(v&64512)==56320?f.push(((m&1023)<<10)+(v&1023)+65536):(f.push(m),h--)):f.push(m);return f}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function o(d,f){return e(d>>f&63|128)}function i(d){if(d>=0&&d<=31&&d!==10){var f=d.toString(16).toUpperCase(),p=f.padStart(4,"0");return"_x".concat(p,"_")}if(!(d&4294967168))return e(d);var h="";return d&4294965248?d&4294901760?d&4292870144||(h=e(d>>18&7|240),h+=o(d,12),h+=o(d,6)):(r(d),h=e(d>>12&15|224),h+=o(d,6)):h=e(d>>6&31|192),h+=e(d&63|128),h}for(var a=t(n),s=a.length,l=-1,u,c="";++l<s;)u=a[l],c+=i(u);return c}function vRe(n){return n[0].toUpperCase()+n.substring(1).toLowerCase()}function ro(n,e){if(n==null)return null;var t=n.toString().toString();return e?t:t.replace(hRe,function(r){return mRe[r]})}function Iee(n){if(!n||n==null)return null;var e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g,r=n.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ");return r.map(function(o){return o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")}).join(" ")}function Fee(n){return n.replace(/[A-Z]/g,function(e){return"-".concat(e.toLocaleLowerCase())})}var yRe=Object.freeze({utf8_encode:gRe,capitalise:vRe,escapeString:ro,camelCaseToHumanText:Iee,camelCaseToHyphenated:Fee});function Yp(n){var e=new Map;return n.forEach(function(t){return e.set(t[0],t[1])}),e}function CRe(n,e){var t=new Map;return n.forEach(function(r){return t.set(e(r),r)}),t}function wRe(n){var e=[];return n.forEach(function(t,r){return e.push(r)}),e}var SRe=Object.freeze({convertToMap:Yp,mapById:CRe,keys:wRe}),bRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jo=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},_Re=function(n,e){return function(t,r){e(t,r,n)}},ERe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},Ja=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},es=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},E$=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lee=function(n){bRe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.viewportRowLeft={},t.viewportRowRight={},t.viewportRowCenter={},t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.changeEventsDispatching=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var r=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(o){return t.buildAutoGroupColumns(SC(o.source))}),this.addManagedPropertyListener("autoGroupColumnDef",function(o){return t.onAutoGroupColumnDefChanged(SC(o.source))}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(o){return t.onSharedColDefChanged(SC(o.source))}),this.addManagedPropertyListener("pivotMode",function(o){return t.setPivotMode(t.gridOptionsService.get("pivotMode"),SC(o.source))}),this.addManagedListener(this.eventService,I.EVENT_FIRST_DATA_RENDERED,function(){return t.onFirstDataRendered()})},e.prototype.buildAutoGroupColumns=function(t){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(t))},e.prototype.onAutoGroupColumnDefChanged=function(t){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t)},e.prototype.onSharedColDefChanged=function(t){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t),this.createColumnsFromColumnDefs(!0,t))},e.prototype.setColumnDefs=function(t,r){var o=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(o,r)},e.prototype.recreateColumnDefs=function(t){this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,r){var o={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(a){o[a.getInstanceId()]=a}),r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(a){o[a.getInstanceId()]=null});var i=Object.values(o).filter(function(a){return a!=null});this.destroyBeans(i)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,r){var o=this,i=t?this.compareColumnStatesAndDispatchEvents(r):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,s=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,s,r);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return o.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(r,a),this.extractPivotColumns(r,a),this.extractValueColumns(r,a),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(r),this.checkViewportColumns()),this.dispatchEverythingChanged(r),this.changeEventsDispatching=!0,i&&i(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(r)},e.prototype.shouldRowModelIgnoreRefresh=function(){return this.changeEventsDispatching},e.prototype.dispatchNewColumnsLoaded=function(t){var r={type:I.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(r),t==="gridInitializing"&&this.onColumnsReady()},e.prototype.dispatchEverythingChanged=function(t){var r={type:I.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(r)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,r=this.primaryColumns;if(r){var o=r.filter(function(a){return t.gridColumns.indexOf(a)>=0}),i=this.gridColumns.filter(function(a){return o.indexOf(a)<0});this.gridColumns=es(es([],Ja(i),!1),Ja(o),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var r=t,o=[];r!=null;)o.push(r),r=this.getDisplayedColAfter(r);return o},e.prototype.checkViewportColumns=function(t){if(t===void 0&&(t=!1),this.displayedColumnsCenter!=null){var r=this.extractViewport();if(r){var o={type:I.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(o)}}},e.prototype.setViewportPosition=function(t,r,o){o===void 0&&(o=!1),(t!==this.scrollWidth||r!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=r,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(o))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!(t&&this.gridOptionsService.get("treeData"))},e.prototype.setPivotMode=function(t,r){if(!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=t,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(r);var o={type:I.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(o)}},e.prototype.getSecondaryPivotColumn=function(t,r){if(Ke(this.secondaryColumns))return null;var o=this.getPrimaryColumn(r),i=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn,u=nf(s,t),c=l===o;u&&c&&(i=a)}),i},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var r,o;this.gridOptionsService.get("enableRtl")?(r=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,o=this.displayedColumnsRight?Vt(this.displayedColumnsRight):null):(r=this.displayedColumnsLeft?Vt(this.displayedColumnsLeft):null,o=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(i){i.setLastLeftPinned(i===r,t),i.setFirstRightPinned(i===o,t)})},e.prototype.autoSizeColumns=function(t){var r=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeColumns(t)});return}var o=t.columns,i=t.skipHeader,a=t.skipHeaderGroups,s=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,f=i!=null?i:this.gridOptionsService.get("skipHeaderOnAutoSize"),p=a!=null?a:f;d!==0;)d=0,this.actionOnGridColumns(o,function(h){if(c.indexOf(h)>=0)return!1;var m=r.autoWidthCalculator.getPreferredWidthForColumn(h,f);if(m>0){var v=r.normaliseColumnWidth(h,m);h.setActualWidth(v,u),c.push(h),d++}return!0},u);p||this.autoSizeColumnGroupsByColumns(o,u,s),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,r,o,i){if(i===void 0&&(i=null),t&&t.length){var a={type:I.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:r,source:o};this.eventService.dispatchEvent(a)}},e.prototype.dispatchColumnChangedEvent=function(t,r,o){var i={type:t,columns:r,column:r&&r.length==1?r[0]:null,source:o};this.eventService.dispatchEvent(i)},e.prototype.dispatchColumnMovedEvent=function(t){var r=t.movedColumns,o=t.source,i=t.toIndex,a=t.finished,s={type:I.EVENT_COLUMN_MOVED,columns:r,column:r&&r.length===1?r[0]:null,toIndex:i,finished:a,source:o};this.eventService.dispatchEvent(s)},e.prototype.dispatchColumnPinnedEvent=function(t,r){if(t.length){var o=t.length===1?t[0]:null,i=this.getCommonValue(t,function(s){return s.getPinned()}),a={type:I.EVENT_COLUMN_PINNED,pinned:i!=null?i:null,columns:t,column:o,source:r};this.eventService.dispatchEvent(a)}},e.prototype.dispatchColumnVisibleEvent=function(t,r){if(t.length){var o=t.length===1?t[0]:null,i=this.getCommonValue(t,function(s){return s.isVisible()}),a={type:I.EVENT_COLUMN_VISIBLE,visible:i,columns:t,column:o,source:r};this.eventService.dispatchEvent(a)}},e.prototype.autoSizeColumn=function(t,r,o){t&&this.autoSizeColumns({columns:[t],skipHeader:o,skipHeaderGroups:!0,source:r})},e.prototype.autoSizeColumnGroupsByColumns=function(t,r,o){var i,a,s,l,u=new Set,c=this.getGridColumns(t);c.forEach(function(C){for(var w=C.getParent();w&&w!=o;)w.isPadding()||u.add(w),w=w.getParent()});var d,f=[];try{for(var p=E$(u),h=p.next();!h.done;h=p.next()){var m=h.value;try{for(var v=(s=void 0,E$(this.ctrlsService.getHeaderRowContainerCtrls())),g=v.next();!g.done;g=v.next()){var y=g.value;if(d=y.getHeaderCtrlForColumn(m),d)break}}catch(C){s={error:C}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(r)}}catch(C){i={error:C}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return f},e.prototype.autoSizeAllColumns=function(t,r){var o=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return o.autoSizeAllColumns(t,r)});return}var i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:r,source:t})},e.prototype.getColumnsFromTree=function(t){var r=[],o=function(i){for(var a=0;a<i.length;a++){var s=i[a];s instanceof on?r.push(s):s instanceof yr&&o(s.getChildren())}};return o(t),r},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,r,o,i){for(var a=[],s=null,l=function(d){var f=r[d],p=r.length-d,h=Math.min(f.getColSpan(t),p),m=[f];if(h>1){for(var v=h-1,g=1;g<=v;g++)m.push(r[d+g]);d+=v}var y;if(o?(y=!1,m.forEach(function(w){o(w)&&(y=!0)})):y=!0,y){if(a.length===0&&s){var C=i?i(f):!1;C&&a.push(s)}a.push(f)}s=f,u=d},u,c=0;c<r.length;c++)l(c),c=u;return a},e.prototype.getViewportCenterColumnsForRow=function(t){var r=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=function(a){var s=a.getLeft();return te(s)&&s>r.viewportLeft},i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,i,o)},e.prototype.isColumnAtEdge=function(t,r){var o=this.getAllDisplayedColumns();if(!o.length)return!1;var i=r==="first",a;if(t instanceof kr){var s=t.getDisplayedLeafColumns();if(!s.length)return!1;a=i?s[0]:Vt(s)}else a=t;return(i?o[0]:Vt(o))===a},e.prototype.getAriaColumnIndex=function(t){var r;return t instanceof kr?r=t.getLeafColumns()[0]:r=t,this.ariaOrderColumns.indexOf(r)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var r=t.getLeft()||0,o=r+t.getActualWidth(),i=this.viewportLeft-200,a=this.viewportRight+200,s=r<i&&o<i,l=r>a&&o>a;return!s&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,r,o,i,a,s){var l=this;if(!(!t||os(t))){var u=!1;if(t.forEach(function(d){if(d){var f=l.getPrimaryColumn(d);if(f){if(o){if(r.indexOf(f)>=0)return;r.push(f)}else{if(r.indexOf(f)<0)return;Ca(r,f)}i(f),u=!0}}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var c={type:a,columns:r,column:r.length===1?r[0]:null,source:s};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,r){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,I.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),r)},e.prototype.setRowGroupActive=function(t,r,o){t!==r.isRowGroupActive()&&(r.setRowGroupActive(t,o),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([r],!1,o),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([r],!0,o))},e.prototype.addRowGroupColumns=function(t,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),I.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},e.prototype.removeRowGroupColumns=function(t,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),I.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},e.prototype.addPivotColumns=function(t,r){this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(o){return o.setPivotActive(!0,r)},I.EVENT_COLUMN_PIVOT_CHANGED,r)},e.prototype.setPivotColumns=function(t,r){this.setPrimaryColumnList(t,this.pivotColumns,I.EVENT_COLUMN_PIVOT_CHANGED,!0,function(o,i){i.setPivotActive(o,r)},r)},e.prototype.removePivotColumns=function(t,r){this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(o){return o.setPivotActive(!1,r)},I.EVENT_COLUMN_PIVOT_CHANGED,r)},e.prototype.setPrimaryColumnList=function(t,r,o,i,a,s){var l=this;if(this.gridColumns){var u=new Map;r.forEach(function(c,d){return u.set(c,d)}),r.length=0,te(t)&&t.forEach(function(c){var d=l.getPrimaryColumn(c);d&&r.push(d)}),r.forEach(function(c,d){var f=u.get(c);if(f===void 0){u.set(c,0);return}i&&f!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=r.indexOf(c)>=0;a(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(o,es([],Ja(u.keys()),!1),s)}},e.prototype.setValueColumns=function(t,r){this.setPrimaryColumnList(t,this.valueColumns,I.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),r)},e.prototype.setValueActive=function(t,r,o){if(t!==r.isValueActive()&&(r.setValueActive(t,o),t&&!r.getAggFunc())){var i=this.aggFuncService.getDefaultAggFunc(r);r.setAggFunc(i)}},e.prototype.addValueColumns=function(t,r){this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),I.EVENT_COLUMN_VALUE_CHANGED,r)},e.prototype.removeValueColumns=function(t,r){this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),I.EVENT_COLUMN_VALUE_CHANGED,r)},e.prototype.normaliseColumnWidth=function(t,r){var o=t.getMinWidth();te(o)&&r<o&&(r=o);var i=t.getMaxWidth();return te(i)&&t.isGreaterThanMax(r)&&(r=i),r},e.prototype.getPrimaryOrGridColumn=function(t){var r=this.getPrimaryColumn(t);return r||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,r,o,i){var a=this,s=[];t.forEach(function(l){var u=a.getPrimaryOrGridColumn(l.key);if(u){s.push({width:l.newWidth,ratios:[1],columns:[u]});var c=a.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(r=!r),r){var d=a.getDisplayedColAfter(u);if(!d)return;var f=u.getActualWidth()-l.newWidth,p=d.getActualWidth()+f;s.push({width:p,ratios:[1],columns:[d]})}}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:o,source:i})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var r=t.columns,o=t.width,i=0,a=0,s=!0;r.forEach(function(c){var d=c.getMinWidth();i+=d||0;var f=c.getMaxWidth();te(f)&&f>0?a+=f:s=!1});var l=o>=i,u=!s||o<=a;return l&&u},e.prototype.resizeColumnSets=function(t){var r=this,o=t.resizeSets,i=t.finished,a=t.source,s=!o||o.every(function(h){return r.checkMinAndMaxWidthsForSet(h)});if(!s){if(i){var l=o&&o.length>0?o[0].columns:null;this.dispatchColumnResizedEvent(l,i,a)}return}var u=[],c=[];o.forEach(function(h){var m=h.width,v=h.columns,g=h.ratios,y={},C={};v.forEach(function(S){return c.push(S)});for(var w=!0,b=0,E=function(){if(b++,b>1e3)return"break";w=!1;var S=[],T=0,O=m;v.forEach(function(k,A){var $=C[k.getId()];if($)O-=y[k.getId()];else{S.push(k);var G=g[A];T+=G}});var L=1/T;S.forEach(function(k,A){var $=A===S.length-1,G;$?G=O:(G=Math.round(g[A]*m*L),O-=G);var K=k.getMinWidth(),V=k.getMaxWidth();te(K)&&G<K?(G=K,C[k.getId()]=!0,w=!0):te(V)&&V>0&&G>V&&(G=V,C[k.getId()]=!0,w=!0),y[k.getId()]=G})};w;){var D=E();if(D==="break")break}v.forEach(function(S){var T=y[S.getId()],O=S.getActualWidth();O!==T&&(S.setActualWidth(T,a),u.push(S))})});var d=u.length>0,f=[];d&&(f=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var p=c.concat(f);(d||i)&&this.dispatchColumnResizedEvent(p,i,a,f)},e.prototype.setColumnAggFunc=function(t,r,o){if(t){var i=this.getPrimaryColumn(t);i&&(i.setAggFunc(r),this.dispatchColumnChangedEvent(I.EVENT_COLUMN_VALUE_CHANGED,[i],o))}},e.prototype.moveRowGroupColumn=function(t,r,o){if(!this.isRowGroupEmpty()){var i=this.rowGroupColumns[t],a=this.rowGroupColumns.slice(t,r);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(r,0,i);var s={type:I.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:a.length===1?a[0]:null,source:o};this.eventService.dispatchEvent(s)}},e.prototype.moveColumns=function(t,r,o,i){if(i===void 0&&(i=!0),!!this.gridColumns&&(this.columnAnimationService.start(),!(r>this.gridColumns.length-t.length))){var a=this.getGridColumns(t),s=!this.doesMovePassRules(a,r);s||(EB(this.gridColumns,a,r),this.updateDisplayedColumns(o),this.dispatchColumnMovedEvent({movedColumns:a,source:o,toIndex:r,finished:i}),this.columnAnimationService.finish())}},e.prototype.doesMovePassRules=function(t,r){var o=this.getProposedColumnOrder(t,r);return this.doesOrderPassRules(o)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,r){var o=this.gridColumns.slice();return EB(o,t,r),o},e.prototype.sortColumnsLikeGridColumns=function(t){var r=this;if(!(!t||t.length<=1)){var o=t.filter(function(i){return r.gridColumns.indexOf(i)<0}).length>0;o||t.sort(function(i,a){var s=r.gridColumns.indexOf(i),l=r.gridColumns.indexOf(a);return s-l})}},e.prototype.doesMovePassLockedPositions=function(t){var r=0,o=!0,i=function(a){return a?a===!0||a==="left"?0:2:1};return t.forEach(function(a){var s=i(a.getColDef().lockPosition);s<r&&(o=!1),r=s}),o},e.prototype.doesMovePassMarryChildren=function(t){var r=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){if(o instanceof yr){var i=o,a=i.getColGroupDef(),s=a&&a.marryChildren;if(s){var l=[];i.getLeafColumns().forEach(function(p){var h=t.indexOf(p);l.push(h)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,f=i.getLeafColumns().length-1;d>f&&(r=!1)}}}),r},e.prototype.moveColumnByIndex=function(t,r,o){if(this.gridColumns){var i=this.gridColumns[t];this.moveColumns([i],r,o)}},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort(function(o,i){return t.gridColumns.indexOf(o)-t.gridColumns.indexOf(i)}):this.lastPrimaryOrder&&r.sort(function(o,i){return t.lastPrimaryOrder.indexOf(o)-t.lastPrimaryOrder.indexOf(i)}),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),r=this.getWidthOfColsInList(this.displayedColumnsLeft),o=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var i=this.bodyWidth!==t||this.leftWidth!==r||this.rightWidth!==o;if(i){this.bodyWidth=t,this.leftWidth=r,this.rightWidth=o;var a={type:I.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(a);var s={type:I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns:null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns:null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){var t;return(t=this.gridColumns)!==null&&t!==void 0?t:[]},e.prototype.isEmpty=function(){return os(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return os(this.rowGroupColumns)},e.prototype.setColumnsVisible=function(t,r,o){r===void 0&&(r=!1),this.applyColumnState({state:t.map(function(i){return{colId:typeof i=="string"?i:i.getColId(),hide:!r}})},o)},e.prototype.setColumnsPinned=function(t,r,o){if(this.gridColumns&&!this.gridOptionsService.isDomLayout("print")){this.columnAnimationService.start();var i;r===!0||r==="left"?i="left":r==="right"?i="right":i=null,this.actionOnGridColumns(t,function(a){return a.getPinned()!==i?(a.setPinned(i),!0):!1},o,function(){var a={type:I.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:o};return a}),this.columnAnimationService.finish()}},e.prototype.actionOnGridColumns=function(t,r,o,i){var a=this;if(!os(t)){var s=[];if(t.forEach(function(u){if(u){var c=a.getGridColumn(u);if(c){var d=r(c);d!==!1&&s.push(c)}}}),!!s.length&&(this.updateDisplayedColumns(o),te(i)&&i)){var l=i();l.columns=s,l.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var r=this.getAllDisplayedColumns(),o=r.indexOf(t);return o>0?r[o-1]:null},e.prototype.getDisplayedColAfter=function(t){var r=this.getAllDisplayedColumns(),o=r.indexOf(t);return o<r.length-1?r[o+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,r){for(var o=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),i=t.getDisplayedLeafColumns(),a=r==="After"?Vt(i):i[0],s="getDisplayedCol".concat(r);;){var l=this[s](a);if(!l)return null;var u=this.getColumnGroupAtLevel(l,o);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,r){for(var o=t.getParent(),i,a;;){var s=o.getProvidedColumnGroup();if(i=s.getLevel(),a=o.getPaddingLevel(),i+a<=r)break;o=o.getParent()}return o},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var r=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,o=t.isPivotActive()?this.pivotColumns.indexOf(t):null,i=t.isValueActive()?t.getAggFunc():null,a=t.getSort()!=null?t.getSort():null,s=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:a,sortIndex:s,aggFunc:i,rowGroup:t.isRowGroupActive(),rowGroupIndex:r,pivot:t.isPivotActive(),pivotIndex:o,flex:l};return u},e.prototype.getColumnState=function(){if(Ke(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),r=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r},e.prototype.orderColumnStateList=function(t){var r=Yp(this.gridColumns.map(function(o,i){return[o.getColId(),i]}));t.sort(function(o,i){var a=r.has(o.colId)?r.get(o.colId):-1,s=r.has(i.colId)?r.get(i.colId):-1;return a-s})},e.prototype.resetColumnState=function(t){var r=this;if(!os(this.primaryColumns)){var o=this.getColumnsFromTree(this.primaryColumnTree),i=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),o&&(l=l.concat(o)),l.forEach(function(u){var c=r.getColumnStateFromColDef(u);Ke(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=a++),Ke(c.pivotIndex)&&c.pivot&&(c.pivotIndex=s++),i.push(c)}),this.applyColumnState({state:i,applyOrder:!0},t)}},e.prototype.getColumnStateFromColDef=function(t){var r=function(v,g){return v!=null?v:g!=null?g:null},o=t.getColDef(),i=r(o.sort,o.initialSort),a=r(o.sortIndex,o.initialSortIndex),s=r(o.hide,o.initialHide),l=r(o.pinned,o.initialPinned),u=r(o.width,o.initialWidth),c=r(o.flex,o.initialFlex),d=r(o.rowGroupIndex,o.initialRowGroupIndex),f=r(o.rowGroup,o.initialRowGroup);d==null&&(f==null||f==!1)&&(d=null,f=null);var p=r(o.pivotIndex,o.initialPivotIndex),h=r(o.pivot,o.initialPivot);p==null&&(h==null||h==!1)&&(p=null,h=null);var m=r(o.aggFunc,o.initialAggFunc);return{colId:t.getColId(),sort:i,sortIndex:a,hide:s,pinned:l,width:u,flex:c,rowGroup:f,rowGroupIndex:d,pivot:h,pivotIndex:p,aggFunc:m}},e.prototype.applyColumnState=function(t,r){var o=this;if(os(this.primaryColumns)||t&&t.state&&!t.state.forEach)return!1;var i=function(u,c,d){var f=o.compareColumnStatesAndDispatchEvents(r);o.autoGroupsNeedBuilding=!0;var p=c.slice(),h={},m={},v=[],g=[],y=0,C=o.rowGroupColumns.slice(),w=o.pivotColumns.slice();u.forEach(function(S){var T=S.colId||"",O=T.startsWith(Dg);if(O){v.push(S),g.push(S);return}var L=d(T);L?(o.syncColumnWithStateItem(L,S,t.defaultState,h,m,!1,r),Ca(p,L)):(g.push(S),y+=1)});var b=function(S){return o.syncColumnWithStateItem(S,null,t.defaultState,h,m,!1,r)};p.forEach(b);var E=function(S,T,O,L){var k=S[O.getId()],A=S[L.getId()],$=k!=null,G=A!=null;if($&&G)return k-A;if($)return-1;if(G)return 1;var K=T.indexOf(O),V=T.indexOf(L),Y=K>=0,Q=V>=0;return Y&&Q?K-V:Y?-1:1};o.rowGroupColumns.sort(E.bind(o,h,C)),o.pivotColumns.sort(E.bind(o,m,w)),o.updateGridColumns();var D=o.groupAutoColumns?o.groupAutoColumns.slice():[];return v.forEach(function(S){var T=o.getAutoColumn(S.colId);Ca(D,T),o.syncColumnWithStateItem(T,S,t.defaultState,null,null,!0,r)}),D.forEach(b),o.applyOrderAfterApplyState(t),o.updateDisplayedColumns(r),o.dispatchEverythingChanged(r),f(),{unmatchedAndAutoStates:g,unmatchedCount:y}};this.columnAnimationService.start();var a=i(t.state||[],this.primaryColumns||[],function(u){return o.getPrimaryColumn(u)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||te(t.defaultState))&&(l=i(s,this.secondaryColumns||[],function(u){return o.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var r=this;if(!(!t.applyOrder||!t.state)){var o=[],i={};t.state.forEach(function(s){if(!(!s.colId||i[s.colId])){var l=r.gridColumnsMap[s.colId];l&&(o.push(l),i[s.colId]=!0)}});var a=0;this.gridColumns.forEach(function(s){var l=s.getColId(),u=i[l]!=null;if(!u){var c=l.startsWith(Dg);c?iE(o,s,a++):o.push(s)}}),o=this.placeLockedColumns(o),this.doesMovePassMarryChildren(o)&&(this.gridColumns=o)}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var r=this,o={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),a={};return i.forEach(function(s){a[s.colId]=s}),function(){var s=r.getPrimaryAndSecondaryAndAutoColumns(),l=function(y,C,w,b){var E=C.map(b),D=w.map(b),S=nf(E,D);if(!S){var T=new Set(C);w.forEach(function(k){T.delete(k)||T.add(k)});var O=es([],Ja(T),!1),L={type:y,columns:O,column:O.length===1?O[0]:null,source:t};r.eventService.dispatchEvent(L)}},u=function(y){var C=[];return s.forEach(function(w){var b=a[w.getColId()];b&&y(b,w)&&C.push(w)}),C},c=function(y){return y.getColId()};l(I.EVENT_COLUMN_ROW_GROUP_CHANGED,o.rowGroupColumns,r.rowGroupColumns,c),l(I.EVENT_COLUMN_PIVOT_CHANGED,o.pivotColumns,r.pivotColumns,c);var d=function(y,C){var w=y.aggFunc!=null,b=w!=C.isValueActive(),E=w&&y.aggFunc!=C.getAggFunc();return b||E},f=u(d);f.length>0&&r.dispatchColumnChangedEvent(I.EVENT_COLUMN_VALUE_CHANGED,f,t);var p=function(y,C){return y.width!=C.getActualWidth()};r.dispatchColumnResizedEvent(u(p),!0,t);var h=function(y,C){return y.pinned!=C.getPinned()};r.dispatchColumnPinnedEvent(u(h),t);var m=function(y,C){return y.hide==C.isVisible()};r.dispatchColumnVisibleEvent(u(m),t);var v=function(y,C){return y.sort!=C.getSort()||y.sortIndex!=C.getSortIndex()},g=u(v);g.length>0&&r.sortController.dispatchSortChangedEvents(t,g),r.normaliseColumnMovedEventForColumnState(i,t)}},e.prototype.getCommonValue=function(t,r){if(!(!t||t.length==0)){for(var o=r(t[0]),i=1;i<t.length;i++)if(o!==r(t[i]))return;return o}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,r){var o=this,i=this.getColumnState(),a={};i.forEach(function(d){return a[d.colId]=d});var s={};t.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=t.filter(function(d){return s[d.colId]}),u=i.filter(function(d){return s[d.colId]}),c=[];u.forEach(function(d,f){var p=l&&l[f];if(p&&p.colId!==d.colId){var h=o.getGridColumn(p.colId);h&&c.push(h)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:r,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,r,o,i,a,s,l){if(t){var u=function(S,T){var O={value1:void 0,value2:void 0},L=!1;return r&&(r[S]!==void 0&&(O.value1=r[S],L=!0),te(T)&&r[T]!==void 0&&(O.value2=r[T],L=!0)),!L&&o&&(o[S]!==void 0&&(O.value1=o[S]),te(T)&&o[T]!==void 0&&(O.value2=o[T])),O},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&t.setPinned(d);var f=this.columnUtils.calculateColMinWidth(t.getColDef()),p=u("flex").value1;if(p!==void 0&&t.setFlex(p),p==null){var h=u("width").value1;h!=null&&f!=null&&h>=f&&t.setActualWidth(h,l)}var m=u("sort").value1;m!==void 0&&(m==="desc"||m==="asc"?t.setSort(m,l):t.setSort(void 0,l));var v=u("sortIndex").value1;if(v!==void 0&&t.setSortIndex(v),!(s||!t.isPrimary())){var g=u("aggFunc").value1;g!==void 0&&(typeof g=="string"?(t.setAggFunc(g),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(te(g),t.isValueActive()&&(t.setValueActive(!1,l),Ca(this.valueColumns,t))));var y=u("rowGroup","rowGroupIndex"),C=y.value1,w=y.value2;(C!==void 0||w!==void 0)&&(typeof w=="number"||C?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),i&&typeof w=="number"&&(i[t.getId()]=w)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),Ca(this.rowGroupColumns,t)));var b=u("pivot","pivotIndex"),E=b.value1,D=b.value2;(E!==void 0||D!==void 0)&&(typeof D=="number"||E?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),a&&typeof D=="number"&&(a[t.getId()]=D)):t.isPivotActive()&&(t.setPivotActive(!1,l),Ca(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,r){var o=[];return t&&t.forEach(function(i){var a=r(i);a&&o.push(a)}),o},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var r=this.getGridColumn(t);return r},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,r,o){if(!t||!o)return null;if(typeof t=="string"&&o[t])return o[t];for(var i=0;i<r.length;i++)if(this.columnsMatch(r[i],t))return r[i];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var r=t.getColDef().showRowGroup;if(!r)return null;if(r===!0)return this.rowGroupColumns.slice(0);var o=this.getPrimaryColumn(r);return o?[o]:null},e.prototype.getAutoColumn=function(t){var r=this;return!this.groupAutoColumns||!te(this.groupAutoColumns)||Ke(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(o){return r.columnsMatch(o,t)})||null},e.prototype.columnsMatch=function(t,r){var o=t===r,i=t.getColDef()===r,a=t.getColId()==r;return o||i||a},e.prototype.getDisplayNameForColumn=function(t,r,o){if(o===void 0&&(o=!1),!t)return null;var i=this.getHeaderName(t.getColDef(),t,null,null,r);return o?this.wrapHeaderNameWithAggFunc(t,i):i},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,r,o){var i=r?r.getColGroupDef():null;return i?this.getHeaderName(i,null,t,r,o):null},e.prototype.getDisplayNameForColumnGroup=function(t,r){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),r)},e.prototype.getHeaderName=function(t,r,o,i,a){var s=t.headerValueGetter;if(s){var l=this.gridOptionsService.addGridCommonParams({colDef:t,column:r,columnGroup:o,providedColumnGroup:i,location:a});return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):""}else{if(t.headerName!=null)return t.headerName;if(t.field)return Iee(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,r){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return r;var o=t.getColDef().pivotValueColumn,i=te(o),a=null,s;if(i){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return r;a=o?o.getAggFunc():null,s=!0}else{var c=t.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(a=t.getAggFunc(),s=!0):s=!1}if(s){var f=typeof a=="string"?a:"func",p=this.localeService.getLocaleTextFunc(),h=p(f,f);return"".concat(h,"(").concat(r,")")}return r},e.prototype.getColumnGroup=function(t,r){if(!t)return null;if(t instanceof kr)return t;var o=this.getAllDisplayedTrees(),i=typeof r=="number",a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(o,function(s){if(s instanceof kr){var l=s,u=void 0;i?u=t===l.getGroupId()&&r===l.getPartId():u=t===l.getGroupId(),u&&(a=l)}}),a},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,r){this.valueColumns=this.extractColumns(r,this.valueColumns,function(o,i){return o.setValueActive(i,t)},function(){},function(){},function(o){var i=o.aggFunc;if(i===null||i==="")return null;if(i!==void 0)return!!i},function(o){return o.initialAggFunc!=null&&o.initialAggFunc!=""}),this.valueColumns.forEach(function(o){var i=o.getColDef();i.aggFunc!=null&&i.aggFunc!=""?o.setAggFunc(i.aggFunc):o.getAggFunc()||o.setAggFunc(i.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,r){this.rowGroupColumns=this.extractColumns(r,this.rowGroupColumns,function(o,i){return o.setRowGroupActive(i,t)},function(o){return o.rowGroupIndex},function(o){return o.initialRowGroupIndex},function(o){return o.rowGroup},function(o){return o.initialRowGroup})},e.prototype.extractColumns=function(t,r,o,i,a,s,l){t===void 0&&(t=[]),r===void 0&&(r=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(p){var h=t.indexOf(p)<0,m=p.getColDef(),v=EI(s(m)),g=EI(l(m)),y=Zp(i(m)),C=Zp(a(m)),w,b=v!==void 0,E=y!==void 0,D=g!==void 0,S=C!==void 0;if(b?w=v:E?y===null?w=!1:w=y>=0:h?D?w=g:S?w=C!=null&&C>=0:w=!1:w=r.indexOf(p)>=0,w){var T=h?y!=null||C!=null:y!=null;T?u.push(p):c.push(p)}});var d=function(p){var h=i(p.getColDef()),m=a(p.getColDef());return h!=null?h:m};u.sort(function(p,h){var m=d(p),v=d(h);return m===v?0:m<v?-1:1});var f=[].concat(u);return r.forEach(function(p){c.indexOf(p)>=0&&f.push(p)}),c.forEach(function(p){f.indexOf(p)<0&&f.push(p)}),r.forEach(function(p){f.indexOf(p)<0&&o(p,!1)}),f.forEach(function(p){r.indexOf(p)<0&&o(p,!0)}),f},e.prototype.extractPivotColumns=function(t,r){this.pivotColumns=this.extractColumns(r,this.pivotColumns,function(o,i){return o.setPivotActive(i,t)},function(o){return o.pivotIndex},function(o){return o.initialPivotIndex},function(o){return o.pivot},function(o){return o.initialPivot})},e.prototype.resetColumnGroupState=function(t){if(this.primaryColumnTree){var r=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(o){if(o instanceof yr){var i=o.getColGroupDef(),a={groupId:o.getGroupId(),open:i?i.openByDefault:void 0};r.push(a)}}),this.setColumnGroupState(r,t)}},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof yr&&t.push({groupId:r.getGroupId(),open:r.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,r){var o=this;if(this.gridBalancedTree){this.columnAnimationService.start();var i=[];if(t.forEach(function(s){var l=s.groupId,u=s.open,c=o.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(o.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),i.push(c))}),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r),i.length){var a={type:I.EVENT_COLUMN_GROUP_OPENED,columnGroup:yr.length===1?i[0]:void 0,columnGroups:i};this.eventService.dispatchEvent(a)}this.columnAnimationService.finish()}},e.prototype.setColumnGroupOpened=function(t,r,o){var i;t instanceof yr?i=t.getId():i=t||"",this.setColumnGroupState([{groupId:i,open:r}],o)},e.prototype.getProvidedColumnGroup=function(t){var r=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){o instanceof yr&&o.getId()===t&&(r=o)}),r},e.prototype.calculateColumnsForDisplay=function(){var t=this,r;return this.pivotMode&&Ke(this.secondaryColumns)?r=this.gridColumns.filter(function(o){var i=t.groupAutoColumns&&cu(t.groupAutoColumns,o),a=t.valueColumns&&cu(t.valueColumns,o);return i||a}):r=this.gridColumns.filter(function(o){var i=t.groupAutoColumns&&cu(t.groupAutoColumns,o);return i||o.isVisible()}),r},e.prototype.checkColSpanActiveInCols=function(t){var r=!1;return t.forEach(function(o){te(o.getColDef().colSpan)&&(r=!0)}),r},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var r=function(o){var i=o.getColDef(),a=i.showRowGroup;i&&te(a)&&(t.groupDisplayColumns.push(o),typeof a=="string"?t.groupDisplayColumnsMap[a]=o:a===!0&&t.getRowGroupColumns().forEach(function(s){t.groupDisplayColumnsMap[s.getId()]=o}))};this.gridColumns.forEach(r)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var r=this.calculateColumnsForDisplay();this.buildDisplayedTrees(r),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return te(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,r){var o=this;if(this.gridColumns){var i=t&&t.length>0;if(!(!i&&Ke(this.secondaryColumns))){if(i){this.processSecondaryColumnDefinitions(t);var a=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,r);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return o.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(r)}}},e.prototype.processSecondaryColumnDefinitions=function(t){var r=this.gridOptionsService.get("processPivotResultColDef"),o=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!r&&!o)){var i=function(a){a.forEach(function(s){var l=te(s.children);if(l){var u=s;o&&o(u),i(u.children)}else{var c=s;r&&r(c)}})};t&&i(t)}},e.prototype.updateGridColumns=function(){var t=this,r=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var o=this.createGroupAutoColumnsIfNeeded();if(o){var i=Yp(this.groupAutoColumns.map(function(u){return[u,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(u){return!i.has(u)}),this.lastPrimaryOrder=es(es([],Ja(this.groupAutoColumns),!1),Ja(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(u){return!i.has(u)}),this.lastSecondaryOrder=es(es([],Ja(this.groupAutoColumns),!1),Ja(this.lastSecondaryOrder),!1))}var a;if(this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.some(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(a=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,a=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(a),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!nf(r,this.gridBalancedTree)){var l={type:I.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(r){return r.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");t||ze("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},e.prototype.orderGridColsLike=function(t){if(!Ke(t)){var r=Yp(t.map(function(c,d){return[c,d]})),o=!0;if(this.gridColumns.forEach(function(c){r.has(c)&&(o=!1)}),!o){var i=Yp(this.gridColumns.map(function(c){return[c,!0]})),a=t.filter(function(c){return i.has(c)}),s=Yp(a.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!s.has(c)}),u=a.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var f=[];!f.length&&d;){var p=d.getLeafColumns();p.forEach(function(v){var g=u.indexOf(v)>=0,y=f.indexOf(v)<0;g&&y&&f.push(v)}),d=d.getOriginalParent()}if(!f.length){u.push(c);return}var h=f.map(function(v){return u.indexOf(v)}),m=Math.max.apply(Math,es([],Ja(h),!1));iE(u,c,m+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,r=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&t!==void 0?t:[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?r:r.filter(function(o){return o.isVisible()||o.isRowGroupActive()})},e.prototype.placeLockedColumns=function(t){var r=[],o=[],i=[];return t.forEach(function(a){var s=a.getColDef().lockPosition;s==="right"?i.push(a):s==="left"||s===!0?r.push(a):o.push(a)}),es(es(es([],Ja(r),!1),Ja(o),!1),Ja(i),!1)},e.prototype.addAutoGroupToGridColumns=function(){if(Ke(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var r={type:I.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(r){return r.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinColumnsAriaOrder=function(){var t,r,o=this.getAllGridColumns(),i=[],a=[],s=[];try{for(var l=E$(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.getPinned();d?d===!0||d==="left"?i.push(c):s.push(c):a.push(c)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}this.ariaOrderColumns=i.concat(a).concat(s)},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var r=this;if(this.primaryColumns){var o=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),i=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(i){var s=r.getWidthOfColsInList(a);a.forEach(function(u){s-=u.getActualWidth(),u.setLeft(s,t)})}else{var l=0;a.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}_ee(o,a)}),o.forEach(function(a){a.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(r){if(r instanceof kr){var o=r;o.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,r){r.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(o){o instanceof on&&r.push(o)})},e.prototype.isColumnVirtualisationSuppressed=function(){return this.suppressColumnVirtualisation||this.viewportRight===0},e.prototype.extractViewportColumns=function(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,r){var o;switch(t){case"left":o=this.viewportRowLeft[r];break;case"right":o=this.viewportRowRight[r];break;default:o=this.viewportRowCenter[r];break}return Ke(o)&&(o=[]),o},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(o){return t[o.getId()]=!0});var r=function(o,i,a){for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=!1;if(u instanceof on)c=t[u.getId()]===!0;else{var d=u,f=d.getDisplayedChildren();f&&(c=r(f,i,a+1))}c&&(s=!0,i[a]||(i[a]=[]),i[a].push(u))}return s};r(this.displayedTreeLeft,this.viewportRowLeft,0),r(this.displayedTreeRight,this.viewportRowRight,0),r(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(i){return"".concat(i.getId(),"-").concat(i.getPinned()||"normal")};this.extractViewportColumns();var r=this.viewportColumns.map(t).join("#"),o=this.viewportColumnsHash!==r;return o&&(this.viewportColumnsHash=r,this.calculateHeaderRows()),o},e.prototype.refreshFlexedColumns=function(t){var r;t===void 0&&(t={});var o=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var i=-1;if(t.resizingCols){for(var a=new Set(t.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){i=l;break}}for(var u=0,c=[],d=0,f=0,l=0;l<this.displayedColumnsCenter.length;l++){var p=this.displayedColumnsCenter[l].getFlex()&&l>i;p?(c.push(this.displayedColumnsCenter[l]),f+=this.displayedColumnsCenter[l].getFlex(),d+=(r=this.displayedColumnsCenter[l].getMinWidth())!==null&&r!==void 0?r:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var h=[];u+d>this.flexViewportWidth&&(c.forEach(function(S){var T;return S.setActualWidth((T=S.getMinWidth())!==null&&T!==void 0?T:0,o)}),h=c,c=[]);var m=[],v;e:for(;;){v=this.flexViewportWidth-u;for(var g=v/f,l=0;l<c.length;l++){var y=c[l],C=g*y.getFlex(),w=0,b=y.getMinWidth(),E=y.getMaxWidth();if(te(b)&&C<b?w=b:te(E)&&C>E&&(w=E),w){y.setActualWidth(w,o),zB(c,y),f-=y.getFlex(),h.push(y),u+=y.getActualWidth();continue e}m[l]=Math.round(C)}break}var D=v;return c.forEach(function(S,T){S.setActualWidth(Math.min(m[T],D),o),h.push(S),D-=m[T]}),t.skipSetLeft||this.setLeftValues(o),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(h,!0,o,c),c},e.prototype.sizeColumnsToFit=function(t,r,o,i){var a=this,s,l,u,c,d;if(r===void 0&&(r="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(t,r,o,i)});return}var f={};i&&((s=i==null?void 0:i.columnLimits)===null||s===void 0||s.forEach(function(V){var Y=V.key,Q=ERe(V,["key"]);f[typeof Y=="string"?Y:Y.getColId()]=Q}));var p=this.getAllDisplayedColumns(),h=t===this.getWidthOfColsInList(p);if(!(t<=0||!p.length||h)){var m=[],v=[];p.forEach(function(V){V.getColDef().suppressSizeToFit===!0?v.push(V):m.push(V)});var g=m.slice(0),y=!1,C=function(V){Ca(m,V),v.push(V)};for(m.forEach(function(V){var Y,Q;V.resetActualWidth(r);var X=f==null?void 0:f[V.getId()],fe=(Y=X==null?void 0:X.minWidth)!==null&&Y!==void 0?Y:i==null?void 0:i.defaultMinWidth,ne=(Q=X==null?void 0:X.maxWidth)!==null&&Q!==void 0?Q:i==null?void 0:i.defaultMaxWidth,me=V.getActualWidth();typeof fe=="number"&&me<fe?V.setActualWidth(fe,r,!0):typeof ne=="number"&&me>ne&&V.setActualWidth(ne,r,!0)});!y;){y=!0;var w=t-this.getWidthOfColsInList(v);if(w<=0)m.forEach(function(V){var Y,Q,X=(Q=(Y=f==null?void 0:f[V.getId()])===null||Y===void 0?void 0:Y.minWidth)!==null&&Q!==void 0?Q:i==null?void 0:i.defaultMinWidth;if(typeof X=="number"){V.setActualWidth(X,r,!0);return}V.setMinimum(r)});else for(var b=w/this.getWidthOfColsInList(m),E=w,D=m.length-1;D>=0;D--){var S=m[D],T=f==null?void 0:f[S.getId()],O=(l=T==null?void 0:T.minWidth)!==null&&l!==void 0?l:i==null?void 0:i.defaultMinWidth,L=(u=T==null?void 0:T.maxWidth)!==null&&u!==void 0?u:i==null?void 0:i.defaultMaxWidth,k=(c=S.getMinWidth())!==null&&c!==void 0?c:0,A=(d=S.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,$=typeof O=="number"&&O>k?O:S.getMinWidth(),G=typeof L=="number"&&L<A?L:S.getMaxWidth(),K=Math.round(S.getActualWidth()*b);te($)&&K<$?(K=$,C(S),y=!1):te(G)&&K>G?(K=G,C(S),y=!1):D===0&&(K=E),S.setActualWidth(K,r,!0),E-=K}}g.forEach(function(V){V.fireColumnWidthChangedEvent(r)}),this.setLeftValues(r),this.updateBodyWidths(),!o&&this.dispatchColumnResizedEvent(g,!0,r)}},e.prototype.buildDisplayedTrees=function(t){var r=[],o=[],i=[];t.forEach(function(s){switch(s.getPinned()){case"left":r.push(s);break;case"right":o.push(s);break;default:i.push(s);break}});var a=new jB;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(r,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(o,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var r=function(o){t.displayedColumnsAndGroupsMap[o.getUniqueId()]=o};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,r)},e.prototype.isDisplayed=function(t){var r=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return r===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(r){r instanceof kr&&r.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),o=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),i=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),a=i&&!o&&!r;if(a){var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(s,this.groupAutoColumns);if(l||t)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType"),r=t==="custom";if(r)return!0;var o=this.gridOptionsService.get("treeDataDisplayType");return o==="custom"},e.prototype.autoColsEqual=function(t,r){return nf(t,r,function(o,i){return o.getColId()===i.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(r,o){return r+o.getActualWidth()},0)},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.get("enableRtl"),r=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&r.reverse();for(var o=0;o<r.length;o++){var i=this[r[o]]();if(i.length)return t?Vt(i):i[0]}return null},e.prototype.setColumnHeaderHeight=function(t,r){var o=t.setAutoHeaderHeight(r);if(o){var i={type:I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(i)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.getAllDisplayedColumns().filter(function(o){return o.isAutoHeaderHeight()}).map(function(o){return o.getAutoHeaderHeight()||0});return Math.max.apply(Math,es([t],Ja(r),!1))},e.prototype.getHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("headerHeight"))!==null&&t!==void 0?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return(t=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("groupHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&t!==void 0?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(t){return t()}),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t,r){var o=t.getUserProvidedColDef();if(!o)return!1;var i=this.columnFactory.addColumnDefaultAndTypes(o,t.getColId());return t.setColDef(i,o,r),!0},e.prototype.isColumnGroupingLocked=function(t){var r=this.gridOptionsService.get("groupLockGroupColumns");if(!t.isRowGroupActive()||r===0)return!1;if(r===-1)return!0;var o=this.rowGroupColumns.findIndex(function(i){return i.getColId()===t.getColId()});return r>o},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,r){var o=this,i={},a=function(s,l,u,c,d,f){if(!l.length||!o.primaryColumns)return[];for(var p=Object.keys(s),h=new Set(p),m=new Set(p),v=new Set(l.map(function(O){var L=O.getColId();return m.delete(L),L}).concat(p)),g=[],y={},C=0,w=0;w<o.primaryColumns.length;w++){var b=o.primaryColumns[w].getColId();v.has(b)&&(g.push(b),y[b]=C++)}var E=1e3,D=!1,S=0,T=function(O){for(var L=y[O],k=S;k<L;k++){var A=g[k];m.has(A)&&(s[A][d]=E++,m.delete(A))}S=L};l.forEach(function(O){var L=O.getColId();if(h.has(L))T(L),s[L][d]=E++;else{var k=O.getColDef(),A=k[d]===null||k[d]===void 0&&k[f]==null;if(A){if(!D){var $=k[u]||k[u]===void 0&&k[c];$?T(L):(m.forEach(function(G){s[G][d]=E+y[G]}),E+=g.length,D=!0)}i[L]||(i[L]={colId:L}),i[L][d]=E++}}})};return a(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(r,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)},e.prototype.onColumnsReady=function(){var t=this,r=this.gridOptionsService.get("autoSizeStrategy");if(r){var o=r.type;setTimeout(function(){if(o==="fitGridWidth"){var i=r.columnLimits,a=r.defaultMinWidth,s=r.defaultMaxWidth,l=i==null?void 0:i.map(function(u){var c=u.colId,d=u.minWidth,f=u.maxWidth;return{key:c,minWidth:d,maxWidth:f}});t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else o==="fitProvidedWidth"&&t.sizeColumnsToFit(r.width,"sizeColumnsToFit")})}},e.prototype.onFirstDataRendered=function(){var t=this,r=this.gridOptionsService.get("autoSizeStrategy");if((r==null?void 0:r.type)==="fitCellContents"){var o=r.colIds,i=r.skipHeader;setTimeout(function(){o?t.autoSizeColumns({columns:o,skipHeader:i,source:"autosizeColumns"}):t.autoSizeAllColumns("autosizeColumns",i)})}},Jo([P("expressionService")],e.prototype,"expressionService",void 0),Jo([P("columnFactory")],e.prototype,"columnFactory",void 0),Jo([P("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Jo([P("ctrlsService")],e.prototype,"ctrlsService",void 0),Jo([P("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Jo([P("columnUtils")],e.prototype,"columnUtils",void 0),Jo([P("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Jo([P("autoGroupColService")],e.prototype,"autoGroupColService",void 0),Jo([Ot("aggFuncService")],e.prototype,"aggFuncService",void 0),Jo([Ot("valueCache")],e.prototype,"valueCache",void 0),Jo([Ot("animationFrameService")],e.prototype,"animationFrameService",void 0),Jo([P("sortController")],e.prototype,"sortController",void 0),Jo([P("columnDefFactory")],e.prototype,"columnDefFactory",void 0),Jo([se],e.prototype,"init",null),Jo([_i],e.prototype,"destroyColumns",null),Jo([_Re(0,ss("loggerFactory"))],e.prototype,"setBeans",null),e=Jo([be("columnModel")],e),e}(re);function SC(n){return n==="gridOptionsUpdated"?"gridOptionsChanged":n}var xRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DRe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Mee=function(n){xRe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var r=this.calculateColMinWidth(t),o=this.calculateColMaxWidth(t),i,a=Zp(t.width),s=Zp(t.initialWidth);return a!=null?i=a:s!=null?i=s:i=200,Math.max(Math.min(i,o),r)},e.prototype.getOriginalPathForColumn=function(t,r){var o=[],i=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(i)return;var c=s[u];if(c instanceof yr){var d=c;a(d.getChildren(),l+1),o[l]=c}else c===t&&(i=!0)}};return a(r,0),i?o:null},e.prototype.depthFirstOriginalTreeSearch=function(t,r,o){var i=this;r&&r.forEach(function(a){a instanceof yr&&i.depthFirstOriginalTreeSearch(a,a.getChildren(),o),o(a,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,r){var o=this;t&&t.forEach(function(i){i instanceof kr&&o.depthFirstAllColumnTreeSearch(i.getChildren(),r),r(i)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,r){var o=this;t&&t.forEach(function(i){i instanceof kr&&o.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),r),r(i)})},e=DRe([be("columnUtils")],e),e}(re),RRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TRe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Aee=function(n){RRe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,r,o,i){for(var a=this,s=this.mapOldGroupsById(i),l=[],u=t,c=function(){var d=u;u=[];for(var f=0,p=function(b){var E=f;f=b;var D=d[E],S=D instanceof kr?D.getProvidedColumnGroup():D,T=S.getOriginalParent();if(T==null){for(var O=E;O<b;O++)l.push(d[O]);return}for(var L=a.createColumnGroup(T,r,s,o),O=E;O<b;O++)L.addChild(d[O]);u.push(L)},h=1;h<d.length;h++){var m=d[h],v=m instanceof kr?m.getProvidedColumnGroup():m,g=v.getOriginalParent(),y=d[f],C=y instanceof kr?y.getProvidedColumnGroup():y,w=C.getOriginalParent();g!==w&&p(h)}f<d.length&&p(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,r,o,i){var a=t.getGroupId(),s=r.getInstanceIdForKey(a),l=kr.createUniqueId(a,s),u=o[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),te(u)?u.reset():(u=new kr(t,a,s,i),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var r={},o=function(i){i.forEach(function(a){if(a instanceof kr){var s=a;r[a.getUniqueId()]=s,o(s.getChildren())}})};return t&&o(t),r},e.prototype.setupParentsIntoColumns=function(t,r){var o=this;t.forEach(function(i){if(i.setParent(r),i instanceof kr){var a=i;o.setupParentsIntoColumns(a.getChildren(),a)}})},e=TRe([be("displayedGroupCreator")],e),e}(re),Np=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},kp=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},PRe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},lu=function(){function n(){}return n.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu"],n.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],n.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],n.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],n.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],n.FUNCTION_PROPERTIES=kp(kp([],Np(n.FUNCTIONAL_PROPERTIES),!1),Np(n.CALLBACK_PROPERTIES),!1),n.ALL_PROPERTIES=kp(kp(kp(kp(kp(kp([],Np(n.ARRAY_PROPERTIES),!1),Np(n.OBJECT_PROPERTIES),!1),Np(n.STRING_PROPERTIES),!1),Np(n.NUMBER_PROPERTIES),!1),Np(n.FUNCTION_PROPERTIES),!1),Np(n.BOOLEAN_PROPERTIES),!1),n}(),DB=function(){return DB=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},DB.apply(this,arguments)},iJ=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},aJ=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},KB=function(){function n(){}n.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)},n.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},n.combineAttributesAndGridOptions=function(t,r){typeof t!="object"&&(t={});var o=DB({},t),i=n.getGridOptionKeys();return i.forEach(function(a){var s=r[a];typeof s!="undefined"&&s!==n.VUE_OMITTED_PROPERTY&&(o[a]=s)}),o},n.processOnChange=function(t,r){if(t){var o={},i=!1;if(Object.keys(t).filter(function(s){return n.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){o[s]=t[s],i=!0}),!!i){r.__internalUpdateGridOptions(o);var a={type:I.EVENT_COMPONENT_STATE_CHANGED};bi(o,function(s,l){a[s]=l}),r.dispatchEvent(a)}}};var e;return e=n,n.EVENTS=wg(I),n.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",n.EXCLUDED_INTERNAL_EVENTS=[I.EVENT_SCROLLBAR_WIDTH_CHANGED,I.EVENT_CHECKBOX_CHANGED,I.EVENT_HEIGHT_SCALE_CHANGED,I.EVENT_BODY_HEIGHT_CHANGED,I.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,I.EVENT_SCROLL_VISIBILITY_CHANGED,I.EVENT_COLUMN_HOVER_CHANGED,I.EVENT_FLASH_CELLS,I.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,I.EVENT_DISPLAYED_ROWS_CHANGED,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,I.EVENT_POPUP_TO_FRONT,I.EVENT_STORE_UPDATED,I.EVENT_COLUMN_PANEL_ITEM_DRAG_START,I.EVENT_COLUMN_PANEL_ITEM_DRAG_END,I.EVENT_FILL_START,I.EVENT_FILL_END,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,I.EVENT_FULL_WIDTH_ROW_FOCUSED,I.EVENT_HEADER_HEIGHT_CHANGED,I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,I.EVENT_CELL_FOCUS_CLEARED,I.EVENT_GRID_STYLES_CHANGED,I.EVENT_FILTER_DESTROYED,I.EVENT_ROW_DATA_UPDATE_STARTED,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,I.EVENT_DATA_TYPES_INFERRED,I.EVENT_FIELD_VALUE_CHANGED,I.EVENT_FIELD_PICKER_VALUE_SELECTED,I.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,I.EVENT_SUPPRESS_MENU_HIDE_CHANGED,I.EVENT_SUPPRESS_FIELD_DOT_NOTATION,I.EVENT_ROW_COUNT_READY,I.EVENT_SIDE_BAR_UPDATED],n.PUBLIC_EVENTS=n.EVENTS.filter(function(t){return!cu(n.EXCLUDED_INTERNAL_EVENTS,t)}),n.EVENT_CALLBACKS=n.EVENTS.map(function(t){return n.getCallbackForEvent(t)}),n.STRING_PROPERTIES=lu.STRING_PROPERTIES,n.OBJECT_PROPERTIES=lu.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=lu.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=lu.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=lu.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=lu.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=lu.ALL_PROPERTIES,n.ALL_PROPERTIES_AND_CALLBACKS=aJ(aJ([],iJ(e.ALL_PROPERTIES),!1),iJ(e.EVENT_CALLBACKS),!1),n.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(n.ALL_PROPERTIES_AND_CALLBACKS),n}(),ORe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IRe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Nee=function(n){ORe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var r=this;t&&t.forEach(function(o){return r.addComponent(o)})},e.prototype.addComponent=function(t){var r=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=r.toUpperCase();this.componentsMappedByName[o]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=IRe([be("agStackComponentsRegistry")],e),e}(re);function dl(n,e,t){t==null||typeof t=="string"&&t==""?qB(n,e):fl(n,e,t)}function fl(n,e,t){n.setAttribute(kee(e),t.toString())}function qB(n,e){n.removeAttribute(kee(e))}function kee(n){return"aria-".concat(n)}function oo(n,e){e?n.setAttribute("role",e):n.removeAttribute("role")}function Vee(n){var e;return n==="asc"?e="ascending":n==="desc"?e="descending":n==="mixed"?e="other":e="none",e}function FRe(n){return parseInt(n.getAttribute("aria-level"),10)}function Gee(n){return parseInt(n.getAttribute("aria-posinset"),10)}function Hee(n){return n.getAttribute("aria-label")}function th(n,e){dl(n,"label",e)}function PI(n,e){dl(n,"labelledby",e)}function LRe(n,e){dl(n,"describedby",e)}function YB(n,e){dl(n,"live",e)}function $ee(n,e){dl(n,"atomic",e)}function Bee(n,e){dl(n,"relevant",e)}function Wee(n,e){dl(n,"level",e)}function XB(n,e){dl(n,"disabled",e)}function KI(n,e){dl(n,"hidden",e)}function ZB(n,e){dl(n,"activedescendant",e)}function rf(n,e){fl(n,"expanded",e)}function zee(n){qB(n,"expanded")}function QB(n,e){fl(n,"setsize",e)}function JB(n,e){fl(n,"posinset",e)}function Uee(n,e){fl(n,"multiselectable",e)}function jee(n,e){fl(n,"rowcount",e)}function e3(n,e){fl(n,"rowindex",e)}function Kee(n,e){fl(n,"colcount",e)}function t3(n,e){fl(n,"colindex",e)}function qee(n,e){fl(n,"colspan",e)}function Yee(n,e){fl(n,"sort",e)}function Xee(n){qB(n,"sort")}function RC(n,e){dl(n,"selected",e)}function MRe(n,e){fl(n,"checked",e===void 0?"mixed":e)}function n3(n,e){dl(n,"controls",e.id),PI(e,n.id)}function r3(n,e){return e===void 0?n("ariaIndeterminate","indeterminate"):e===!0?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}var ARe=Object.freeze({setAriaRole:oo,getAriaSortState:Vee,getAriaLevel:FRe,getAriaPosInSet:Gee,getAriaLabel:Hee,setAriaLabel:th,setAriaLabelledBy:PI,setAriaDescribedBy:LRe,setAriaLive:YB,setAriaAtomic:$ee,setAriaRelevant:Bee,setAriaLevel:Wee,setAriaDisabled:XB,setAriaHidden:KI,setAriaActiveDescendant:ZB,setAriaExpanded:rf,removeAriaExpanded:zee,setAriaSetSize:QB,setAriaPosInSet:JB,setAriaMultiSelectable:Uee,setAriaRowCount:jee,setAriaRowIndex:e3,setAriaColCount:Kee,setAriaColIndex:t3,setAriaColSpan:qee,setAriaSort:Yee,removeAriaSort:Xee,setAriaSelected:RC,setAriaChecked:MRe,setAriaControls:n3,getAriaCheckboxStateName:r3}),x$,qO,D$,R$,T$,P$,RB,TB;function Vc(){return x$===void 0&&(x$=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),x$}function o3(){if(qO===void 0)if(Vc()){var n=navigator.userAgent.match(/version\/(\d+)/i);n&&(qO=n[1]!=null?parseFloat(n[1]):0)}else qO=0;return qO}function qI(){if(D$===void 0){var n=window;D$=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return D$}function i3(){return R$===void 0&&(R$=/(firefox)/i.test(navigator.userAgent)),R$}function a3(){return T$===void 0&&(T$=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),T$}function af(){return P$===void 0&&(P$=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),P$}function s3(){return!Vc()||o3()>=15}function OI(n){if(!n)return null;var e=n.tabIndex,t=n.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!i3())?null:e.toString()}function Zee(){if(!document.body)return-1;var n=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var r=n*2;if(t.style.height=r+"px",r>e||t.clientHeight!==r)break;n=r}return document.body.removeChild(t),n}function Qee(){var n,e,t;return(e=(n=document.body)===null||n===void 0?void 0:n.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function Jee(){var n,e,t;return(e=(n=document.body)===null||n===void 0?void 0:n.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function ete(){return TB==null&&tte(),TB}function tte(){var n=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",n.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(TB=t,RB=t===0)}function l3(){return RB==null&&tte(),RB}var NRe=Object.freeze({isBrowserSafari:Vc,getSafariVersion:o3,isBrowserChrome:qI,isBrowserFirefox:i3,isMacOsUserAgent:a3,isIOSUserAgent:af,browserSupportsPreventScroll:s3,getTabIndex:OI,getMaxDivHeight:Zee,getBodyWidth:Qee,getBodyHeight:Jee,getScrollbarWidth:ete,isInvisibleScrollbar:l3});function xC(n,e){return n.toString().padStart(e,"0")}function nte(n,e){for(var t=[],r=n;r<=e;r++)t.push(r);return t}function kRe(n){return typeof n=="string"&&(n=parseInt(n,10)),typeof n=="number"?Math.floor(n):null}function VRe(n,e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(n&255),n>>>=8;return t}function GRe(n,e,t){return typeof n!="number"?"":u3(Math.round(n*100)/100,e,t)}function u3(n,e,t){return typeof n!="number"?"":n.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(e))}function HRe(n){return n==null?null:n.reduce(function(e,t){return e+t},0)}var $Re=Object.freeze({padStartWidthZeros:xC,createArrayOfNumbers:nte,cleanNumber:kRe,decToHex:VRe,formatNumberTwoDecimalPlacesAndCommas:GRe,formatNumberCommas:u3,sum:HRe}),O$=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i};function ul(n,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!n)return null;var r=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(o){return xC(o,2)}).join(t);return e&&(r+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(o){return xC(o,2)}).join(":")),r}var I$=function(n){if(n>3&&n<21)return"th";var e=n%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function DC(n,e){e===void 0&&(e="YYYY-MM-DD");var t=xC(n.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return"".concat(n.getFullYear())},MMMM:function(){return r[n.getMonth()]},MMM:function(){return r[n.getMonth()].slice(0,3)},MM:function(){return xC(n.getMonth()+1,2)},Mo:function(){return"".concat(n.getMonth()+1).concat(I$(n.getMonth()+1))},M:function(){return"".concat(n.getMonth()+1)},Do:function(){return"".concat(n.getDate()).concat(I$(n.getDate()))},DD:function(){return xC(n.getDate(),2)},D:function(){return"".concat(n.getDate())},dddd:function(){return o[n.getDay()]},ddd:function(){return o[n.getDay()].slice(0,3)},dd:function(){return o[n.getDay()].slice(0,2)},do:function(){return"".concat(n.getDay()).concat(I$(n.getDay()))},d:function(){return"".concat(n.getDay())}},a=new RegExp(Object.keys(i).join("|"),"g");return e.replace(a,function(s){return s in i?i[s]():s})}function Sa(n){if(!n)return null;var e=O$(n.split(" "),2),t=e[0],r=e[1];if(!t)return null;var o=t.split("-").map(function(h){return parseInt(h,10)});if(o.filter(function(h){return!isNaN(h)}).length!==3)return null;var i=O$(o,3),a=i[0],s=i[1],l=i[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!r||r==="00:00:00")return u;var c=O$(r.split(":").map(function(h){return parseInt(h,10)}),3),d=c[0],f=c[1],p=c[2];return d>=0&&d<24&&u.setHours(d),f>=0&&f<60&&u.setMinutes(f),p>=0&&p<60&&u.setSeconds(p),u}var BRe=Object.freeze({serialiseDate:ul,dateToFormattedString:DC,parseDateTimeFromString:Sa}),WRe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zRe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},YO;function PB(n,e,t){for(var r=n.parentElement,o=r&&r.firstChild;o;)e&&o.classList.toggle(e,o===n),t&&o.classList.toggle(t,o!==n),o=o.nextSibling}var rte="[tabindex], input, select, button, textarea, [href]",c3="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function d3(n){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",r=e.call(n,t),o=e.call(n,c3),i=ls(n),a=r&&!o&&i;return a}function It(n,e,t){t===void 0&&(t={});var r=t.skipAriaHidden;n.classList.toggle("ag-hidden",!e),r||KI(n,!e)}function ote(n,e,t){t===void 0&&(t={});var r=t.skipAriaHidden;n.classList.toggle("ag-invisible",!e),r||KI(n,!e)}function TC(n,e){var t="disabled",r=e?function(o){return o.setAttribute(t,"")}:function(o){return o.removeAttribute(t)};r(n),y3(n.querySelectorAll("input"),function(o){return r(o)})}function bg(n,e,t){for(var r=0;n;){if(n.classList.contains(e))return!0;if(n=n.parentElement,typeof t=="number"){if(++r>t)break}else if(n===t)break}return!1}function nh(n){var e=window.getComputedStyle(n),t=e.height,r=e.width,o=e.borderTopWidth,i=e.borderRightWidth,a=e.borderBottomWidth,s=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,f=e.marginTop,p=e.marginRight,h=e.marginBottom,m=e.marginLeft,v=e.boxSizing;return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(o||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(h||"0"),marginLeft:parseFloat(m||"0"),boxSizing:v}}function fE(n){var e=nh(n);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function Tg(n){var e=nh(n);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function f3(n){var e=nh(n),t=e.marginBottom+e.marginTop;return Math.ceil(n.offsetHeight+t)}function aE(n){var e=nh(n),t=e.marginLeft+e.marginRight;return Math.ceil(n.offsetWidth+t)}function p3(n){var e=n.getBoundingClientRect(),t=nh(n),r=t.borderTopWidth,o=t.borderLeftWidth,i=t.borderRightWidth,a=t.borderBottomWidth;return{top:e.top+(r||0),left:e.left+(o||0),right:e.right+(i||0),bottom:e.bottom+(a||0)}}function sE(){if(typeof YO=="boolean")return YO;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(n),n.scrollLeft=1,YO=Math.floor(n.scrollLeft)===0,document.body.removeChild(n),YO}function lE(n,e){var t=n.scrollLeft;return e&&(t=Math.abs(t),qI()&&!sE()&&(t=n.scrollWidth-n.clientWidth-t)),t}function uE(n,e,t){t&&(sE()?e*=-1:(Vc()||qI())&&(e=n.scrollWidth-n.clientWidth-e)),n.scrollLeft=e}function wo(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function Ac(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function h3(n){return!!n.offsetParent}function ls(n){var e=n;if(e.checkVisibility)return e.checkVisibility({checkVisibilityCSS:!0});var t=!h3(n)||window.getComputedStyle(n).visibility!=="visible";return!t}function ba(n){var e=document.createElement("div");return e.innerHTML=(n||"").trim(),e.firstChild}function m3(n,e,t){t&&t.nextSibling===e||(t?t.nextSibling?n.insertBefore(e,t.nextSibling):n.appendChild(e):n.firstChild&&n.firstChild!==e&&n.insertAdjacentElement("afterbegin",e))}function g3(n,e){for(var t=0;t<e.length;t++){var r=e[t],o=n.children[t];o!==r&&n.insertBefore(r,o)}}function ite(n,e,t){t?t.insertAdjacentElement("afterend",e):n.firstChild?n.insertAdjacentElement("afterbegin",e):n.appendChild(e)}function v3(n,e){var t,r;if(e)try{for(var o=WRe(Object.entries(e)),i=o.next();!i.done;i=o.next()){var a=zRe(i.value,2),s=a[0],l=a[1];if(!(!s||!s.length||l==null)){var u=Fee(s),c=l.toString(),d=c.replace(/\s*!important/g,""),f=d.length!=c.length?"important":void 0;n.style.setProperty(u,d,f)}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}function ate(n){return n.clientWidth<n.scrollWidth}function ste(n){return n.clientHeight<n.scrollHeight}function cE(n,e){e==="flex"?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):cl(n,e)}function cl(n,e){e=YI(e),n.style.width=e.toString(),n.style.maxWidth=e.toString(),n.style.minWidth=e.toString()}function URe(n,e){e==="flex"?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):_g(n,e)}function _g(n,e){e=YI(e),n.style.height=e.toString(),n.style.maxHeight=e.toString(),n.style.minHeight=e.toString()}function YI(n){return typeof n=="number"?"".concat(n,"px"):n}function pE(n){return n instanceof Node||n instanceof HTMLElement}function lte(n){if(n==null)return[];var e=[];return y3(n,function(t){return e.push(t)}),e}function ute(n,e){if(n)for(var t=0;t<n.length;t++){var r=n[t];e(r.name,r.value)}}function kc(n,e,t){t==null?n.removeAttribute(e):n.setAttribute(e,t.toString())}function y3(n,e){if(n!=null)for(var t=0;t<n.length;t++)e(n[t])}function C3(n,e){n.then(function(t){var r=t.getGui();r!=null&&(typeof r=="object"?e.appendChild(r):e.innerHTML=r)})}var jRe=Object.freeze({radioCssClass:PB,FOCUSABLE_SELECTOR:rte,FOCUSABLE_EXCLUDE:c3,isFocusableFormField:d3,setDisplayed:It,setVisible:ote,setDisabled:TC,isElementChildOfClass:bg,getElementSize:nh,getInnerHeight:fE,getInnerWidth:Tg,getAbsoluteHeight:f3,getAbsoluteWidth:aE,getElementRectWithOffset:p3,isRtlNegativeScroll:sE,getScrollLeft:lE,setScrollLeft:uE,clearElement:wo,removeFromParent:Ac,isInDOM:h3,isVisible:ls,loadTemplate:ba,ensureDomOrder:m3,setDomChildOrder:g3,insertWithDomOrder:ite,addStylesToElement:v3,isHorizontalScrollShowing:ate,isVerticalScrollShowing:ste,setElementWidth:cE,setFixedWidth:cl,setElementHeight:URe,setFixedHeight:_g,formatSize:YI,isNodeOrElement:pE,copyNodeList:lte,iterateNamedNodeMap:ute,addOrRemoveAttribute:kc,nodeListForEach:y3,bindCellRendererToHtmlElement:C3}),KRe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function cte(n,e,t){var r={},o=n.filter(function(i){return!e.some(function(a){return a===i})});return o.length>0&&o.forEach(function(i){return r[i]=hE(i,t).values}),r}function hE(n,e,t,r){var o,i,a=e.map(function(h,m){return{value:h,relevance:qRe(n.toLowerCase(),h.toLocaleLowerCase()),idx:m}});if(a.sort(function(h,m){return m.relevance-h.relevance}),t&&(a=a.filter(function(h){return h.relevance!==0})),a.length>0&&r&&r>0){var s=a[0].relevance,l=s*r;a=a.filter(function(h){return l-h.relevance<0})}var u=[],c=[];try{for(var d=KRe(a),f=d.next();!f.done;f=d.next()){var p=f.value;u.push(p.value),c.push(p.idx)}}catch(h){o={error:h}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return{values:u,indices:c}}function qRe(n,e){for(var t=n.replace(/\s/g,""),r=e.replace(/\s/g,""),o=0,i=-1,a=0;a<t.length;a++){var s=r.indexOf(t[a],i+1);s!==-1&&(i=s,o+=100-i*100/1e4*100)}return o}var YRe=Object.freeze({fuzzyCheckStrings:cte,fuzzySuggestions:hE}),dte={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function ll(n,e,t){var r=Vr(n,e,t);if(r){var o=r.className;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return r}var i=document.createElement("span");return i.appendChild(r),i}function Vr(n,e,t,r){var o=null,i=t&&t.getColDef().icons;if(i&&(o=i[n]),e&&!o){var a=e.get("icons");a&&(o=a[n])}if(o){var s=void 0;if(typeof o=="function")s=o();else if(typeof o=="string")s=o;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return ba(s);if(pE(s))return s}else{var l=document.createElement("span"),u=dte[n];return u||(r?u=n:u=""),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),oo(l,"presentation"),l}}var XRe=Object.freeze({iconNameClassMap:dte,createIcon:ll,createIconNoSpan:Vr}),j=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n}(),ZRe=65,QRe=67,JRe=86,eTe=68,tTe=90,nTe=89;function XI(n){if(n.altKey||n.ctrlKey||n.metaKey)return!1;var e=n.key.length===1;return e}function II(n,e,t,r,o){var i=r?r.getColDef().suppressKeyboardEvent:void 0;if(!i)return!1;var a=n.addGridCommonParams({event:e,editing:o,column:r,node:t,data:t.data,colDef:r.getColDef()});if(i){var s=i(a);if(s)return!0}return!1}function fte(n,e,t,r){var o=r.getDefinition(),i=o&&o.suppressHeaderKeyboardEvent;if(!te(i))return!1;var a=n.addGridCommonParams({colDef:o,column:r,headerRowIndex:t,event:e});return!!i(a)}function pte(n){var e=n.keyCode,t;switch(e){case ZRe:t=j.A;break;case QRe:t=j.C;break;case JRe:t=j.V;break;case eTe:t=j.D;break;case tTe:t=j.Z;break;case nTe:t=j.Y;break;default:t=n.code}return t}function hte(n,e){return e===void 0&&(e=!1),n===j.DELETE?!0:!e&&n===j.BACKSPACE?a3():!1}var rTe=Object.freeze({isEventFromPrintableCharacter:XI,isUserSuppressingKeyboardEvent:II,isUserSuppressingHeaderKeyboardEvent:fte,normaliseQwertyAzerty:pte,isDeleteKey:hte});function w3(n,e,t){if(t===0)return!1;var r=Math.abs(n.clientX-e.clientX),o=Math.abs(n.clientY-e.clientY);return Math.max(r,o)<=t}var oTe=Object.freeze({areEventsNear:w3});function iTe(n,e){if(!n)return!1;for(var t=function(s,l){var u=e[s.id],c=e[l.id],d=u!==void 0,f=c!==void 0,p=d&&f,h=!d&&!f;return p?u-c:h?s.__objectId-l.__objectId:d?1:-1},r,o,i=!1,a=0;a<n.length-1;a++)if(r=n[a],o=n[a+1],t(r,o)>0){i=!0;break}return i?(n.sort(t),!0):!1}var aTe=Object.freeze({sortRowNodesByOrder:iTe});function S3(n){var e=new Set;return n.forEach(function(t){return e.add(t)}),e}var sTe=Object.freeze({convertToSet:S3}),to=function(){return to=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},to.apply(this,arguments)},lTe=to(to(to(to(to(to(to(to(to(to(to(to(to(to(to(to(to(to({},ARe),aRe),NRe),BRe),jRe),lRe),KDe),YRe),$De),XRe),rTe),SRe),oTe),$Re),zDe),aTe),sTe),yRe),ut=lTe,Rg=function(){function n(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return n.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(e){this.nextValue+=e},n}();(function(n){n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED"})(x.AgPromiseStatus||(x.AgPromiseStatus={}));var wa=function(){function n(e){var t=this;this.status=x.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(r){return t.onDone(r)},function(r){return t.onReject(r)})}return n.all=function(e){return new n(function(t){var r=e.length,o=new Array(r);e.forEach(function(i,a){i.then(function(s){o[a]=s,r--,r===0&&t(o)})})})},n.resolve=function(e){return e===void 0&&(e=null),new n(function(t){return t(e)})},n.prototype.then=function(e){var t=this;return new n(function(r){t.status===x.AgPromiseStatus.RESOLVED?r(e(t.resolution)):t.waiters.push(function(o){return r(e(o))})})},n.prototype.resolveNow=function(e,t){return this.status===x.AgPromiseStatus.RESOLVED?t(this.resolution):e},n.prototype.onDone=function(e){this.status=x.AgPromiseStatus.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},n.prototype.onReject=function(e){},n}(),uTe=function(){function n(){this.timestamp=new Date().getTime()}return n.prototype.print=function(e){var t=new Date().getTime()-this.timestamp;this.timestamp=new Date().getTime()},n}(),cTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yg=function(){return yg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},yg.apply(this,arguments)},F$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},su;(function(n){n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING"})(su||(su={}));var Fc;(function(n){n[n.HOVER=0]="HOVER",n[n.FOCUS=1]="FOCUS"})(Fc||(Fc={}));var b3=function(n){cTe(e,n);function e(t,r,o){var i=n.call(this)||this;return i.parentComp=t,i.tooltipShowDelayOverride=r,i.tooltipHideDelayOverride=o,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.INTERACTIVE_HIDE_DELAY=100,i.interactionEnabled=!1,i.isInteractingWithTooltip=!1,i.state=su.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i}return e.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===Fc.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Fc.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var r=this.gridOptionsService.get(t);return r<0&&ze("".concat(t," should not be lower than 0")),Math.max(200,r)},e.prototype.getTooltipDelay=function(t){var r,o;return t==="show"?(r=this.tooltipShowDelayOverride)!==null&&r!==void 0?r:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(o=this.tooltipHideDelayOverride)!==null&&o!==void 0?o:this.getGridOptionsTooltipDelay("tooltipHideDelay")},e.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?Fc.HOVER:Fc.FOCUS},e.prototype.onMouseEnter=function(t){var r=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!af()&&(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){r.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===su.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var r,o=t.relatedTarget,i=this.parentComp.getGui(),a=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui();this.isInteractingWithTooltip||i.contains(o)||this.interactionEnabled&&(a!=null&&a.contains(o))||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=su.NOTHING||e.isLocked)return!1;var r=0;return t&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=su.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),r=e.lastTooltipHideTime;return t-r<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===su.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=su.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=yg({},this.parentComp.getTooltipParams());if(!te(t.value)){this.setToDoNothing();return}this.state=su.SHOWING,this.tooltipInstanceCount++;var r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),o=this.userComponentFactory.getTooltipCompDetails(t);o.newAgStackInstance().then(r)},e.prototype.hideTooltip=function(t){if(!(!t&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());var r={type:I.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.state=su.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,r){var o=this.state!==su.SHOWING||this.tooltipInstanceCount!==t;if(o){this.getContext().destroyBean(r);return}var i=r.getGui();this.tooltipComp=r,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Fc.HOVER&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:i,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===Fc.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Fc.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(i,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(i,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(i,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(i,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:I.EVENT_TOOLTIP_SHOW,tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var r,o=this.parentComp.getGui(),i=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui(),a=t.relatedTarget;i!=null&&i.contains(a)||(this.isInteractingWithTooltip=!1,o.contains(a)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(yg(yg({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(yg(yg({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var r=this.tooltipPopupDestroyFunc,o=this.tooltipComp,i=this.tooltipTrigger===Fc.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){r(),t.getContext().destroyBean(o)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(t){t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){t.unlockService(),t.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,F$([P("popupService")],e.prototype,"popupService",void 0),F$([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),F$([se],e.prototype,"postConstruct",null),e}(re),mte=function(){function n(e){this.cssClassStates={},this.getGui=e}return n.prototype.addCssClass=function(e){var t=this,r=(e||"").split(" ");if(r.length>1){r.forEach(function(a){return t.addCssClass(a)});return}var o=this.cssClassStates[e]!==!0;if(o&&e.length){var i=this.getGui();i&&i.classList.add(e),this.cssClassStates[e]=!0}},n.prototype.removeCssClass=function(e){var t=this,r=(e||"").split(" ");if(r.length>1){r.forEach(function(a){return t.removeCssClass(a)});return}var o=this.cssClassStates[e]!==!1;if(o&&e.length){var i=this.getGui();i&&i.classList.remove(e),this.cssClassStates[e]=!1}},n.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},n.prototype.addOrRemoveCssClass=function(e,t){var r=this;if(e){if(e.indexOf(" ")>=0){var o=(e||"").split(" ");if(o.length>1){o.forEach(function(s){return r.addOrRemoveCssClass(s,t)});return}}var i=this.cssClassStates[e]!==t;if(i&&e.length){var a=this.getGui();a&&a.classList.toggle(e,t),this.cssClassStates[e]=t}}},n}(),dTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},fTe=new Rg,rt=function(n){dTe(e,n);function e(t){var r=n.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=fTe.next(),r.cssClassManager=new mte(function(){return r.eGui}),t&&r.setTemplate(t),r}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,r,o){var i=this,a=function(){i.usingBrowserTooltips?i.getGui().removeAttribute("title"):i.tooltipFeature=i.destroyBean(i.tooltipFeature)},s=function(){i.usingBrowserTooltips?i.getGui().setAttribute("title",i.tooltipText):i.tooltipFeature=i.createBean(new b3(i,r,o))};this.tooltipText!=t&&(this.tooltipText&&a(),t!=null&&(this.tooltipText=t,this.tooltipText&&s()))},e.prototype.createChildComponentsFromTags=function(t,r){var o=this,i=lte(t.childNodes);i.forEach(function(a){if(a instanceof HTMLElement){var s=o.createComponentFromElement(a,function(u){var c=u.getGui();c&&o.copyAttributesFromNode(a,u.getGui())},r);if(s){if(s.addItems&&a.children.length){o.createChildComponentsFromTags(a,r);var l=Array.prototype.slice.call(a.children);s.addItems(l)}o.swapComponentForNode(s,t,a)}else a.childNodes&&o.createChildComponentsFromTags(a,r)}})},e.prototype.createComponentFromElement=function(t,r,o){var i=t.nodeName,a=o?o[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(i);if(s){e.elementGettingCreated=t;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,r),l}return null},e.prototype.copyAttributesFromNode=function(t,r){ute(t.attributes,function(o,i){return r.setAttribute(o,i)})},e.prototype.swapComponentForNode=function(t,r,o){var i=t.getGui();r.replaceChild(i,o),r.insertBefore(document.createComment(o.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,o)},e.prototype.swapInComponentForQuerySelectors=function(t,r){var o=this;this.iterateOverQuerySelectors(function(i){o[i.attributeName]===r&&(o[i.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var r=Object.getPrototypeOf(this);r!=null;){var o=r.__agComponentMetaData,i=UI(r.constructor);o&&o[i]&&o[i].querySelectors&&o[i].querySelectors.forEach(function(a){return t(a)}),r=Object.getPrototypeOf(r)}},e.prototype.activateTabIndex=function(t){var r=this.gridOptionsService.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(function(o){return o.setAttribute("tabindex",r.toString())})},e.prototype.setTemplate=function(t,r){var o=ba(t);this.setTemplateFromElement(o,r)},e.prototype.setTemplateFromElement=function(t,r){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var r=this;this.iterateOverQuerySelectors(function(o){var i=function(l){return r[o.attributeName]=l},a=o.refSelector&&t.getAttribute("ref")===o.refSelector;if(a)i(t.eGui);else{var s=t.eGui.querySelector(o.querySelector);s&&i(s.__agComponent||s)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,r){if(t!=null)if(r||(r=this.eGui),pE(t))r.appendChild(t);else{var o=t;r.appendChild(o.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,r){if(r===void 0&&(r={}),t!==this.visible){this.visible=t;var o=r.skipAriaHidden;ote(this.eGui,t,{skipAriaHidden:o})}},e.prototype.setDisplayed=function(t,r){if(r===void 0&&(r={}),t!==this.displayed){this.displayed=t;var o=r.skipAriaHidden;It(this.eGui,t,{skipAriaHidden:o});var i={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(i)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),n.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,r,o){var i=this;this.eGui.addEventListener(t,r,o),this.addDestroyFunc(function(){return i.eGui.removeEventListener(t,r)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,r){this.cssClassManager.addOrRemoveCssClass(t,r)},e.prototype.getAttribute=function(t){var r=this.eGui;return r?r.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'.concat(t,'"]'))},e.EVENT_DISPLAYED_CHANGED="displayedChanged",L$([P("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),L$([_B],e.prototype,"preConstructOnComponent",null),L$([_B],e.prototype,"createChildComponentsPreConstruct",null),e}(re);function pTe(n){return gte.bind(this,n,void 0)}function he(n){return gte.bind(this,"[ref=".concat(n,"]"),n)}function gte(n,e,t,r,o){n!==null&&typeof o!="number"&&hTe(t,"querySelectors",{attributeName:r,querySelector:n,refSelector:e})}function hTe(n,e,t){var r=mTe(n,UI(n.constructor));r[e]||(r[e]=[]),r[e].push(t)}function mTe(n,e){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[e]||(n.__agComponentMetaData[e]={}),n.__agComponentMetaData[e]}var gTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},vTe=function(n){gTe(e,n);function e(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var r=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),o=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(r," ").concat(o("ariaFilterInput","Filter Input")))},e.prototype.onParentModelChanged=function(t){var r=this;if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(o){if(o.getModelAsString){var i=o.getModelAsString(t);r.eFloatingFilterText.setValue(i)}})},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.init(t)},sJ([he("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),sJ([P("columnModel")],e.prototype,"columnModel",void 0),e}(rt),vte=function(){function n(e,t,r,o){var i=this;this.alive=!0,this.context=e,this.eParent=o;var a=t.getDateCompDetails(r),s=a.newAgStackInstance();s.then(function(l){if(!i.alive){e.destroyBean(l);return}i.dateComp=l,l&&(o.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),i.tempValue&&l.setDate(i.tempValue),i.disabled!=null&&i.setDateCompDisabled(i.disabled))})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},n.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},n.prototype.setDisplayed=function(e){It(this.eParent,e)},n.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},n.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},n.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},n.prototype.updateParams=function(e){var t,r,o=!1;if(!((t=this.dateComp)===null||t===void 0)&&t.refresh&&typeof this.dateComp.refresh=="function"){var i=this.dateComp.refresh(e);i!==null&&(o=!0)}if(!o&&(!((r=this.dateComp)===null||r===void 0)&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"){var i=this.dateComp.onParamsUpdated(e);i!==null&&ze("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}},n.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},n}(),yte=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if(typeof t!="string"){var r=[["displayKey"],["displayName"],["predicate","test"]],o=function(i){return!!i.some(function(a){return t[a]!=null})};if(!r.every(o)){e.filterOptions=e.filterOptions.filter(function(i){return i===t})||[];return}e.customFilterOptions[t.displayKey]=t}})},n.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey&&(this.defaultOption=t.displayKey)}},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},n}(),Cte={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},yTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OB=function(){return OB=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},OB.apply(this,arguments)},lJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},rh=function(n){yTe(e,n);function e(t,r){r===void 0&&(r={});var o=n.call(this)||this;return o.eFocusableElement=t,o.callbacks=r,o.callbacks=OB({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(i){if(!i.defaultPrevented){var a=o.focusService.findNextFocusableElement(o.eFocusableElement,!1,i.shiftKey);a&&(a.focus(),i.preventDefault())}}},r),o}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var r=this;this.addManagedListener(t,"keydown",function(o){if(!(o.defaultPrevented||du(o))){if(r.callbacks.shouldStopEventPropagation(o)){fu(o);return}o.key===j.TAB?r.callbacks.onTabKeyDown(o):r.callbacks.handleKeyDown&&r.callbacks.handleKeyDown(o)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",lJ([P("focusService")],e.prototype,"focusService",void 0),lJ([se],e.prototype,"postConstruct",null),e}(re),CTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),M$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},wte="ag-resizer-wrapper",wTe='<div class="'.concat(wte,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),_3=function(n){CTe(e,n);function e(t,r){var o=n.call(this)||this;return o.element=t,o.dragStartPosition={x:0,y:0},o.position={x:0,y:0},o.lastSize={width:-1,height:-1},o.positioned=!1,o.resizersAdded=!1,o.resizeListeners=[],o.boundaryEl=null,o.isResizing=!1,o.isMoving=!1,o.resizable={},o.movable=!1,o.currentResizer=null,o.config=Object.assign({},{popup:!1},r),o}return e.prototype.center=function(){var t=this.offsetParent,r=t.clientHeight,o=t.clientWidth,i=o/2-this.getWidth()/2,a=r/2-this.getHeight()/2;this.offsetElement(i,a)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,r=t.centered,o=t.forcePopupParentAsOffsetParent,i=t.minWidth,a=t.width,s=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var d=0,f=0,p=ls(this.element);if(p){var h=this.findBoundaryElement(),m=window.getComputedStyle(h);if(m.minWidth!=null){var v=h.offsetWidth-this.element.offsetWidth;f=parseInt(m.minWidth,10)-v}if(m.minHeight!=null){var g=h.offsetHeight-this.element.offsetHeight;d=parseInt(m.minHeight,10)-g}}if(this.minHeight=s||d,this.minWidth=i||f,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),r)this.center();else if(u||c)this.offsetElement(u,c);else if(p&&o){var h=this.boundaryEl,y=!0;if(h||(h=this.findBoundaryElement(),y=!1),h){var C=parseFloat(h.style.top),w=parseFloat(h.style.left);y?this.offsetElement(isNaN(w)?0:w,isNaN(C)?0:C):this.setPosition(w,C)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,r){if(!(!this.config.popup||t===this.movable)){this.movable=t;var o=this.moveElementDragListener||{eElement:r,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(o),this.moveElementDragListener=o):(this.dragService.removeDragSource(o),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var r=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(o){var i=t,a=!!i[o],s=r.getResizerElement(o),l={dragStartPixels:0,eElement:s,onDragStart:function(u){return r.onResizeStart(u,o)},onDragging:r.onResize.bind(r),onDragStop:function(u){return r.onResizeEnd(u,o)}};(a||!r.isAlive()&&!a)&&(a?(r.dragService.addDragSource(l),r.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",r.resizable[o]=a)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,r=t.height,o=t.width;o!==-1&&(this.element.style.width="".concat(o,"px")),r!==-1&&(this.element.style.height="".concat(r,"px"))},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var r=this.config.popup,o=this.element,i=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)_g(o,t),t=f3(o),i=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var a=this.getAvailableHeight();a&&t>a&&(t=a)}this.getHeight()!==t&&(i?(o.style.maxHeight="unset",o.style.minHeight="unset"):r?_g(o,t):(o.style.height="".concat(t,"px"),o.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,r=t.popup,o=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var i=this.offsetParent.clientHeight;if(!i)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=r?this.position.y:a.top,u=r?0:s.top,c=0;if(o){var d=this.element.parentElement;if(d){var f=d.getBoundingClientRect().bottom;c=f-a.bottom}}var p=i+u-l-c;return p},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var r=this.element,o=this.config.popup,i=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)cl(r,t),t=aE(r),i=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var a=this.offsetParent.clientWidth,s=o?this.position.x:this.element.getBoundingClientRect().left;a&&t+s>a&&(t=a-s)}this.getWidth()!==t&&(i?(r.style.maxWidth="unset",r.style.minWidth="unset"):this.config.popup?cl(r,t):(r.style.width="".concat(t,"px"),r.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,r){t===void 0&&(t=0),r===void 0&&(r=0);var o=this.config.forcePopupParentAsOffsetParent,i=o?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:r}}}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var r=this;if(this.config.forcePopupParentAsOffsetParent){var o=function(){var i=r.getAvailableHeight();r.element.style.setProperty("max-height","".concat(i,"px"))};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),o):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,r){this.position.x=t,this.position.y=r},e.prototype.updateDragStartPosition=function(t,r){this.dragStartPosition={x:t,y:r}},e.prototype.calculateMouseMovement=function(t){var r=t.e,o=t.isLeft,i=t.isTop,a=t.anywhereWithin,s=t.topBuffer,l=r.clientX-this.dragStartPosition.x,u=r.clientY-this.dragStartPosition.y,c=this.shouldSkipX(r,!!o,!!a,l)?0:l,d=this.shouldSkipY(r,!!i,s,u)?0:u;return{movementX:c,movementY:d}},e.prototype.shouldSkipX=function(t,r,o,i){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:a.left,c=u<=0&&s.left>=t.clientX||s.right<=t.clientX&&s.right<=l.right;return c?!0:(r?c=i<0&&t.clientX>u+s.left||i>0&&t.clientX<u+s.left:o?c=i<0&&t.clientX>l.right||i>0&&t.clientX<u+s.left:c=i<0&&t.clientX>l.right||i>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,r,o,i){o===void 0&&(o=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:a.top,c=u<=0&&s.top>=t.clientY||s.bottom<=t.clientY&&s.bottom<=l.bottom;return c?!0:(r?c=i<0&&t.clientY>u+s.top+o||i>0&&t.clientY<u+s.top:c=i<0&&t.clientY>l.bottom||i>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var r=new DOMParser,o=r.parseFromString(wTe,"text/html").body;t.appendChild(o.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".".concat(wte));t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!r.match(/top/i),isRight:!!r.match(/right/i),isBottom:!!r.match(/bottom/i),isLeft:!!r.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[r].element.classList.add("ag-active");var o=this.config,i=o.popup,a=o.forcePopupParentAsOffsetParent;!i&&!a&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,r=t.parentElement;return r?Array.prototype.slice.call(r.children).filter(function(o){return!o.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],r=0,o=0,i=0;i<t.length;i++){var a=t[i],s=!!a.style.flex&&a.style.flex!=="0 0 auto";if(a!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(s){var c=window.getComputedStyle(a);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=a.offsetHeight,u=a.offsetWidth;r+=l,o+=u}}return{height:r,width:o}},e.prototype.applySizeToSiblings=function(t){var r=null,o=this.getSiblings();if(o){for(var i=0;i<o.length;i++){var a=o[i];a!==r&&(t?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(r=o[i+1]))}r&&(r.style.removeProperty("height"),r.style.removeProperty("min-height"),r.style.removeProperty("max-height"),r.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var r=this.config,o=r.popup,i=r.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,l=a.isRight,u=a.isBottom,c=a.isLeft,d=l||c,f=u||s,p=this.calculateMouseMovement({e:t,isLeft:c,isTop:s}),h=p.movementX,m=p.movementY,v=this.position.x,g=this.position.y,y=0,C=0;if(d&&h){var w=c?-1:1,b=this.getWidth(),E=b+h*w,D=!1;c&&(y=b-E,(v+y<=0||E<=this.minWidth)&&(D=!0,y=0)),D||this.setWidth(E)}if(f&&m){var w=s?-1:1,S=this.getHeight(),T=S+m*w,O=!1;s?(C=S-T,(g+C<=0||T<=this.minHeight)&&(O=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<T&&this.getMinSizeOfSiblings().height+T>this.element.parentElement.offsetHeight&&(O=!0),O||this.setHeight(T)}this.updateDragStartPosition(t.clientX,t.clientY),((o||i)&&y||C)&&this.offsetElement(v+y,g+C)}},e.prototype.onResizeEnd=function(t,r){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var o={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[r].element.classList.remove("ag-active"),this.dispatchEvent(o)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var r=this.position,o=r.x,i=r.y,a;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:a}),l=s.movementX,u=s.movementY;this.offsetElement(o+l,i+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},M$([P("popupService")],e.prototype,"popupService",void 0),M$([P("resizeObserverService")],e.prototype,"resizeObserverService",void 0),M$([P("dragService")],e.prototype,"dragService",void 0),e}(re),STe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},dE=function(n){STe(e,n);function e(t){var r=n.call(this)||this;return r.filterNameKey=t,r.applyActive=!1,r.hidePopup=null,r.debouncePending=!1,r.appliedModel=null,r.buttonListeners=[],r}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new rh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new _3(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit);var o=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(o,t),r=this.getGui(),r&&r.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var r=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetButtonsPanel()},e.prototype.updateParams=function(t){var r=this;this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},e.prototype.resetButtonsPanel=function(){var t=this,r=this.providedFilterParams.buttons,o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(wo(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s==null?void 0:s()}),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Ac(this.eButtonsPanel);return}var i=document.createDocumentFragment(),a=function(s){var l,u;switch(s){case"apply":l=t.translate("applyFilter"),u=function(f){return t.onBtApply(!1,!1,f)};break;case"clear":l=t.translate("clearFilter"),u=function(){return t.onBtClear()};break;case"reset":l=t.translate("resetFilter"),u=function(){return t.onBtReset()};break;case"cancel":l=t.translate("cancelFilter"),u=function(f){t.onBtCancel(f)};break;default:return}var c=s==="apply"?"submit":"button",d=ba(`<button
                    type="`.concat(c,`"
                    ref="`).concat(s,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));t.buttonListeners.push(t.addManagedListener(d,"click",u)),i.append(d)};S3(r).forEach(function(s){return a(s)}),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,r=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),o=as(this.checkApplyDebounce.bind(this),r);this.onBtApplyDebounce=function(){t.debouncePending=!0,o()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var r=this,o=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return o.then(function(){r.updateUiVisibility(),r.applyModel("api")})},e.prototype.onBtCancel=function(t){var r=this;this.resetUiToActiveModel(this.getModel(),function(){r.handleCancelEnd(t)})},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,r){var o=this,i=function(){o.onUiChanged(!1,"prevent"),r==null||r()};t!=null?this.setModelIntoUi(t).then(i):this.resetUiToDefaults().then(i)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var o=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(o,r)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,r,o){if(t===void 0&&(t=!1),r===void 0&&(r=!1),o&&o.preventDefault(),this.applyModel(r?"rowDataUpdated":"ui")){var i="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:r,source:i})}var a=this.providedFilterParams.closeOnApply;a&&this.applyActive&&!t&&!r&&this.close(o)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var r=t,o=r&&r.key,i;(o==="Enter"||o==="Space")&&(i={keyboardEvent:r}),this.hidePopup(i),this.hidePopup=null}},e.prototype.onUiChanged=function(t,r){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var o=this.isModelValid(this.getModelFromUi()),i=this.getRefElement("applyFilterButton");i&&TC(i,!o)}t&&!r||r==="immediately"?this.onBtApply(t):(!this.applyActive&&!r||r==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(!(!this.positionableFeature||t==="toolPanel")){var r=t==="floatingFilter"||t==="columnFilter",o=this,i=o.positionableFeature,a=o.gridOptionsService;r?(i.restoreLastSize(),i.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,r){return e.isUseApplyButton(t)?(t.debounceMs!=null,0):t.debounceMs!=null?t.debounceMs:r},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.refresh=function(t){return this.providedFilterParams=t,!0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,n.prototype.destroy.call(this)},e.prototype.translate=function(t){var r=this.localeService.getLocaleTextFunc();return r(t,Cte[t])},e.prototype.getCellValue=function(t){return this.providedFilterParams.getValue(t)},e.prototype.getPositionableElement=function(){return this.eFilterBody},A$([P("rowModel")],e.prototype,"rowModel",void 0),A$([he("eFilterBody")],e.prototype,"eFilterBody",void 0),A$([se],e.prototype,"postConstruct",null),e}(rt),bTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_Te=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},E3=function(n){bTe(e,n);function e(t,r){var o=n.call(this,r)||this;return o.labelSeparator="",o.labelAlignment="left",o.disabled=!1,o.label="",o.config=t||{},o}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,r=t.labelSeparator,o=t.label,i=t.labelWidth,a=t.labelAlignment;r!=null&&this.setLabelSeparator(r),o!=null&&this.setLabel(o),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){wo(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(It(this.eLabel,!1),oo(this.eLabel,"presentation")):(It(this.eLabel,!0),oo(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var r=this.getGui(),o=r.classList;return o.toggle("ag-label-align-left",t==="left"),o.toggle("ag-label-align-right",t==="right"),o.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(cE(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var r=this.getGui();return TC(r,t),r.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},_Te([se],e.prototype,"postConstruct",null),e}(rt),ETe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),x3=function(n){ETe(e,n);function e(t,r,o){var i=n.call(this,t,r)||this;return i.className=o,i}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},e.prototype.refreshAriaLabelledBy=function(){var t=this.getAriaElement(),r=this.getLabelId();Hee(t)!==null?PI(t,""):PI(t,r!=null?r:"")},e.prototype.setAriaLabel=function(t){return th(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this},e.prototype.onValueChange=function(t){var r=this;return this.addManagedListener(this,I.EVENT_FIELD_VALUE_CHANGED,function(){return t(r.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return cl(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,r){return this.value===t?this:(this.previousValue=this.value,this.value=t,r||this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED}),this)},e}(E3),xTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),R_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},DTe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,D3=function(n){xTe(e,n);function e(t){var r=n.call(this,t,(t==null?void 0:t.template)||DTe,t==null?void 0:t.className)||this;if(r.isPickerDisplayed=!1,r.skipClick=!1,r.pickerGap=4,r.hideCurrentPicker=null,r.ariaRole=t==null?void 0:t.ariaRole,r.onPickerFocusIn=r.onPickerFocusIn.bind(r),r.onPickerFocusOut=r.onPickerFocusOut.bind(r),!t)return r;var o=t.pickerGap,i=t.maxPickerHeight,a=t.variableWidth,s=t.minPickerWidth,l=t.maxPickerWidth;return o!=null&&(r.pickerGap=o),r.variableWidth=!!a,i!=null&&r.setPickerMaxHeight(i),s!=null&&r.setPickerMinWidth(s),l!=null&&r.setPickerMaxWidth(l),r}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setupAria();var t="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",t);var r=this.getAriaElement();this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var o=this.config.pickerIcon;if(o){var i=Vr(o,this.gridOptionsService);i&&this.eIcon.appendChild(i)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),rf(t,!1),this.ariaRole&&oo(t,this.ariaRole)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t){var r=this.getFocusableElement();if(r!==this.eWrapper&&(t==null?void 0:t.target)===r)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case j.UP:case j.DOWN:case j.ENTER:case j.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case j.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,r=this.gridOptionsService.getDocument(),o=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,function(){t.hidePicker()}));var i=this.localeService.getLocaleTextFunc(),a=this.config,s=a.pickerAriaLabelKey,l=a.pickerAriaLabelValue,u=a.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:o,closeOnEsc:!0,closedCallback:function(){var C=r.activeElement===r.body;t.beforeHidePicker(),C&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:i(s,l)},f=this.popupService.addPopup(d),p=this,h=p.maxPickerHeight,m=p.minPickerWidth,v=p.maxPickerWidth,g=p.variableWidth;g?(m&&(o.style.minWidth=m),o.style.width=YI(aE(this.eWrapper)),v&&(o.style.maxWidth=v)):cE(o,v!=null?v:aE(this.eWrapper));var y=h!=null?h:"".concat(fE(this.popupService.getPopupParent()),"px");return o.style.setProperty("max-height",y),o.style.position="absolute",this.alignPickerToComponent(),f.hideFunc},e.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var t=this.config.pickerType,r=this.pickerGap,o=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:r})}},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){if(this.isAlive()){var r=this.getAriaElement();rf(r,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var r;!((r=this.pickerComponent)===null||r===void 0)&&r.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setInputWidth=function(t){return cE(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.minPickerWidth=t==null?void 0:t,this},e.prototype.setPickerMaxWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerWidth=t==null?void 0:t,this},e.prototype.setPickerMaxHeight=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerHeight=t==null?void 0:t,this},e.prototype.destroy=function(){this.hidePicker(),n.prototype.destroy.call(this)},R_([P("popupService")],e.prototype,"popupService",void 0),R_([he("eLabel")],e.prototype,"eLabel",void 0),R_([he("eWrapper")],e.prototype,"eWrapper",void 0),R_([he("eDisplayField")],e.prototype,"eDisplayField",void 0),R_([he("eIcon")],e.prototype,"eIcon",void 0),e}(x3),RTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TTe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},uJ=function(n){RTe(e,n);function e(t){t===void 0&&(t="default");var r=n.call(this,'<div class="ag-list ag-'.concat(t,'-list" role="listbox"></div>'))||this;return r.cssIdentifier=t,r.options=[],r.itemEls=[],r}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var r=t.key;switch(r){case j.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}break;case j.DOWN:case j.UP:var i=r===j.DOWN,a=void 0;if(t.preventDefault(),!this.highlightedEl)a=this.itemEls[i?0:this.itemEls.length-1];else{var s=this.itemEls.indexOf(this.highlightedEl),l=s+(i?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}this.highlightItem(a);break}},e.prototype.addOptions=function(t){var r=this;return t.forEach(function(o){return r.addOption(o)}),this},e.prototype.addOption=function(t){var r=t.value,o=t.text,i=ro(o||r);return this.options.push({value:r,text:i}),this.renderOption(r,i),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(r,o){JB(r,o+1),QB(r,t.length)})},e.prototype.renderOption=function(t,r){var o=this,i=document.createElement("div");oo(i,"option"),i.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),i.innerHTML="<span>".concat(r,"</span>"),i.tabIndex=-1,this.itemEls.push(i),this.addManagedListener(i,"mouseover",function(){return o.highlightItem(i)}),this.addManagedListener(i,"mouseleave",function(){return o.clearHighlighted()}),this.addManagedListener(i,"click",function(){return o.setValue(t)}),this.getGui().appendChild(i)},e.prototype.setValue=function(t,r){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var o=this.options.findIndex(function(a){return a.value===t});if(o!==-1){var i=this.options[o];this.value=i.value,this.displayValue=i.text!=null?i.text:i.value,this.highlightItem(this.itemEls[o]),r||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var r=this.options.findIndex(function(o){return o.value===t.value});r!==-1&&this.highlightItem(this.itemEls[r])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){ls(t)&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),RC(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!ls(this.highlightedEl)||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),RC(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",TTe([se],e.prototype,"init",null),e}(rt),PTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IB=function(){return IB=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},IB.apply(this,arguments)},mE=function(n){PTe(e,n);function e(t){return n.call(this,IB({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))||this}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new uJ("select")),this.listComponent.setParentComponent(this);var r=this.listComponent.getAriaElement(),o="ag-select-list-".concat(this.listComponent.getCompId());r.setAttribute("id",o),n3(this.getAriaElement(),r),this.listComponent.addGuiEventListener("keydown",function(i){i.key===j.TAB&&(i.preventDefault(),i.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:i.key,shiftKey:i.shiftKey,ctrlKey:i.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,uJ.EVENT_ITEM_SELECTED,function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,I.EVENT_FIELD_VALUE_CHANGED,function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())})},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(n.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var r=this;return t.forEach(function(o){return r.addOption(o)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,r,o){if(this.value===t||!this.listComponent)return this;o||this.listComponent.setValue(t,!0);var i=this.listComponent.getValue();return i===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,t,r))},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),n.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}(D3),OTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Xp=function(n){OTe(e,n);function e(t,r,o,i){o===void 0&&(o="text"),i===void 0&&(i="input");var a=n.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(i,' ref="eInput" class="ag-input-field-input"></').concat(i,`>
                </div>
            </div>`),r)||this;return a.inputType=o,a.displayFieldTag=i,a}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var t=this.config,r=t.width,o=t.value;r!=null&&this.setWidth(r),o!=null&&this.setValue(o),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(r){return t.setValue(r.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return cE(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var r=this.eInput;return r.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return kc(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return th(this.eInput,t),this.refreshAriaLabelledBy(),this},e.prototype.setDisabled=function(t){return TC(this.eInput,t),n.prototype.setDisabled.call(this,t)},e.prototype.setAutoComplete=function(t){if(t===!0)kc(this.eInput,"autocomplete",null);else{var r=typeof t=="string"?t:"off";kc(this.eInput,"autocomplete",r)}return this},N$([he("eLabel")],e.prototype,"eLabel",void 0),N$([he("eWrapper")],e.prototype,"eWrapper",void 0),N$([he("eInput")],e.prototype,"eInput",void 0),e}(x3),ITe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gE=function(n){ITe(e,n);function e(t,r,o){r===void 0&&(r="ag-checkbox"),o===void 0&&(o="checkbox");var i=n.call(this,t,r,o)||this;return i.labelAlignment="right",i.selected=!1,i.readOnly=!1,i.passive=!1,i}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),n.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),r=this.getNextValue();this.passive?this.dispatchChange(r,t):this.setValue(r)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,r){return this.refreshSelectedClass(t),this.setSelected(t,r),this},e.prototype.setName=function(t){var r=this.getInputElement();return r.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,r){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,r||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,r,o){this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:r,event:o});var i=this.getInputElement(),a={type:I.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:t,previousValue:r};this.eventService.dispatchEvent(a)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var r=this.isSelected(),o=this.selected=t.target.checked;this.refreshSelectedClass(o),this.dispatchChange(o,r,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(Xp),FTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),R3=function(n){FTe(e,n);function e(t){return n.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,I.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(gE),LTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MTe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},ATe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},T3=function(){function n(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}return n.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var r=e.operator!=null,o=this.localeService.getLocaleTextFunc();if(r){var i=e,a=i.conditions;if(!a){var s=i.condition1,l=i.condition2;a=[s,l]}var u=a.map(function(g){return t.getModelAsString(g)}),c=i.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(o(c,Cte[c])," "))}else{if(e.type===qn.BLANK||e.type===qn.NOT_BLANK)return o(e.type,e.type);var d=e,f=this.optionsFactory.getCustomOption(d.type),p=f||{},h=p.displayKey,m=p.displayName,v=p.numberOfInputs;return h&&m&&v===0?(o(h,m),m):this.conditionToString(d,f)}},n.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},n.prototype.formatValue=function(e){var t;return this.valueFormatter?(t=this.valueFormatter(e!=null?e:null))!==null&&t!==void 0?t:"":String(e)},n}(),qn=function(n){LTe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return e.prototype.getNumberOfInputs=function(t){var r=this.optionsFactory.getCustomOption(t);if(r){var o=r.numberOfInputs;return o!=null?o:1}var i=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&i.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,r){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var r=this;this.eTypes.forEach(function(o,i){i===0?o.setValue(t,!0):o.setValue(r.optionsFactory.getDefaultOption(),!0)})},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map(function(t){return t.getValue()})},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,r){var o=this;if(!t&&!r)return!0;if(!t&&r||t&&!r)return!1;var i=!t.operator,a=!r.operator,s=!i&&a||i&&!a;if(s)return!1;var l;if(i){var u=t,c=r;l=this.areSimpleModelsEqual(u,c)}else{var d=t,f=r;l=d.operator===f.operator&&nf(d.conditions,f.conditions,function(p,h){return o.areSimpleModelsEqual(p,h)})}return l},e.prototype.shouldRefresh=function(t){var r,o,i,a=this.getModel(),s=a?(r=a.conditions)!==null&&r!==void 0?r:[a]:null,l=(i=(o=t.filterOptions)===null||o===void 0?void 0:o.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&i!==void 0?i:this.getDefaultFilterOptions(),u=!s||s.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof t.maxNumConditions=="number"&&s&&s.length>t.maxNumConditions)},e.prototype.refresh=function(t){if(!this.shouldRefresh(t))return!1;var r=n.prototype.refresh.call(this,t);return r?(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},e.prototype.setModelIntoUi=function(t){var r=this,o=t.operator;if(o){var i=t;i.conditions||(i.conditions=[i.condition1,i.condition2]);var a=this.validateAndUpdateConditions(i.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var u=i.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),i.conditions.forEach(function(d,f){r.eTypes[f].setValue(d.type,!0),r.setConditionIntoUi(d,f)})}else{var c=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),wa.resolve()},e.prototype.validateAndUpdateConditions=function(t){var r=t.length;return r>this.maxNumConditions&&(t.splice(this.maxNumConditions),ze('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),r=this.maxNumConditions),r},e.prototype.doesFilterPass=function(t){var r=this,o,i=this.getModel();if(i==null)return!0;var a=i.operator,s=[];if(a){var l=i;s.push.apply(s,ATe([],MTe((o=l.conditions)!==null&&o!==void 0?o:[]),!1))}else s.push(i);var u=a&&a==="OR"?"some":"every";return s[u](function(c){return r.individualConditionPasses(t,c)})},e.prototype.setParams=function(t){n.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new yte,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var r,o;t.suppressAndOrCondition!=null&&ze('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),t.alwaysShowBothConditions!=null&&ze('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(r=t.maxNumConditions)!==null&&r!==void 0?r:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(ze('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(o=t.numAlwaysVisibleConditions)!==null&&o!==void 0?o:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(ze('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ze('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,r=this.createManagedBean(new mE);this.eTypes.push(r),r.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(r.getGui());var o=this.createValueElement();this.eConditionBodies.push(o),this.eFilterBody.appendChild(o),this.putOptionsIntoDropdown(r),this.resetType(r);var i=this.getNumConditions()-1;this.forEachPositionInput(i,function(a){return t.resetInput(a)}),this.addChangedListeners(r,i)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var r=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),o=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var i=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(r,i,a),this.resetJoinOperatorOr(o,i,a),this.isReadOnly()||(r.onValueChange(this.listener),o.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,r,o){var i=this.createManagedBean(new R3);return t.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass("ag-filter-condition-operator-".concat(o)),r.appendChild(i.getGui()),i},e.prototype.getDefaultJoinOperator=function(t){return t==="AND"||t==="OR"?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,r=this.optionsFactory.getFilterOptions();this.filterListOptions=r.map(function(o){return typeof o=="string"?t.createBoilerplateListOption(o):t.createCustomListOption(o)})},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach(function(r){t.addOption(r)}),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var r=t.displayKey,o=this.optionsFactory.getCustomOption(t.displayKey);return{value:r,text:o?this.localeService.getLocaleTextFunc()(o.displayKey,o.displayName):this.translate(r)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,r=-1,o=!0,i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?r=i:o=!1;if(this.shouldAddNewConditionAtEnd(o))this.createJoinOperatorPanel(),this.createOption();else{var a=(t=this.lastUiCompletePosition)!==null&&t!==void 0?t:this.getNumConditions()-2;if(r<a){this.removeConditionsAndOperators(a+1);var s=r+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=r},e.prototype.updateConditionStatusesAndValues=function(t,r){var o=this;this.eTypes.forEach(function(a,s){var l=o.isConditionDisabled(s,t);a.setDisabled(l||o.filterListOptions.length<=1),s===1&&(TC(o.eJoinOperatorPanels[0],l),o.eJoinOperatorsAnd[0].setDisabled(l),o.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){It(a,o.isConditionBodyVisible(s))});var i=(r!=null?r:this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(i,!0)}),this.forEachInput(function(a,s,l,u){o.setElementDisplayed(a,s<u),o.setElementDisabled(a,o.isConditionDisabled(l,t))}),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,r){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,r),this.removeElements(this.eConditionBodies,t,r),this.removeValueElements(t,r);var o=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,o,r),this.removeComponents(this.eJoinOperatorsAnd,o,r),this.removeComponents(this.eJoinOperatorsOr,o,r)}},e.prototype.removeElements=function(t,r,o){var i=this.removeItems(t,r,o);i.forEach(function(a){return Ac(a)})},e.prototype.removeComponents=function(t,r,o){var i=this,a=this.removeItems(t,r,o);a.forEach(function(s){Ac(s.getGui()),i.destroyBean(s)})},e.prototype.removeItems=function(t,r,o){return o==null?t.splice(r):t.splice(r,o)},e.prototype.afterGuiAttached=function(t){if(n.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var r=this.getInputs(0)[0];if(!r)return;r instanceof Xp&&r.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){n.prototype.afterGuiDetached.call(this);var t=this.getModel();this.resetUiToActiveModel(t);for(var r=-1,o=-1,i=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))r===-1&&(r=s,o=s);else{var l=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),u=s<r;(l||u)&&(this.removeConditionsAndOperators(s,1),i=!0,u&&o--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(o,a),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o},e.prototype.getPlaceholderText=function(t,r){var o=this.translate(t);if(jI(this.filterPlaceholder)){var i=this.filterPlaceholder,a=this.eTypes[r].getValue(),s=this.translate(a);o=i({filterOptionKey:a,filterOption:s,placeholder:o})}else typeof this.filterPlaceholder=="string"&&(o=this.filterPlaceholder);return o},e.prototype.resetPlaceholder=function(){var t=this,r=this.localeService.getLocaleTextFunc();this.forEachInput(function(o,i,a,s){if(o instanceof Xp){var l=i===0&&s>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",u=i===0&&s>1?r("ariaFilterFromValue","Filter from value"):i===0?r("ariaFilterValue","Filter Value"):r("ariaFilterToValue","Filter to Value");o.setInputPlaceholder(t.getPlaceholderText(l,a)),o.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,r,o){t instanceof Xp&&t.setValue(r!=null?String(r):null,!0)},e.prototype.setElementDisplayed=function(t,r){t instanceof rt&&It(t.getGui(),r)},e.prototype.setElementDisabled=function(t,r){t instanceof rt&&TC(t.getGui(),r)},e.prototype.attachElementOnChange=function(t,r){t instanceof Xp&&t.onValueChange(r)},e.prototype.forEachInput=function(t){var r=this;this.getConditionTypes().forEach(function(o,i){r.forEachPositionTypeInput(i,o,t)})},e.prototype.forEachPositionInput=function(t,r){var o=this.getConditionType(t);this.forEachPositionTypeInput(t,o,r)},e.prototype.forEachPositionTypeInput=function(t,r,o){for(var i=this.getNumberOfInputs(r),a=this.getInputs(t),s=0;s<a.length;s++){var l=a[s];l!=null&&o(l,s,t,i)}},e.prototype.isConditionDisabled=function(t,r){return this.isReadOnly()?!0:t===0?!1:t>r+1},e.prototype.isConditionBodyVisible=function(t){var r=this.getConditionType(t),o=this.getNumberOfInputs(r);return o>0},e.prototype.isConditionUiComplete=function(t){if(t>=this.getNumConditions())return!1;var r=this.getConditionType(t);return!(r===e.EMPTY||this.getValues(t).some(function(o){return o==null}))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)&&t.push(this.createCondition(r));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var r=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(o){return r.resetType(o)}),this.eJoinOperatorsAnd.forEach(function(o,i){return r.resetJoinOperatorAnd(o,i,r.joinOperatorId+i)}),this.eJoinOperatorsOr.forEach(function(o,i){return r.resetJoinOperatorOr(o,i,r.joinOperatorId+i)}),this.joinOperatorId++,this.forEachInput(function(o){return r.resetInput(o)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),wa.resolve()},e.prototype.resetType=function(t){var r=this.localeService.getLocaleTextFunc(),o=r("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(o).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,r,o){this.resetJoinOperator(t,r,this.isDefaultOperator("AND"),this.translate("andCondition"),o)},e.prototype.resetJoinOperatorOr=function(t,r,o){this.resetJoinOperator(t,r,this.isDefaultOperator("OR"),this.translate("orCondition"),o)},e.prototype.resetJoinOperator=function(t,r,o,i,a){this.updateJoinOperatorDisabled(t.setValue(o,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(i),r)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach(function(r,o){return t.updateJoinOperatorDisabled(r,o)}),this.eJoinOperatorsOr.forEach(function(r,o){return t.updateJoinOperatorDisabled(r,o)})},e.prototype.updateJoinOperatorDisabled=function(t,r){t.setDisabled(this.isReadOnly()||r>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,r){var o=this,i=this.mapValuesFromModel(t);this.forEachInput(function(a,s,l,u){l===r&&o.setElementValue(a,i[s]!=null?i[s]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var r=this;this.forEachInput(function(o,i,a,s){r.setElementValue(o,i===0&&a===0?t:null,!0)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,r){var o=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(r,function(i){o.attachElementOnChange(i,o.listener)}))},e.prototype.individualConditionPasses=function(t,r){var o=this.getCellValue(t.node),i=this.mapValuesFromModel(r),a=this.optionsFactory.getCustomOption(r.type),s=this.evaluateCustomFilter(a,i,o);return s!=null?s:o==null?this.evaluateNullValue(r.type):this.evaluateNonNullValue(i,o,r,t)},e.prototype.evaluateCustomFilter=function(t,r,o){if(t!=null){var i=t.predicate;if(i!=null&&!r.some(function(a){return a==null}))return i(r,o)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(dE),NTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nr=function(n){NTe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setParams=function(t){n.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,r,o){var i=this.comparator(),a=t[0]!=null?i(t[0],r):0;switch(o.type){case e.EQUALS:return a===0;case e.NOT_EQUAL:return a!==0;case e.GREATER_THAN:return a>0;case e.GREATER_THAN_OR_EQUAL:return a>=0;case e.LESS_THAN:return a<0;case e.LESS_THAN_OR_EQUAL:return a<=0;case e.IN_RANGE:{var s=i(t[1],r);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0}case e.BLANK:return this.isBlank(r);case e.NOT_BLANK:return!this.isBlank(r);default:return!0}},e}(qn),Ste=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FB=function(){return FB=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},FB.apply(this,arguments)},kTe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},cJ=1e3,dJ=1/0,bte=function(n){Ste(e,n);function e(t,r,o){var i=n.call(this,r,o)||this;return i.dateFilterParams=t,i}return e.prototype.conditionToString=function(t,r){var o=t.type,i=(r||{}).numberOfInputs,a=o==qn.IN_RANGE||i===2,s=Sa(t.dateFrom),l=Sa(t.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var c=s!==null?DC(s,u):"null",d=l!==null?DC(l,u):"null";return"".concat(c,"-").concat(d)}return s!=null?DC(s,u):"".concat(o)},e.prototype.updateParams=function(t){n.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},e}(T3),P3=function(n){Ste(e,n);function e(){var t=n.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=cJ,t.maxValidYear=dJ,t.minValidDate=null,t.maxValidDate=null,t}return e.prototype.afterGuiAttached=function(t){n.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var r=t||{},o=r.dateFrom,i=r.dateTo,a=r.type;return[o&&Sa(o)||null,i&&Sa(i)||null].slice(0,this.getNumberOfInputs(a))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,r){var o=r;return r==null||o<t?-1:o>t?1:0},e.prototype.setParams=function(t){this.dateFilterParams=t,n.prototype.setParams.call(this,t);var r=function(o,i){return t[o]!=null&&!isNaN(t[o])?t[o]==null?i:Number(t[o]):i};this.minValidYear=r("minValidYear",cJ),this.maxValidYear=r("maxValidYear",dJ),this.minValidYear>this.maxValidYear,t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:Sa(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:Sa(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate,this.filterModelFormatter=new bte(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var r=this,o=new vte(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc(function(){return o.destroy()}),o},e.prototype.setElementValue=function(t,r){t.setDate(r)},e.prototype.setElementDisplayed=function(t,r){t.setDisplayed(r)},e.prototype.setElementDisabled=function(t,r){t.setDisabled(r)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,r,o,i){var a=document.createElement("div");a.classList.add("ag-filter-".concat(i)),a.classList.add("ag-filter-date-".concat(i)),r.push(a),t.appendChild(a),o.push(this.createDateCompWrapper(a))},e.prototype.removeValueElements=function(t,r){this.removeDateComps(this.dateConditionFromComps,t,r),this.removeDateComps(this.dateConditionToComps,t,r),this.removeItems(this.eConditionPanelsFrom,t,r),this.removeItems(this.eConditionPanelsTo,t,r)},e.prototype.removeDateComps=function(t,r,o){var i=this.removeItems(t,r,o);i.forEach(function(a){return a.destroy()})},e.prototype.isValidDateValue=function(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(t){var r=this;if(!n.prototype.isConditionUiComplete.call(this,t))return!1;var o=!0;return this.forEachInput(function(i,a,s,l){s!==t||!o||a>=l||(o=o&&r.isValidDateValue(i.getDate()))}),o},e.prototype.areSimpleModelsEqual=function(t,r){return t.dateFrom===r.dateFrom&&t.dateTo===r.dateTo&&t.type===r.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var r=this.getConditionType(t),o={},i=this.getValues(t);return i.length>0&&(o.dateFrom=ul(i[0])),i.length>1&&(o.dateTo=ul(i[1])),FB({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},o)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),o=t("ariaFilterValue","Filter Value");this.forEachInput(function(i){i.setInputPlaceholder(r),i.setInputAriaLabel(o)})},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var r=[];return this.forEachPositionInput(t,function(o,i,a,s){i<s&&r.push(o.getDate())}),r},e.prototype.translate=function(t){return t===Nr.LESS_THAN?n.prototype.translate.call(this,"before"):t===Nr.GREATER_THAN?n.prototype.translate.call(this,"after"):n.prototype.translate.call(this,t)},e.prototype.getModelAsString=function(t){var r;return(r=this.filterModelFormatter.getModelAsString(t))!==null&&r!==void 0?r:""},e.DEFAULT_FILTER_OPTIONS=[Nr.EQUALS,Nr.NOT_EQUAL,Nr.LESS_THAN,Nr.GREATER_THAN,Nr.IN_RANGE,Nr.BLANK,Nr.NOT_BLANK],kTe([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(Nr),VTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_te=function(n){VTe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return t==null?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var r=t.operator,o;if(r){var i=t;o=i.conditions[0]}else o=t;this.lastType=o.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var r=t.operator;if(r)return!1;var o=t;return this.isTypeEditable(o.type)},e.prototype.init=function(t){this.setSimpleParams(t,!1)},e.prototype.setSimpleParams=function(t,r){r===void 0&&(r=!0),this.optionsFactory=new yte,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),r||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;var o=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(o)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var r=this.optionsFactory.getCustomOption(t),o=(r||{}).numberOfInputs;return o==null||o==1},e.prototype.isTypeEditable=function(t){var r=[qn.IN_RANGE,qn.EMPTY,qn.BLANK,qn.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&r.indexOf(t)<0},e}(rt),GTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},HTe=function(n){GTe(e,n);function e(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return P3.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(t){n.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new bte(this.filterParams,this.localeService,this.optionsFactory);var r=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){n.prototype.refresh.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())},e.prototype.updateCompOnModelChange=function(t){var r=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(r),r){if(t){var o=t;this.dateComp.setDate(Sa(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)},e.prototype.setEditable=function(t){It(this.eDateWrapper,t),It(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(n.prototype.setLastTypeFromModel.call(this,t),this.updateCompOnModelChange(t))},e.prototype.onDateChanged=function(){var t=this,r=this.dateComp.getDate(),o=ul(r);this.params.parentFilterInstance(function(i){if(i){var a=Sa(o);i.onFloatingFilterChanged(t.getLastType()||null,a)}})},e.prototype.getDateComponentParams=function(){var t=dE.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:as(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new vte(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},e.prototype.updateDateComponent=function(){var t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},k$([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),k$([he("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),k$([he("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(_te),$Te=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BTe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},WTe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},zTe=function(n){$Te(e,n);function e(){return n.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){var r=this;this.params=t,this.setParams(t);var o=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement();this.addManagedListener(i,"mousedown",function(){r.eDateInput.isDisabled()||r.usingSafariDatePicker||i.focus()}),this.addManagedListener(i,"input",function(a){a.target===o.activeElement&&(r.eDateInput.isDisabled()||r.params.onDateChanged())})},e.prototype.setParams=function(t){var r=this.eDateInput.getInputElement(),o=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=o&&Vc(),r.type=o?"date":"text";var i=t.filterParams||{},a=i.minValidYear,s=i.maxValidYear,l=i.minValidDate,u=i.maxValidDate;if(l&&a&&ze("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&s&&ze("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=WTe([l,u].map(function(p){return p instanceof Date?p:Sa(p)}),2),d=c[0],f=c[1];d&&f&&d.getTime()>f.getTime()&&ze("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?r.min=DC(l):r.min=l:a&&(r.min="".concat(a,"-01-01")),u?u instanceof Date?r.max=DC(u):r.max=u:s&&(r.max="".concat(s,"-12-31"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return Sa(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(ul(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:qI()||i3()||Vc()&&o3()>=14.1},BTe([he("eDateInput")],e.prototype,"eDateInput",void 0),e}(rt),UTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oh=function(n){UTe(e,n);function e(t,r,o){return r===void 0&&(r="ag-text-field"),o===void 0&&(o="text"),n.call(this,t,r,o)||this}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,r){return this.eInput.value!==t&&(this.eInput.value=te(t)?t:""),n.prototype.setValue.call(this,t,r)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("[".concat(this.config.allowedCharPattern,"]")),r=function(o){XI(o)&&o.key&&!t.test(o.key)&&o.preventDefault()};this.addManagedListener(this.eInput,"keydown",r),this.addManagedListener(this.eInput,"paste",function(o){var i,a=(i=o.clipboardData)===null||i===void 0?void 0:i.getData("text");a&&a.split("").some(function(s){return!t.test(s)})&&o.preventDefault()})},e}(Xp),jTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZI=function(n){jTe(e,n);function e(t){return n.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var r=parseFloat(t.eInput.value),o=isNaN(r)?"":t.normalizeValue(r.toString());t.value!==o&&t.setValue(o)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));var r=parseFloat(t);return this.min!=null&&r<this.min?t=this.min.toString():this.max!=null&&r>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,r){if(this.precision==null)return t;if(r){var o=parseFloat(t).toFixed(this.precision);return parseFloat(o).toString()}var i=String(t).split(".");if(i.length>1){if(i[1].length<=this.precision)return t;if(this.precision>0)return"".concat(i[0],".").concat(i[1].slice(0,this.precision))}return i[0]},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,kc(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,kc(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,kc(this.eInput,"step",t),this)},e.prototype.setValue=function(t,r){var o=this;return this.setValueOrInputValue(function(i){return n.prototype.setValue.call(o,i,r)},function(){return o},t)},e.prototype.setStartValue=function(t){var r=this;return this.setValueOrInputValue(function(o){return n.prototype.setValue.call(r,o,!0)},function(o){r.eInput.value=o},t)},e.prototype.setValueOrInputValue=function(t,r,o){if(te(o)){var i=this.isScientificNotation(o);if(i&&this.eInput.validity.valid)return t(o);if(!i){o=this.adjustPrecision(o);var a=this.normalizeValue(o);i=o!=a}if(i)return r(o)}return t(o)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):n.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return typeof t=="string"&&t.includes("e")},e}(oh),Ete=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xte=function(n){Ete(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,r){var o=(r||{}).numberOfInputs,i=t.type==qn.IN_RANGE||o===2;return i?"".concat(this.formatValue(t.filter),"-").concat(this.formatValue(t.filterTo)):t.filter!=null?this.formatValue(t.filter):"".concat(t.type)},e}(T3);function LB(n){var e=(n!=null?n:{}).allowedCharPattern;return e!=null?e:null}var O3=function(n){Ete(e,n);function e(){var t=n.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.prototype.refresh=function(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:n.prototype.refresh.call(this,t)},e.prototype.mapValuesFromModel=function(t){var r=t||{},o=r.filter,i=r.filterTo,a=r.type;return[this.processValue(o),this.processValue(i)].slice(0,this.getNumberOfInputs(a))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,r){return t===r?0:t<r?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t,n.prototype.setParams.call(this,t),this.filterModelFormatter=new xte(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(t,r,o){var i=!o&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(r!=null?r:null):r;n.prototype.setElementValue.call(this,t,i)},e.prototype.createValueElement=function(){var t=LB(this.numberFilterParams),r=document.createElement("div");return r.classList.add("ag-filter-body"),oo(r,"presentation"),this.createFromToElement(r,this.eValuesFrom,"from",t),this.createFromToElement(r,this.eValuesTo,"to",t),r},e.prototype.createFromToElement=function(t,r,o,i){var a=this.createManagedBean(i?new oh({allowedCharPattern:i}):new ZI);a.addCssClass("ag-filter-".concat(o)),a.addCssClass("ag-filter-filter"),r.push(a),t.appendChild(a.getGui())},e.prototype.removeValueElements=function(t,r){this.removeComponents(this.eValuesFrom,t,r),this.removeComponents(this.eValuesTo,t,r)},e.prototype.getValues=function(t){var r=this,o=[];return this.forEachPositionInput(t,function(i,a,s,l){a<l&&o.push(r.processValue(r.stringToFloat(i.getValue())))}),o},e.prototype.areSimpleModelsEqual=function(t,r){return t.filter===r.filter&&t.filterTo===r.filterTo&&t.type===r.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return t==null||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var r=Nc(t);return r!=null&&r.trim()===""&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):r==null||r.trim()==="-"?null:parseFloat(r)},e.prototype.createCondition=function(t){var r=this.getConditionType(t),o={filterType:this.getFilterType(),type:r},i=this.getValues(t);return i.length>0&&(o.filter=i[0]),i.length>1&&(o.filterTo=i[1]),o},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var r;return(r=this.filterModelFormatter.getModelAsString(t))!==null&&r!==void 0?r:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput(function(r){if(!r.getInputElement().validity.valid){t=!0;return}}),t},e.DEFAULT_FILTER_OPTIONS=[Nr.EQUALS,Nr.NOT_EQUAL,Nr.GREATER_THAN,Nr.GREATER_THAN_OR_EQUAL,Nr.LESS_THAN,Nr.LESS_THAN_OR_EQUAL,Nr.IN_RANGE,Nr.BLANK,Nr.NOT_BLANK],e}(Nr),Dte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FI=function(){return FI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},FI.apply(this,arguments)},Rte=function(n){Dte(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,r){var o=(r||{}).numberOfInputs,i=t.type==qn.IN_RANGE||o===2;return i?"".concat(t.filter,"-").concat(t.filterTo):t.filter!=null?"".concat(t.filter):"".concat(t.type)},e}(T3),QI=function(n){Dte(e,n);function e(){var t=n.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.trimInput=function(t){var r=t&&t.trim();return r===""?t:r},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){this.textFilterParams=t,n.prototype.setParams.call(this,t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Rte(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(ut.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(r){var o=r.filterOption,i=r.value,a=r.filterText;return t(o,i,a)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var r=this.getConditionType(t),o={filterType:this.getFilterType(),type:r},i=this.getValuesWithSideEffects(t,!0);return i.length>0&&(o.filter=i[0]),i.length>1&&(o.filterTo=i[1]),o},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,r){return t.filter===r.filter&&t.filterTo===r.filterTo&&t.type===r.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,r){var o=this,i=[];return this.forEachPositionInput(t,function(a,s,l,u){var c;if(s<u){var d=Nc(a.getValue());r&&o.textFilterParams.trimInput&&(d=(c=e.trimInput(d))!==null&&c!==void 0?c:null,a.setValue(d,!0)),i.push(d)}}),i},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),oo(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,r,o){var i=this.createManagedBean(new oh);i.addCssClass("ag-filter-".concat(o)),i.addCssClass("ag-filter-filter"),r.push(i),t.appendChild(i.getGui())},e.prototype.removeValueElements=function(t,r){this.removeComponents(this.eValuesFrom,t,r),this.removeComponents(this.eValuesTo,t,r)},e.prototype.mapValuesFromModel=function(t){var r=t||{},o=r.filter,i=r.filterTo,a=r.type;return[o||null,i||null].slice(0,this.getNumberOfInputs(a))},e.prototype.evaluateNullValue=function(t){var r=[qn.NOT_EQUAL,qn.NOT_CONTAINS,qn.BLANK];return t?r.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,r,o,i){var a=this,s=t.map(function(g){return a.formatter(g)})||[],l=this.formatter(r),u=this.textFilterParams,c=u.api,d=u.colDef,f=u.column,p=u.columnApi,h=u.context,m=u.textFormatter;if(o.type===qn.BLANK)return this.isBlank(r);if(o.type===qn.NOT_BLANK)return!this.isBlank(r);var v={api:c,colDef:d,column:f,columnApi:p,context:h,node:i.node,data:i.data,filterOption:o.type,value:l,textFormatter:m};return s.some(function(g){return a.matcher(FI(FI({},v),{filterText:g}))})},e.prototype.getModelAsString=function(t){var r;return(r=this.filterModelFormatter.getModelAsString(t))!==null&&r!==void 0?r:""},e.DEFAULT_FILTER_OPTIONS=[qn.CONTAINS,qn.NOT_CONTAINS,qn.EQUALS,qn.NOT_EQUAL,qn.STARTS_WITH,qn.ENDS_WITH,qn.BLANK,qn.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var r=t.filterOption,o=t.value,i=t.filterText;if(i==null)return!1;switch(r){case e.CONTAINS:return o.indexOf(i)>=0;case e.NOT_CONTAINS:return o.indexOf(i)<0;case e.EQUALS:return o===i;case e.NOT_EQUAL:return o!=i;case e.STARTS_WITH:return o.indexOf(i)===0;case e.ENDS_WITH:var a=o.lastIndexOf(i);return a>=0&&a===o.length-i.length;default:return!1}},e}(qn),Tte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),V$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Pte=function(n){Tte(e,n);function e(t){var r=n.call(this)||this;return r.params=t,r.valueChangedListener=function(){},r}return e.prototype.setupGui=function(t){var r=this,o;this.eFloatingFilterTextInput=this.createManagedBean(new oh((o=this.params)===null||o===void 0?void 0:o.config));var i=this.eFloatingFilterTextInput.getGui();t.appendChild(i),this.addManagedListener(i,"input",function(a){return r.valueChangedListener(a)}),this.addManagedListener(i,"keydown",function(a){return r.valueChangedListener(a)})},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,r){this.eFloatingFilterTextInput.setValue(t,r)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(re),Ote=function(n){Tte(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(t){this.setupFloatingFilterInputService(t),n.prototype.init.call(this,t),this.setTextInputParams(t)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var r;this.params=t;var o=(r=t.browserAutoComplete)!==null&&r!==void 0?r:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:o}),this.applyActive=dE.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var i=dE.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=as(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(a)}},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){n.prototype.refresh.call(this,t),this.setTextInputParams(t)},e.prototype.recreateFloatingFilterInputService=function(t){var r=this.floatingFilterInputService.getValue();wo(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(r,!0)},e.prototype.getAriaLabel=function(t){var r=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),o=this.localeService.getLocaleTextFunc();return"".concat(r," ").concat(o("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var r=this,o=t.key===j.ENTER;if(!(this.applyActive&&!o)){var i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=QI.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(r.getLastType()||null,i||null)})}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},V$([P("columnModel")],e.prototype,"columnModel",void 0),V$([he("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),V$([se],e.prototype,"postConstruct",null),e}(_te),Ite=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KTe=function(n){Ite(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return e.prototype.setupGui=function(t){var r=this;this.eFloatingFilterNumberInput=this.createManagedBean(new ZI),this.eFloatingFilterTextInput=this.createManagedBean(new oh),this.eFloatingFilterTextInput.setDisabled(!0);var o=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();t.appendChild(o),t.appendChild(i),this.setupListeners(o,function(a){return r.valueChangedListener(a)}),this.setupListeners(i,function(a){return r.valueChangedListener(a)})},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,r){this.getActiveInputElement().setValue(t,r)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,r){this.addManagedListener(t,"input",r),this.addManagedListener(t,"keydown",r)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(re),qTe=function(n){Ite(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){var r;n.prototype.init.call(this,t),this.filterModelFormatter=new xte(this.localeService,this.optionsFactory,(r=t.filterParams)===null||r===void 0?void 0:r.numberFormatter)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){var r=LB(t.filterParams);r!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),n.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return O3.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=LB(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Pte({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new KTe)},e}(Ote),YTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fte=function(n){YTe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.call(this,t),this.filterModelFormatter=new Rte(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){n.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return QI.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new Pte)},e}(Ote),ei=function(){function n(e,t){t===void 0&&(t=!1);var r=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new of,this.eElement=e,this.preventMouseClick=t;var o=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){r.eElement.removeEventListener("touchstart",o,{passive:!0}),r.eElement.removeEventListener("touchmove",i,{passive:!0}),r.eElement.removeEventListener("touchend",a,{passive:!1})})}return n.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var r=e[t].identifier===this.touchStart.identifier;if(r)return e[t]}return null},n.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},n.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout(function(){var o=t.touchStart===r;if(t.touching&&o&&!t.moved){t.moved=!0;var i={type:n.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(i)}},500)}},n.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var r=!w3(t,this.touchStart,4);r&&(this.moved=!0)}}},n.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var t={type:n.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},n.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>n.DOUBLE_TAP_MILLIS){var r={type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}(),XTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pg=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},JI=function(n){XTe(e,n);function e(t){var r=n.call(this)||this;return t||r.setTemplate(e.TEMPLATE),r}return e.prototype.attachCustomElements=function(t,r,o,i,a){this.eSortOrder=t,this.eSortAsc=r,this.eSortDesc=o,this.eSortMixed=i,this.eSortNone=a},e.prototype.setupSort=function(t,r){var o=this;r===void 0&&(r=!1),this.column=t,this.suppressOrder=r,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",function(){return o.updateIcons()}),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,function(){return o.updateIcons()}),this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,function(){return o.onSortChanged()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return o.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,r,o){if(r!=null){var i=Vr(t,this.gridOptionsService,o);i&&r.appendChild(i)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var r=t==="asc";It(this.eSortAsc,r,{skipAriaHidden:!0})}if(this.eSortDesc){var o=t==="desc";It(this.eSortDesc,o,{skipAriaHidden:!0})}if(this.eSortNone){var i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),a=t==null;It(this.eSortNone,!i&&a,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var r=this.column.getColDef().showRowGroup,o=this.gridOptionsService.isColumnsSortingCoupledToGroup();o&&r&&(this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";It(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t=this,r;if(this.eSortOrder){var o=this.sortController.getColumnsWithSortingOrdered(),i=(r=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&r!==void 0?r:-1,a=o.some(function(l){var u;return(u=t.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),s=i>=0&&a;It(this.eSortOrder,s,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():wo(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,pg([he("eSortOrder")],e.prototype,"eSortOrder",void 0),pg([he("eSortAsc")],e.prototype,"eSortAsc",void 0),pg([he("eSortDesc")],e.prototype,"eSortDesc",void 0),pg([he("eSortMixed")],e.prototype,"eSortMixed",void 0),pg([he("eSortNone")],e.prototype,"eSortNone",void 0),pg([P("columnModel")],e.prototype,"columnModel",void 0),pg([P("sortController")],e.prototype,"sortController",void 0),e}(rt),ZTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ca=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},MB=function(n){ZTe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t,r=(t=this.params.template)!==null&&t!==void 0?t:e.TEMPLATE;return r=r&&r.trim?r.trim():r,r},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var r=ro(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=r)}},e.prototype.addInIcon=function(t,r,o){if(r!=null){var i=Vr(t,this.gridOptionsService,o);i&&r.appendChild(i)}},e.prototype.setupTap=function(){var t=this,r=this.gridOptionsService;if(!r.get("suppressTouch")){var o=new ei(this.getGui(),!0),i=this.shouldSuppressMenuHide(),a=i&&te(this.eMenu),s=a?new ei(this.eMenu,!0):o;if(this.params.enableMenu){var l=a?"EVENT_TAP":"EVENT_LONG_TAP",u=function(f){return t.params.showColumnMenuAfterMouseClick(f.touchStart)};this.addManagedListener(s,ei[l],u)}if(this.params.enableSorting){var c=function(f){var p,h,m=f.touchStart.target;i&&(!((p=t.eMenu)===null||p===void 0)&&p.contains(m)||!((h=t.eFilterButton)===null||h===void 0)&&h.contains(m))||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(o,ei.EVENT_TAP,c)}if(this.params.enableFilterButton){var d=new ei(this.eFilterButton,!0);this.addManagedListener(d,"tap",function(){return t.params.showFilter(t.eFilterButton)}),this.addDestroyFunc(function(){return d.destroy()})}this.addDestroyFunc(function(){return o.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},e.prototype.workOutShowMenu=function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()},e.prototype.shouldSuppressMenuHide=function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()},e.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Ac(this.eMenu),this.eMenu=void 0;return}var r=this.menuService.isLegacyMenuEnabled();this.addInIcon(r?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!r),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return t.params.showColumnMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},e.prototype.onMenuKeyboardShortcut=function(t){var r,o,i,a,s=this.params.column,l=this.menuService.isLegacyMenuEnabled();if(t&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(s))return this.params.showFilter((o=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&o!==void 0?o:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((a=(i=this.eMenu)!==null&&i!==void 0?i:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()),!0;return!1},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new JI(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,on.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var i=t.params.column.isMoving(),a=new Date().getTime(),s=a-t.lastMovingChanged<50,l=i||s;if(!l){var u=t.gridOptionsService.get("multiSortKey")==="ctrl",c=u?o.ctrlKey||o.metaKey:o.shiftKey;t.params.progressSort(c)}});var r=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var o=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),i=o==null?void 0:o.every(function(s){return t.params.column.getSort()==s.getSort()}),a=!i;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,r)}},e.prototype.setupFilterIcon=function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))},e.prototype.setupFilterButton=function(){var t=this;if(this.eFilterButton){var r=this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this));r?this.addManagedListener(this.eFilterButton,"click",function(){return t.params.showFilter(t.eFilterButton)}):this.eFilterButton=void 0}},e.prototype.configureFilter=function(t,r,o){if(!t)return Ac(r),!1;var i=this.params.column;return this.addInIcon("filter",r,i),this.addManagedListener(i,on.EVENT_FILTER_CHANGED,o),o(),!0},e.prototype.onFilterChangedIcon=function(){var t=this.params.column.isFilterActive();It(this.eFilter,t,{skipAriaHidden:!0})},e.prototype.onFilterChangedButton=function(){var t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)},e.prototype.getAnchorElementForMenu=function(t){var r,o,i,a;return t?(o=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&o!==void 0?o:this.getGui():(a=(i=this.eMenu)!==null&&i!==void 0?i:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,ca([P("sortController")],e.prototype,"sortController",void 0),ca([P("menuService")],e.prototype,"menuService",void 0),ca([P("columnModel")],e.prototype,"columnModel",void 0),ca([he("eFilter")],e.prototype,"eFilter",void 0),ca([he("eFilterButton")],e.prototype,"eFilterButton",void 0),ca([he("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ca([he("eMenu")],e.prototype,"eMenu",void 0),ca([he("eLabel")],e.prototype,"eLabel",void 0),ca([he("eText")],e.prototype,"eText",void 0),ca([he("eSortOrder")],e.prototype,"eSortOrder",void 0),ca([he("eSortAsc")],e.prototype,"eSortAsc",void 0),ca([he("eSortDesc")],e.prototype,"eSortDesc",void 0),ca([he("eSortMixed")],e.prototype,"eSortMixed",void 0),ca([he("eSortNone")],e.prototype,"eSortNone",void 0),e}(rt),QTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),G$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},JTe=function(n){QTe(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;t.template&&ze("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var r=function(a){if(!du(a)){var s=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,r),this.addTouchAndClickListeners(this.eOpenIcon,r);var o=function(a){fu(a)};this.addManagedListener(this.eCloseIcon,"dblclick",o),this.addManagedListener(this.eOpenIcon,"dblclick",o),this.addManagedListener(this.getGui(),"dblclick",r),this.updateIconVisibility();var i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,yr.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,yr.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,r){var o=new ei(t,!0);this.addManagedListener(o,ei.EVENT_TAP,r),this.addDestroyFunc(function(){return o.destroy()}),this.addManagedListener(t,"click",r)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var r=this.params.columnGroup.isExpanded();It(this.eOpenIcon,r),It(this.eCloseIcon,!r)}else It(this.eOpenIcon,!1),It(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,r){var o=Vr(t,this.gridOptionsService,null);o&&this.getRefElement(r).appendChild(o)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){It(this.eOpenIcon,!1),It(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t,r=this.params,o=r.displayName,i=r.columnGroup;if(te(o)){var a=ro(o,!0);this.getRefElement("agLabel").textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!(!((t=i.getColGroupDef())===null||t===void 0)&&t.suppressStickyLabel))},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,G$([P("columnModel")],e.prototype,"columnModel",void 0),G$([he("agOpened")],e.prototype,"eOpenIcon",void 0),G$([he("agClosed")],e.prototype,"eCloseIcon",void 0),e}(rt),ePe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ih=function(n){ePe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,r=t&&t.isAlive();r&&t.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},e}(rt),tPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nPe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Lte=function(n){tPe(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),te(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var r=t.key;(r===j.LEFT||r===j.UP||r===j.RIGHT||r===j.DOWN||t.shiftKey&&r===j.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return!te(t)&&!te(this.params.value)?this.params.value:this.params.parseValue(t)},e.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,nPe([he("eTextArea")],e.prototype,"eTextArea",void 0),e}(ih),rPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Mte=function(n){rPe(e,n);function e(){var t=n.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var r=this,o=r.eSelect,i=r.valueFormatterService,a=r.gridOptionsService,s=t.values,l=t.value,u=t.eventKey;if(!Ke(s)){this.startedByEnter=u!=null?u===j.ENTER:!1;var c=!1;s.forEach(function(h){var m={value:h},v=i.formatValue(t.column,null,h),g=v!=null;m.text=g?v:h,o.addOption(m),c=c||l===h}),c?o.setValue(t.value,!0):t.values.length&&o.setValue(t.values[0],!0);var d=t.valueListGap,f=t.valueListMaxWidth,p=t.valueListMaxHeight;d!=null&&o.setPickerGap(d),p!=null&&o.setPickerMaxHeight(p),f!=null&&o.setPickerMaxWidth(f),a.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,mE.EVENT_ITEM_SELECTED,function(){return t.stopEditing()})}},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){t.isAlive()&&t.eSelect.showPicker()})},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},fJ([P("valueFormatterService")],e.prototype,"valueFormatterService",void 0),fJ([he("eSelect")],e.prototype,"eSelect",void 0),e}(ih),oPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iPe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},eF=function(n){oPe(e,n);function e(t){var r=n.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(t.getTemplate(),`
            </div>`))||this;return r.cellEditorInput=t,r}return e.prototype.init=function(t){this.params=t;var r=this.eInput;this.cellEditorInput.init(r,t);var o;if(t.cellStartedEdit){this.focusAfterAttached=!0;var i=t.eventKey;i===j.BACKSPACE||t.eventKey===j.DELETE?o="":i&&i.length===1?o=i:(o=this.cellEditorInput.getStartValue(),i!==j.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue();o!=null&&r.setStartValue(o),this.addManagedListener(r.getGui(),"keydown",function(a){var s=a.key;(s===j.PAGE_UP||s===j.PAGE_DOWN)&&a.preventDefault()})},e.prototype.afterGuiAttached=function(){var t,r,o=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(o("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Vc()||i.getFocusableElement().focus();var a=i.getInputElement();this.highlightAllOnFocus?a.select():(r=(t=this.cellEditorInput).setCaret)===null||r===void 0||r.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,r=t.getFocusableElement(),o=t.getInputElement();r.focus(),o.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},iPe([he("eInput")],e.prototype,"eInput",void 0),e}(ih),aPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sPe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)},n.prototype.getValue=function(){var e=this.eInput.getValue();return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e)},n.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},n.prototype.setCaret=function(){var e=this.eInput.getValue(),t=te(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},n}(),AB=function(n){aPe(e,n);function e(){return n.call(this,new sPe)||this}return e}(eF),lPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uPe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},cPe="\u2191",dPe="\u2193",Ate=function(n){lPe(e,n);function e(){var t=n.call(this)||this;t.refreshCount=0;var r=document.createElement("span"),o=document.createElement("span");o.setAttribute("class","ag-value-change-delta");var i=document.createElement("span");return i.setAttribute("class","ag-value-change-value"),r.appendChild(o),r.appendChild(i),t.setTemplateFromElement(r),t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)},e.prototype.showDelta=function(t,r){var o=Math.abs(r),i=t.formatValue(o),a=te(i)?i:o,s=r>=0;s?this.eDelta.textContent=cPe+a:this.eDelta.textContent=dPe+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var r=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===t.refreshCount&&t.hideDeltaValue()},2e3)})},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),wo(this.eDelta)},e.prototype.refresh=function(t,r){r===void 0&&(r=!1);var o=t.value;if(o===this.lastValue||(te(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:te(t.value)?this.eValue.textContent=o:wo(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof o=="number"&&typeof this.lastValue=="number"){var i=o-this.lastValue;this.showDelta(t,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),r||this.setTimerToRemoveDelta(),this.lastValue=o,!0},uPe([P("filterManager")],e.prototype,"filterManager",void 0),e}(rt),fPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pPe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Nte=function(n){fPe(e,n);function e(){var t=n.call(this)||this;t.refreshCount=0;var r=document.createElement("span"),o=document.createElement("span");return o.setAttribute("class","ag-value-slide-current"),r.appendChild(o),t.setTemplateFromElement(r),t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t,!0)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var o=document.createElement("span");o.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=o,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){r===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)})},e.prototype.refresh=function(t,r){r===void 0&&(r=!1);var o=t.value;return Ke(o)&&(o=""),o===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(r||this.addSlideAnimation(),this.lastValue=o,te(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:te(t.value)?this.eCurrent.textContent=o:wo(this.eCurrent),!0)},pPe([P("filterManager")],e.prototype,"filterManager",void 0),e}(rt),bC=function(){return bC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},bC.apply(this,arguments)},lt=function(){function n(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return n.prototype.setData=function(e){this.setDataCommon(e,!1)},n.prototype.updateData=function(e){this.setDataCommon(e,!0)},n.prototype.setDataCommon=function(e,t){var r=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var o=this.createDataChangedEvent(e,r,t);this.dispatchLocalEvent(o)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(e,t,r){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:r}},n.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},n.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var e=new n(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},n.prototype.setDataAndId=function(e,t){var r=te(this.id)?this.createDaemonNode():null,o=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);var i=this.createDataChangedEvent(e,o,!1);this.dispatchLocalEvent(i)},n.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)},n.prototype.setRowSelectable=function(e,t){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),t)return;var r=this.beans.gridOptionsService.get("groupSelectsChildren");if(r){var o=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:o!=null?o:!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},n.prototype.setId=function(e){var t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){var r=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},n.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],r=this;for(e&&(r=r.parent);r&&r.level>=0;)t.push(r.key),r=r.parent;return t.reverse(),t},n.prototype.isPixelInRange=function(e){return!te(this.rowTop)||!te(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},n.prototype.isHovered=function(){return this.hovered},n.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=as(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var e=this,t=!1,r=!0,o=0,i=this.__autoHeights;if(i!=null){var a=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(a.forEach(function(l){var u=i[l.getId()];if(u==null)if(e.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":c=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:c=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(c.includes(l)){t=!0;return}u=-1}else{t=!0;return}else r=!1;u>o&&(o=u)}),!t&&((r||o<10)&&(o=this.beans.gridOptionsService.getRowHeightForNode(this).height),o!=this.rowHeight)){this.setRowHeight(o);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}}},n.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(I.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},n.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},n.prototype.setDataValue=function(e,t,r){var o=this,i=function(){var u;return typeof e!="string"?e:(u=o.beans.columnModel.getGridColumn(e))!==null&&u!==void 0?u:o.beans.columnModel.getPrimaryColumn(e)},a=i(),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,t,r),!1;var l=this.beans.valueService.setValue(this,a,t,r);return this.dispatchCellChangedEvent(a,t,s),this.checkRowSelectable(),l},n.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!t,o=this.beans.gridOptionsService.getGroupIncludeFooter(),i=o({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),s=r&&i&&!a,l=this.beans.valueService.getValue(e,this,!1,s);return l},n.prototype.dispatchEventForSaveValueReadOnly=function(e,t,r,o){var i=this.beans.gridOptionsService.addGridCommonParams({type:I.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:r,value:r,source:o});this.beans.eventService.dispatchEvent(i)},n.prototype.setGroupValue=function(e,t){var r=this.beans.columnModel.getGridColumn(e);Ke(this.groupData)&&(this.groupData={});var o=r.getColId(),i=this.groupData[o];i!==t&&(this.groupData[o]=t,this.dispatchCellChangedEvent(r,t,i))},n.prototype.setAggData=function(e){var t=this,r=this.aggData;if(this.aggData=e,this.eventService){var o=function(a){var s=t.aggData?t.aggData[a]:void 0,l=r?r[a]:void 0;if(s!==l){var u=t.beans.columnModel.lookupGridColumn(a);u&&t.dispatchCellChangedEvent(u,s,l)}};for(var i in this.aggData)o(i);for(var i in e)i in this.aggData||o(i)}},n.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,t=this.beans.gridOptionsService.isRowModelType("serverSide");if(t){var r=this.beans.gridOptionsService.get("treeData"),o=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(r?!!o&&o(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&os(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(e,t,r){var o={type:n.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:r};this.dispatchLocalEvent(o)},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},n.prototype.calculateSelectedFromChildren=function(){var e,t=!1,r=!1,o=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var i=0;i<this.childrenAfterGroup.length;i++){var a=this.childrenAfterGroup[i],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(l===null)continue;s=l}switch(s){case!0:t=!0;break;case!1:r=!0;break;default:o=!0;break}}if(!(o||t&&r))return t?!0:r?!1:this.selectable?this.selected:null},n.prototype.setSelectedInitialValue=function(e){this.selected=e},n.prototype.selectThisNode=function(e,t,r){r===void 0&&(r="api");var o=!this.selectable&&e,i=this.selected===e;if(o||i)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(n.EVENT_ROW_SELECTED))}var s=bC(bC({},this.createGlobalRowEvent(I.EVENT_ROW_SELECTED)),{event:t||null,source:r});return this.beans.eventService.dispatchEvent(s),!0},n.prototype.setSelected=function(e,t,r){t===void 0&&(t=!1),r===void 0&&(r="api"),typeof r!="boolean"&&this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:r})},n.prototype.setSelectedParams=function(e){return this.rowPinned||this.id===void 0?0:this.beans.selectionService.setNodesSelected(bC(bC({},e),{nodes:[this.footer?this.sibling:this]}))},n.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},n.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},n.prototype.addEventListener=function(e,t){var r,o;this.eventService||(this.eventService=new of),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new WB(this.beans.frameworkOverrides));var i=(o=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(t))!==null&&o!==void 0?o:t;this.eventService.addEventListener(e,i)},n.prototype.removeEventListener=function(e,t){var r,o;if(this.eventService){var i=(o=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(t))!==null&&o!==void 0?o:t;this.eventService.removeEventListener(e,i),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,r=!0,o=!1,i=null;r&&!o;){var a=t.parent,s=te(a)&&t.firstChild;s?a.rowGroupColumn===e&&(o=!0,i=a):r=!1,t=a}return o?i:null},n.prototype.isFullWidthCell=function(){if(this.detail)return!0;var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1},n.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},n.prototype.createFooter=function(){var e=this;if(!this.sibling){var t=new Set(["eventService","__objectId","sticky"]),r=new n(this.beans);Object.keys(this).forEach(function(o){t.has(o)||(r[o]=e[o])}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}},n.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}(),hPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LI=function(){return LI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},LI.apply(this,arguments)},pJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},I3=function(n){hPe(e,n);function e(){return n.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.rowNode.isSelected();this.eCheckbox.setValue(t,!0)},e.prototype.onClicked=function(t,r,o){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:o.shiftKey,groupSelectsFiltered:r,event:o,source:"checkboxSelected"})},e.prototype.init=function(t){var r=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){fu(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){fu(s);var l=r.gridOptionsService.get("groupSelectsFiltered"),u=r.eCheckbox.getValue();if(r.shouldHandleIndeterminateState(u,l)){var c=r.onClicked(!0,l,s||{});c===0&&r.onClicked(!1,l,s)}else u?r.onClicked(!1,l,s):r.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,lt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var o=this.gridOptionsService.get("isRowSelectable"),i=o||typeof this.getIsVisible()=="function";if(i){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,lt.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,lt.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,r){return r&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,r,o,i,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if(typeof s=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(r=this.column)===null||r===void 0?void 0:r.createColumnFunctionCallbackParams(this.rowNode);a=u?s(LI(LI({},l),u)):!1}else a=s!=null?s:!1;var c=(o=this.column)===null||o===void 0?void 0:o.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!a),this.setVisible(!0),this.setDisplayed(!0);return}if(!((i=this.overrides)===null||i===void 0)&&i.removeHidden){this.setDisplayed(a);return}this.setVisible(a)},e.prototype.getIsVisible=function(){var t,r;return this.overrides?this.overrides.isVisible:(r=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||r===void 0?void 0:r.checkboxSelection},pJ([he("eCheckbox")],e.prototype,"eCheckbox",void 0),pJ([se],e.prototype,"postConstruct",null),e}(rt);(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})(x.VerticalDirection||(x.VerticalDirection={}));(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"})(x.HorizontalDirection||(x.HorizontalDirection={}));var mPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hg=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},XO=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(n){n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel",n[n.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(x.DragSourceType||(x.DragSourceType={}));var no=function(n){mPe(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.dragSourceAndParamsList=[],r.dropTargets=[],r}t=e,e.prototype.init=function(){this.ePinnedIcon=ll("columnMovePin",this.gridOptionsService,null),this.eHideIcon=ll("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=ll("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=ll("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=ll("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=ll("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=ll("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=ll("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=ll("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(r,o){o===void 0&&(o=!1);var i={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:o};this.dragSourceAndParamsList.push({params:i,dragSource:r}),this.dragService.addDragSource(i)},e.prototype.removeDragSource=function(r){var o=this.dragSourceAndParamsList.find(function(i){return i.dragSource===r});o&&(this.dragService.removeDragSource(o.params),Ca(this.dragSourceAndParamsList,o))},e.prototype.clearDragSourceParamsList=function(){var r=this;this.dragSourceAndParamsList.forEach(function(o){return r.dragService.removeDragSource(o.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(r,o){this.dragging=!0,this.dragSource=r,this.eventLastTime=o,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var o=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(o)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(r,o){var i=this,a,s,l,u,c=this.getHorizontalDirection(r),d=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);var f=this.dropTargets.filter(function(m){return i.isMouseOnDropTarget(r,m)}),p=this.findCurrentDropTarget(r,f);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(r,c,d,o),this.lastDropTarget!==null&&p===null&&((s=(a=this.dragSource).onGridExit)===null||s===void 0||s.call(a,this.dragItem)),this.lastDropTarget===null&&p!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(p,r,c,d,o),this.lastDropTarget=p;else if(p&&p.onDragging){var h=this.createDropTargetEvent(p,r,c,d,o);p.onDragging(h)}},e.prototype.getAllContainersFromDropTarget=function(r){var o=r.getSecondaryContainers?r.getSecondaryContainers():null,i=[[r.getContainer()]];return o?i.concat(o):i},e.prototype.allContainersIntersect=function(r,o){var i,a;try{for(var s=XO(o),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=r.clientX>=c.left&&r.clientX<c.right,f=r.clientY>=c.top&&r.clientY<c.bottom;if(!d||!f)return!1}}catch(p){i={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return!0},e.prototype.isMouseOnDropTarget=function(r,o){var i,a,s=this.getAllContainersFromDropTarget(o),l=!1;try{for(var u=XO(s),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(r,d)){l=!0;break}}}catch(f){i={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.targetContainsSource&&!o.getContainer().contains(this.dragSource.eElement)?!1:l&&o.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(r,o){var i,a,s,l,u=o.length;if(u===0)return null;if(u===1)return o[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(r.clientX,r.clientY);try{for(var f=XO(d),p=f.next();!p.done;p=f.next()){var h=p.value;try{for(var m=(s=void 0,XO(o)),v=m.next();!v.done;v=m.next()){var g=v.value,y=xee(this.getAllContainersFromDropTarget(g));if(y.indexOf(h)!==-1)return g}}catch(C){s={error:C}}finally{try{v&&!v.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(C){i={error:C}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return null},e.prototype.enterDragTargetIfExists=function(r,o,i,a,s){if(r){if(r.onDragEnter){var l=this.createDropTargetEvent(r,o,i,a,s);r.onDragEnter(l)}this.setGhostIcon(r.getIconName?r.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(r,o,i,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,r,o,i,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(r){this.dropTargets.push(r)},e.prototype.removeDropTarget=function(r){this.dropTargets=this.dropTargets.filter(function(o){return o.getContainer()!==r.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(r){return r.external})},e.prototype.findExternalZone=function(r){var o=this.dropTargets.filter(function(i){return i.external});return o.find(function(i){return i.getContainer()===r.getContainer()})||null},e.prototype.getHorizontalDirection=function(r){var o=this.eventLastTime&&this.eventLastTime.clientX,i=r.clientX;return o===i?null:o>i?x.HorizontalDirection.Left:x.HorizontalDirection.Right},e.prototype.getVerticalDirection=function(r){var o=this.eventLastTime&&this.eventLastTime.clientY,i=r.clientY;return o===i?null:o>i?x.VerticalDirection.Up:x.VerticalDirection.Down},e.prototype.createDropTargetEvent=function(r,o,i,a,s){var l=r.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,f=c.columnApi,p=c.dragItem,h=c.dragSource,m=o.clientX-u.left,v=o.clientY-u.top;return{event:o,x:m,y:v,vDirection:a,hDirection:i,dragSource:h,fromNudge:s,dragItem:p,api:d,columnApi:f,dropZoneTarget:l}},e.prototype.positionGhost=function(r){var o=this.eGhost;if(o){var i=o.getBoundingClientRect(),a=i.height,s=Qee()-2,l=Jee()-2,u=p3(o.offsetParent),c=r.clientY,d=r.clientX,f=c-u.top-a/2,p=d-u.left-10,h=this.gridOptionsService.getDocument(),m=h.defaultView||window,v=m.pageYOffset||h.documentElement.scrollTop,g=m.pageXOffset||h.documentElement.scrollLeft;s>0&&p+o.clientWidth>s+g&&(p=s+g-o.clientWidth),p<0&&(p=0),l>0&&f+o.clientHeight>l+v&&(f=l+v-o.clientHeight),f<0&&(f=0),o.style.left="".concat(p,"px"),o.style.top="".concat(f,"px")}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=ba(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var r=this.environment.getTheme().theme;r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var o=this.eGhost.querySelector(".ag-dnd-ghost-label"),i=this.dragSource.dragItemName;jI(i)&&(i=i()),o.innerHTML=ro(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsService.getDocument(),s=null,l=null;try{s=a.fullscreenElement}catch(c){}finally{s||(s=this.gridOptionsService.getRootNode());var u=s.querySelector("body");u?l=u:s instanceof ShadowRoot?l=s:s instanceof Document?l=s==null?void 0:s.documentElement:l=s}this.eGhostParent=l,this.eGhostParent&&this.eGhostParent.appendChild(this.eGhost)},e.prototype.setGhostIcon=function(r,o){o===void 0&&(o=!1),wo(this.eGhostIcon);var i=null;switch(r||(r=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():t.ICON_NOT_ALLOWED),r){case t.ICON_PINNED:i=this.ePinnedIcon;break;case t.ICON_MOVE:i=this.eMoveIcon;break;case t.ICON_LEFT:i=this.eLeftIcon;break;case t.ICON_RIGHT:i=this.eRightIcon;break;case t.ICON_GROUP:i=this.eGroupIcon;break;case t.ICON_AGGREGATE:i=this.eAggregateIcon;break;case t.ICON_PIVOT:i=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:i=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",o),!(i===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,hg([P("dragService")],e.prototype,"dragService",void 0),hg([P("mouseEventService")],e.prototype,"mouseEventService",void 0),hg([P("columnApi")],e.prototype,"columnApi",void 0),hg([P("gridApi")],e.prototype,"gridApi",void 0),hg([se],e.prototype,"init",null),hg([_i],e.prototype,"clearDragSourceParamsList",null),e=t=hg([be("dragAndDropService")],e),e}(re),tF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tE=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},MI=function(n){tF(e,n);function e(t,r,o,i,a,s){var l=n.call(this)||this;return l.cellValueFn=t,l.rowNode=r,l.column=o,l.customGui=i,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Vr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.get("rowDragManaged")?new vPe(this,this.beans,this.rowNode,this.column):new gPe(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,r){this.setTemplateFromElement(t),this.addDragSource(r)},e.prototype.getSelectedNodes=function(){var t=this.gridOptionsService.get("rowDragMultiRow");if(!t)return[this.rowNode];var r=this.beans.selectionService.getSelectedNodes();return r.indexOf(this.rowNode)!==-1?r:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.get("rowDragManaged"),r=this.gridOptionsService.get("treeData");r&&t&&ze("If using row drag with tree data, you cannot have rowDragManaged=true")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var r=t.getColDef();if(r.rowDragText)return r.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var r=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var o=this.localeService.getLocaleTextFunc();this.dragSource={type:x.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var i,a=r.getDragItem(),s=((i=a.rowNodes)===null||i===void 0?void 0:i.length)||1,l=r.getRowDragText(r.column);return l?l(a,s):s===1?r.cellValueFn():"".concat(s," ").concat(o("rowDragRows","rows"))},getDragItem:function(){return r.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},tE([P("beans")],e.prototype,"beans",void 0),tE([se],e.prototype,"postConstruct",null),tE([_i],e.prototype,"removeDragSource",null),e}(rt),kte=function(n){tF(e,n);function e(t,r,o){var i=n.call(this)||this;return i.parent=t,i.rowNode=r,i.column=o,i}return e.prototype.setDisplayedOrVisible=function(t){var r={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,r);else{var o=!0,i=!1;this.column&&(o=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=jI(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,r),this.parent.setVisible(o,r)):(this.parent.setDisplayed(o,r),this.parent.setVisible(!0,r))}},e}(re),gPe=function(n){tF(e,n);function e(t,r,o,i){var a=n.call(this,t,o,i)||this;return a.beans=r,a}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)},tE([se],e.prototype,"postConstruct",null),e}(kte),vPe=function(n){tF(e,n);function e(t,r,o,i){var a=n.call(this,t,o,i)||this;return a.beans=r,a}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,I.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),r=t.getRowDragFeature(),o=r&&r.shouldPreventRowMove(),i=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones(),s=o&&!a||i;this.setDisplayedOrVisible(s)},tE([se],e.prototype,"postConstruct",null),e}(kte),yPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AI=function(){return AI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},AI.apply(this,arguments)},T_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Vte=function(n){yPe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,o,i,a,s,l){var u,c,d,f;this.params=l,this.eGui=r,this.eCheckbox=o,this.eExpanded=i,this.eContracted=a,this.comp=t,this.compClass=s;var p=l.node,h=l.value,m=l.colDef,v=this.isTopLevelFooter();if(!v){var g=this.isEmbeddedRowMismatch();if(g)return;if(p.footer&&this.gridOptionsService.get("groupHideOpenParents")){var y=m&&m.showRowGroup,C=p.rowGroupColumn&&p.rowGroupColumn.getColId();if(y!==C)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!v){var w=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(L){var k;return L.getColId()===((k=l.colDef)===null||k===void 0?void 0:k.showRowGroup)}),b=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),E=b||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(L){var k;return L.getColId()===((k=l.colDef)===null||k===void 0?void 0:k.showRowGroup)})),D=!p.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),S=this.isExpandable(),T=this.columnModel.isPivotMode()&&p.leafGroup&&((d=p.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((f=l.column)===null||f===void 0?void 0:f.getColDef().showRowGroup),O=!this.showingValueForOpenedParent&&!S&&!D&&!E&&!w&&!T;if(O)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.getCellAriaRole=function(){var t,r,o=(t=this.params.colDef)===null||t===void 0?void 0:t.cellAriaRole,i=(r=this.params.column)===null||r===void 0?void 0:r.getColDef().cellAriaRole;return o||i||"gridcell"},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,r=t.node,o=t.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){zee(o);return}var i=function(){rf(o,!!r.expanded)};this.expandListener=this.addManagedListener(r,lt.EVENT_EXPANDED_CHANGED,i)||null,i()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,r=t==null;if(r||t.showRowGroup===!0)return!0;var o=this.columnModel.getRowGroupColumns();if(!o||o.length===0)return!0;var i=o[0];return i.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var t=this.params.pinned==="left",r=this.params.pinned==="right",o=!t&&!r;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!r:!o:this.columnModel.isPinningLeft()?!t:!o},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,r=this.params.node;if(this.showingValueForOpenedParent)for(var o=r.parent;o!=null;){if(o.rowGroupColumn&&t.isRowGroupDisplayed(o.rowGroupColumn.getId())){this.displayedGroupNode=o;break}o=o.parent}Ke(this.displayedGroupNode)&&(this.displayedGroupNode=r)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,r=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var o=t.rowGroupColumn!=null;if(o){var i=t.rowGroupColumn.getId(),a=r.isRowGroupDisplayed(i);if(a){this.showingValueForOpenedParent=!1;return}}var s=t.groupData[r.getId()]!=null;this.showingValueForOpenedParent=s},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t,r=this.adjustParamsWithDetailsFromRelatedColumn(),o=this.getInnerCompDetails(r),i=r.valueFormatted,a=r.value,s=i;if(s==null){var l=this.displayedGroupNode.rowGroupColumn&&((t=this.params.column)===null||t===void 0?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();s=u("blanks","(Blanks)")}else s=a!=null?a:null}this.comp.setInnerRenderer(o,s)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,r=this.params.column;if(!t)return this.params;var o=r!=null;if(o){var i=r.isRowGroupDisplayed(t.getId());if(!i)return this.params}var a=this.params,s=this.params,l=s.value,u=s.node,c=this.valueFormatterService.formatValue(t,u,l),d=AI(AI({},a),{valueFormatted:c});return d},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,r="";if(t){var o=$B(this.params);o.value=this.params.value,typeof t=="function"?r=t(o):typeof t=="string"&&(r=this.expressionService.evaluate(t,o))}else{var i=this.localeService.getLocaleTextFunc(),a=i("footerTotal","Total");r=a+" "+(this.params.value!=null?this.params.value:"")}var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,r)},e.prototype.getInnerCompDetails=function(t){var r=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var o=this.userComponentFactory.getInnerRendererDetails(t,t),i=function(c){return c&&c.componentClass==r.compClass};if(o&&!i(o))return o;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,t);if(l&&!i(l))return l;if(i(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,lt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow(),o=r&&t!=null&&t>=0,i=o?"(".concat(t,")"):"";this.comp.setChildCount(i)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var r=this.params.column,o=r==null||r.isRowGroupDisplayed(t.getId());return o},e.prototype.addExpandAndContract=function(){var t,r=this.params,o=Vr("groupExpanded",this.gridOptionsService,null),i=Vr("groupContracted",this.gridOptionsService,null);o&&this.eExpanded.appendChild(o),i&&this.eContracted.appendChild(i);var a=r.eGridCell,s=((t=this.params.column)===null||t===void 0?void 0:t.isCellEditable(r.node))&&this.gridOptionsService.get("enableGroupEdit");!s&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,lt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,lt.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,lt.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,lt.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,lt.EVENT_HAS_CHILDREN_CHANGED,l)},e.prototype.onExpandClicked=function(t){du(t)||(fu(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var r=this.displayedGroupNode,o=!r.expanded;!o&&r.sticky&&this.scrollToStickyNode(r),r.setExpanded(o,t)},e.prototype.scrollToStickyNode=function(t){var r=this.ctrlsService.getGridBodyCtrl(),o=r.getScrollFeature();o.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,r=this.columnModel.isPivotMode()&&t.leafGroup,o=t.isExpandable()&&!t.footer&&!r;if(!o)return!1;var i=this.params.column,a=i!=null&&typeof i.getColDef().showRowGroup=="string";if(a){var s=this.isShowRowGroupForThisRow();return s}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,r=t.params,o=t.displayedGroupNode,i=t.columnModel,a=r.node,s=this.isExpandable();if(s){var l=this.showingValueForOpenedParent?!0:a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=i.isPivotMode(),c=u&&o.leafGroup,d=s&&!c,f=a.footer&&a.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):f||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,r=this.params.suppressPadding;r||(this.addManagedListener(t,lt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var t=this.params,r=t.node,o=!!t.colDef,i=this.gridOptionsService.get("treeData"),a=!o||i||t.colDef.showRowGroup===!0,s=a?r.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var r=new MI(function(){return t.params.value},this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,r=this.displayedGroupNode,o=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(o){var i=new I3;this.getContext().createBean(i),i.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(i)})}this.comp.setCheckboxVisible(o)},e.prototype.onKeyDown=function(t){var r=t.key===j.ENTER;if(!(!r||this.params.suppressEnterExpand)){var o=this.params.column&&this.params.column.isCellEditable(this.params.node);o||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!du(t)){var r=TI(this.eExpanded,t)||TI(this.eContracted,t);r||this.onExpandOrContract(t)}},T_([P("expressionService")],e.prototype,"expressionService",void 0),T_([P("valueFormatterService")],e.prototype,"valueFormatterService",void 0),T_([P("columnModel")],e.prototype,"columnModel",void 0),T_([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),T_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(re),CPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),P_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},NB=function(n){CPe(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var r=this,o={setInnerRenderer:function(l,u){return r.setRenderDetails(l,u)},setChildCount:function(l){return r.eChildCount.textContent=l},addOrRemoveCssClass:function(l,u){return r.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return It(r.eContracted,l)},setExpandedDisplayed:function(l){return It(r.eExpanded,l)},setCheckboxVisible:function(l){return r.eCheckbox.classList.toggle("ag-invisible",!l)}},i=this.createManagedBean(new Vte),a=!t.colDef,s=this.getGui();i.init(o,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),a&&oo(s,i.getCellAriaRole())},e.prototype.setRenderDetails=function(t,r){var o=this;if(t){var i=t.newAgStackInstance();if(!i)return;i.then(function(a){if(a){var s=function(){return o.context.destroyBean(a)};o.isAlive()?(o.eValue.appendChild(a.getGui()),o.addDestroyFunc(s)):s()}})}else this.eValue.innerText=r},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,P_([he("eExpanded")],e.prototype,"eExpanded",void 0),P_([he("eContracted")],e.prototype,"eContracted",void 0),P_([he("eCheckbox")],e.prototype,"eCheckbox",void 0),P_([he("eValue")],e.prototype,"eValue",void 0),P_([he("eChildCount")],e.prototype,"eChildCount",void 0),e}(rt),wPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},SPe=function(n){wPe(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=Vr("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var r=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,hJ([he("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),hJ([he("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(rt),bPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_Pe=function(n){bPe(e,n);function e(){return n.call(this)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){var r=this,o=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(o!=null?o:e.DEFAULT_LOADING_OVERLAY_TEMPLATE),!o){var i=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=i("loadingOoo","Loading...")})}},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',e}(rt),EPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xPe=function(n){EPe(e,n);function e(){return n.call(this)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){var r=this,o=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(o!=null?o:e.DEFAULT_NO_ROWS_TEMPLATE),!o){var i=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=i("noRowsToShow","No Rows To Show")})}},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',e}(rt),DPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RPe=function(n){DPe(e,n);function e(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var r=t.value;this.getGui().textContent=ro(r,!0)},e}(ih),TPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PPe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);var r=e.getInputElement();t.preventStepping?e.addManagedListener(r,"keydown",this.preventStepping):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")},n.prototype.preventStepping=function(e){(e.key===j.UP||e.key===j.DOWN)&&e.preventDefault()},n.prototype.getValue=function(){var e=this.eInput.getValue();if(!te(e)&&!te(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t},n.prototype.getStartValue=function(){return this.params.value},n}(),Gte=function(n){TPe(e,n);function e(){return n.call(this,new PPe)||this}return e}(eF),OPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IPe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},n.prototype.getValue=function(){var e=this.eInput.getDate();return!te(e)&&!te(this.params.value)?this.params.value:e!=null?e:null},n.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return ul(e,!1)},n}(),Hte=function(n){OPe(e,n);function e(){return n.call(this,new IPe)||this}return e}(eF),FPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LPe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},MPe=function(){function n(e){this.getDataTypeService=e}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},n.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return!te(e)&&!te(this.params.value)?this.params.value:this.params.parseValue(e!=null?e:"")},n.prototype.getStartValue=function(){var e,t;return ul((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)},n.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)},n.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)},n}(),$te=function(n){FPe(e,n);function e(){var t=n.call(this,new MPe(function(){return t.dataTypeService}))||this;return t}return LPe([P("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(eF),APe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NPe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Bte=function(n){APe(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var r=this;this.params=t,this.updateCheckbox(t);var o=this.eCheckbox.getInputElement();o.setAttribute("tabindex","-1"),YB(o,"polite"),this.addManagedListener(o,"click",function(a){if(fu(a),!r.eCheckbox.isDisabled()){var s=r.eCheckbox.getValue();r.onCheckboxChanged(s)}}),this.addManagedListener(o,"dblclick",function(a){fu(a)});var i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===j.SPACE&&!r.eCheckbox.isDisabled()){r.params.eGridCell===i.activeElement&&r.eCheckbox.toggle();var s=r.eCheckbox.getValue();r.onCheckboxChanged(s),a.preventDefault()}})},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var r,o,i,a,s=!0;if(t.node.group&&t.column){var l=t.column.getColId();l.startsWith(Dg)?a=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?a=(r=t.value)!==null&&r!==void 0?r:void 0:s=!1}else a=(o=t.value)!==null&&o!==void 0?o:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(a);var u=t.disabled!=null?t.disabled:!(!((i=t.column)===null||i===void 0)&&i.isCellEditable(t.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=r3(c,a),f=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(f)},e.prototype.onCheckboxChanged=function(t){var r=this.params,o=r.column,i=r.node,a=r.rowIndex,s=r.value,l={type:I.EVENT_CELL_EDITING_STARTED,column:o,colDef:o==null?void 0:o.getColDef(),data:i.data,node:i,rowIndex:a,rowPinned:i.rowPinned,value:s};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:I.EVENT_CELL_EDITING_STOPPED,column:o,colDef:o==null?void 0:o.getColDef(),data:i.data,node:i,rowIndex:a,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:t,valueChanged:u};this.eventService.dispatchEvent(c)},e.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,NPe([he("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(rt),kPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VPe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Wte=function(n){kPe(e,n);function e(){return n.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.init=function(t){var r=this,o;this.params=t;var i=(o=t.value)!==null&&o!==void 0?o:void 0;this.eCheckbox.setValue(i);var a=this.eCheckbox.getInputElement();a.setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,I.EVENT_FIELD_VALUE_CHANGED,function(s){return r.setAriaLabel(s.selected)})},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var r=this.localeService.getLocaleTextFunc(),o=r3(r,t),i=r("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(i," (").concat(o,")"))},VPe([he("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(ih),GPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zte=function(n){GPe(e,n);function e(){var t=n.call(this)||this;return t.setTemplate("<div></div>"),t}return e.prototype.init=function(t){var r;this.params=t,this.cssClassPrefix=(r=this.params.cssClassPrefix)!==null&&r!==void 0?r:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()},e.prototype.configureDefaults=function(){return!0},e.prototype.addIcon=function(){if(!this.params.isCompact){var t=ba('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?t.appendChild(Vr("check",this.gridOptionsService)):this.params.icon&&(pE(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"&&(t.innerHTML=this.params.icon)),this.getGui().appendChild(t)}},e.prototype.addName=function(){var t=ba('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(t)},e.prototype.addShortcut=function(){if(!this.params.isCompact){var t=ba('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){var t=ba('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),r=this.getGui();if(this.params.subMenu){var o=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";rf(r,!1),t.appendChild(Vr(o,this.gridOptionsService))}r.appendChild(t)},e.prototype.getClassName=function(t){return"".concat(this.cssClassPrefix,"-").concat(t)},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(rt),HPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),H$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},mJ=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},gJ=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},Ute=function(n){HPe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:zTe,agColumnHeader:MB,agColumnGroupHeader:JTe,agSortIndicator:JI,agTextColumnFloatingFilter:Fte,agNumberColumnFloatingFilter:qTe,agDateColumnFloatingFilter:HTe,agReadOnlyFloatingFilter:vTe,agAnimateShowChangeCellRenderer:Ate,agAnimateSlideCellRenderer:Nte,agGroupCellRenderer:NB,agGroupRowRenderer:NB,agLoadingCellRenderer:SPe,agCheckboxCellRenderer:Bte,agCellEditor:AB,agTextCellEditor:AB,agNumberCellEditor:Gte,agDateCellEditor:Hte,agDateStringCellEditor:$te,agSelectCellEditor:Mte,agLargeTextCellEditor:Lte,agCheckboxCellEditor:Wte,agTextColumnFilter:QI,agNumberColumnFilter:O3,agDateColumnFilter:P3,agLoadingOverlay:_Pe,agNoRowsOverlay:xPe,agTooltipComponent:RPe,agMenuItem:zte},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:x.ModuleNames.SetFilterModule,agSetColumnFloatingFilter:x.ModuleNames.SetFilterModule,agMultiColumnFilter:x.ModuleNames.MultiFilterModule,agMultiColumnFloatingFilter:x.ModuleNames.MultiFilterModule,agGroupColumnFilter:x.ModuleNames.RowGroupingModule,agGroupColumnFloatingFilter:x.ModuleNames.RowGroupingModule,agRichSelect:x.ModuleNames.RichSelectModule,agRichSelectCellEditor:x.ModuleNames.RichSelectModule,agDetailCellRenderer:x.ModuleNames.MasterDetailModule,agSparklineCellRenderer:x.ModuleNames.SparklinesModule},t.jsComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&bi(this.gridOptions.components,function(r,o){return t.registerJsComponent(r,o)})},e.prototype.registerDefaultComponent=function(t,r){this.agGridDefaults[t]||(this.agGridDefaults[t]=r)},e.prototype.registerJsComponent=function(t,r){this.jsComps[t]=r},e.prototype.retrieve=function(t,r){var o=this,i=function(d,f){return{componentFromFramework:f,component:d}},a=this.getFrameworkOverrides().frameworkComponent(r,this.gridOptions.components);if(a!=null)return i(a,!0);var s=this.jsComps[r];if(s){var l=this.getFrameworkOverrides().isFrameworkComponent(s);return i(s,l)}var u=this.agGridDefaults[r];if(u)return i(u,!1);var c=this.enterpriseAgDefaultCompsModule[r];return c?zt.__assertRegistered(c,"AG Grid '".concat(t,"' component: ").concat(r),this.context.getGridId()):Sg(function(){o.warnAboutMissingComponent(t,r)},"MissingComp"+r),null},e.prototype.warnAboutMissingComponent=function(t,r){var o=gJ(gJ([],mJ(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),mJ(Object.keys(this.jsComps)),!1),i=hE(r,o,!0,.8).values;i.length>0},H$([P("gridOptions")],e.prototype,"gridOptions",void 0),H$([se],e.prototype,"init",null),e=H$([be("userComponentRegistry")],e),e}(re),$Pe={propertyName:"dateComponent",cellRenderer:!1},BPe={propertyName:"headerComponent",cellRenderer:!1},WPe={propertyName:"headerGroupComponent",cellRenderer:!1},vJ={propertyName:"cellRenderer",cellRenderer:!0},zPe={propertyName:"cellEditor",cellRenderer:!1},yJ={propertyName:"innerRenderer",cellRenderer:!0},UPe={propertyName:"loadingOverlayComponent",cellRenderer:!1},jPe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},KPe={propertyName:"tooltipComponent",cellRenderer:!1},kB={propertyName:"filter",cellRenderer:!1},qPe={propertyName:"floatingFilterComponent",cellRenderer:!1},YPe={propertyName:"toolPanel",cellRenderer:!1},XPe={propertyName:"statusPanel",cellRenderer:!1},ZPe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},QPe={propertyName:"loadingCellRenderer",cellRenderer:!0},JPe={propertyName:"groupRowRenderer",cellRenderer:!0},eOe={propertyName:"detailCellRenderer",cellRenderer:!0},tOe={propertyName:"menuItem",cellRenderer:!1},jte=function(){function n(){}return n.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}(),nOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Kte=function(n){nOe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,r){return this.getCompDetails(t,BPe,"agColumnHeader",r)},e.prototype.getHeaderGroupCompDetails=function(t){var r=t.columnGroup.getColGroupDef();return this.getCompDetails(r,WPe,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,ZPe,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,QPe,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,JPe,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,eOe,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,r){return this.getCompDetails(t,yJ,null,r)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,r){return this.getCompDetails(t,yJ,null,r)},e.prototype.getCellRendererDetails=function(t,r){return this.getCompDetails(t,vJ,null,r)},e.prototype.getCellEditorDetails=function(t,r){return this.getCompDetails(t,zPe,"agCellEditor",r,!0)},e.prototype.getFilterDetails=function(t,r,o){return this.getCompDetails(t,kB,o,r,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,$Pe,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,UPe,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,jPe,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,KPe,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,r){return this.getCompDetails(t,vJ,null,r)},e.prototype.getFloatingFilterCompDetails=function(t,r,o){return this.getCompDetails(t,qPe,o,r)},e.prototype.getToolPanelCompDetails=function(t,r){return this.getCompDetails(t,YPe,null,r,!0)},e.prototype.getStatusPanelCompDetails=function(t,r){return this.getCompDetails(t,XPe,null,r,!0)},e.prototype.getMenuItemCompDetails=function(t,r){return this.getCompDetails(t,tOe,"agMenuItem",r,!0)},e.prototype.getCompDetails=function(t,r,o,i,a){var s=this;a===void 0&&(a=!1);var l=r.propertyName,u=r.cellRenderer,c=this.getCompKeys(t,r,i),d=c.compName,f=c.jsComp,p=c.fwComp,h=c.paramsFromSelector,m=c.popupFromSelector,v=c.popupPositionFromSelector,g=function(b){var E=s.userComponentRegistry.retrieve(l,b);E&&(f=E.componentFromFramework?void 0:E.component,p=E.componentFromFramework?E.component:void 0)};if(d!=null&&g(d),f==null&&p==null&&o!=null&&g(o),f&&u&&!this.agComponentUtils.doesImplementIComponent(f)&&(f=this.agComponentUtils.adaptFunction(l,f)),!(!f&&!p)){var y=this.mergeParamsWithApplicationProvidedParams(t,r,i,h),C=f==null,w=f||p;return{componentFromFramework:C,componentClass:w,params:y,type:r,popupFromSelector:m,popupPositionFromSelector:v,newAgStackInstance:function(){return s.newAgStackInstance(w,C,y,r)}}}},e.prototype.getCompKeys=function(t,r,o){var i=this,a=r.propertyName,s,l,u,c,d,f;if(t){var p=t,h=p[a+"Selector"],m=h?h(o):null,v=function(g){if(typeof g=="string")s=g;else if(g!=null&&g!==!0){var y=i.getFrameworkOverrides().isFrameworkComponent(g);y?u=g:l=g}};m?(v(m.component),c=m.params,d=m.popup,f=m.popupPosition):v(p[a])}return{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:f}},e.prototype.newAgStackInstance=function(t,r,o,i){var a=i.propertyName,s=!r,l;if(s)l=new t;else{var u=this.componentMetadataProvider.retrieve(a);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,i)}var c=this.initComponent(l,o);return c==null?wa.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,r,o,i){i===void 0&&(i=null);var a=this.gridOptionsService.getGridCommonParams();is(a,o);var s=t,l=s&&s[r.propertyName+"Params"];if(typeof l=="function"){var u=l(o);is(a,u)}else typeof l=="object"&&is(a,l);return is(a,i),a},e.prototype.initComponent=function(t,r){if(this.context.createBean(t),t.init!=null)return t.init(r)},e.prototype.getDefaultFloatingFilterType=function(t,r){if(t==null)return null;var o=null,i=this.getCompKeys(t,kB),a=i.compName,s=i.jsComp,l=i.fwComp;if(a)o=jte.getFloatingFilterType(a);else{var u=s==null&&l==null&&t.filter===!0;u&&(o=r())}return o},pC([P("gridOptions")],e.prototype,"gridOptions",void 0),pC([P("agComponentUtils")],e.prototype,"agComponentUtils",void 0),pC([P("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),pC([P("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),pC([Ot("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=pC([be("userComponentFactory")],e),e}(re),qte=function(){function n(){}return n.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},n.ALL_PROPERTIES=Object.keys(n.ColDefPropertyMap),n}();(function(n){n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET"})(x.ExcelFactoryMode||(x.ExcelFactoryMode={}));var rOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Yte=function(n){rOe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var r=t.dragSource.eElement,o=t.mouseDownListener;if(r.removeEventListener("mousedown",o),t.touchEnabled){var i=t.touchStartListener;r.removeEventListener("touchstart",i,{passive:!0})}},e.prototype.removeDragSource=function(t){var r=this.dragSources.find(function(o){return o.dragSource===t});r&&(this.removeListener(r),Ca(this.dragSources,r))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var r=this,o=this.onMouseDown.bind(this,t),i=t.eElement,a=t.includeTouch,s=t.stopPropagationForTouch;i.addEventListener("mousedown",o);var l=null,u=this.gridOptionsService.get("suppressTouch");a&&!u&&(l=function(c){d3(c.target)||(c.cancelable&&(c.preventDefault(),s&&c.stopPropagation()),r.onTouchStart(t,c))},i.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:o,touchStartListener:l,touchEnabled:!!a})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,r){var o=this;this.currentDragParams=t,this.dragging=!1;var i=r.touches[0];this.touchLastTime=i,this.touchStart=i;var a=function(d){return o.onTouchMove(d,t.eElement)},s=function(d){return o.onTouchUp(d,t.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=r.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:a,options:{passive:!0}},{target:u,type:"touchend",listener:s,options:{passive:!0}},{target:u,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,r){var o=this,i=r;if(!(t.skipMouseEvent&&t.skipMouseEvent(r))&&!i._alreadyProcessedByDragService&&(i._alreadyProcessedByDragService=!0,r.button===0)){this.shouldPreventMouseEvent(r)&&r.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=r,this.startTarget=r.target;var a=function(d){return o.onMouseMove(d,t.eElement)},s=function(d){return o.onMouseUp(d,t.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:a},{target:u,type:"mouseup",listener:s},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onMouseMove(r,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(r){var o=r.target,i=r.type,a=r.listener,s=r.options;o.addEventListener(i,a,s)}),this.dragEndFunctions.push(function(){t.forEach(function(r){var o=r.target,i=r.type,a=r.listener,s=r.options;o.removeEventListener(i,a,s)})})},e.prototype.isEventNearStartEvent=function(t,r){var o=this.currentDragParams.dragStartPixels,i=te(o)?o:4;return w3(t,r,i)},e.prototype.getFirstActiveTouch=function(t){for(var r=0;r<t.length;r++)if(t[r].identifier===this.touchStart.identifier)return t[r];return null},e.prototype.onCommonMove=function(t,r,o){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,r))return;this.dragging=!0;var i={type:I.EVENT_DRAG_STARTED,target:o};this.eventService.dispatchEvent(i),this.currentDragParams.onDragStart(r),this.currentDragParams.onDragging(r)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,r){var o=this.getFirstActiveTouch(t.touches);o&&this.onCommonMove(o,this.touchStart,r)},e.prototype.onMouseMove=function(t,r){var o;if(Vc()){var i=this.gridOptionsService.getDocument();(o=i.getSelection())===null||o===void 0||o.removeAllRanges()}this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,r)},e.prototype.shouldPreventMouseEvent=function(t){var r=this.gridOptionsService.get("enableCellTextSelection"),o=t.type==="mousemove";return r&&o&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var r=t.target,o=r==null?void 0:r.tagName.toLocaleLowerCase();return!!(o!=null&&o.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,r){var o=this.getFirstActiveTouch(t.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,r)},e.prototype.onMouseUp=function(t,r){this.onUpCommon(t,r)},e.prototype.onUpCommon=function(t,r){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var o={type:I.EVENT_DRAG_STOPPED,target:r};this.eventService.dispatchEvent(o)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(i){return i()}),this.dragEndFunctions.length=0},$$([P("mouseEventService")],e.prototype,"mouseEventService",void 0),$$([_i],e.prototype,"removeAllListeners",null),e=$$([be("dragService")],e),e}(re),F3=function(){function n(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(e,t){t===void 0&&(t=!1);var r=t||this.shouldSkipVerticalScroll();if(!(r&&this.shouldSkipHorizontalScroll())){var o=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<o.left+i,this.tickRight=e.clientX>o.right-i,this.tickUp=e.clientY<o.top+i&&!r,this.tickDown=e.clientY>o.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-e),this.tickRight&&this.setHorizontalPosition(r+e)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}(),oOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},B$="ag-list-item-hovered",iOe=function(n){oOe(e,n);function e(t,r,o){var i=n.call(this)||this;return i.comp=t,i.virtualList=r,i.params=o,i.currentDragValue=null,i.lastHoveredListItem=null,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragValue=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this,r={isInterestedIn:function(o){return o===t.params.dragSourceType},getIconName:function(){return t.moveBlocked?no.ICON_PINNED:no.ICON_MOVE},getContainer:function(){return t.comp.getGui()},onDragging:function(o){return t.onDragging(o)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(r)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new F3({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(r){return t.scrollTop=r}})},e.prototype.onDragging=function(t){if(!(!this.currentDragValue||this.moveBlocked)){var r=this.getListDragItem(t),o=this.virtualList.getComponentAt(r.rowIndex);if(o){var i=o.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===r.rowIndex&&this.lastHoveredListItem.position===r.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=r,PB(i,B$),PB(i,"ag-item-highlight-".concat(r.position)))}}},e.prototype.getListDragItem=function(t){var r=this.virtualList.getGui(),o=parseFloat(window.getComputedStyle(r).paddingTop),i=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(t.y-o+a)/i),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,s)|0;return{rowIndex:u,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){var t=this.virtualList.getGui();t.querySelectorAll(".".concat(B$)).forEach(function(r){[B$,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(o){r.classList.remove(o)})}),this.lastHoveredListItem=null},CJ([P("dragAndDropService")],e.prototype,"dragAndDropService",void 0),CJ([se],e.prototype,"postConstruct",null),e}(re);(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(x.RowHighlightPosition||(x.RowHighlightPosition={}));var xt=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};function Cg(n){var e=n,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():n}var L3=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.__getModel=function(){return this.rowModel},n.prototype.getGridId=function(){return this.context.getGridId()},n.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},n.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},n.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},n.prototype.forEachDetailGridInfo=function(e){var t=0;bi(this.detailGridInfoMap,function(r,o){te(o)&&(e(o,t),t++)})},n.prototype.getDataAsCsv=function(e){if(zt.__assertRegistered(x.ModuleNames.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},n.prototype.exportDataAsCsv=function(e){zt.__assertRegistered(x.ModuleNames.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},n.prototype.assertNotExcelMultiSheet=function(e,t){return!(!zt.__assertRegistered(x.ModuleNames.ExcelExportModule,"api."+e,this.context.getGridId())||this.excelCreator.getFactoryMode()===x.ExcelFactoryMode.MULTI_SHEET)},n.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},n.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},n.prototype.getSheetDataForExcel=function(e){if(zt.__assertRegistered(x.ModuleNames.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(x.ExcelFactoryMode.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(e)},n.prototype.getMultipleSheetsAsExcel=function(e){if(zt.__assertRegistered(x.ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},n.prototype.exportMultipleSheetsAsExcel=function(e){zt.__assertRegistered(x.ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)},n.prototype.setGridAriaProperty=function(e,t){if(e){var r=this.ctrlsService.getGridBodyCtrl().getGui(),o="aria-".concat(e);t===null?r.removeAttribute(o):r.setAttribute(o,t)}},n.prototype.logMissingRowModel=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},n.prototype.logDeprecation=function(e,t,r,o){ze("Since ".concat(e," api.").concat(t," is deprecated. Please use ").concat(r," instead. ").concat(o))},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},n.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.refreshCells=function(e){var t=this;e===void 0&&(e={}),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.refreshCells(e)})},n.prototype.flashCells=function(e){var t=this;e===void 0&&(e={});var r=function(o){return ze("Since v31.1 api.flashCells parameter '".concat(o,"Delay' is deprecated. Please use '").concat(o,"Duration' instead."))};te(e.fadeDelay)&&r("fade"),te(e.flashDelay)&&r("flash"),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.flashCells(e)})},n.prototype.redrawRows=function(e){var t=this;e===void 0&&(e={});var r=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.redrawRows(r)})},n.prototype.refreshHeader=function(){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return ze("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel},n.prototype.setRowNodeExpanded=function(e,t,r){this.expansionService.setRowNodeExpanded(e,t,r)},n.prototype.onGroupExpandedOrCollapsed=function(){if(Ke(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},n.prototype.refreshClientSideRowModel=function(e){if(Ke(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},n.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},n.prototype.addRenderedRowListener=function(e,t,r){this.rowRenderer.addRenderedRowListener(e,t,r)},n.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},n.prototype.getAdvancedFilterModel=function(){return zt.__assertRegistered(x.ModuleNames.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},n.prototype.setAdvancedFilterModel=function(e){this.filterManager.setAdvancedFilterModel(e)},n.prototype.showAdvancedFilterBuilder=function(){zt.__assertRegistered(x.ModuleNames.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},n.prototype.setNodesSelected=function(e){var t=e.nodes.every(function(s){return!(s.rowPinned||s.id===void 0)});if(t){var r=e.nodes,o=e.source,i=e.newValue,a=r;this.selectionService.setNodesSelected({nodes:a,source:o!=null?o:"api",newValue:i})}},n.prototype.selectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},n.prototype.deselectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},n.prototype.selectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},n.prototype.deselectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},n.prototype.getServerSideSelectionState=function(){return Ke(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},n.prototype.setServerSideSelectionState=function(e){if(Ke(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")},n.prototype.selectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},n.prototype.deselectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},n.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){if(Ke(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColumnVisible=function(e,t){var r=this;t===void 0&&(t="auto"),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},"ensureVisible")},n.prototype.ensureIndexVisible=function(e,t){var r=this;this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},"ensureVisible")},n.prototype.ensureNodeVisible=function(e,t){var r=this;t===void 0&&(t=null),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},"ensureVisible")},n.prototype.forEachLeafNode=function(e){if(Ke(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)},n.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},n.prototype.forEachNodeAfterFilter=function(e){if(Ke(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)},n.prototype.forEachNodeAfterFilterAndSort=function(e){if(Ke(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},n.prototype.getFilterInstance=function(e,t){return ze("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)},n.prototype.getColumnFilterInstance=function(e){return this.filterManager.getColumnFilterInstance(e)},n.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},n.prototype.getStatusPanel=function(e){if(zt.__assertRegistered(x.ModuleNames.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return Cg(t)}},n.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(e){e===void 0&&(e="api"),this.filterManager.onFilterChanged({source:e})},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(e){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.filterManager.setFilterModel(e)})},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getColumnFilterModel=function(e){return this.filterManager.getColumnFilterModel(e)},n.prototype.setColumnFilterModel=function(e,t){return this.filterManager.setColumnFilterModel(e,t)},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(e,t,r){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:r,forceBrowserFocus:!0})},n.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},n.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},n.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},n.prototype.assertSideBarLoaded=function(e){return zt.__assertRegistered(x.ModuleNames.SideBarModule,"api."+e,this.context.getGridId())},n.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},n.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)},n.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)},n.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")},n.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},n.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},n.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},n.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},n.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return Cg(t)}},n.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},n.prototype.resetRowHeights=function(){if(te(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return;this.clientSideRowModel.resetRowHeights()}},n.prototype.setRowCount=function(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(e,t){var r=this.columnModel.getPrimaryColumn(e);return Ke(r)&&(r=this.columnModel.getGridColumn(e)),Ke(r)?null:this.valueService.getValue(r,t)},n.prototype.addEventListener=function(e,t){this.apiEventService.addEventListener(e,t)},n.prototype.addGlobalListener=function(e){this.apiEventService.addGlobalListener(e)},n.prototype.removeEventListener=function(e,t){this.apiEventService.removeEventListener(e,t)},n.prototype.removeGlobalListener=function(e){this.apiEventService.removeGlobalListener(e)},n.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},n.prototype.destroy=function(){var e="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var t={type:I.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(t),this.destroyCalled=!0;var r=this.ctrlsService.getGridCtrl();r&&r.destroyGridUi(),this.context.destroy(),gee(this,["isDestroyed"],e)}},n.prototype.isDestroyed=function(){return this.destroyCalled},n.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(zt.__assertRegistered(x.ModuleNames.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},n.prototype.addCellRange=function(e){if(this.rangeService){this.rangeService.addCellRange(e);return}zt.__assertRegistered(x.ModuleNames.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},n.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),zt.__assertRegistered(x.ModuleNames.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},n.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},n.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.assertChart=function(e,t){if(zt.__assertRegistered(x.ModuleNames.GridChartsModule,"api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return t()})},n.prototype.getChartModels=function(){var e=this;return this.assertChart("getChartModels",function(){return e.chartService.getChartModels()})},n.prototype.getChartRef=function(e){var t=this;return this.assertChart("getChartRef",function(){return t.chartService.getChartRef(e)})},n.prototype.getChartImageDataURL=function(e){var t=this;return this.assertChart("getChartImageDataURL",function(){return t.chartService.getChartImageDataURL(e)})},n.prototype.downloadChart=function(e){var t=this;return this.assertChart("downloadChart",function(){return t.chartService.downloadChart(e)})},n.prototype.openChartToolPanel=function(e){var t=this;return this.assertChart("openChartToolPanel",function(){return t.chartService.openChartToolPanel(e)})},n.prototype.closeChartToolPanel=function(e){var t=this;return this.assertChart("closeChartToolPanel",function(){return t.chartService.closeChartToolPanel(e.chartId)})},n.prototype.createRangeChart=function(e){var t=this;return this.assertChart("createRangeChart",function(){return t.chartService.createRangeChart(e)})},n.prototype.createPivotChart=function(e){var t=this;return this.assertChart("createPivotChart",function(){return t.chartService.createPivotChart(e)})},n.prototype.createCrossFilterChart=function(e){var t=this;return this.assertChart("createCrossFilterChart",function(){return t.chartService.createCrossFilterChart(e)})},n.prototype.updateChart=function(e){var t=this;return this.assertChart("updateChart",function(){return t.chartService.updateChart(e)})},n.prototype.restoreChart=function(e,t){var r=this;return this.assertChart("restoreChart",function(){return r.chartService.restoreChart(e,t)})},n.prototype.assertClipboard=function(e,t){zt.__assertRegistered(x.ModuleNames.ClipboardModule,"api"+e,this.context.getGridId())&&t()},n.prototype.copyToClipboard=function(e){var t=this;this.assertClipboard("copyToClipboard",function(){return t.clipboardService.copyToClipboard(e)})},n.prototype.cutToClipboard=function(e){var t=this;this.assertClipboard("cutToClipboard",function(){return t.clipboardService.cutToClipboard(e)})},n.prototype.copySelectedRowsToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return t.clipboardService.copySelectedRowsToClipboard(e)})},n.prototype.copySelectedRangeToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return t.clipboardService.copySelectedRangeToClipboard(e)})},n.prototype.copySelectedRangeDown=function(){var e=this;this.assertClipboard("copySelectedRangeDown",function(){return e.clipboardService.copyRangeDown()})},n.prototype.pasteFromClipboard=function(){var e=this;this.assertClipboard("pasteFromClipboard",function(){return e.clipboardService.pasteFromClipboard()})},n.prototype.showColumnMenuAfterButtonClick=function(e,t){ze("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:r,buttonElement:t,positionBy:"button"})},n.prototype.showColumnMenuAfterMouseClick=function(e,t){ze("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(e);r||(r=this.columnModel.getPrimaryColumn(e)),r&&this.menuService.showColumnMenu({column:r,mouseEvent:t,positionBy:"mouse"})},n.prototype.showColumnChooser=function(e){this.menuService.showColumnChooser({chooserParams:e})},n.prototype.showColumnFilter=function(e){var t=this.columnModel.getGridColumn(e);t&&this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"})},n.prototype.showColumnMenu=function(e){var t=this.columnModel.getGridColumn(e);t&&this.menuService.showColumnMenu({column:t,positionBy:"auto"})},n.prototype.hidePopupMenu=function(){this.menuService.hidePopupMenu()},n.prototype.hideColumnChooser=function(){this.menuService.hideColumnChooser()},n.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},n.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},n.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),r=t.map(Cg);return r},n.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),r=t.map(Cg);return r},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},n.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(t){var r={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},o=e.rowPinned==null;o&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);var i=this.navigationService.getCellByPosition(r);i&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),i.startRowOrCellEdit(e.key))}},n.prototype.addAggFunc=function(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})},n.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)},n.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},n.prototype.applyServerSideRowData=function(e){var t,r,o=(t=e.startRow)!==null&&t!==void 0?t:0,i=(r=e.route)!==null&&r!==void 0?r:[];o<0||(this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,o,i):this.logMissingRowModel("setServerSideDatasource","serverSide"))},n.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},n.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},n.prototype.applyTransaction=function(e){var t=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.updateRowData(e)})},n.prototype.applyTransactionAsync=function(e,t){var r=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return r.clientSideRowModel.batchUpdateRowData(e,t)})},n.prototype.flushAsyncTransactions=function(){var e=this;if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.flushAsyncTransactions()})},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},n.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)},n.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.getFirstDisplayedRow=function(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()},n.prototype.getFirstDisplayedRowIndex=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastDisplayedRow=function(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()},n.prototype.getLastDisplayedRowIndex=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},n.prototype.sizeColumnsToFit=function(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)},n.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},n.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},n.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},n.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},n.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},n.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},n.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},n.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},n.prototype.setColumnVisible=function(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")},n.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},n.prototype.setColumnPinned=function(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")},n.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")},n.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},n.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},n.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")},n.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t,"api")},n.prototype.setColumnWidth=function(e,t,r,o){r===void 0&&(r=!0),o===void 0&&(o="api"),this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,r,o)},n.prototype.setColumnWidths=function(e,t,r){t===void 0&&(t=!0),r===void 0&&(r="api"),this.columnModel.setColumnWidths(e,!1,t,r)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},n.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")},n.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},n.prototype.addValueColumn=function(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")},n.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},n.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},n.prototype.removeRowGroupColumn=function(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")},n.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},n.prototype.addRowGroupColumn=function(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")},n.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},n.prototype.removePivotColumn=function(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")},n.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},n.prototype.addPivotColumn=function(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")},n.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})},n.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})},n.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns("api",e)},n.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},n.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.getState=function(){return this.stateService.getState()},n.prototype.getGridOption=function(e){return this.gos.get(e)},n.prototype.setGridOption=function(e,t){var r;this.updateGridOptions((r={},r[e]=t,r))},n.prototype.updateGridOptions=function(e){this.gos.updateGridOptions({options:e})},n.prototype.__internalUpdateGridOptions=function(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})},n.prototype.deprecatedUpdateGridOption=function(e,t){ze("set".concat(e.charAt(0).toUpperCase()).concat(e.slice(1,e.length)," is deprecated. Please use 'api.setGridOption('").concat(e,"', newValue)' or 'api.updateGridOptions({ ").concat(e,": newValue })' instead.")),this.setGridOption(e,t)},n.prototype.setPivotMode=function(e){this.deprecatedUpdateGridOption("pivotMode",e)},n.prototype.setPinnedTopRowData=function(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)},n.prototype.setPinnedBottomRowData=function(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)},n.prototype.setPopupParent=function(e){this.deprecatedUpdateGridOption("popupParent",e)},n.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)},n.prototype.setDataTypeDefinitions=function(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)},n.prototype.setPagination=function(e){this.deprecatedUpdateGridOption("pagination",e)},n.prototype.paginationSetPageSize=function(e){this.deprecatedUpdateGridOption("paginationPageSize",e)},n.prototype.setSideBar=function(e){this.deprecatedUpdateGridOption("sideBar",e)},n.prototype.setSuppressClipboardPaste=function(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)},n.prototype.setGroupRemoveSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)},n.prototype.setGroupRemoveLowestSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)},n.prototype.setGroupDisplayType=function(e){this.deprecatedUpdateGridOption("groupDisplayType",e)},n.prototype.setGroupIncludeFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)},n.prototype.setGroupIncludeTotalFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)},n.prototype.setRowClass=function(e){this.deprecatedUpdateGridOption("rowClass",e)},n.prototype.setDeltaSort=function(e){this.deprecatedUpdateGridOption("deltaSort",e)},n.prototype.setSuppressRowDrag=function(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)},n.prototype.setSuppressMoveWhenRowDragging=function(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)},n.prototype.setSuppressRowClickSelection=function(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)},n.prototype.setEnableAdvancedFilter=function(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)},n.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)},n.prototype.setAdvancedFilterParent=function(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)},n.prototype.setAdvancedFilterBuilderParams=function(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)},n.prototype.setQuickFilter=function(e){ze("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})},n.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)},n.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)},n.prototype.setQuickFilterParser=function(e){this.deprecatedUpdateGridOption("quickFilterParser",e)},n.prototype.setQuickFilterMatcher=function(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)},n.prototype.setAlwaysShowHorizontalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)},n.prototype.setAlwaysShowVerticalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)},n.prototype.setFunctionsReadOnly=function(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)},n.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),ze("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})},n.prototype.setAutoGroupColumnDef=function(e,t){t===void 0&&(t="api"),ze("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})},n.prototype.setDefaultColDef=function(e,t){t===void 0&&(t="api"),ze("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})},n.prototype.setColumnTypes=function(e,t){t===void 0&&(t="api"),ze("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})},n.prototype.setTreeData=function(e){this.deprecatedUpdateGridOption("treeData",e)},n.prototype.setServerSideDatasource=function(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)},n.prototype.setCacheBlockSize=function(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)},n.prototype.setDatasource=function(e){this.deprecatedUpdateGridOption("datasource",e)},n.prototype.setViewportDatasource=function(e){this.deprecatedUpdateGridOption("viewportDatasource",e)},n.prototype.setRowData=function(e){this.deprecatedUpdateGridOption("rowData",e)},n.prototype.setEnableCellTextSelection=function(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)},n.prototype.setHeaderHeight=function(e){this.deprecatedUpdateGridOption("headerHeight",e)},n.prototype.setDomLayout=function(e){this.deprecatedUpdateGridOption("domLayout",e)},n.prototype.setFillHandleDirection=function(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)},n.prototype.setGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)},n.prototype.setFloatingFiltersHeight=function(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)},n.prototype.setPivotHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)},n.prototype.setPivotGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)},n.prototype.setAnimateRows=function(e){this.deprecatedUpdateGridOption("animateRows",e)},n.prototype.setIsExternalFilterPresent=function(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)},n.prototype.setDoesExternalFilterPass=function(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)},n.prototype.setNavigateToNextCell=function(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)},n.prototype.setTabToNextCell=function(e){this.deprecatedUpdateGridOption("tabToNextCell",e)},n.prototype.setTabToNextHeader=function(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)},n.prototype.setNavigateToNextHeader=function(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)},n.prototype.setRowGroupPanelShow=function(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)},n.prototype.setGetGroupRowAgg=function(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)},n.prototype.setGetBusinessKeyForNode=function(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)},n.prototype.setGetChildCount=function(e){this.deprecatedUpdateGridOption("getChildCount",e)},n.prototype.setProcessRowPostCreate=function(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)},n.prototype.setGetRowId=function(e){ze("getRowId is a static property and can no longer be updated.")},n.prototype.setGetRowClass=function(e){this.deprecatedUpdateGridOption("getRowClass",e)},n.prototype.setIsFullWidthRow=function(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)},n.prototype.setIsRowSelectable=function(e){this.deprecatedUpdateGridOption("isRowSelectable",e)},n.prototype.setIsRowMaster=function(e){this.deprecatedUpdateGridOption("isRowMaster",e)},n.prototype.setPostSortRows=function(e){this.deprecatedUpdateGridOption("postSortRows",e)},n.prototype.setGetDocument=function(e){this.deprecatedUpdateGridOption("getDocument",e)},n.prototype.setGetContextMenuItems=function(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)},n.prototype.setGetMainMenuItems=function(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)},n.prototype.setProcessCellForClipboard=function(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)},n.prototype.setSendToClipboard=function(e){this.deprecatedUpdateGridOption("sendToClipboard",e)},n.prototype.setProcessCellFromClipboard=function(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)},n.prototype.setProcessPivotResultColDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)},n.prototype.setProcessPivotResultColGroupDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)},n.prototype.setPostProcessPopup=function(e){this.deprecatedUpdateGridOption("postProcessPopup",e)},n.prototype.setInitialGroupOrderComparator=function(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)},n.prototype.setGetChartToolbarItems=function(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)},n.prototype.setPaginationNumberFormatter=function(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)},n.prototype.setGetServerSideGroupLevelParams=function(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)},n.prototype.setIsServerSideGroupOpenByDefault=function(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)},n.prototype.setIsApplyServerSideTransaction=function(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)},n.prototype.setIsServerSideGroup=function(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)},n.prototype.setGetServerSideGroupKey=function(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)},n.prototype.setGetRowStyle=function(e){this.deprecatedUpdateGridOption("getRowStyle",e)},n.prototype.setGetRowHeight=function(e){this.deprecatedUpdateGridOption("getRowHeight",e)},xt([Ot("csvCreator")],n.prototype,"csvCreator",void 0),xt([Ot("excelCreator")],n.prototype,"excelCreator",void 0),xt([P("rowRenderer")],n.prototype,"rowRenderer",void 0),xt([P("navigationService")],n.prototype,"navigationService",void 0),xt([P("filterManager")],n.prototype,"filterManager",void 0),xt([P("columnModel")],n.prototype,"columnModel",void 0),xt([P("selectionService")],n.prototype,"selectionService",void 0),xt([P("gridOptionsService")],n.prototype,"gos",void 0),xt([P("valueService")],n.prototype,"valueService",void 0),xt([P("alignedGridsService")],n.prototype,"alignedGridsService",void 0),xt([P("eventService")],n.prototype,"eventService",void 0),xt([P("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),xt([P("context")],n.prototype,"context",void 0),xt([P("rowModel")],n.prototype,"rowModel",void 0),xt([P("sortController")],n.prototype,"sortController",void 0),xt([P("paginationProxy")],n.prototype,"paginationProxy",void 0),xt([P("focusService")],n.prototype,"focusService",void 0),xt([P("dragAndDropService")],n.prototype,"dragAndDropService",void 0),xt([Ot("rangeService")],n.prototype,"rangeService",void 0),xt([Ot("clipboardService")],n.prototype,"clipboardService",void 0),xt([Ot("aggFuncService")],n.prototype,"aggFuncService",void 0),xt([P("menuService")],n.prototype,"menuService",void 0),xt([P("valueCache")],n.prototype,"valueCache",void 0),xt([P("animationFrameService")],n.prototype,"animationFrameService",void 0),xt([Ot("statusBarService")],n.prototype,"statusBarService",void 0),xt([Ot("chartService")],n.prototype,"chartService",void 0),xt([Ot("undoRedoService")],n.prototype,"undoRedoService",void 0),xt([Ot("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),xt([Ot("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),xt([P("ctrlsService")],n.prototype,"ctrlsService",void 0),xt([P("overlayService")],n.prototype,"overlayService",void 0),xt([Ot("sideBarService")],n.prototype,"sideBarService",void 0),xt([P("stateService")],n.prototype,"stateService",void 0),xt([P("expansionService")],n.prototype,"expansionService",void 0),xt([P("apiEventService")],n.prototype,"apiEventService",void 0),xt([P("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),xt([se],n.prototype,"init",null),n=xt([be("gridApi")],n),n}(),aOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),O_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Xte=function(n){aOe(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.quickFilter=null,r.quickFilterParts=null,r}t=e,e.prototype.postConstruct=function(){var r=this;this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,function(){r.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||r.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(o){return r.setQuickFilter(o.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return r.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return r.setQuickFilterParserAndMatcher()})},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassQuickFilter=function(r){var o=this,i=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(i,r):this.quickFilterParts.every(function(a){return i?o.doesRowPassQuickFilterCache(r,a):o.doesRowPassQuickFilterNoCache(r,a)})},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(r){return r.quickFilterAggregateText=null})},e.prototype.setQuickFilterParts=function(){var r=this,o=r.quickFilter,i=r.parser;o?this.quickFilterParts=i?i(o):o.split(" "):this.quickFilterParts=null},e.prototype.parseQuickFilter=function(r){return!te(r)||!this.gridOptionsService.isRowModelType("clientSide")?null:r.toUpperCase()},e.prototype.setQuickFilter=function(r){if(!(r!=null&&typeof r!="string")){var o=this.parseQuickFilter(r);this.quickFilter!==o&&(this.quickFilter=o,this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))}},e.prototype.setQuickFilterParserAndMatcher=function(){var r=this.gridOptionsService.get("quickFilterParser"),o=this.gridOptionsService.get("quickFilterMatcher"),i=r!==this.parser||o!==this.matcher;this.parser=r,this.matcher=o,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(r,o){var i=this,a=this.columnModel.getAllColumnsForQuickFilter();return a.some(function(s){var l=i.getQuickFilterTextForColumn(s,r);return te(l)&&l.indexOf(o)>=0})},e.prototype.doesRowPassQuickFilterCache=function(r,o){return this.checkGenerateQuickFilterAggregateText(r),r.quickFilterAggregateText.indexOf(o)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(r,o){var i;r?(this.checkGenerateQuickFilterAggregateText(o),i=o.quickFilterAggregateText):i=this.getQuickFilterAggregateText(o);var a=this,s=a.quickFilterParts,l=a.matcher;return l(s,i)},e.prototype.checkGenerateQuickFilterAggregateText=function(r){r.quickFilterAggregateText||(r.quickFilterAggregateText=this.getQuickFilterAggregateText(r))},e.prototype.getQuickFilterTextForColumn=function(r,o){var i=this.valueService.getValue(r,o,!0),a=r.getColDef();if(a.getQuickFilterText){var s=this.gridOptionsService.addGridCommonParams({value:i,node:o,data:o.data,column:r,colDef:a});i=a.getQuickFilterText(s)}return te(i)?i.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(r){var o=this,i=[],a=this.columnModel.getAllColumnsForQuickFilter();return a.forEach(function(s){var l=o.getQuickFilterTextForColumn(s,r);te(l)&&i.push(l)}),i.join(t.QUICK_FILTER_SEPARATOR)};var t;return e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR=`
`,O_([P("valueService")],e.prototype,"valueService",void 0),O_([P("columnModel")],e.prototype,"columnModel",void 0),O_([P("rowModel")],e.prototype,"rowModel",void 0),O_([se],e.prototype,"postConstruct",null),e=t=O_([be("quickFilterService")],e),e}(re),sOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lc=function(){return Lc=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Lc.apply(this,arguments)},Rc=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Zte=function(n){sOe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t.columnFilterModelUpdateQueue=[],t.advancedFilterModelUpdateQueue=[],t}return e.prototype.init=function(){var t=this,r,o,i;this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,I.EVENT_ROW_DATA_UPDATED,function(){return t.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){t.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){t.updateAggFiltering(),t.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(a){return t.setAdvancedFilterModel(a.currentValue)}),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(a){var s=a.enabled;return t.onAdvancedFilterEnabledChanged(s)}),this.addManagedListener(this.eventService,I.EVENT_DATA_TYPES_INFERRED,function(){return t.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,Xte.EVENT_QUICK_FILTER_CHANGED,function(){return t.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=Lc({},(i=(o=(r=this.gridOptionsService.get("initialState"))===null||r===void 0?void 0:r.filter)===null||o===void 0?void 0:o.filterModel)!==null&&i!==void 0?i:{})},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1},e.prototype.doesExternalFilterPass=function(t){var r=this.gridOptionsService.get("doesExternalFilterPass");return typeof r=="function"?r(t):!1},e.prototype.setFilterModel=function(t,r){var o=this;if(r===void 0&&(r="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:r});return}var i=[],a=this.getFilterModel();if(t){var s=S3(Object.keys(t));this.allColumnFilters.forEach(function(l,u){var c=t[u];i.push(o.setModelOnFilterWrapper(l.filterPromise,c)),s.delete(u)}),s.forEach(function(l){var u=o.columnModel.getPrimaryColumn(l)||o.columnModel.getGridColumn(l);if(u&&u.isFilterAllowed()){var c=o.getOrCreateFilterWrapper(u,"NO_UI");c&&i.push(o.setModelOnFilterWrapper(c.filterPromise,t[l]))}})}else this.allColumnFilters.forEach(function(l){i.push(o.setModelOnFilterWrapper(l.filterPromise,null))});wa.all(i).then(function(){var l=o.getFilterModel(),u=[];o.allColumnFilters.forEach(function(c,d){var f=a?a[d]:null,p=l?l[d]:null;ut.jsonEquals(f,p)||u.push(c.column)}),u.length>0&&o.onFilterChanged({columns:u,source:r})})},e.prototype.setModelOnFilterWrapper=function(t,r){return new wa(function(o){t.then(function(i){typeof i.setModel!="function"&&o(),(i.setModel(r)||wa.resolve()).then(function(){return o()})})})},e.prototype.getFilterModel=function(){var t=this,r={};return this.allColumnFilters.forEach(function(o,i){var a=t.getModelFromFilterWrapper(o);te(a)&&(r[i]=a)}),r},e.prototype.getModelFromFilterWrapper=function(t){var r,o=t.filterPromise,i=o.resolveNow(null,function(a){return a});return i==null?(r=this.initialFilterModel[t.column.getColId()])!==null&&r!==void 0?r:null:typeof i.getModel!="function"?null:i.getModel()},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var r=this,o;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(i){return r.disposeFilterWrapper(i,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((o=this.advancedFilterService)===null||o===void 0)&&o.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return(t=this.advancedFilterService)===null||t===void 0?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,r){return this.doColumnFiltersPass(t,r,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var r=function(a){return!a||!a.isFilterActive?!1:a.isFilterActive()},o=!!this.gridOptionsService.getGroupAggFiltering(),i=function(a){var s=!a.isPrimary();if(s)return!0;var l=!t.columnModel.isPivotActive(),u=a.isValueActive();return!u||!l?!1:t.columnModel.isPivotMode()?!0:o};this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,r)){var s=a.filterPromise.resolveNow(null,function(l){return l});i(a.column)?t.activeAggregateFilters.push(s):t.activeColumnFilters.push(s)}})},e.prototype.updateFilterFlagInColumns=function(t,r){this.allColumnFilters.forEach(function(o){var i=o.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});o.column.setFilterActive(i,t,r)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.doColumnFiltersPass=function(t,r,o){for(var i=t.data,a=t.aggData,s=o?this.activeAggregateFilters:this.activeColumnFilters,l=o?a:i,u=0;u<s.length;u++){var c=s[u];if(!(c==null||c===r)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:l}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){var t=this.gridOptionsService.getGroupAggFiltering();t&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var r=this,o=function(){return r.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()},e.prototype.onFilterChanged=function(t){t===void 0&&(t={});var r=t.source,o=t.filterInstance,i=t.additionalEventAttributes,a=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==o&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var s={source:r,type:I.EVENT_FILTER_CHANGED,columns:a||[]};i&&is(s,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var t,r=(t=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&t!==void 0?t:!1;return!r&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,r){return this.doesRowPassFilter({rowNode:r,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(r){r.filterPromise.then(function(o){o.onNewRowsLoaded&&o.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var r=this;return function(o){var i=o.node;return r.valueService.getValue(t,i,!0)}},e.prototype.createGetValue=function(t){var r=this;return function(o,i){var a=i?r.columnModel.getGridColumn(i):t;return a?r.valueService.getValue(a,o,!0):void 0}},e.prototype.getFilterComponent=function(t,r,o){var i;if(o===void 0&&(o=!0),o)return((i=this.getOrCreateFilterWrapper(t,r))===null||i===void 0?void 0:i.filterPromise)||null;var a=this.cachedFilter(t);return a?a.filterPromise:null},e.prototype.isFilterActive=function(t){var r=this.cachedFilter(t);return!!r&&r.filterPromise.resolveNow(!1,function(o){return o.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,r){if(!t.isFilterAllowed())return null;var o=this.cachedFilter(t);return o?r!=="NO_UI"&&this.putIntoGui(o,r):(o=this.createFilterWrapper(t,r),this.setColumnFilterWrapper(t,o)),o},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var r;if(zt.__isRegistered(x.ModuleNames.SetFilterModule,this.context.getGridId()))r="agSetColumnFilter";else{var o=this.dataTypeService.getBaseDataType(t);o==="number"?r="agNumberColumnFilter":o==="date"||o==="dateString"?r="agDateColumnFilter":r="agTextColumnFilter"}return r},e.prototype.getDefaultFloatingFilter=function(t){var r;if(zt.__isRegistered(x.ModuleNames.SetFilterModule,this.context.getGridId()))r="agSetColumnFloatingFilter";else{var o=this.dataTypeService.getBaseDataType(t);o==="number"?r="agNumberColumnFloatingFilter":o==="date"||o==="dateString"?r="agDateColumnFloatingFilter":r="agTextColumnFloatingFilter"}return r},e.prototype.createFilterInstance=function(t){var r=this,o=this.getDefaultFilter(t),i=t.getColDef(),a,s=Lc(Lc({},this.createFilterParams(t,i)),{filterModifiedCallback:function(){return r.filterModifiedCallbackFactory(a,t)()},filterChangedCallback:function(u){return r.filterChangedCallbackFactory(a,t)(u)},doesRowPassOtherFilter:function(u){return r.doesRowPassOtherFilters(a,u)}}),l=this.userComponentFactory.getFilterDetails(i,s,o);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return a=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,r){var o=this.gridOptionsService.addGridCommonParams({column:t,colDef:$B(r),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:function(){return!0}});return o},e.prototype.createFilterWrapper=function(t,r){var o,i={column:t,filterPromise:null,compiledElement:null,guiPromise:wa.resolve(null),compDetails:null},a=this.createFilterInstance(t),s=a.filterPromise,l=a.compDetails;return i.filterPromise=(o=s==null?void 0:s())!==null&&o!==void 0?o:null,i.compDetails=l,s&&this.putIntoGui(i,r),i},e.prototype.putIntoGui=function(t,r){var o=this,i=document.createElement("div");i.className="ag-filter",t.guiPromise=new wa(function(a){t.filterPromise.then(function(s){var l=s.getGui();te(l),typeof l=="string"&&(l=ba(l)),i.appendChild(l),a(i);var u={type:I.EVENT_FILTER_OPENED,column:t.column,source:r,eGui:i};o.eventService.dispatchEvent(u)})})},e.prototype.onColumnsChanged=function(){var t=this,r=[];this.allColumnFilters.forEach(function(o,i){var a;o.column.isPrimary()?a=t.columnModel.getPrimaryColumn(i):a=t.columnModel.getGridColumn(i),!a&&(r.push(o.column),t.disposeFilterWrapper(o,"columnChanged"),t.disposeColumnListener(i))}),r.length>0?this.onFilterChanged({columns:r,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,r=this.columnModel.getGroupAutoColumns();r==null||r.forEach(function(o){o.getColDef().filter==="agGroupColumnFilter"&&t.getOrCreateFilterWrapper(o,"NO_UI")})},e.prototype.isFilterAllowed=function(t){var r,o;if(this.isAdvancedFilterEnabled())return!1;var i=t.isFilterAllowed();if(!i)return!1;var a=this.allColumnFilters.get(t.getColId());return(o=(r=a==null?void 0:a.filterPromise)===null||r===void 0?void 0:r.resolveNow(!0,function(s){return typeof(s==null?void 0:s.isFilterAllowed)=="function"?s==null?void 0:s.isFilterAllowed():!0}))!==null&&o!==void 0?o:!0},e.prototype.getFloatingFilterCompDetails=function(t,r){var o=this,i=function(d){var f=o.getFilterComponent(t,"NO_UI");f!=null&&f.then(function(p){d(Cg(p))})},a=t.getColDef(),s=Lc(Lc({},this.createFilterParams(t,a)),{filterChangedCallback:function(){return i(function(d){return o.filterChangedCallbackFactory(d,t)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,kB,s),u=this.userComponentFactory.getDefaultFloatingFilterType(a,function(){return o.getDefaultFloatingFilter(t)});u==null&&(u="agReadOnlyFloatingFilter");var c={column:t,filterParams:l,currentParentModel:function(){return o.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:i,showParentFilter:r,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(a,c,u)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var r=this.getFilterComponent(t,"NO_UI",!1);return r?r.resolveNow(null,function(o){return o&&o.getModel()}):null},e.prototype.destroyFilter=function(t,r){r===void 0&&(r="api");var o=t.getColId(),i=this.allColumnFilters.get(o);this.disposeColumnListener(o),delete this.initialFilterModel[o],i&&(this.disposeFilterWrapper(i,r),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var r=this.allColumnListeners.get(t);r&&(this.allColumnListeners.delete(t),r())},e.prototype.disposeFilterWrapper=function(t,r){var o=this;t.filterPromise.then(function(i){o.getContext().destroyBean(i),t.column.setFilterActive(!1,"filterDestroyed"),o.allColumnFilters.delete(t.column.getColId());var a={type:I.EVENT_FILTER_DESTROYED,source:r,column:t.column};o.eventService.dispatchEvent(a)})},e.prototype.filterModifiedCallbackFactory=function(t,r){var o=this;return function(){var i={type:I.EVENT_FILTER_MODIFIED,column:r,filterInstance:t};o.eventService.dispatchEvent(i)}},e.prototype.filterChangedCallbackFactory=function(t,r){var o=this;return function(i){var a,s=(a=i==null?void 0:i.source)!==null&&a!==void 0?a:"api",l={filter:t,additionalEventAttributes:i,columns:[r],source:s};o.callOnFilterChangedOutsideRenderCycle(l)}},e.prototype.checkDestroyFilter=function(t){var r=this,o=this.allColumnFilters.get(t);if(o){var i=o.column,a=(i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(o.compDetails,a)){this.destroyFilter(i,"paramsUpdated");return}var s=i.getColDef().filterParams;if(!o.filterPromise){this.destroyFilter(i,"paramsUpdated");return}o.filterPromise.then(function(l){var u=l!=null&&l.refresh?l.refresh(Lc(Lc(Lc({},r.createFilterParams(i,i.getColDef())),{filterModifiedCallback:r.filterModifiedCallbackFactory(l,i),filterChangedCallback:r.filterChangedCallbackFactory(l,i),doesRowPassOtherFilter:function(c){return r.doesRowPassOtherFilters(l,c)}}),s)):!0;u===!1&&r.destroyFilter(i,"paramsUpdated")})}},e.prototype.setColumnFilterWrapper=function(t,r){var o=this,i=t.getColId();this.allColumnFilters.set(i,r),this.allColumnListeners.set(i,this.addManagedListener(t,on.EVENT_COL_DEF_CHANGED,function(){return o.checkDestroyFilter(i)}))},e.prototype.areFilterCompsDifferent=function(t,r){if(!r||!t)return!0;var o=t.componentClass,i=r.componentClass,a=o===i||(o==null?void 0:o.render)&&(i==null?void 0:i.render)&&o.render===i.render;return!a},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t!=null?t:null),this.onFilterChanged({source:"advancedFilter"})}},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var t=this.columnModel.getAllGridColumns();return t.some(function(r){return r.getColDef().floatingFilter})},e.prototype.getFilterInstance=function(t,r){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var o=this.getFilterInstanceImpl(t,function(a){if(r){var s=Cg(a);r(s)}}),i=Cg(o);return i},e.prototype.getColumnFilterInstance=function(t){var r=this;return new Promise(function(o){r.getFilterInstance(t,function(i){o(i)})})},e.prototype.getFilterInstanceImpl=function(t,r){var o=this.columnModel.getPrimaryColumn(t);if(o){var i=this.getFilterComponent(o,"NO_UI"),a=i&&i.resolveNow(null,function(s){return s});return a?setTimeout(r,0,a):i&&i.then(function(s){r(s)}),a}},e.prototype.warnAdvancedFilters=function(){ze("Column Filter API methods have been disabled as Advanced Filters are enabled.")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var r;(r=this.advancedFilterService)===null||r===void 0||r.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach(function(r){var o=r.model,i=r.source;return t.setFilterModel(o,i)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(r){var o=r.key,i=r.model,a=r.resolve;t.setColumnFilterModel(o,i).then(function(){return a()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(r){return t.setAdvancedFilterModel(r)}),this.advancedFilterModelUpdateQueue=[]},e.prototype.getColumnFilterModel=function(t){var r=this.getFilterWrapper(t);return r?this.getModelFromFilterWrapper(r):null},e.prototype.setColumnFilterModel=function(t,r){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var o=function(){},i=new Promise(function(u){o=u});return this.columnFilterModelUpdateQueue.push({key:t,model:r,resolve:o}),i}var a=this.columnModel.getPrimaryColumn(t),s=a?this.getOrCreateFilterWrapper(a,"NO_UI"):null,l=function(u){return new Promise(function(c){u.then(function(d){return c(d)})})};return s?l(this.setModelOnFilterWrapper(s.filterPromise,r)):Promise.resolve()},e.prototype.getFilterWrapper=function(t){var r,o=this.columnModel.getPrimaryColumn(t);return o&&(r=this.cachedFilter(o))!==null&&r!==void 0?r:null},e.prototype.destroy=function(){var t=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(r){return t.disposeFilterWrapper(r,"gridDestroyed")}),this.allColumnListeners.clear()},Rc([P("valueService")],e.prototype,"valueService",void 0),Rc([P("columnModel")],e.prototype,"columnModel",void 0),Rc([P("rowModel")],e.prototype,"rowModel",void 0),Rc([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Rc([P("rowRenderer")],e.prototype,"rowRenderer",void 0),Rc([P("dataTypeService")],e.prototype,"dataTypeService",void 0),Rc([P("quickFilterService")],e.prototype,"quickFilterService",void 0),Rc([Ot("advancedFilterService")],e.prototype,"advancedFilterService",void 0),Rc([se],e.prototype,"init",null),e=Rc([be("filterManager")],e),e}(re),lOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),M3=function(n){lOe(e,n);function e(t,r){var o=n.call(this,t)||this;return o.ctrl=r,o}return e.prototype.getCtrl=function(){return this.ctrl},e}(rt),uOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Qte=function(n){uOe(e,n);function e(t){return n.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,r=this.getGui(),o={addOrRemoveCssClass:function(i,a){return t.addOrRemoveCssClass(i,a)},addOrRemoveBodyCssClass:function(i,a){return t.eFloatingFilterBody.classList.toggle(i,a)},setButtonWrapperDisplayed:function(i){return It(t.eButtonWrapper,i)},setCompDetails:function(i){return t.setCompDetails(i)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(i){return r.style.width=i},setMenuIcon:function(i){return t.eButtonShowMainFilter.appendChild(i)}};this.ctrl.setComp(o,r,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var r=this;if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(o){return r.afterCompCreated(o)})},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,I_([he("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),I_([he("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),I_([he("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),I_([se],e.prototype,"postConstruct",null),I_([_i],e.prototype,"destroyFloatingFilterComp",null),e}(M3),cOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dOe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};(function(n){n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print"})(x.LayoutCssClasses||(x.LayoutCssClasses={}));var A3=function(n){cOe(e,n);function e(t){var r=n.call(this)||this;return r.view=t,r}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),r={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},o=r.autoHeight?x.LayoutCssClasses.AUTO_HEIGHT:r.print?x.LayoutCssClasses.PRINT:x.LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(o,r)},e.prototype.getDomLayout=function(){var t,r=(t=this.gridOptionsService.get("domLayout"))!==null&&t!==void 0?t:"normal",o=["normal","print","autoHeight"];return o.indexOf(r)===-1?(ze("".concat(r," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):r},dOe([se],e.prototype,"postConstruct",null),e}(re),fOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NI=function(){return NI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},NI.apply(this,arguments)},Vp=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},wi;(function(n){n[n.Vertical=0]="Vertical",n[n.Horizontal=1]="Horizontal"})(wi||(wi={}));var Wi;(function(n){n[n.Container=0]="Container",n[n.FakeContainer=1]="FakeContainer"})(Wi||(Wi={}));var pOe=function(n){fOe(e,n);function e(t){var r=n.call(this)||this;return r.lastScrollSource=[null,null],r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.lastOffsetHeight=-1,r.lastScrollTop=-1,r.eBodyViewport=t,r.resetLastHScrollDebounced=as(function(){return r.lastScrollSource[wi.Horizontal]=null},500),r.resetLastVScrollDebounced=as(function(){return r.lastScrollSource[wi.Vertical]=null},500),r}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(r){t.centerRowContainerCtrl=r.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),r=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var o=this.gridOptionsService.get("debounceVerticalScrollbar"),i=o?as(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=o?as(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),r.onScrollCallback(a)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var r=this.centerRowContainerCtrl==null;if(!r){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var o=this.enableRtl?t:-t,i=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-o),s.setContainerTranslateX(o),i.setContainerTranslateX(o),a.setContainerTranslateX(o);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[wi.Horizontal]===Wi.Container;t=Math.abs(t),d?l.setScrollPosition(t):uE(c,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,r){return this.lastScrollSource[r]==null?(this.lastScrollSource[r]=t,!0):this.lastScrollSource[r]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(Wi.FakeContainer,wi.Horizontal)&&this.onHScrollCommon(Wi.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(Wi.Container,wi.Horizontal)&&this.onHScrollCommon(Wi.Container)},e.prototype.onHScrollCommon=function(t){var r=this.centerRowContainerCtrl.getViewportElement(),o=r.scrollLeft;if(!this.shouldBlockScrollUpdate(wi.Horizontal,o,!0)){var i;t===Wi.Container?i=lE(r,this.enableRtl):i=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced()}},e.prototype.onFakeVScroll=function(){this.isControllingScroll(Wi.FakeContainer,wi.Vertical)&&this.onVScrollCommon(Wi.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(Wi.Container,wi.Vertical)&&this.onVScrollCommon(Wi.Container)},e.prototype.onVScrollCommon=function(t){var r;t===Wi.Container?r=this.eBodyViewport.scrollTop:r=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(wi.Vertical,r,!0)&&(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,t===Wi.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(r):this.eBodyViewport.scrollTop=r,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var r=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===r||(this.scrollLeft=t,this.fireScrollEvent(wi.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var r=this,o={type:I.EVENT_BODY_SCROLL,direction:t===wi.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(o),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var i=NI(NI({},o),{type:I.EVENT_BODY_SCROLL_END});r.eventService.dispatchEvent(i)},100)},e.prototype.shouldBlockScrollUpdate=function(t,r,o){return o===void 0&&(o=!1),o&&!af()?!1:t===wi.Vertical?this.shouldBlockVerticalScroll(r):this.shouldBlockHorizontalScroll(r)},e.prototype.shouldBlockVerticalScroll=function(t){var r=fE(this.eBodyViewport),o=this.eBodyViewport.scrollHeight;return t<0||t+r>o},e.prototype.shouldBlockHorizontalScroll=function(t){var r=this.centerRowContainerCtrl.getCenterWidth(),o=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&sE()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+r>o},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(wi.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Wi.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,r){r===void 0&&(r=!1);var o=0,i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!r&&this.shouldBlockScrollUpdate(wi.Horizontal,t)&&(this.enableRtl&&sE()?t=t>0?0:i:t=Math.min(Math.max(t,o),i)),uE(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;var t={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return t},e.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var r=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(r+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-r},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,r){r===void 0&&(r=null);for(var o=this.rowModel.getRowCount(),i=-1,a=0;a<o;a++){var s=this.rowModel.getRow(a);if(typeof t=="function"){var l=t;if(s&&l(s)){i=a;break}}else if(t===s||t===s.data){i=a;break}}i>=0&&this.ensureIndexVisible(i,r)},e.prototype.ensureIndexVisible=function(t,r){var o=this;if(!this.gridOptionsService.isDomLayout("print")){var i=this.paginationProxy.getRowCount();if(!(typeof t!="number"||t<0||t>=i)){var a=this.gridOptionsService.get("pagination"),s=a&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){s||o.paginationProxy.goToPageWithIndex(t);var l=o.ctrlsService.getGridBodyCtrl(),u=l.getStickyTopHeight(),c=o.paginationProxy.getRow(t),d;do{var f=c.rowTop,p=c.rowHeight,h=o.paginationProxy.getPixelOffset(),m=c.rowTop-h,v=m+c.rowHeight,g=o.getVScrollPosition(),y=o.heightScaler.getDivStretchOffset(),C=g.top+y,w=g.bottom+y,b=w-C,E=o.heightScaler.getScrollPositionForPixel(m),D=o.heightScaler.getScrollPositionForPixel(v-b),S=Math.min((E+D)/2,m),T=C+u>m,O=w<v,L=null;r==="top"?L=E:r==="bottom"?L=D:r==="middle"?L=S:T?L=E-u:O&&(L=D),L!==null&&(o.setVerticalScrollPosition(L),o.rowRenderer.redraw({afterScroll:!0})),d=f!==c.rowTop||p!==c.rowHeight}while(d);o.animationFrameService.flushAllFrames()})}}},e.prototype.ensureColumnVisible=function(t,r){var o=this;r===void 0&&(r="auto");var i=this.columnModel.getGridColumn(t);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var a=this.getPositionedHorizontalScroll(i,r);this.getFrameworkOverrides().wrapIncoming(function(){a!==null&&o.centerRowContainerCtrl.setCenterViewportScrollLeft(a),o.centerRowContainerCtrl.onHorizontalViewportChanged(),o.animationFrameService.flushAllFrames()})}},e.prototype.setScrollPosition=function(t,r){var o=this;this.getFrameworkOverrides().wrapIncoming(function(){o.centerRowContainerCtrl.setCenterViewportScrollLeft(r),o.setVerticalScrollPosition(t),o.rowRenderer.redraw({afterScroll:!0}),o.animationFrameService.flushAllFrames()})},e.prototype.getPositionedHorizontalScroll=function(t,r){var o=this.isColumnOutsideViewport(t),i=o.columnBeforeStart,a=o.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?i:a)||s,d=u?a:i;r!=="auto"&&(c=r==="start",d=r==="end");var f=r==="middle";if(c||d||f){var p=this.getColumnBounds(t),h=p.colLeft,m=p.colMiddle,v=p.colRight;return f?m-l/2:c?u?v:h:u?h-l:v-l}return null},e.prototype.isColumnOutsideViewport=function(t){var r=this.getViewportBounds(),o=r.start,i=r.end,a=this.getColumnBounds(t),s=a.colLeft,l=a.colRight,u=this.enableRtl,c=u?o>l:i<l,d=u?i<s:o>s;return{columnBeforeStart:c,columnAfterEnd:d}},e.prototype.getColumnBounds=function(t){var r=this.enableRtl,o=this.columnModel.getBodyContainerWidth(),i=t.getActualWidth(),a=t.getLeft(),s=r?-1:1,l=r?o-a:a,u=l+i*s,c=l+i/2*s;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),o=r,i=t+r;return{start:o,end:i,width:t}},Vp([P("ctrlsService")],e.prototype,"ctrlsService",void 0),Vp([P("animationFrameService")],e.prototype,"animationFrameService",void 0),Vp([P("paginationProxy")],e.prototype,"paginationProxy",void 0),Vp([P("rowModel")],e.prototype,"rowModel",void 0),Vp([P("rowContainerHeightService")],e.prototype,"heightScaler",void 0),Vp([P("rowRenderer")],e.prototype,"rowRenderer",void 0),Vp([P("columnModel")],e.prototype,"columnModel",void 0),Vp([se],e.prototype,"postConstruct",null),e}(re),hOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VB=function(){return VB=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},VB.apply(this,arguments)},sl=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},mOe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},gOe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},vOe=function(n){hOe(e,n);function e(t){var r=n.call(this)||this;return r.isMultiRowDrag=!1,r.eContainer=t,r}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var r=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new F3({scrollContainer:r.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return r.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===x.DragSourceType.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsService.get("rowDragManaged");return t&&this.shouldPreventRowMove()?no.ICON_NOT_ALLOWED:no.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){var t=this.columnModel.getRowGroupColumns();if(t.length)return!0;var r=this.filterManager.isAnyFilterPresent();if(r)return!0;var o=this.sortController.isSortActive();return!!o},e.prototype.getRowNodes=function(t){var r=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var o=this.gridOptionsService.get("rowDragMultiRow"),i=gOe([],mOe(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return s.rowIndex==null||l.rowIndex==null?0:r.getRowIndexNumber(s)-r.getRowIndexNumber(l)}),a=t.dragItem.rowNode;return o&&i.indexOf(a)!==-1?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[a])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(I.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(r){r.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var r=t.dragSource.dragSourceDomDataKey;return r===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var r=this.ctrlsService.getGridBodyCtrl(),o=r.getGui(),i=t.dropZoneTarget;return!o.contains(i)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(I.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var r=this.mouseEventService.getNormalisedPosition(t).y,o=this.gridOptionsService.get("rowDragManaged");o&&this.doManagedDrag(t,r),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,r){var o=this.isFromThisGrid(t),i=this.gridOptionsService.get("rowDragManaged"),a=t.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!o?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(a[0],r):this.moveRows(a,r))},e.prototype.getRowIndexNumber=function(t){return parseInt(Vt(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var r=this,o=this.clientSideRowModel.getLastHighlightedRowNode(),i=o&&o.highlighted===x.RowHighlightPosition.Below,a=this.mouseEventService.getNormalisedPosition(t).y,s=t.dragItem.rowNodes,l=i?1:0;if(this.isFromThisGrid(t))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===x.RowHighlightPosition.Above&&c--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!r.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,r,o){o===void 0&&(o=0);var i=this.clientSideRowModel.ensureRowsAtPixel(t,r,o);i&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var r=this;if(!t.getContainer()){ze("addRowDropZone - A container target needs to be provided");return}if(!this.dragAndDropService.findExternalZone(t)){var o={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,o=t):(t.onDragEnter&&(o.onDragEnter=function(i){t.onDragEnter(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_ENTER,i))}),t.onDragLeave&&(o.onDragLeave=function(i){t.onDragLeave(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_LEAVE,i))}),t.onDragging&&(o.onDragging=function(i){t.onDragging(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_MOVE,i))}),t.onDragStop&&(o.onDragStop=function(i){t.onDragStop(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(VB({isInterestedIn:function(i){return i===x.DragSourceType.RowDrag},getIconName:function(){return no.ICON_MOVE},external:!0},o))}},e.prototype.getRowDropZone=function(t){var r=this,o=this.getContainer.bind(this),i=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:o,onDragEnter:t.onDragEnter?function(u){i(u),t.onDragEnter(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_ENTER,u))}:i,onDragLeave:t.onDragLeave?function(u){a(u),t.onDragLeave(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_LEAVE,u))}:a,onDragging:t.onDragging?function(u){s(u),t.onDragging(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_MOVE,u))}:s,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(r.draggingToRowDragEvent(I.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:o,onDragEnter:i,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,r){var o=this.mouseEventService.getNormalisedPosition(r).y,i=o>this.paginationProxy.getCurrentPageHeight(),a=-1,s;i||(a=this.rowModel.getRowIndexAtPixel(o),s=this.rowModel.getRow(a));var l;switch(r.vDirection){case x.VerticalDirection.Down:l="down";break;case x.VerticalDirection.Up:l="up";break;default:l=null;break}var u=this.gridOptionsService.addGridCommonParams({type:t,event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:a,overNode:s,y:o,vDirection:l});return u},e.prototype.dispatchGridEvent=function(t,r){var o=this.draggingToRowDragEvent(t,r);this.eventService.dispatchEvent(o)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(I.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(I.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(r){r.setDragging(!1)})},sl([P("dragAndDropService")],e.prototype,"dragAndDropService",void 0),sl([P("rowModel")],e.prototype,"rowModel",void 0),sl([P("paginationProxy")],e.prototype,"paginationProxy",void 0),sl([P("columnModel")],e.prototype,"columnModel",void 0),sl([P("focusService")],e.prototype,"focusService",void 0),sl([P("sortController")],e.prototype,"sortController",void 0),sl([P("filterManager")],e.prototype,"filterManager",void 0),sl([P("selectionService")],e.prototype,"selectionService",void 0),sl([P("mouseEventService")],e.prototype,"mouseEventService",void 0),sl([P("ctrlsService")],e.prototype,"ctrlsService",void 0),sl([Ot("rangeService")],e.prototype,"rangeService",void 0),sl([se],e.prototype,"postConstruct",null),e}(re),yOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),da=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};(function(n){n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation"})(x.RowAnimationCssClasses||(x.RowAnimationCssClasses={}));var Jte="ag-force-vertical-scroll",COe="ag-selectable",wOe="ag-column-moving",ene=function(n){yOe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,r,o,i,a,s){var l=this;this.comp=t,this.eGridBody=r,this.eBodyViewport=o,this.eTop=i,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new A3(this.comp)),this.bodyScrollFeature=this.createManagedBean(new pOe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,o,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(i),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var r=this;t.forEach(function(o){r.addManagedListener(o,"focusin",function(i){var a=i.target,s=bg(a,"ag-root",o);o.classList.toggle("ag-has-focus",!s)}),r.addManagedListener(o,"focusout",function(i){var a=i.target,s=i.relatedTarget,l=o.contains(s),u=bg(s,"ag-root",o),c=bg(a,"ag-root",o);c||(!l||u)&&o.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(wOe,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1),this.comp.setCellSelectableCss(COe,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r),this.setStickyTopWidth(r);var o=r&&this.gridOptionsService.getScrollbarWidth()||0,i=l3()?16:0,a="calc(100% + ".concat(o+i,"px)");this.animationFrameService.requestAnimationFrame(function(){return t.comp.setBodyViewportWidth(a)})},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var r=function(i){var a=i.relatedTarget;if(OI(a)===null){t.rowRenderer.stopEditing();return}var s=o.some(function(u){return u.contains(a)})&&t.mouseEventService.isElementInThisGrid(a);if(!s){var l=t.popupService;s=l.getActivePopups().some(function(u){return u.contains(a)})||l.isElementWithinCustomPopup(a)}s||t.rowRenderer.stopEditing()},o=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];o.forEach(function(i){return t.addManagedListener(i,"focusout",r)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),r=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,o=r===-1?-1:t+r;this.comp.setRowCount(o)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var r=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(r)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowVerticalScroll"),r=t?Jte:null,o=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(r,t),t||o&&ste(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,r=function(){var o=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),i=o?x.RowAnimationCssClasses.ANIMATION_ON:x.RowAnimationCssClasses.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(i,o)};r(),this.addManagedListener(this.eventService,I.EVENT_HEIGHT_SCALE_CHANGED,r),this.addManagedPropertyListener("animateRows",r)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,r=this.eBodyViewport.querySelector(".ag-full-width-container"),o=this.eBodyViewport.querySelector(".ag-center-cols-viewport");r&&o&&this.addManagedListener(r,"wheel",function(i){return t.onFullWidthContainerWheel(i,o)})},e.prototype.onFullWidthContainerWheel=function(t,r){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),r.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,r,o){if(!(!t&&!o)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var i=t||o;i.preventDefault()}var a=(t||r).target;(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:o,value:null,anchorToElement:this.eGridBody})}},e.prototype.mockContextMenuForIPad=function(t){if(af()){var r=new ei(this.eBodyViewport),o=function(i){t(void 0,i.touchStart,i.touchEvent)};this.addManagedListener(r,ei.EVENT_LONG_TAP,o),this.addDestroyFunc(function(){return r.destroy()})}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var r=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(r+t),this.eBodyViewport.scrollTop-r},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new vOe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,r=t.getPinnedTopTotalHeight(),o=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(r),this.comp.setBottomHeight(o),this.comp.setTopDisplay(r?"inherit":"none"),this.comp.setBottomDisplay(o?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight("".concat(t,"px")),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var r=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(r,"px)"))}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),r=t.getHeaderHeight()+this.filterManager.getHeaderHeight(),o=this.pinnedRowModel.getPinnedTopTotalHeight(),i=0;r>0&&(i+=r+1),o>0&&(i+=o+1),this.comp.setStickyTopTop("".concat(i,"px"))},e.prototype.sizeColumnsToFit=function(t,r){var o=this,i=this.isVerticalScrollShowing(),a=i?this.gridOptionsService.getScrollbarWidth():0,s=Tg(this.eGridBody),l=s-a;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}r===void 0?window.setTimeout(function(){o.sizeColumnsToFit(t,100)},0):r===100?window.setTimeout(function(){o.sizeColumnsToFit(t,500)},100):r===500&&window.setTimeout(function(){o.sizeColumnsToFit(t,-1)},500)},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},da([P("animationFrameService")],e.prototype,"animationFrameService",void 0),da([P("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),da([P("ctrlsService")],e.prototype,"ctrlsService",void 0),da([P("columnModel")],e.prototype,"columnModel",void 0),da([P("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),da([P("menuService")],e.prototype,"menuService",void 0),da([P("headerNavigationService")],e.prototype,"headerNavigationService",void 0),da([P("dragAndDropService")],e.prototype,"dragAndDropService",void 0),da([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),da([P("rowRenderer")],e.prototype,"rowRenderer",void 0),da([P("popupService")],e.prototype,"popupService",void 0),da([P("mouseEventService")],e.prototype,"mouseEventService",void 0),da([P("rowModel")],e.prototype,"rowModel",void 0),da([P("filterManager")],e.prototype,"filterManager",void 0),e}(re);(function(n){n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE"})(x.SelectionHandleType||(x.SelectionHandleType={}));(function(n){n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION"})(x.CellRangeType||(x.CellRangeType={}));var F_="ag-cell-range-selected",SOe="ag-cell-range-chart",bOe="ag-cell-range-single-cell",_Oe="ag-cell-range-chart-category",EOe="ag-cell-range-handle",xOe="ag-cell-range-top",DOe="ag-cell-range-right",ROe="ag-cell-range-bottom",TOe="ag-cell-range-left",POe=function(){function n(e,t){this.beans=e,this.cellCtrl=t}return n.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(F_,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(F_,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(F_,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(F_,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(F_,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(SOe,this.hasChartRange),RC(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(bOe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,o=!t&&e.right,i=!t&&e.bottom,a=!t&&e.left;this.cellComp.addOrRemoveCssClass(xOe,r),this.cellComp.addOrRemoveCssClass(DOe,o),this.cellComp.addOrRemoveCssClass(ROe,i),this.cellComp.addOrRemoveCssClass(TOe,a)},n.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(r){return cu([x.CellRangeType.DIMENSION,x.CellRangeType.VALUE],r.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsService.get("enableRtl"),r=!1,o=!1,i=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,f;t?(d=c.getDisplayedColAfter(s),f=c.getDisplayedColBefore(s)):(d=c.getDisplayedColBefore(s),f=c.getDisplayedColAfter(s));var p=u.getCellRanges().filter(function(y){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),y)});d||(a=!0),f||(o=!0);for(var h=0;h<p.length&&!(r&&o&&i&&a);h++){var m=p[h],v=u.getRangeStartRow(m),g=u.getRangeEndRow(m);!r&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(r=!0),!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!a&&d&&m.columns.indexOf(d)<0&&(a=!0),!o&&f&&m.columns.indexOf(f)<0&&(o=!0)}return{top:r,right:o,bottom:i,left:a}},n.prototype.refreshHandle=function(){if(!(!this.beans.rangeService||this.beans.context.isDestroyed())){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(EOe,!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,r=e.rangeService,o=r.getCellRanges(),i=o.length;if(this.rangeCount<1||i<1)return!1;var a=Vt(o),s=this.cellCtrl.getCellPosition(),l=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=t.get("enableRangeHandle"),c=i===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=o[0].type===x.CellRangeType.DIMENSION,f=d&&r.isCellInSpecificRange(s,o[0]);this.cellComp.addOrRemoveCssClass(_Oe,f),c=a.type===x.CellRangeType.VALUE}return c&&a.endRow!=null&&r.isContiguousRange(a)&&r.isBottomRightCell(a,s)},n.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,r=e.rangeService,o=Vt(r.getCellRanges()).type,i=t.get("enableFillHandle")&&Ke(o),a=i?x.SelectionHandleType.FILL:x.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}(),OOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IOe=function(n){OOe(e,n);function e(t,r){var o=n.call(this)||this;return o.cellCtrl=t,o.beans=r,o.column=t.getColumn(),o.rowNode=t.getRowNode(),o.setupColSpan(),o.setupRowSpan(),o}return e.prototype.setupRowSpan=function(){var t=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,I.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onNewColumnsLoaded=function(){var t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();nf(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width="".concat(t,"px")}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,r){return t+r.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),r=[];if(t===1)r.push(this.column);else for(var o=this.column,i=this.column.getPinned(),a=0;o&&a<t&&(r.push(o),o=this.beans.columnModel.getDisplayedColAfter(o),!(!o||Ke(o)||i!==o.getPinned()));a++);return r},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?t=Vt(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var o=this.beans.columnModel.getBodyContainerWidth();return r+o+(t||0)}return r+(t||0)},e.prototype.applyRowSpan=function(t){if(!(this.rowSpan===1&&!t)){var r=this.beans.gridOptionsService.getRowHeightAsNumber(),o=r*this.rowSpan;this.eGui.style.height="".concat(o,"px"),this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(re),FOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LOe=function(n){FOe(e,n);function e(t,r){var o=n.call(this)||this;return o.staticClasses=[],o.cellCtrl=t,o.beans=r,o.column=t.getColumn(),o.rowNode=t.getRowNode(),o}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,r=this.column.getColDef(),o=r.cellClassRules,i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(o===this.cellClassRules?void 0:this.cellClassRules,o,i,function(a){return t.cellComp.addOrRemoveCssClass(a,!0)},function(a){return t.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=o},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var r;if(typeof t.cellStyle=="function"){var o=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),i=t.cellStyle;r=i(o)}else r=t.cellStyle;r&&this.cellComp.setUserStyles(r)}},e.prototype.applyClassesFromColDef=function(){var t=this,r=this.column.getColDef(),o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:r,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(i){return t.cellComp.addOrRemoveCssClass(i,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,o),this.staticClasses.length&&this.staticClasses.forEach(function(i){return t.cellComp.addOrRemoveCssClass(i,!0)})},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(re),MOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vE=function(n){MOe(e,n);function e(t,r){var o=n.call(this)||this;return o.ctrl=t,o.beans=r,o}return e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var r="title";t!=null&&t!=""?this.eGui.setAttribute(r,t):this.eGui.removeAttribute(r)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this,r,o,i,a;if(this.genericTooltipFeature==null){var s={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new b3(s,(o=(r=this.ctrl).getTooltipShowDelayOverride)===null||o===void 0?void 0:o.call(r),(a=(i=this.ctrl).getTooltipHideDelayOverride)===null||a===void 0?void 0:a.call(i)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,r=this.ctrl,o=r.getColumn?r.getColumn():void 0,i=r.getColDef?r.getColDef():void 0,a=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:i,column:o,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(re),tt=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},N3=function(){function n(){}return n.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},tt([P("resizeObserverService")],n.prototype,"resizeObserverService",void 0),tt([P("paginationProxy")],n.prototype,"paginationProxy",void 0),tt([P("context")],n.prototype,"context",void 0),tt([P("columnApi")],n.prototype,"columnApi",void 0),tt([P("gridApi")],n.prototype,"gridApi",void 0),tt([P("gridOptionsService")],n.prototype,"gridOptionsService",void 0),tt([P("expressionService")],n.prototype,"expressionService",void 0),tt([P("environment")],n.prototype,"environment",void 0),tt([P("rowRenderer")],n.prototype,"rowRenderer",void 0),tt([P("templateService")],n.prototype,"templateService",void 0),tt([P("valueService")],n.prototype,"valueService",void 0),tt([P("eventService")],n.prototype,"eventService",void 0),tt([P("columnModel")],n.prototype,"columnModel",void 0),tt([P("headerNavigationService")],n.prototype,"headerNavigationService",void 0),tt([P("navigationService")],n.prototype,"navigationService",void 0),tt([P("columnAnimationService")],n.prototype,"columnAnimationService",void 0),tt([Ot("rangeService")],n.prototype,"rangeService",void 0),tt([P("focusService")],n.prototype,"focusService",void 0),tt([P("popupService")],n.prototype,"popupService",void 0),tt([P("valueFormatterService")],n.prototype,"valueFormatterService",void 0),tt([P("stylingService")],n.prototype,"stylingService",void 0),tt([P("columnHoverService")],n.prototype,"columnHoverService",void 0),tt([P("userComponentFactory")],n.prototype,"userComponentFactory",void 0),tt([P("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),tt([P("animationFrameService")],n.prototype,"animationFrameService",void 0),tt([P("dragService")],n.prototype,"dragService",void 0),tt([P("dragAndDropService")],n.prototype,"dragAndDropService",void 0),tt([P("sortController")],n.prototype,"sortController",void 0),tt([P("filterManager")],n.prototype,"filterManager",void 0),tt([P("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),tt([P("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),tt([P("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),tt([P("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),tt([P("selectionService")],n.prototype,"selectionService",void 0),tt([Ot("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),tt([P("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),tt([P("rowModel")],n.prototype,"rowModel",void 0),tt([P("ctrlsService")],n.prototype,"ctrlsService",void 0),tt([P("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),tt([P("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),tt([P("valueCache")],n.prototype,"valueCache",void 0),tt([P("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),tt([P("localeService")],n.prototype,"localeService",void 0),tt([P("valueParserService")],n.prototype,"valueParserService",void 0),tt([P("syncService")],n.prototype,"syncService",void 0),tt([P("ariaAnnouncementService")],n.prototype,"ariaAnnouncementService",void 0),tt([se],n.prototype,"postConstruct",null),n=tt([be("beans")],n),n}(),AOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NOe=function(n){AOe(e,n);function e(t,r,o){var i=n.call(this)||this;return i.cellCtrl=t,i.beans=r,i.column=o,i}return e.prototype.onMouseEvent=function(t,r){if(!du(r))switch(t){case"click":this.onCellClicked(r);break;case"mousedown":case"touchstart":this.onMouseDown(r);break;case"dblclick":this.onCellDoubleClicked(r);break;case"mouseout":this.onMouseOut(r);break;case"mouseover":this.onMouseOver(r);break}},e.prototype.onCellClicked=function(t){var r=this;if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var o=this.beans,i=o.eventService,a=o.rangeService,s=o.gridOptionsService,l=t.ctrlKey||t.metaKey;a&&l&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);var u=this.cellCtrl.createEvent(t,I.EVENT_CELL_CLICKED);i.dispatchEvent(u);var c=this.column.getColDef();c.onCellClicked&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){c.onCellClicked(u)})},0);var d=(s.get("singleClickEdit")||c.singleClickEdit)&&!s.get("suppressClickEdit");d&&!(t.shiftKey&&(a==null?void 0:a.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!af()||UB("dblclick"))return!1;var t=new Date().getTime(),r=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,r},e.prototype.onCellDoubleClicked=function(t){var r=this,o=this.column.getColDef(),i=this.cellCtrl.createEvent(t,I.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof o.onCellDoubleClicked=="function"&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){o.onCellDoubleClicked(i)})},0);var a=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");a&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var r=t.ctrlKey,o=t.metaKey,i=t.shiftKey,a=t.target,s=this,l=s.cellCtrl,u=s.beans,c=u.eventService,d=u.rangeService,f=u.focusService;if(!this.isRightClickInExistingRange(t)){var p=d&&d.getCellRanges().length!=0;if(!i||!p){var h=Vc()&&!l.isEditing()&&!d3(a);l.focusCell(h)}if(i&&p&&!f.isCellFocused(l.getCellPosition())){t.preventDefault();var m=f.getFocusedCell();if(m){var v=m.column,g=m.rowIndex,y=m.rowPinned,C=u.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:y}),w=C==null?void 0:C.getCellCtrl(v);w!=null&&w.isEditing()&&w.stopEditing(),f.setFocusedCell({column:v,rowIndex:g,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var b=this.cellCtrl.getCellPosition();if(i)d.extendLatestRangeToCell(b);else{var E=r||o;d.setRangeToCell(b,E)}}c.dispatchEvent(this.cellCtrl.createEvent(t,I.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var r=this.beans.rangeService;if(r){var o=r.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(o&&i)return!0}return!1},e.prototype.containsWidget=function(t){return bg(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var r=this.cellCtrl.createEvent(t,I.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var r=this.cellCtrl.createEvent(t,I.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var r=this.cellCtrl.getGui(),o=r.contains(t.target),i=r.contains(t.relatedTarget);return o&&i},e.prototype.destroy=function(){},e}(N3),kOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VOe=function(n){kOe(e,n);function e(t,r,o,i,a){var s=n.call(this)||this;return s.cellCtrl=t,s.beans=r,s.rowNode=i,s.rowCtrl=a,s}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var r=t.key;switch(r){case j.ENTER:this.onEnterKeyDown(t);break;case j.F2:this.onF2KeyDown(t);break;case j.ESCAPE:this.onEscapeKeyDown(t);break;case j.TAB:this.onTabKeyDown(t);break;case j.BACKSPACE:case j.DELETE:this.onBackspaceOrDeleteKeyDown(r,t);break;case j.DOWN:case j.UP:case j.RIGHT:case j.LEFT:this.onNavigationKeyDown(t,r);break}},e.prototype.onNavigationKeyDown=function(t,r){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,r,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var r=this.beans.rangeService.extendLatestRangeInDirection(t);r&&this.beans.navigationService.ensureCellVisible(r)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,r){var o=this,i=o.cellCtrl,a=o.beans,s=o.rowNode,l=a.gridOptionsService,u=a.rangeService,c=a.eventService;i.isEditing()||(c.dispatchEvent({type:I.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),hte(t,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&s.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(t,r),c.dispatchEvent({type:I.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var r=t.shiftKey?j.UP:j.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(j.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(j.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){var r=t.target,o=r!==this.eGui;if(!(o||this.cellCtrl.isEditing())){var i=t.key;i===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(i,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var r=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&r.isRowSelection()){var o=this.rowNode.isSelected(),i=!o;if(i||!r.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:i,rangeSelect:t.shiftKey,groupSelectsFiltered:a,event:t,source:"spaceKey"});o===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:a,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(re),GOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HOe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},$Oe=function(n){GOe(e,n);function e(t,r,o){var i=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return i.rowNode=t,i.column=r,i.eCell=o,i}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(Vr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(r){r.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var r=this,o=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var i=function(){try{var s=JSON.stringify(r.rowNode.data);t.dataTransfer.setData("application/json",s),t.dataTransfer.setData("text/plain",s)}catch(l){}};if(o){var a=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});o(a)}else i()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},HOe([se],e.prototype,"postConstruct",null),e}(rt),BOe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},WOe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},zOe="ag-column-first",UOe="ag-column-last",yE=function(){function n(){}return n.getHeaderClassesFromColDef=function(e,t,r,o){return Ke(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,r,o)},n.getToolPanelClassesFromColDef=function(e,t,r,o){return Ke(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,r,o)},n.refreshFirstAndLastStyles=function(e,t,r){e.addOrRemoveCssClass(zOe,r.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass(UOe,r.isColumnAtEdge(t,"last"))},n.getClassParams=function(e,t,r,o){return t.addGridCommonParams({colDef:e,column:r,columnGroup:o})},n.getColumnClassesFromCollDef=function(e,t,r,o,i){if(Ke(e))return[];var a;if(typeof e=="function"){var s=this.getClassParams(t,r,o,i);a=e(s)}else a=e;return typeof a=="string"?[a]:Array.isArray(a)?WOe([],BOe(a),!1):[]},n}(),jOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kI=function(){return kI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},kI.apply(this,arguments)},KOe="ag-cell",qOe="ag-cell-auto-height",YOe="ag-cell-normal-height",XOe="ag-cell-focus",ZOe="ag-cell-first-right-pinned",QOe="ag-cell-last-left-pinned",JOe="ag-cell-not-inline-editing",eIe="ag-column-hover",tIe="ag-cell-wrap-text",nIe=0,Qp=function(n){jOe(e,n);function e(t,r,o,i){var a=n.call(this)||this;return a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=t,a.rowNode=r,a.beans=o,a.rowCtrl=i,a.instanceId=t.getId()+"-"+nIe++,a.colIdSanitised=ro(a.column.getId()),o.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new IOe(this,this.beans),this.addDestroyFunc(function(){var o;(o=t.cellPositionFeature)===null||o===void 0||o.destroy(),t.cellPositionFeature=null}),this.cellCustomStyleFeature=new LOe(this,this.beans),this.addDestroyFunc(function(){var o;(o=t.cellCustomStyleFeature)===null||o===void 0||o.destroy(),t.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new NOe(this,this.beans,this.column),this.addDestroyFunc(function(){var o;(o=t.cellMouseListenerFeature)===null||o===void 0||o.destroy(),t.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new VOe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var o;(o=t.cellKeyboardListenerFeature)===null||o===void 0||o.destroy(),t.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){t.disableTooltipFeature()}));var r=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");r&&(this.cellRangeFeature=new POe(this.beans,this),this.addDestroyFunc(function(){var o;(o=t.cellRangeFeature)===null||o===void 0||o.destroy(),t.cellRangeFeature=null}))},e.prototype.enableTooltipFeature=function(){var t=this,r=function(){var i=t.column.getColDef(),a=t.rowNode.data;if(i.tooltipField&&te(a))return EC(a,i.tooltipField,t.column.isTooltipFieldContainsDots());var s=i.tooltipValueGetter;return s?s(t.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted})):null},o={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:r,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new vE(o,this.beans)},e.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},e.prototype.setComp=function(t,r,o,i,a){var s,l,u,c;this.cellComp=t,this.eGui=r,this.printLayout=i,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(r),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(t),(u=this.tooltipFeature)===null||u===void 0||u.setComp(r),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,r),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var r=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!t)){var o=t.parentElement,i=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(u){if(!r.editing&&r.isAlive()){var c=nh(o),d=c.paddingTop,f=c.paddingBottom,p=c.borderBottomWidth,h=c.borderTopWidth,m=d+f+p+h,v=t.offsetHeight,g=v+m;if(u<5){var y=r.beans.gridOptionsService.getDocument(),C=!y||!y.contains(t),w=g==0;if(C||w){window.setTimeout(function(){return a(u+1)},0);return}}var b=Math.max(g,i);r.rowNode.setRowAutoHeight(b,r.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(t,s);this.addDestroyFunc(function(){l(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},e.prototype.getCellAriaRole=function(){var t;return(t=this.column.getColDef().cellAriaRole)!==null&&t!==void 0?t:"gridcell"},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isCellRenderer=function(){var t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null},e.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},e.prototype.showValue=function(t){t===void 0&&(t=!1);var r=this.getValueToDisplay(),o;if(this.isCellRenderer()){var i=this.createCellRendererParams();o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i)}this.cellComp.setRenderDetails(o,r,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var r=this.rowNode.rowPinned!=null,o=typeof t=="function",i=r?!1:o||t===!0;return i},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),o=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),i=this.includeDndSource!=this.isIncludeControl(t.dndSource);return r||o||i},e.prototype.startEditing=function(t,r,o){var i=this;if(t===void 0&&(t=null),r===void 0&&(r=!1),o===void 0&&(o=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){i.startEditing(t,r,o)});return}var a=this.createCellEditorParams(t,r),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a);this.editCompDetails=l;var u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!s.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(o,I.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var r={newValueExists:!1};if(t)return r;var o=this.cellComp.getCellEditor();if(!o)return r;var i=o.isCancelAfterEnd&&o.isCancelAfterEnd();if(i)return r;var a=o.getValue();return{newValue:a,newValueExists:!0}},e.prototype.saveNewValue=function(t,r){if(r===t)return!1;this.suppressRefreshCell=!0;var o=this.rowNode.setDataValue(this.column,r,"edit");return this.suppressRefreshCell=!1,o},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var r=this.takeValueFromCellEditor(t),o=r.newValue,i=r.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return i&&(s=this.saveNewValue(a,o)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,o,!t&&!!s),s},e.prototype.dispatchEditingStoppedEvent=function(t,r,o){var i=kI(kI({},this.createEvent(null,I.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:r,valueChanged:o});this.beans.eventService.dispatchEvent(i)},e.prototype.createCellEditorParams=function(t,r){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:r,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},e.prototype.createCellRendererParams=function(){var t=this,r=this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(o){return t.beans.valueService.setValue(t.rowNode,t.column,o)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(o,i,a,s){return t.registerRowDragger(o,i,s)}});return r},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){var r=t.column===this.column;r&&this.refreshCell({})},e.prototype.refreshOrDestroyCell=function(t){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)===null||r===void 0||r.refreshCell(this):this.refreshCell(t)},e.prototype.refreshCell=function(t){var r,o,i;if(!(this.suppressRefreshCell||this.editing)){var a=this.column.getColDef(),s=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!a.suppressCellFlash,u=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,c=t&&t.forceRefresh||u||s,d=!!this.cellComp,f=this.updateAndFormatValue(d),p=c||f;if(d){if(p){this.showValue(s);var h=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),m=!l&&!h&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash);m&&this.flashCell(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyUserStyles(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyClassesFromColDef()}this.refreshToolTip(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyCellClassRules()}}},e.prototype.stopEditingAndFocus=function(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(r)},e.prototype.navigateAfterEdit=function(t){var r=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(r){var o=t?j.UP:j.DOWN;this.beans.navigationService.navigateToNextCell(null,o,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var r,o,i=(r=t==null?void 0:t.flashDuration)!==null&&r!==void 0?r:t==null?void 0:t.flashDelay,a=(o=t==null?void 0:t.fadeDuration)!==null&&o!==void 0?o:t==null?void 0:t.fadeDelay;this.animateCell("data-changed",i,a)},e.prototype.animateCell=function(t,r,o){var i=this;if(this.cellComp){var a="ag-cell-".concat(t),s="ag-cell-".concat(t,"-animation"),l=this.beans.gridOptionsService;r||(r=l.get("cellFlashDuration")),te(o)||(o=l.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(a,!1),i.cellComp.addOrRemoveCssClass(s,!0),i.eGui.style.transition="background-color ".concat(o,"ms"),window.setTimeout(function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(s,!1),i.eGui.style.transition="")},o))},r)})}},e.prototype.onFlashCells=function(t){if(this.cellComp){var r=this.beans.cellPositionUtils.createId(this.getCellPosition()),o=t.cells[r];o&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var r;return(r=this.callValueFormatter(t))!==null&&r!==void 0?r:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){var r=this.value,o=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=o:!0},e.prototype.valuesAreEqual=function(t,r){var o=this.column.getColDef();return o.equals?o.equals(t,r):t===r},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,r=this.getGui();this.beans.gridOptionsService.setDomData(r,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsService.setDomData(r,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,r){var o=this.beans.gridOptionsService.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex});return o},e.prototype.processCharacter=function(t){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.processCharacter(t)},e.prototype.onKeyDown=function(t){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.onKeyDown(t)},e.prototype.onMouseEvent=function(t,r){var o;(o=this.cellMouseListenerFeature)===null||o===void 0||o.onMouseEvent(t,r)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;(t=this.tooltipFeature)===null||t===void 0||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&((t=this.cellPositionFeature)===null||t===void 0||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,r=t.cellComp,o=t.column,i=t.beans;yE.refreshFirstAndLastStyles(r,o,i.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);t3(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return(t=this.cellPositionFeature)===null||t===void 0?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,r){var o=this;if(r===void 0&&(r=null),!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startRowOrCellEdit(t,r)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,r)},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(ZOe,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(QOe,t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(XOe,r),r&&t&&t.forceBrowserFocus){var o=this.cellComp.getFocusableElement();o.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var i=this.beans.gridOptionsService.get("editType")==="fullRow";!r&&!i&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Nc(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(KOe,!0),this.cellComp.addOrRemoveCssClass(JOe,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(qOe,t),this.cellComp.addOrRemoveCssClass(YOe,!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(eIe,t)}},e.prototype.onColDefChanged=function(){var t,r;if(this.cellComp){var o=this.column.isAutoHeight();o!==this.isAutoHeight&&((t=this.rowCtrl)===null||t===void 0||t.refreshCell(this));var i=this.column.isTooltipEnabled();if(i?(this.disableTooltipFeature(),this.enableTooltipFeature(),(r=this.tooltipFeature)===null||r===void 0||r.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{var a=this.getCellEditor();if(a!=null&&a.refresh){var s=this.editCompDetails.params,l=s.eventKey,u=s.cellStartedEdit,c=this.createCellEditorParams(l,u),d=this.column.getColDef(),f=this.beans.userComponentFactory.getCellEditorDetails(d,c);a.refresh(f.params)}}}},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(tIe,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var r=this,o=this.column.getColDef(),i=this.createEvent(t,I.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),o.onCellContextMenu&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){o.onCellContextMenu(i)})},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],n.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new I3;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new $Oe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,r,o){var i=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,r);return}var a=this.createRowDragComp(t,r,o);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){i.beans.context.destroyBean(a),i.customRowDragComp=null}))},e.prototype.createRowDragComp=function(t,r,o){var i=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l){ze("managed row dragging is only allowed in the Client Side Row Model");return}if(a){ze("managed row dragging is not possible when doing pagination");return}}var u=new MI(function(){return i.value},this.rowNode,this.column,t,r,o);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(re),rIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oIe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W$=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},z$=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},va;(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"})(va||(va={}));var iIe=0,Jp=function(n){rIe(e,n);function e(t,r,o,i,a){var s=n.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=r,s.gridOptionsService=r.gridOptionsService,s.rowNode=t,s.paginationPage=r.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=i,s.printLayout=a,s.suppressRowTransform=s.gridOptionsService.get("suppressRowTransform"),s.instanceId=t.id+"-"+iIe++,s.rowId=ro(t.id),s.initRowBusinessKey(),s.rowFocused=r.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=r.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(o),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ro(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,r,o){var i={rowComp:t,element:r,containerType:o};this.allRowGuis.push(i),o===x.RowContainerType.LEFT?this.leftGui=i:o===x.RowContainerType.RIGHT?this.rightGui=i:o===x.RowContainerType.FULL_WIDTH?this.fullWidthGui=i:this.centerGui=i,this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter(function(r){return r.containerType!==t}),t){case x.RowContainerType.LEFT:this.leftGui=void 0;break;case x.RowContainerType.RIGHT:this.rightGui=void 0;break;case x.RowContainerType.FULL_WIDTH:this.fullWidthGui=void 0;break;case x.RowContainerType.CENTER:this.centerGui=void 0;break;default:}},e.prototype.isCacheable=function(){return this.rowType===va.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},e.prototype.setCached=function(t){var r=t?"none":"";this.allRowGuis.forEach(function(o){return o.element.style.display=r})},e.prototype.initialiseRowComp=function(t){var r=this,o=this.gridOptionsService;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var i=t.rowComp,a=this.getInitialRowClasses(t.containerType);a.forEach(function(s){return i.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&rf(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),o.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){r.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=ro(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var r=this,o=t.containerType,i=this.slideInAnimation[o];i&&(SB(function(){r.onTopChanged()}),this.slideInAnimation[o]=!1);var a=this.fadeInAnimation[o];a&&(SB(function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[o]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.get("enableRangeSelection")){ze("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var r=this.beans.localeService.getLocaleTextFunc(),o=new MI(function(){return"1 ".concat(r("rowDragRow","row"))},this.rowNode,void 0,t.element,void 0,!0),i=this.createBean(o,this.beans.context);this.rowDragComps.push(i)},e.prototype.setupFullWidth=function(t){var r=this.getPinnedForContainer(t.containerType),o=this.createFullWidthParams(t.element,r);if(!(this.rowType==va.FullWidthDetail&&!zt.__assertRegistered(x.ModuleNames.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var i;switch(this.rowType){case va.FullWidthDetail:i=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(o);break;case va.FullWidthGroup:i=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(o);break;case va.FullWidthLoading:i=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(o);break;default:i=this.beans.userComponentFactory.getFullWidthCellRendererDetails(o);break}t.rowComp.showFullWidth(i)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderers=function(){var t,r;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(o){var i;return(i=o==null?void 0:o.rowComp)===null||i===void 0?void 0:i.getFullWidthCellRenderer()}):[(r=(t=this.fullWidthGui)===null||t===void 0?void 0:t.rowComp)===null||r===void 0?void 0:r.getFullWidthCellRenderer()]},e.prototype.getCellElement=function(t){var r=this.getCellCtrl(t);return r?r.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!t||!this.areAllContainersReady())){var r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),r=!!this.centerGui,o=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&r&&o},e.prototype.setRowType=function(){var t=this.rowNode.stub,r=this.rowNode.isFullWidthCell(),o=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer,s=a&&this.gridOptionsService.isGroupUseEntireRow(i);t?this.rowType=va.FullWidthLoading:o?this.rowType=va.FullWidthDetail:r?this.rowType=va.FullWidth:s?this.rowType=va.FullWidthGroup:this.rowType=va.Normal},e.prototype.updateColumnLists=function(t,r){var o=this;if(t===void 0&&(t=!1),r===void 0&&(r=!1),!this.isFullWidth()){var i=t||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(i){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){o.active&&o.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,r,o){var i=this;o===void 0&&(o=null);var a={list:[],map:{}},s=function(l,u){a.list.push(u),a.map[l]=u};return r.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new Qp(l,i.rowNode,i.beans,i)),s(u,c)}),t.list.forEach(function(l){var u=a.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!i.isCellEligibleToBeRemoved(l,o);if(c){s(l.getColumn().getInstanceId(),l);return}l.destroy()}}),a},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var r=this;this.allRowGuis.forEach(function(o){var i=r.getCellCtrlsForContainer(o.containerType);o.rowComp.setCellCtrls(i,t)})},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case x.RowContainerType.LEFT:return this.leftCellCtrls.list;case x.RowContainerType.RIGHT:return this.rightCellCtrls.list;case x.RowContainerType.FULL_WIDTH:return[];case x.RowContainerType.CENTER:return this.centerCellCtrls.list;default:var r=t;throw new Error("Unhandled case: ".concat(r))}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var r=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);var o=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,"left");var i=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,r){var o=!0,i=!1,a=t.getColumn();if(a.getPinned()!=r)return o;var s=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=s||l;if(u){var c=t.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),f=d.indexOf(c)>=0;return f?i:o}return o},e.prototype.getDomOrder=function(){var t=this.gridOptionsService.get("ensureDomOrder");return t||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var r=this,o=function(){t.rowComp.setDomOrder(r.getDomOrder())};this.addManagedPropertyListener("domLayout",o),this.addManagedPropertyListener("ensureDomOrder",o)},e.prototype.setAnimateFlags=function(t){if(!(this.isSticky()||!t)){var r=te(this.rowNode.oldRowTop),o=this.beans.columnModel.isPinningLeft(),i=this.beans.columnModel.isPinningRight();if(r){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=o,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=o,this.fadeInAnimation.right=i}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.isFullWidth=function(){return this.rowType!==va.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,r=function(u,c){return u?u.rowComp.refreshFullWidth(function(){return t.createFullWidthParams(u.element,c)}):!0},o=r(this.fullWidthGui,null),i=r(this.centerGui,null),a=r(this.leftGui,"left"),s=r(this.rightGui,"right"),l=o&&i&&a&&s;return l},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,lt.EVENT_HEIGHT_CHANGED,function(){return t.onRowHeightChanged()}),this.addManagedListener(this.rowNode,lt.EVENT_ROW_SELECTED,function(){return t.onRowSelected()}),this.addManagedListener(this.rowNode,lt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,lt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,lt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,I.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,I.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,I.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,I.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,I.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,I.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,I.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(r,I.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){t.destroyBeans(t.rowDragComps,t.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var o=t.gridOptionsService.get("rowDragEntireRow");if(o){t.allRowGuis.forEach(function(i){t.addRowDraggerToRow(i)});return}t.destroyBeans(t.rowDragComps,t.beans.context),t.rowDragComps=[]}),this.addListenersForCellComps()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,lt.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(r){return r.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,lt.EVENT_CELL_CHANGED,function(r){t.getAllCellCtrls().forEach(function(o){return o.onCellChanged(r)})})},e.prototype.onRowNodeDataChanged=function(t){var r=this,o=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(o){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var i=this.refreshFullWidth();i||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.allRowGuis.forEach(function(a){r.setRowCompRowId(a.rowComp),r.updateRowBusinessKey(),r.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(r){var o=t===x.RowHighlightPosition.Above,i=t===x.RowHighlightPosition.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",o),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-group",t),o.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&r),o.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!r),rf(o.element,t&&r)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:Nc(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var r=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),o=r?r.element:null,i=o===t.target;if(i){var a=this.rowNode,s=this.beans.focusService.getFocusedCell(),l={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||du(t))){var r=this.allRowGuis.find(function(s){return s.element.contains(t.target)}),o=r?r.element:null,i=o===t.target,a=null;i||(a=this.beans.focusService.findNextFocusableElement(o,!1,t.shiftKey)),(this.isFullWidth()&&i||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var r,o=this.rowNode,i=t?this.isFullWidth()&&t.rowIndex===o.rowIndex&&t.rowPinned==o.rowPinned:!1,a=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)===null||r===void 0?void 0:r.element;a&&(a.classList.toggle("ag-full-width-focus",i),i&&a.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,r){var o={list:[],map:{}};return t.list.forEach(function(i){i!==r&&(o.list.push(i),o.map[i.getInstanceId()]=i)}),o},e.prototype.onMouseEvent=function(t,r){switch(t){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}},e.prototype.createRowEvent=function(t,r){return this.gridOptionsService.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})},e.prototype.createRowEventWithSource=function(t,r){var o=this.createRowEvent(t,r);return o.source=this,o},e.prototype.onRowDblClick=function(t){if(!du(t)){var r=this.createRowEventWithSource(I.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(r)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=bg(t.target,"ag-row-drag",3),!!this.isFullWidth()){var r=this.rowNode,o=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:o.getAllDisplayedColumns()[0],rowPinned:r.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var r=du(t)||this.lastMouseDownOnDragger;if(!r){var o=this.createRowEventWithSource(I.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(o);var i=t.ctrlKey||t.metaKey,a=t.shiftKey,s=this.gridOptionsService.get("groupSelectsChildren");if(!(s&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):i?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:t,source:c});else{var d=l?!1:!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:a,event:t,source:c})}}}},e.prototype.isRowSelectionBlocked=function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()},e.prototype.setupDetailRowAutoHeight=function(t){var r=this;if(this.rowType===va.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var o=function(){var a=t.clientHeight;if(a!=null&&a>0){var s=function(){r.rowNode.setRowHeight(a),r.beans.clientSideRowModel?r.beans.clientSideRowModel.onRowHeightChanged():r.beans.serverSideRowModel&&r.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},i=this.beans.resizeObserverService.observeResize(t,o);this.addDestroyFunc(i),o()}},e.prototype.createFullWidthParams=function(t,r){var o=this,i=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,u){return o.addFullWidthRowDragging(a,s,l,u)}});return i},e.prototype.addFullWidthRowDragging=function(t,r,o,i){if(o===void 0&&(o=""),!!this.isFullWidth()){var a=new MI(function(){return o},this.rowNode,void 0,t,r,i);this.createManagedBean(a,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var r="ag-row-level-"+t,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass(r,!0),i.rowComp.addOrRemoveCssClass(o,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass("ag-row-last",r)}))},e.prototype.stopEditing=function(t){var r,o;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var i=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=oIe(i),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(t);a&&!t&&!s&&d&&(s=!0)}}catch(p){r={error:p}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}if(s){var f=this.createRowEvent(I.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(f)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var r=t?this.createRowEvent(I.EVENT_ROW_EDITING_STARTED):this.createRowEvent(I.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)},e.prototype.startRowEditing=function(t,r,o){if(t===void 0&&(t=null),r===void 0&&(r=null),o===void 0&&(o=null),!this.editingRow){var i=this.getAllCellCtrls().reduce(function(a,s){var l=s===r;return l?s.startEditing(t,l,o):s.startEditing(null,l,o),a?!0:s.isEditing()},!1);i&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var t=z$(z$(z$([],W$(this.centerCellCtrls.list),!1),W$(this.leftCellCtrls.list),!1),W$(this.rightCellCtrls.list),!1);return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,r=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!r||!r.length||r.forEach(function(o){t.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(o,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(r){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(r,!0)})},function(r){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(r,!1)})})},e.prototype.setStylesFromGridOptions=function(t,r){var o=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,function(i){return i.rowComp.setUserStyles(o.rowStyles)})},e.prototype.getPinnedForContainer=function(t){var r=t===x.RowContainerType.LEFT?"left":t===x.RowContainerType.RIGHT?"right":null;return r},e.prototype.getInitialRowClasses=function(t){var r=this.getPinnedForContainer(t),o={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(o)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(!(t&&typeof t=="function")){var r=this.gridOptionsService.getCallback("getRowStyle"),o;if(r){var i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};o=r(i)}return o||t?Object.assign({},t,o):this.emptyStyle}},e.prototype.onRowSelected=function(t){var r=this,o=this.beans.gridOptionsService.getDocument(),i=!!this.rowNode.isSelected();this.forEachGui(t,function(a){a.rowComp.addOrRemoveCssClass("ag-row-selected",i),RC(a.element,i);var s=a.element.contains(o.activeElement);s&&(a===r.centerGui||a===r.fullWidthGui)&&r.announceDescription()})},e.prototype.announceDescription=function(){if(!this.isRowSelectionBlocked()){var t=this.rowNode.isSelected();if(!(t&&this.beans.gridOptionsService.get("suppressRowDeselection"))){var r=this.beans.localeService.getLocaleTextFunc(),o=r(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(t?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(o)}}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var r=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return r.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return r.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,lt.EVENT_MOUSE_ENTER,function(){!r.beans.dragService.isDragging()&&!r.gridOptionsService.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,lt.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover"),r.rowNode.setHovered(!1)}))},e.prototype.roundRowTopToBounds=function(t){var r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),o=this.applyPaginationOffset(r.top,!0)-100,i=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(o,t),i)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,r){t?r(t):this.allRowGuis.forEach(r)},e.prototype.onRowHeightChanged=function(t){if(this.rowNode.rowHeight!=null){var r=this.rowNode.rowHeight,o=this.beans.environment.getDefaultRowHeight(),i=this.gridOptionsService.isGetRowHeightFunction(),a=i?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(o,a)-2,"px"):void 0;this.forEachGui(t,function(l){l.element.style.height="".concat(r,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},e.prototype.addEventListener=function(t,r){n.prototype.addEventListener.call(this,t,r)},e.prototype.removeEventListener=function(t,r){n.prototype.removeEventListener.call(this,t,r)},e.prototype.destroyFirstPass=function(t){if(t===void 0&&(t=!1),this.active=!1,!t&&this.gridOptionsService.isAnimateRows()&&!this.isSticky()){var r=this.rowNode.rowTop!=null;if(r){var o=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}this.rowNode.setHovered(!1);var i=this.createRowEvent(I.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),n.prototype.destroy.call(this)},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var t=function(r){return r.list.forEach(function(o){return o.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var r=this;this.forEachGui(t,function(o){o.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),o.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,r){if(r===void 0&&(r=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return t;var o=this.beans.paginationProxy.getPixelOffset(),i=r?1:-1;return t+o*i},e.prototype.setRowTop=function(t){if(!this.printLayout&&te(t)){var r=this.applyPaginationOffset(t),o=this.rowNode.isRowPinned()||this.rowNode.sticky,i=o?r:this.beans.rowContainerHeightService.getRealPixelPosition(r),a="".concat(i,"px");this.setRowTopStyle(a)}},e.prototype.getInitialRowTop=function(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(t),")")},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var r;if(this.isSticky())r=this.rowNode.stickyRowTop;else{var o=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(o);r=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return r+"px"},e.prototype.setRowTopStyle=function(t){var r=this;this.allRowGuis.forEach(function(o){return r.suppressRowTransform?o.rowComp.setTop(t):o.rowComp.setTransform("translateY(".concat(t,")"))})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var r=null;return this.getAllCellCtrls().forEach(function(o){o.getColumn()==t&&(r=o)}),r!=null||this.getAllCellCtrls().forEach(function(o){o.getColSpanningList().indexOf(t)>=0&&(r=o)}),r},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var r=this.rowNode.getRowIndexString(),o=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),i=this.rowNode.rowIndex%2===0,a=o+this.rowNode.rowIndex+1;this.forEachGui(t,function(s){s.rowComp.setRowIndex(r),s.rowComp.addOrRemoveCssClass("ag-row-even",i),s.rowComp.addOrRemoveCssClass("ag-row-odd",!i),e3(s.element,a)})},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(re),aIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ts=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},sIe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},lIe=function(n){aIe(e,n);function e(t){var r=n.call(this)||this;return r.element=t,r}return e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",r=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,r)},e.prototype.addMouseListeners=function(){var t=this,r=UB("touchstart")?"touchstart":"mousedown",o=["dblclick","contextmenu","mouseover","mouseout","click",r];o.forEach(function(i){var a=t.processMouseEvent.bind(t,i);t.addManagedListener(t.element,i,a)})},e.prototype.processMouseEvent=function(t,r){if(!(!this.mouseEventService.isEventFromThisGrid(r)||du(r))){var o=this.getRowForEvent(r),i=this.mouseEventService.getRenderedCellForEvent(r);t==="contextmenu"?this.handleContextMenuMouseEvent(r,void 0,o,i):(i&&i.onMouseEvent(t,r),o&&o.onMouseEvent(t,r))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(af()){var r=new ei(this.element),o=function(i){var a=t.getRowForEvent(i.touchEvent),s=t.mouseEventService.getRenderedCellForEvent(i.touchEvent);t.handleContextMenuMouseEvent(void 0,i.touchEvent,a,s)};this.addManagedListener(r,ei.EVENT_LONG_TAP,o),this.addDestroyFunc(function(){return r.destroy()})}},e.prototype.getRowForEvent=function(t){for(var r=t.target;r;){var o=this.gridOptionsService.getDomData(r,Jp.DOM_DATA_KEY_ROW_CTRL);if(o)return o;r=r.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,r,o,i){var a=o?o.getRowNode():null,s=i?i.getColumn():null,l=null;if(s){var u=t||r;i.dispatchCellContextMenuEvent(u!=null?u:null),l=this.valueService.getValue(s,a)}var c=this.ctrlsService.getGridBodyCtrl(),d=i?i.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:r,rowNode:a,column:s,value:l,anchorToElement:d})},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:RI(this.gridOptionsService,t,Qp.DOM_DATA_KEY_CELL_CTRL),rowCtrl:RI(this.gridOptionsService,t,Jp.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,r){var o=this.getControlsForEventTarget(r.target),i=o.cellCtrl,a=o.rowCtrl;r.defaultPrevented||(i?this.processCellKeyboardEvent(i,t,r):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,t,r))},e.prototype.processCellKeyboardEvent=function(t,r,o){var i=t.getRowNode(),a=t.getColumn(),s=t.isEditing(),l=!II(this.gridOptionsService,o,i,a,s);if(l&&r==="keydown"){var u=!s&&this.navigationService.handlePageScrollingKey(o);u||t.onKeyDown(o),this.doGridOperations(o,t.isEditing()),XI(o)&&t.processCharacter(o)}if(r==="keydown"){var c=t.createEvent(o,I.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,r,o){var i=t.getRowNode(),a=this.focusService.getFocusedCell(),s=a&&a.column,l=!II(this.gridOptionsService,o,i,s,!1);if(l){var u=o.key;if(r==="keydown")switch(u){case j.PAGE_HOME:case j.PAGE_END:case j.PAGE_UP:case j.PAGE_DOWN:this.navigationService.handlePageScrollingKey(o,!0);break;case j.UP:case j.DOWN:t.onKeyboardNavigate(o);break;case j.TAB:t.onTabKeyDown(o);break;default:}}if(r==="keydown"){var c=t.createRowEvent(I.EVENT_CELL_KEY_DOWN,o);this.eventService.dispatchEvent(c)}},e.prototype.doGridOperations=function(t,r){if(!(!t.ctrlKey&&!t.metaKey)&&!r&&this.mouseEventService.isEventFromThisGrid(t)){var o=pte(t);if(o===j.A)return this.onCtrlAndA(t);if(o===j.C)return this.onCtrlAndC(t);if(o===j.D)return this.onCtrlAndD(t);if(o===j.V)return this.onCtrlAndV(t);if(o===j.X)return this.onCtrlAndX(t);if(o===j.Y)return this.onCtrlAndY();if(o===j.Z)return this.onCtrlAndZ(t)}},e.prototype.onCtrlAndA=function(t){var r=this,o=r.pinnedRowModel,i=r.paginationProxy,a=r.rangeService;if(a&&i.isRowsToRender()){var s=sIe([o.isEmpty("top"),o.isEmpty("bottom")],2),l=s[0],u=s[1],c=l?null:"top",d=void 0,f=void 0;u?(d=null,f=this.paginationProxy.getRowCount()-1):(d="bottom",f=o.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(os(p))return;a.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:f,rowEndPinned:d,columnStart:p[0],columnEnd:Vt(p)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var r=this.getControlsForEventTarget(t.target),o=r.cellCtrl,i=r.rowCtrl;o!=null&&o.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var r=this.getControlsForEventTarget(t.target),o=r.cellCtrl,i=r.rowCtrl;o!=null&&o.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var r=this.getControlsForEventTarget(t.target),o=r.cellCtrl,i=r.rowCtrl;o!=null&&o.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},ts([P("mouseEventService")],e.prototype,"mouseEventService",void 0),ts([P("valueService")],e.prototype,"valueService",void 0),ts([P("menuService")],e.prototype,"menuService",void 0),ts([P("ctrlsService")],e.prototype,"ctrlsService",void 0),ts([P("navigationService")],e.prototype,"navigationService",void 0),ts([P("focusService")],e.prototype,"focusService",void 0),ts([P("undoRedoService")],e.prototype,"undoRedoService",void 0),ts([P("columnModel")],e.prototype,"columnModel",void 0),ts([P("paginationProxy")],e.prototype,"paginationProxy",void 0),ts([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ts([Ot("rangeService")],e.prototype,"rangeService",void 0),ts([Ot("clipboardService")],e.prototype,"clipboardService",void 0),ts([se],e.prototype,"postConstruct",null),e}(re),uIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},wJ=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},SJ=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},cIe=function(n){uIe(e,n);function e(t){var r=n.call(this)||this;return r.centerContainerCtrl=t,r}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,I.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){t.checkViewportAndScrolls()})},e.prototype.listenForResize=function(){var t=this,r=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),r=Tg(t);if(!(r<=50)){var o=this.getPinnedColumnsOverflowingViewport(r-50),i=this.gridOptionsService.getCallback("processUnpinnedColumns");if(o.length){if(i){var a={columns:o,viewportWidth:r};o=i(a)}this.columnModel.setColumnsPinned(o,null,"viewportSizeFeature")}}},e.prototype.getPinnedColumnsOverflowingViewport=function(t){var r=this.pinnedWidthService.getPinnedRightWidth(),o=this.pinnedWidthService.getPinnedLeftWidth(),i=r+o;if(i<t)return[];for(var a=SJ([],wJ(this.columnModel.getDisplayedLeftColumns()),!1),s=SJ([],wJ(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],f=i-c-t;(u<a.length||l<s.length)&&f>0;){if(l<s.length){var p=s[l++];f-=p.getActualWidth(),d.push(p)}if(u<a.length&&f>0){var p=a[u++];f-=p.getActualWidth(),d.push(p)}}return d},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),r=fE(t);if(this.bodyHeight!==r){this.bodyHeight=r;var o={type:I.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(o)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),r=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,r)},L_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),L_([P("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),L_([P("columnModel")],e.prototype,"columnModel",void 0),L_([P("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),L_([se],e.prototype,"postConstruct",null),e}(re),dIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},fIe=function(n){dIe(e,n);function e(t){var r=n.call(this)||this;return r.element=t,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),r=t>0;It(this.element,r),cl(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},bJ([P("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),bJ([se],e.prototype,"postConstruct",null),e}(re),pIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_J=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},hIe=function(n){pIe(e,n);function e(t){var r=n.call(this)||this;return r.element=t,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),r=t>0;It(this.element,r),cl(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},_J([P("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),_J([se],e.prototype,"postConstruct",null),e}(re),mIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),EJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},tne=function(n){mIe(e,n);function e(t,r){var o=n.call(this)||this;return o.eContainer=t,o.eViewport=r,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),r=t!=null?"".concat(t,"px"):"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)},EJ([P("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),EJ([se],e.prototype,"postConstruct",null),e}(re),gIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),U$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},vIe=function(n){gIe(e,n);function e(t){var r=n.call(this)||this;return r.eContainer=t,r}return e.prototype.postConstruct=function(){var t=this;if(!Ke(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(o){var i=o.currentValue;if(i){t.enableFeature();return}t.disableFeature()}),this.addDestroyFunc(function(){return t.disableFeature()});var r=this.gridOptionsService.get("enableRangeSelection");r&&this.enableFeature()}},e.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},e.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},U$([Ot("rangeService")],e.prototype,"rangeService",void 0),U$([P("dragService")],e.prototype,"dragService",void 0),U$([se],e.prototype,"postConstruct",null),e}(re),yIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),j$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},k3=function(n){yIe(e,n);function e(t,r){r===void 0&&(r=!1);var o=n.call(this)||this;return o.callback=t,o.addSpacer=r,o}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,I.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,r=this.gridOptionsService.isDomLayout("print"),o=t.getBodyContainerWidth(),i=t.getDisplayedColumnsLeftWidth(),a=t.getDisplayedColumnsRightWidth(),s;if(r)s=o+i+a;else if(s=o,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?i:a;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())}this.callback(s)},j$([P("columnModel")],e.prototype,"columnModel",void 0),j$([P("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),j$([se],e.prototype,"postConstruct",null),e}(re),CIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ZO=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},QO=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))};(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.STICKY_TOP_LEFT="stickyTopLeft",n.STICKY_TOP_RIGHT="stickyTopRight",n.STICKY_TOP_CENTER="stickyTopCenter",n.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth"})(x.RowContainerName||(x.RowContainerName={}));(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth"})(x.RowContainerType||(x.RowContainerType={}));function nne(n){switch(n){case x.RowContainerName.CENTER:case x.RowContainerName.TOP_CENTER:case x.RowContainerName.STICKY_TOP_CENTER:case x.RowContainerName.BOTTOM_CENTER:return x.RowContainerType.CENTER;case x.RowContainerName.LEFT:case x.RowContainerName.TOP_LEFT:case x.RowContainerName.STICKY_TOP_LEFT:case x.RowContainerName.BOTTOM_LEFT:return x.RowContainerType.LEFT;case x.RowContainerName.RIGHT:case x.RowContainerName.TOP_RIGHT:case x.RowContainerName.STICKY_TOP_RIGHT:case x.RowContainerName.BOTTOM_RIGHT:return x.RowContainerType.RIGHT;case x.RowContainerName.FULL_WIDTH:case x.RowContainerName.TOP_FULL_WIDTH:case x.RowContainerName.STICKY_TOP_FULL_WIDTH:case x.RowContainerName.BOTTOM_FULL_WIDTH:return x.RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var wIe=Yp([[x.RowContainerName.CENTER,"ag-center-cols-container"],[x.RowContainerName.LEFT,"ag-pinned-left-cols-container"],[x.RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[x.RowContainerName.FULL_WIDTH,"ag-full-width-container"],[x.RowContainerName.TOP_CENTER,"ag-floating-top-container"],[x.RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[x.RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[x.RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[x.RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-container"],[x.RowContainerName.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[x.RowContainerName.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[x.RowContainerName.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[x.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[x.RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[x.RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[x.RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),SIe=Yp([[x.RowContainerName.CENTER,"ag-center-cols-viewport"],[x.RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[x.RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[x.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),V3=function(n){CIe(e,n);function e(t){var r=n.call(this)||this;return r.visible=!0,r.EMPTY_CTRLS=[],r.name=t,r.isFullWithContainer=r.name===x.RowContainerName.TOP_FULL_WIDTH||r.name===x.RowContainerName.STICKY_TOP_FULL_WIDTH||r.name===x.RowContainerName.BOTTOM_FULL_WIDTH||r.name===x.RowContainerName.FULL_WIDTH,r}return e.getRowContainerCssClasses=function(t){var r=wIe.get(t),o=SIe.get(t);return{container:r,viewport:o}},e.getPinned=function(t){switch(t){case x.RowContainerName.BOTTOM_LEFT:case x.RowContainerName.TOP_LEFT:case x.RowContainerName.STICKY_TOP_LEFT:case x.RowContainerName.LEFT:return"left";case x.RowContainerName.BOTTOM_RIGHT:case x.RowContainerName.TOP_RIGHT:case x.RowContainerName.STICKY_TOP_RIGHT:case x.RowContainerName.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([x.RowContainerName.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new cIe(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case x.RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case x.RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case x.RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case x.RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case x.RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case x.RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case x.RowContainerName.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case x.RowContainerName.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case x.RowContainerName.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case x.RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case x.RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case x.RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,r){t.indexOf(this.name)>=0&&r()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,r,o){var i=this;this.comp=t,this.eContainer=r,this.eViewport=o,this.createManagedBean(new lIe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[x.RowContainerName.TOP_CENTER,x.RowContainerName.TOP_LEFT,x.RowContainerName.TOP_RIGHT],s=[x.RowContainerName.STICKY_TOP_CENTER,x.RowContainerName.STICKY_TOP_LEFT,x.RowContainerName.STICKY_TOP_RIGHT],l=[x.RowContainerName.BOTTOM_CENTER,x.RowContainerName.BOTTOM_LEFT,x.RowContainerName.BOTTOM_RIGHT],u=[x.RowContainerName.CENTER,x.RowContainerName.LEFT,x.RowContainerName.RIGHT],c=QO(QO(QO(QO([],ZO(a),!1),ZO(l),!1),ZO(u),!1),ZO(s),!1),d=[x.RowContainerName.CENTER,x.RowContainerName.LEFT,x.RowContainerName.RIGHT,x.RowContainerName.FULL_WIDTH],f=[x.RowContainerName.CENTER,x.RowContainerName.TOP_CENTER,x.RowContainerName.STICKY_TOP_CENTER,x.RowContainerName.BOTTOM_CENTER],p=[x.RowContainerName.LEFT,x.RowContainerName.BOTTOM_LEFT,x.RowContainerName.TOP_LEFT,x.RowContainerName.STICKY_TOP_LEFT],h=[x.RowContainerName.RIGHT,x.RowContainerName.BOTTOM_RIGHT,x.RowContainerName.TOP_RIGHT,x.RowContainerName.STICKY_TOP_RIGHT];this.forContainers(p,function(){i.pinnedWidthFeature=i.createManagedBean(new fIe(i.eContainer)),i.addManagedListener(i.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return i.onPinnedWidthChanged()})}),this.forContainers(h,function(){i.pinnedWidthFeature=i.createManagedBean(new hIe(i.eContainer)),i.addManagedListener(i.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return i.onPinnedWidthChanged()})}),this.forContainers(d,function(){return i.createManagedBean(new tne(i.eContainer,i.name===x.RowContainerName.CENTER?o:void 0))}),this.forContainers(c,function(){return i.createManagedBean(new vIe(i.eContainer))}),this.forContainers(f,function(){return i.createManagedBean(new k3(function(m){return i.comp.setContainerWidth("".concat(m,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_ROWS_CHANGED,function(r){return t.onDisplayedRowsChanged(r.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,r=[x.RowContainerName.STICKY_TOP_CENTER,x.RowContainerName.STICKY_TOP_LEFT,x.RowContainerName.STICKY_TOP_RIGHT,x.RowContainerName.STICKY_TOP_FULL_WIDTH],o=r.indexOf(this.name)>=0;if(o){this.comp.setDomOrder(!0);return}var i=function(){var a=t.gridOptionsService.get("ensureDomOrder"),s=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",i),i()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([x.RowContainerName.TOP_CENTER,x.RowContainerName.STICKY_TOP_CENTER,x.RowContainerName.BOTTOM_CENTER],function(){var r=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",r)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([x.RowContainerName.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([x.RowContainerName.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.addPreventScrollWhileDragging=function(){var t=this,r=function(o){t.dragService.isDragging()&&o.cancelable&&o.preventDefault()};this.eContainer.addEventListener("touchmove",r,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",r)})},e.prototype.onHorizontalViewportChanged=function(t){t===void 0&&(t=!1);var r=this.getCenterWidth(),o=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,o,t)},e.prototype.getCenterWidth=function(){return Tg(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return lE(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var r=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return r()})},e.prototype.isViewportInTheDOMTree=function(){return h3(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return lE(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowHorizontalScroll");return t||ate(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX(".concat(t,"px)")},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){uE(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){var t=e.getPinned(this.name);return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())},e.prototype.onDisplayedRowsChanged=function(t){var r=this;if(t===void 0&&(t=!1),!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}var o=this.gridOptionsService.isDomLayout("print"),i=this.gridOptionsService.get("embedFullWidthRows"),a=i||o,s=this.getRowCtrls().filter(function(l){var u=l.isFullWidth(),c=r.isFullWithContainer?!a&&u:a||!u;return c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:t})},e.prototype.getRowCtrls=function(){switch(this.name){case x.RowContainerName.TOP_CENTER:case x.RowContainerName.TOP_LEFT:case x.RowContainerName.TOP_RIGHT:case x.RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case x.RowContainerName.STICKY_TOP_CENTER:case x.RowContainerName.STICKY_TOP_LEFT:case x.RowContainerName.STICKY_TOP_RIGHT:case x.RowContainerName.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case x.RowContainerName.BOTTOM_CENTER:case x.RowContainerName.BOTTOM_LEFT:case x.RowContainerName.BOTTOM_RIGHT:case x.RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},hC([P("dragService")],e.prototype,"dragService",void 0),hC([P("ctrlsService")],e.prototype,"ctrlsService",void 0),hC([P("columnModel")],e.prototype,"columnModel",void 0),hC([P("resizeObserverService")],e.prototype,"resizeObserverService",void 0),hC([P("rowRenderer")],e.prototype,"rowRenderer",void 0),hC([se],e.prototype,"postConstruct",null),e}(re),bIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ef=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},_Ie=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(x.RowContainerName.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(x.RowContainerName.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(x.RowContainerName.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(x.RowContainerName.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(x.RowContainerName.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(x.RowContainerName.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(x.RowContainerName.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(x.RowContainerName.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(x.RowContainerName.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(x.RowContainerName.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(x.RowContainerName.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(x.RowContainerName.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(x.RowContainerName.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(x.RowContainerName.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(x.RowContainerName.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(x.RowContainerName.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),rne=function(n){bIe(e,n);function e(){return n.call(this,_Ie)||this}return e.prototype.init=function(){var t=this,r=function(i,a){var s="".concat(i,"px");a.style.minHeight=s,a.style.height=s},o={setRowAnimationCssOnBodyViewport:function(i,a){return t.setRowAnimationCssOnBodyViewport(i,a)},setColumnCount:function(i){return Kee(t.getGui(),i)},setRowCount:function(i){return jee(t.getGui(),i)},setTopHeight:function(i){return r(i,t.eTop)},setBottomHeight:function(i){return r(i,t.eBottom)},setTopDisplay:function(i){return t.eTop.style.display=i},setBottomDisplay:function(i){return t.eBottom.style.display=i},setStickyTopHeight:function(i){return t.eStickyTop.style.height=i},setStickyTopTop:function(i){return t.eStickyTop.style.top=i},setStickyTopWidth:function(i){return t.eStickyTop.style.width=i},setColumnMovingCss:function(i,a){return t.addOrRemoveCssClass(i,a)},updateLayoutClasses:function(i,a){var s=[t.eBodyViewport.classList,t.eBody.classList];s.forEach(function(l){l.toggle(x.LayoutCssClasses.AUTO_HEIGHT,a.autoHeight),l.toggle(x.LayoutCssClasses.NORMAL,a.normal),l.toggle(x.LayoutCssClasses.PRINT,a.print)}),t.addOrRemoveCssClass(x.LayoutCssClasses.AUTO_HEIGHT,a.autoHeight),t.addOrRemoveCssClass(x.LayoutCssClasses.NORMAL,a.normal),t.addOrRemoveCssClass(x.LayoutCssClasses.PRINT,a.print)},setAlwaysVerticalScrollClass:function(i,a){return t.eBodyViewport.classList.toggle(Jte,a)},registerBodyViewportResizeListener:function(i){var a=t.resizeObserverService.observeResize(t.eBodyViewport,i);t.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(i){return t.eTop.style.overflowY=t.eBottom.style.overflowY=i},setCellSelectableCss:function(i,a){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(s){return s.classList.toggle(i,a)})},setBodyViewportWidth:function(i){return t.eBodyViewport.style.width=i}};this.ctrl=this.createManagedBean(new ene),this.ctrl.setComp(o,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&Uee(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,r){var o=this.eBodyViewport.classList;o.toggle(x.RowAnimationCssClasses.ANIMATION_ON,r),o.toggle(x.RowAnimationCssClasses.ANIMATION_OFF,!r)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},ef([P("resizeObserverService")],e.prototype,"resizeObserverService",void 0),ef([Ot("rangeService")],e.prototype,"rangeService",void 0),ef([he("eBodyViewport")],e.prototype,"eBodyViewport",void 0),ef([he("eStickyTop")],e.prototype,"eStickyTop",void 0),ef([he("eTop")],e.prototype,"eTop",void 0),ef([he("eBottom")],e.prototype,"eBottom",void 0),ef([he("gridHeader")],e.prototype,"headerRootComp",void 0),ef([he("eBody")],e.prototype,"eBody",void 0),ef([se],e.prototype,"init",null),e}(rt),EIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JO=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},one=function(n){EIe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){var t=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(function(){t.columnAnimationService.executeLaterVMTurn(function(){return t.updateImpl()})}):this.updateImpl()},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(!(!t||this.columnAnimationService.isActive())){var r={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(r)}},e.prototype.setScrollsVisible=function(t){var r=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(r){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var o={type:I.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(o)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},JO([P("ctrlsService")],e.prototype,"ctrlsService",void 0),JO([P("columnAnimationService")],e.prototype,"columnAnimationService",void 0),JO([se],e.prototype,"postConstruct",null),e=JO([be("scrollVisibleService")],e),e}(re),xIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ine=function(n){xIe(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.gridInstanceId=t.gridInstanceSequence.next(),r}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(r){r[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(r){return RI(this.gridOptionsService,r.target,Qp.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(r){var o=this.isElementInThisGrid(r.target);return o},e.prototype.isElementInThisGrid=function(r){for(var o=r;o;){var i=o[t.GRID_DOM_KEY];if(te(i)){var a=i===this.gridInstanceId;return a}o=o.parentElement}return!1},e.prototype.getCellPositionForEvent=function(r){var o=this.getRenderedCellForEvent(r);return o?o.getCellPosition():null},e.prototype.getNormalisedPosition=function(r){var o=this.gridOptionsService.isDomLayout("normal"),i=r,a,s;if(i.clientX!=null||i.clientY!=null?(a=i.clientX,s=i.clientY):(a=i.x,s=i.y),o){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();a+=c.left,s+=u.top}return{x:a,y:s}};var t;return e.gridInstanceSequence=new Rg,e.GRID_DOM_KEY="__ag_grid_instance",xJ([P("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=xJ([be("mouseEventService")],e),e}(re),DIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VI=function(){return VI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},VI.apply(this,arguments)},fa=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ane=function(n){DIe(e,n);function e(){var t=n.call(this)||this;return t.onPageDown=bB(t.onPageDown,100),t.onPageUp=bB(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(r){t.gridBodyCon=r.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t,r){r===void 0&&(r=!1);var o=t.key,i=t.altKey,a=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,l=this.mouseEventService.getCellPositionForEvent(t),u=!1;switch(o){case j.PAGE_HOME:case j.PAGE_END:!a&&!i&&(this.onHomeOrEndKey(o),u=!0);break;case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:if(!l)return!1;a&&!i&&!s&&(this.onCtrlUpDownLeftRight(o,l),u=!0);break;case j.PAGE_DOWN:case j.PAGE_UP:!a&&!i&&(u=this.handlePageUpDown(o,l,r));break}return u&&t.preventDefault(),u},e.prototype.handlePageUpDown=function(t,r,o){return o&&(r=this.focusService.getFocusedCell()),r?(t===j.PAGE_UP?this.onPageUp(r):this.onPageDown(r),!0):!1},e.prototype.navigateTo=function(t){var r=t.scrollIndex,o=t.scrollType,i=t.scrollColumn,a=t.focusIndex,s=t.focusColumn;if(te(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),te(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,o),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:a,rowPinned:null,column:s};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var r=this.ctrlsService.getGridBodyCtrl(),o=r.getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),s=o.top+i,l=this.paginationProxy.getRowIndexAtPixel(s+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var r=this.ctrlsService.getGridBodyCtrl(),o=r.getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),a=o.top,s=this.paginationProxy.getRowIndexAtPixel(a+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,s,!0):this.navigateToNextPage(t,s,!0)},e.prototype.navigateToNextPage=function(t,r,o){o===void 0&&(o=!1);var i=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),c=o?(u==null?void 0:u.rowHeight)-i-l:i-l,d=(u==null?void 0:u.rowTop)+c,f=this.paginationProxy.getRowIndexAtPixel(d+l);if(f===t.rowIndex){var p=o?-1:1;r=f=t.rowIndex+p}var h;o?(h="bottom",f<a&&(f=a),r<a&&(r=a)):(h="top",f>s&&(f=s),r>s&&(r=s)),this.isRowTallerThanView(f)&&(r=f,h="top"),this.navigateTo({scrollIndex:r,scrollType:h,scrollColumn:null,focusIndex:f,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,r,o){var i=this;o===void 0&&(o=!1),this.navigateTo({scrollIndex:r,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:t.column}),setTimeout(function(){var a=i.getNextFocusIndexForAutoHeight(t,o);i.navigateTo({scrollIndex:r,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,r){var o;r===void 0&&(r=!1);for(var i=r?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=s;){var c=this.paginationProxy.getRow(u);if(c){var d=(o=c.rowHeight)!==null&&o!==void 0?o:0;if(l+d>a)break;l+=d}u+=i}return Math.max(0,Math.min(u,s))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),r=t.getScrollFeature().getVScrollPosition(),o=this.gridOptionsService.getScrollbarWidth(),i=r.bottom-r.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=o),i},e.prototype.isRowTallerThanView=function(t){var r=this.paginationProxy.getRow(t);if(!r)return!1;var o=r.rowHeight;return typeof o!="number"?!1:o>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,r){var o=this.cellNavigationService.getNextCellToFocus(t,r,!0),i=o.rowIndex,a=o.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:a,focusIndex:i,focusColumn:a})},e.prototype.onHomeOrEndKey=function(t){var r=t===j.PAGE_HOME,o=this.columnModel.getAllDisplayedColumns(),i=r?o[0]:Vt(o),a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:i,focusIndex:a,focusColumn:i})},e.prototype.onTabKeyDown=function(t,r){var o=r.shiftKey,i=this.tabToNextCellCommon(t,o,r);if(i){r.preventDefault();return}if(o){var a=t.getRowPosition(),s=a.rowIndex,l=a.rowPinned,u=l?s===0:s===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(r.preventDefault(),this.focusService.focusPreviousFromFirstCell(r)))}else t instanceof Qp&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(o)&&r.preventDefault()},e.prototype.tabToNextCell=function(t,r){var o=this.focusService.getFocusedCell();if(!o)return!1;var i=this.getCellByPosition(o);return!i&&(i=this.rowRenderer.getRowByPosition(o),!i||!i.isFullWidth())?!1:this.tabToNextCellCommon(i,t,r)},e.prototype.tabToNextCellCommon=function(t,r,o){var i=t.isEditing();if(!i&&t instanceof Qp){var a=t,s=a.getRowCtrl();s&&(i=s.isEditing())}var l;return i?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(t,r,o):l=this.moveToNextEditingCell(t,r,o):l=this.moveToNextCellNotEditing(t,r),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,r,o){o===void 0&&(o=null);var i=t.getCellPosition();t.getGui().focus(),t.stopEditing();var a=this.findNextCellToFocusOn(i,r,!0);return a==null?!1:(a.startEditing(null,!0,o),a.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,r,o){o===void 0&&(o=null);var i=t.getCellPosition(),a=this.findNextCellToFocusOn(i,r,!0);if(a==null)return!1;var s=a.getCellPosition(),l=this.isCellEditable(i),u=this.isCellEditable(s),c=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var d=t.getRowCtrl();d.stopEditing();var f=a.getRowCtrl();f.startRowEditing(void 0,void 0,o)}return u?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,r){var o=this.columnModel.getAllDisplayedColumns(),i;t instanceof Jp?i=VI(VI({},t.getRowPosition()),{column:r?o[0]:Vt(o)}):i=t.getCellPosition();var a=this.findNextCellToFocusOn(i,r,!1);if(a instanceof Qp)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),r);return te(a)},e.prototype.findNextCellToFocusOn=function(t,r,o){for(var i=t;;){t!==i&&(t=i),r||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,r);var a=this.gridOptionsService.getCallback("tabToNextCell");if(te(a)){var s={backwards:r,editing:o,previousCellPosition:t,nextCellPosition:i||null},l=a(s);te(l)?(l.floating&&(ze("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),i={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+i.rowIndex,column:i.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(o&&!c){var d=this.isCellEditable(i);if(!d)continue}this.ensureCellVisible(i);var f=this.getCellByPosition(i);if(!f){var p=this.rowRenderer.getRowByPosition(i);if(!p||!p.isFullWidth()||o)continue;return p}if(!f.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),f}},e.prototype.isCellEditable=function(t){var r=this.lookupRowNodeForCell(t);return r?t.column.isCellEditable(r):!1},e.prototype.getCellByPosition=function(t){var r=this.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,r,o,i){for(var a=o,s=!1;a&&(a===o||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?r===j.LEFT&&(a=this.getLastCellOfColSpan(a)):r===j.RIGHT&&(a=this.getLastCellOfColSpan(a)),a=this.cellNavigationService.getNextCellToFocus(r,a),s=Ke(a);if(s&&t&&t.key===j.UP&&(a={rowIndex:-1,rowPinned:null,column:o.column}),i){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(te(l)){var u={key:r,previousCellPosition:o,nextCellPosition:a||null,event:t},c=l(u);te(c)?(c.floating&&(ze("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),a={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:o.column},event:t||void 0,fromCell:!0});return}var f=this.getNormalisedPosition(a);f?this.focusPosition(f):this.tryToFocusFullWidthRow(a)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var r=this.getCellByPosition(t);return r?(t=r.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,r){r===void 0&&(r=!1);var o=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(t);if(!i||!i.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(r?Vt(o):o[0])};this.focusPosition(s);var l=a!=null?this.rowPositionUtils.before(s,a):!1,u={type:I.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var r=this.rowPositionUtils.getRowNode(t);return!!r},e.prototype.getLastCellOfColSpan=function(t){var r=this.getCellByPosition(t);if(!r)return t;var o=r.getColSpanningList();return o.length===1?t:{rowIndex:t.rowIndex,column:Vt(o),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var r=this.gridOptionsService.isGroupRowsSticky(),o=this.rowModel.getRow(t.rowIndex),i=r&&(o==null?void 0:o.sticky);!i&&Ke(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},fa([P("mouseEventService")],e.prototype,"mouseEventService",void 0),fa([P("paginationProxy")],e.prototype,"paginationProxy",void 0),fa([P("focusService")],e.prototype,"focusService",void 0),fa([Ot("rangeService")],e.prototype,"rangeService",void 0),fa([P("columnModel")],e.prototype,"columnModel",void 0),fa([P("rowModel")],e.prototype,"rowModel",void 0),fa([P("ctrlsService")],e.prototype,"ctrlsService",void 0),fa([P("rowRenderer")],e.prototype,"rowRenderer",void 0),fa([P("headerNavigationService")],e.prototype,"headerNavigationService",void 0),fa([P("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),fa([P("cellNavigationService")],e.prototype,"cellNavigationService",void 0),fa([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),fa([se],e.prototype,"postConstruct",null),e=fa([be("navigationService")],e),e}(re),RIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TIe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},sne=function(n){RIe(e,n);function e(t){var r=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=t,r}return e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,r=this.getGui(),o=this.params,i=function(a){II(t.gridOptionsService,a,o.node,o.column,!0)||o.onKeyDown(a)};this.addManagedListener(r,"keydown",i)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",TIe([se],e.prototype,"postConstruct",null),e}(ih),PIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lne=function(n){PIe(e,n);function e(t,r,o,i,a){var s=n.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=t,s.column=r.getColumn(),s.rowNode=r.getRowNode(),s.rowCtrl=r.getRowCtrl(),s.eRow=i,s.cellCtrl=r;var l=document.createElement("div");l.setAttribute("comp-id","".concat(s.getCompId())),s.setTemplateFromElement(l);var u=s.getGui();s.forceWrapper=r.isForceWrapper(),s.refreshWrapper(!1);var c=function(p,h){h!=null&&h!=""?u.setAttribute(p,h):u.removeAttribute(p)};oo(u,r.getCellAriaRole()),c("col-id",r.getColumnIdSanitised());var d=r.getTabIndex();d!==void 0&&c("tabindex",d.toString());var f={addOrRemoveCssClass:function(p,h){return s.addOrRemoveCssClass(p,h)},setUserStyles:function(p){return v3(u,p)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(p){return s.includeSelection=p},setIncludeRowDrag:function(p){return s.includeRowDrag=p},setIncludeDndSource:function(p){return s.includeDndSource=p},setRenderDetails:function(p,h,m){return s.setRenderDetails(p,h,m)},setEditDetails:function(p,h,m){return s.setEditDetails(p,h,m)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return r.setComp(f,s.getGui(),s.eCellWrapper,o,a),s}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,r,o){var i=this.cellEditor&&!this.cellEditorPopupWrapper;if(!i){this.firstRender=this.firstRender==null;var a=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t){var s=o||a,l=s?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(r)}},e.prototype.setEditDetails=function(t,r,o){t?this.createCellEditorInstance(t,r,o):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection,o=r||this.forceWrapper,i=o&&this.eCellWrapper==null;if(i){var a=document.createElement("div");a.setAttribute("role","presentation"),a.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=a,this.getGui().appendChild(this.eCellWrapper)}var s=!o&&this.eCellWrapper!=null;s&&(Ac(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!o);var l=!t&&o,u=l&&this.eCellValue==null;if(u){var c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&this.eCellValue!=null;d&&(Ac(this.eCellValue),this.eCellValue=void 0);var f=i||s||u||d;return f&&this.removeControls(),t||r&&this.addControls(),f},e.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,r,o){var i=this,a=this.editorVersion,s=t.newAgStackInstance();if(s){var l=t.params;s.then(function(c){return i.afterCellEditorCreated(a,c,l,r,o)});var u=Ke(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var r=this.getParentOfValue();wo(r);var o=t!=null?ro(t,!0):null;o!=null&&(r.textContent=o)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),Ac(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Ac(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var r=this.cellRenderer.refresh(t.params);return r===!0||r===void 0},e.prototype.createCellRendererInstance=function(t){var r=this,o=this.beans.gridOptionsService.get("suppressAnimationFrame"),i=!o,a=this.rendererVersion,s=t.componentClass,l=function(){var u=r.rendererVersion!==a||!r.isAlive();if(!u){var c=t.newAgStackInstance(),d=r.afterCellRendererCreated.bind(r,a,s);c&&c.then(d)}};i&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,r,o){var i=!this.isAlive()||t!==this.rendererVersion;if(i){this.beans.context.destroyBean(o);return}if(this.cellRenderer=o,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var a=this.getParentOfValue();wo(a),a.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,r,o,i,a){var s=t!==this.editorVersion;if(s){this.beans.context.destroyBean(r);return}var l=r.isCancelBeforeStart&&r.isCancelBeforeStart();if(l){this.beans.context.destroyBean(r),this.cellCtrl.stopEditing(!0);return}if(!r.getGui){this.beans.context.destroyBean(r);return}this.cellEditor=r,this.cellEditorGui=r.getGui();var u=i||r.isPopup!==void 0&&r.isPopup();u?this.addPopupCellEditor(o,a):this.addInCellEditor(),this.refreshEditStyles(!0,u),r.afterGuiAttached&&r.afterGuiAttached()},e.prototype.refreshEditStyles=function(t,r){var o;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!r),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!r),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!r),(o=this.rowCtrl)===null||o===void 0||o.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),r=this.beans.gridOptionsService.getDocument();if(t.contains(r.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var o=this.getParentOfValue();o.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,r){var o=this;this.beans.gridOptionsService.get("editType");var i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new sne(t));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=r!=null?r:i.getPopupPosition?i.getPopupPosition():"over",c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},f=s.positionPopupByComponent.bind(s,d),p=this.beans.localeService.getLocaleTextFunc(),h=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){o.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:f,ariaLabel:p("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),r=this.beans.gridOptionsService.getDocument();t.contains(r.activeElement)&&s3()&&t.focus({preventScroll:!0}),wo(this.getParentOfValue())},e}(rt),OIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IIe=function(n){OIe(e,n);function e(t,r,o){var i=n.call(this)||this;i.cellComps={},i.beans=r,i.rowCtrl=t;var a=document.createElement("div");a.setAttribute("comp-id","".concat(i.getCompId())),a.setAttribute("style",i.getInitialStyle(o)),i.setTemplateFromElement(a);var s=i.getGui(),l=s.style;i.domOrder=i.rowCtrl.getDomOrder(),oo(s,"row");var u=i.rowCtrl.getTabIndex();u!=null&&s.setAttribute("tabindex",u.toString());var c={setDomOrder:function(d){return i.domOrder=d},setCellCtrls:function(d){return i.setCellCtrls(d)},showFullWidth:function(d){return i.showFullWidth(d)},getFullWidthCellRenderer:function(){return i.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,f){return i.addOrRemoveCssClass(d,f)},setUserStyles:function(d){return v3(s,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return s.setAttribute("row-index",d)},setRowId:function(d){return s.setAttribute("row-id",d)},setRowBusinessKey:function(d){return s.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return i.refreshFullWidth(d)}};return t.setComp(c,i.getGui(),o),i.addDestroyFunc(function(){t.unsetComp(o)}),i}return e.prototype.getInitialStyle=function(t){var r=this.rowCtrl.getInitialTransform(t);return r?"transform: ".concat(r):"top: ".concat(this.rowCtrl.getInitialRowTop(t))},e.prototype.showFullWidth=function(t){var r=this,o=function(a){if(r.isAlive()){var s=a.getGui();r.getGui().appendChild(s),r.rowCtrl.setupDetailRowAutoHeight(s),r.setFullWidthRowComp(a)}else r.beans.context.destroyBean(a)},i=t.newAgStackInstance();i&&i.then(o)},e.prototype.setCellCtrls=function(t){var r=this,o=Object.assign({},this.cellComps);t.forEach(function(a){var s=a.getInstanceId(),l=r.cellComps[s];l==null?r.newCellComp(a):o[s]=null});var i=eh(o).filter(function(a){return a!=null});this.destroyCells(i),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var r=this;if(this.domOrder){var o=[];t.forEach(function(i){var a=r.cellComps[i.getInstanceId()];a&&o.push(a.getGui())}),g3(this.getGui(),o)}},e.prototype.newCellComp=function(t){var r=new lne(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=r,this.getGui().appendChild(r.getGui())},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=eh(this.cellComps).filter(function(r){return r!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var r=this;this.fullWidthCellRenderer,this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){r.fullWidthCellRenderer=r.beans.context.destroyBean(r.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var r=this;t.forEach(function(o){if(o){var i=o.getCtrl().getInstanceId();r.cellComps[i]===o&&(o.detach(),o.destroy(),r.cellComps[i]=null)}})},e.prototype.refreshFullWidth=function(t){var r=this.fullWidthCellRenderer;if(!r||!r.refresh)return!1;var o=t();return r.refresh(o)},e}(rt),FIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GB=function(){return GB=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},GB.apply(this,arguments)},M_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};function LIe(){var n=rt.elementGettingCreated.getAttribute("name"),e=V3.getRowContainerCssClasses(n),t,r=n===x.RowContainerName.CENTER||n===x.RowContainerName.TOP_CENTER||n===x.RowContainerName.STICKY_TOP_CENTER||n===x.RowContainerName.BOTTOM_CENTER;return r?t='<div class="'.concat(e.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(e.container,`" ref="eContainer"></div>
            </div>`):t='<div class="'.concat(e.container,'" ref="eContainer"></div>'),t}var une=function(n){FIe(e,n);function e(){var t=n.call(this,LIe())||this;return t.rowComps={},t.name=rt.elementGettingCreated.getAttribute("name"),t.type=nne(t.name),t}return e.prototype.postConstruct=function(){var t=this,r={setViewportHeight:function(i){return t.eViewport.style.height=i},setRowCtrls:function(i){var a=i.rowCtrls;return t.setRowCtrls(a)},setDomOrder:function(i){t.domOrder=i},setContainerWidth:function(i){return t.eContainer.style.width=i}},o=this.createManagedBean(new V3(this.name));o.setComp(r,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var r=this,o=GB({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var i=function(a){var s=a.getInstanceId(),l=o[s];if(l)r.rowComps[s]=l,delete o[s],r.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var u=new IIe(a,r.beans,r.type);r.rowComps[s]=u,r.appendRow(u.getGui())}};t.forEach(i),eh(o).forEach(function(a){r.eContainer.removeChild(a.getGui()),a.destroy()}),oo(this.eContainer,"rowgroup")},e.prototype.appendRow=function(t){this.domOrder?ite(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(m3(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},M_([P("beans")],e.prototype,"beans",void 0),M_([he("eViewport")],e.prototype,"eViewport",void 0),M_([he("eContainer")],e.prototype,"eContainer",void 0),M_([se],e.prototype,"postConstruct",null),M_([_i],e.prototype,"preDestroy",null),e}(rt),DJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},cne=function(){function n(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return n.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var r=e.dragItem.columns;r&&r.forEach(function(o){o.isPrimary()&&(o.isAnyFunctionActive()||(o.isAllowValue()?t.columnsToAggregate.push(o):o.isAllowRowGroup()?t.columnsToGroup.push(o):o.isAllowPivot()&&t.columnsToPivot.push(o)))})}},n.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?no.ICON_PINNED:no.ICON_MOVE:null},n.prototype.onDragLeave=function(e){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(e){},n.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},DJ([P("columnModel")],n.prototype,"columnModel",void 0),DJ([P("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),MIe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},Eg=function(){function n(){}return n.attemptMoveColumns=function(e){var t=e.isFromHeader,r=e.hDirection,o=e.xPosition,i=e.fromEnter,a=e.fakeEvent,s=e.pinned,l=e.gridOptionsService,u=e.columnModel,c=r===x.HorizontalDirection.Left,d=r===x.HorizontalDirection.Right,f=e.allMovingColumns;if(t){var p=[];f.forEach(function(L){for(var k,A=null,$=L.getParent();$!=null&&$.getDisplayedLeafColumns().length===1;)A=$,$=$.getParent();if(A!=null){var G=!!(!((k=A.getColGroupDef())===null||k===void 0)&&k.marryChildren),K=G?A.getProvidedColumnGroup().getLeafColumns():A.getLeafColumns();K.forEach(function(V){p.includes(V)||p.push(V)})}else p.includes(L)||p.push(L)}),f=p}var h=f.slice();u.sortColumnsLikeGridColumns(h);var m=this.calculateValidMoves({movingCols:h,draggingRight:d,xPosition:o,pinned:s,gridOptionsService:l,columnModel:u}),v=this.calculateOldIndex(h,u);if(m.length!==0){var g=m[0],y=v!==null&&!i;if(t&&(y=v!==null),!(y&&!a&&(c&&g>=v||d&&g<=v))){for(var C=u.getAllDisplayedColumns(),w=[],b=null,E=0;E<m.length;E++){var D=m[E],S=u.getProposedColumnOrder(h,D);if(u.doesOrderPassRules(S)){var T=S.filter(function(L){return C.includes(L)});if(b===null)b=T;else if(!nf(T,b))break;var O=this.groupFragCount(S);w.push({move:D,fragCount:O})}}if(w.length!==0)return w.sort(function(L,k){return L.fragCount-k.fragCount}),this.moveColumns(f,w[0].move,"uiColumnMoved",!1,u)}}},n.moveColumns=function(e,t,r,o,i){return i.moveColumns(e,t,r,o),o?null:{columns:e,toIndex:t}},n.calculateOldIndex=function(e,t){var r=t.getAllGridColumns(),o=bee(e.map(function(u){return r.indexOf(u)})),i=o[0],a=Vt(o),s=a-i,l=s!==o.length-1;return l?null:i},n.groupFragCount=function(e){function t(a){for(var s=[],l=a.getOriginalParent();l!=null;)s.push(l),l=l.getOriginalParent();return s}for(var r=0,o=function(a){var s,l=t(e[a]),u=t(e[a+1]);s=MIe(l.length>u.length?[l,u]:[u,l],2),l=s[0],u=s[1],l.forEach(function(c){u.indexOf(c)===-1&&r++})},i=0;i<e.length-1;i++)o(i);return r},n.calculateValidMoves=function(e){var t=e.movingCols,r=e.draggingRight,o=e.xPosition,i=e.pinned,a=e.gridOptionsService,s=e.columnModel,l=a.get("suppressMovableColumns")||t.some(function(L){return L.getColDef().suppressMovable});if(l)return[];var u=s.getDisplayedColumns(i),c=s.getAllGridColumns(),d=u.filter(function(L){return cu(t,L)}),f=u.filter(function(L){return!cu(t,L)}),p=c.filter(function(L){return!cu(t,L)}),h=0,m=o;if(r){var v=0;d.forEach(function(L){return v+=L.getActualWidth()}),m-=v}if(m>0){for(var g=0;g<f.length;g++){var y=f[g];if(m-=y.getActualWidth(),m<0)break;h++}r&&h++}var C;if(h>0){var w=f[h-1];C=p.indexOf(w)+1}else C=p.indexOf(f[0]),C===-1&&(C=0);var b=[C],E=function(L,k){return L-k};if(r){for(var D=C+1,S=c.length-1;D<=S;)b.push(D),D++;b.sort(E)}else{for(var D=C,S=c.length-1,T=c[D];D<=S&&u.indexOf(T)<0;)D++,b.push(D),T=c[D];D=C-1;for(var O=0;D>=O;)b.push(D),D--;b.sort(E).reverse()}return b},n.normaliseX=function(e,t,r,o,i){var a=i.getHeaderRowContainerCtrl(t).getViewport();if(r&&(e-=a.getBoundingClientRect().left),o.get("enableRtl")){var s=a.clientWidth;e=s-e}return t==null&&(e+=i.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},n}(),A_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},dne=function(){function n(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!te(e)}return n.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?no.ICON_PINNED:no.ICON_MOVE},n.prototype.onDragEnter=function(e){var t=e.dragItem.columns,r=e.dragSource.type===x.DragSourceType.ToolPanel;if(r)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var o=e.dragItem.visibleState,i=(t||[]).filter(function(a){return o[a.getId()]});this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},n.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.setColumnsVisible=function(e,t,r){if(e){var o=e.filter(function(i){return!i.getColDef().lockVisible});this.columnModel.setColumnsVisible(o,t,r)}},n.prototype.setColumnsPinned=function(e,t,r){if(e){var o=e.filter(function(i){return!i.getColDef().lockPinned});this.columnModel.setColumnsPinned(o,t,r)}},n.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>r-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(e,t,r,o){var i=this,a;if(e===void 0&&(e=this.lastDraggingEvent),t===void 0&&(t=!1),r===void 0&&(r=!1),o===void 0&&(o=!1),o){if(this.lastMovedInfo){var s=this.lastMovedInfo,l=s.columns,u=s.toIndex;Eg.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,!Ke(e.hDirection)){var c=Eg.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),f=e.dragSource.type,p=((a=e.dragSource.getDragItem().columns)===null||a===void 0?void 0:a.filter(function(m){return m.getColDef().lockPinned?m.getPinned()==i.pinned:!0}))||[],h=Eg.attemptMoveColumns({allMovingColumns:p,isFromHeader:f===x.DragSourceType.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:t,fakeEvent:r,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});h&&(this.lastMovedInfo=h)}},n.prototype.normaliseDirection=function(e){if(this.gridOptionsService.get("enableRtl"))switch(e){case x.HorizontalDirection.Left:return x.HorizontalDirection.Right;case x.HorizontalDirection.Right:return x.HorizontalDirection.Left;default:}else return e},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(no.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(no.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(no.ICON_MOVE))},n.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns,i=o.filter(function(s){return!s.getColDef().lockPinned});if(i.length>0&&(this.dragAndDropService.setGhostIcon(no.ICON_PINNED),this.failedMoveAttempts>7)){var a=this.needToMoveLeft?"left":"right";this.setColumnsPinned(i,a,"uiColumnDragged"),this.dragAndDropService.nudge()}}},A_([P("columnModel")],n.prototype,"columnModel",void 0),A_([P("dragAndDropService")],n.prototype,"dragAndDropService",void 0),A_([P("gridOptionsService")],n.prototype,"gridOptionsService",void 0),A_([P("ctrlsService")],n.prototype,"ctrlsService",void 0),A_([se],n.prototype,"init",null),n}(),AIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},fne=function(n){AIe(e,n);function e(t,r){var o=n.call(this)||this;return o.pinned=t,o.eContainer=r,o}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(r){switch(t.pinned){case"left":t.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.leftRowContainerCtrl.getContainerElement()],[r.bottomLeftRowContainerCtrl.getContainerElement()],[r.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.rightRowContainerCtrl.getContainerElement()],[r.bottomRightRowContainerCtrl.getContainerElement()],[r.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.centerRowContainerCtrl.getViewportElement()],[r.bottomCenterRowContainerCtrl.getViewportElement()],[r.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===x.DragSourceType.HeaderCell||t===x.DragSourceType.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new dne(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new cne(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===x.DragSourceType.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},N_([P("dragAndDropService")],e.prototype,"dragAndDropService",void 0),N_([P("columnModel")],e.prototype,"columnModel",void 0),N_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),N_([se],e.prototype,"postConstruct",null),N_([se],e.prototype,"init",null),e}(re),NIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},kIe=function(n){NIe(e,n);function e(t){var r=n.call(this,e.TEMPLATE,t)||this;return r.headerCompVersion=0,r.column=t.getColumnGroupChild(),r.pinned=t.getPinned(),r}return e.prototype.postConstruct=function(){var t=this,r=this.getGui(),o=function(s,l){l!=null&&l!=""?r.setAttribute(s,l):r.removeAttribute(s)};o("col-id",this.column.getColId());var i={setWidth:function(s){return r.style.width=s},addOrRemoveCssClass:function(s,l){return t.addOrRemoveCssClass(s,l)},setAriaSort:function(s){return s?Yee(r,s):Xee(r)},setUserCompDetails:function(s){return t.setUserCompDetails(s)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var r=this;this.headerCompVersion++;var o=this.headerCompVersion;t.newAgStackInstance().then(function(i){return r.afterCompCreated(o,i)})},e.prototype.afterCompCreated=function(t,r){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(r);return}this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,eI([he("eResize")],e.prototype,"eResize",void 0),eI([he("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),eI([se],e.prototype,"postConstruct",null),eI([_i],e.prototype,"destroyHeaderComp",null),e}(M3),VIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},GIe=function(n){VIe(e,n);function e(t){return n.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,r=this.getGui(),o=function(a,s){return s!=null?r.setAttribute(a,s):r.removeAttribute(a)};r.setAttribute("col-id",this.ctrl.getColId());var i={addOrRemoveCssClass:function(a,s){return t.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return It(t.eResize,a)},setWidth:function(a){return r.style.width=a},setAriaExpanded:function(a){return o("aria-expanded",a)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerGroupComp}};this.ctrl.setComp(i,r,this.eResize)},e.prototype.setUserCompDetails=function(t){var r=this;t.newAgStackInstance().then(function(o){return r.afterHeaderCompCreated(o)})},e.prototype.afterHeaderCompCreated=function(t){var r=this,o=function(){return r.destroyBean(t)};if(!this.isAlive()){o();return}var i=this.getGui(),a=t.getGui();i.appendChild(a),this.addDestroyFunc(o),this.headerGroupComp=t,this.ctrl.setDragSource(i)},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,RJ([he("eResize")],e.prototype,"eResize",void 0),RJ([se],e.prototype,"postConstruct",null),e}(M3),HIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};(function(n){n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter"})(x.HeaderRowType||(x.HeaderRowType={}));var pne=function(n){HIe(e,n);function e(t){var r=n.call(this)||this;return r.headerComps={},r.ctrl=t,r.setTemplate('<div class="'.concat(r.ctrl.getHeaderRowClass(),'" role="row"></div>')),r}return e.prototype.init=function(){var t=this;e3(this.getGui(),this.ctrl.getAriaRowIndex());var r={setHeight:function(o){return t.getGui().style.height=o},setTop:function(o){return t.getGui().style.top=o},setHeaderCtrls:function(o,i){return t.setHeaderCtrls(o,i)},setWidth:function(o){return t.getGui().style.width=o}};this.ctrl.setComp(r)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,r){var o=this;if(this.isAlive()){var i=this.headerComps;if(this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=i[u];delete i[u],c==null&&(c=o.createHeaderComp(l),o.getGui().appendChild(c.getGui())),o.headerComps[u]=c}),bi(i,function(l,u){o.getGui().removeChild(u.getGui()),o.destroyBean(u)}),r){var a=eh(this.headerComps);a.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var s=a.map(function(l){return l.getGui()});g3(this.getGui(),s)}}},e.prototype.createHeaderComp=function(t){var r;switch(this.ctrl.getType()){case x.HeaderRowType.COLUMN_GROUP:r=new GIe(t);break;case x.HeaderRowType.FLOATING_FILTER:r=new Qte(t);break;default:r=new kIe(t);break}return this.createBean(r),r.setParentComponent(this),r},TJ([se],e.prototype,"init",null),TJ([_i],e.prototype,"destroyHeaderCtrls",null),e}(rt),$Ie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mg=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},BIe=0,CE=function(n){$Ie(e,n);function e(t,r,o){var i=n.call(this)||this;return i.resizeToggleTimeout=0,i.resizeMultiplier=1,i.resizeFeature=null,i.lastFocusEvent=null,i.dragSource=null,i.columnGroupChild=t,i.parentRowCtrl=o,i.beans=r,i.instanceId=t.getUniqueId()+"-"+BIe++,i}return e.prototype.postConstruct=function(){var t=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],function(){return t.refreshTabIndex()})},e.prototype.shouldStopEventPropagation=function(t){var r=this.focusService.getFocusedHeader(),o=r.headerRowIndex,i=r.column;return fte(this.gridOptionsService,t,o,i)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsService.getDocument(),r=t.activeElement;return r===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()},e.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,r=t.comp,o=t.column,i=t.beans;yE.refreshFirstAndLastStyles(r,o,i.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this,r=t.beans,o=t.column,i=r.columnModel.getAriaColumnIndex(o);t3(this.eGui,i)},e.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},e.prototype.refreshTabIndex=function(){var t=this.gridOptionsService.get("suppressHeaderFocus");t?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")},e.prototype.onGuiKeyDown=function(t){var r,o=this.gridOptionsService.getDocument(),i=o.activeElement,a=t.key===j.LEFT||t.key===j.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),!(i!==this.eGui||!t.shiftKey&&!t.altKey)&&((this.isResizing||a)&&(t.preventDefault(),t.stopImmediatePropagation()),!!a)){var s=t.key===j.LEFT!==this.gridOptionsService.get("enableRtl"),l=x.HorizontalDirection[s?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;var u=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(u,t.shiftKey),(r=this.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!0)}else this.moveHeader(l)}},e.prototype.getViewportAdjustedResizeDiff=function(t){var r=this.getResizeDiff(t),o=this.column.getPinned();if(o){var i=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),s=Tg(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(i+a+r>s)if(s>i+a)r=s-i-a;else return 0}return r},e.prototype.getResizeDiff=function(t){var r=t.key===j.LEFT!==this.gridOptionsService.get("enableRtl"),o=this.column.getPinned(),i=this.gridOptionsService.get("enableRtl");return o&&i!==(o==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier},e.prototype.onGuiKeyUp=function(){var t=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var r;(r=t.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!1)},150))},e.prototype.handleKeyDown=function(t){var r=this.getWrapperHasFocus();switch(t.key){case j.PAGE_DOWN:case j.PAGE_UP:case j.PAGE_HOME:case j.PAGE_END:r&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,r=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,r,this),this.addDestroyFunc(function(){return t.gridOptionsService.setDomData(t.eGui,r,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},e.prototype.handleContextMenuMouseEvent=function(t,r,o){var i=t!=null?t:r;this.gridOptionsService.get("preventDefaultOnContextMenu")&&i.preventDefault();var a=o instanceof on?o:void 0;this.menuService.isHeaderContextMenuEnabled(a)&&this.menuService.showHeaderContextMenu(a,t,r),this.dispatchColumnMouseEvent(I.EVENT_COLUMN_HEADER_CONTEXT_MENU,o)},e.prototype.dispatchColumnMouseEvent=function(t,r){var o={type:t,column:r};this.eventService.dispatchEvent(o)},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",mg([P("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),mg([P("focusService")],e.prototype,"focusService",void 0),mg([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),mg([P("ctrlsService")],e.prototype,"ctrlsService",void 0),mg([P("dragAndDropService")],e.prototype,"dragAndDropService",void 0),mg([P("menuService")],e.prototype,"menuService",void 0),mg([se],e.prototype,"postConstruct",null),e}(re),WIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zIe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},nF=function(n){WIe(e,n);function e(t,r,o,i){var a=n.call(this)||this;return a.columnOrGroup=t,a.eCell=r,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=i,a.beans=o,a}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Vt(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,on.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),r=te(this.columnOrGroup.getOldLeft()),o=this.beans.columnAnimationService.isActive()&&r&&!t;o?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,r=this.getColumnOrGroup(),o=r.getLeft(),i=r.getOldLeft(),a=this.modifyLeftForPrintLayout(r,i),s=this.modifyLeftForPrintLayout(r,o);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===s&&t.setLeft(s)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),r=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,r),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,r){var o=this.beans.gridOptionsService.isDomLayout("print");if(!o||t.getPinned()==="left")return r;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){var a=this.beans.columnModel.getBodyContainerWidth();return i+a+r}return i+r},e.prototype.setLeft=function(t){te(t)&&(this.eCell.style.left="".concat(t,"px"));var r;if(this.columnOrGroup instanceof on)r=this.columnOrGroup;else{var o=this.columnOrGroup,i=o.getLeafColumns();if(!i.length)return;i.length>1&&qee(this.ariaEl,i.length),r=i[0]}},zIe([se],e.prototype,"postConstruct",null),e}(re),UIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},G3=function(n){UIe(e,n);function e(t,r){var o=n.call(this)||this;return o.columns=t,o.element=r,o}return e.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},PJ([P("columnHoverService")],e.prototype,"columnHoverService",void 0),PJ([se],e.prototype,"postConstruct",null),e}(re),jIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hne=function(n){jIe(e,n);function e(t,r,o){var i=n.call(this,t,r,o)||this;return i.iconCreated=!1,i.column=t,i}return e.prototype.setComp=function(t,r,o,i){this.comp=t,this.eButtonShowMainFilter=o,this.eFloatingFilterBody=i,this.setGui(r),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,on.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.resizeHeader=function(){},e.prototype.moveHeader=function(){},e.prototype.setupActive=function(){var t=this.column.getColDef(),r=!!t.filter,o=!!t.floatingFilter;this.active=r&&o},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var t=Vr("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new rh(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();th(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){var r=this.gridOptionsService.getDocument(),o=r.activeElement,i=o===this.eGui;if(!i){var a=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(a){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),a.focus();return}var s=this.findNextColumnWithFloatingFilter(t.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var r=this.beans.columnModel,o=this.column;do if(o=t?r.getDisplayedColBefore(o):r.getDisplayedColAfter(o),!o)break;while(!o.getColDef().filter||!o.getColDef().floatingFilter);return o},e.prototype.handleKeyDown=function(t){n.prototype.handleKeyDown.call(this,t);var r=this.getWrapperHasFocus();switch(t.key){case j.UP:case j.DOWN:r||t.preventDefault();case j.LEFT:case j.RIGHT:if(r)return;t.stopPropagation();case j.ENTER:r&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case j.ESCAPE:r||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var r=this.eGui.contains(t.relatedTarget);if(!r){var o=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),i=!!t.relatedTarget&&bg(t.relatedTarget,"ag-floating-filter");if(o&&i&&t.target===this.eGui){var a=this.lastFocusEvent,s=!!(a&&a.key===j.TAB);if(a&&s){var l=a.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new G3([this.column],this.eGui));var r=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var o=t.beans.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",o)}};this.addManagedListener(this.eventService,I.EVENT_COLUMN_HOVER_CHANGED,r),r()},e.prototype.setupLeft=function(){var t=new nF(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()},e.prototype.setupUserComp=function(){var t=this;if(this.active){var r=this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()});r&&this.setCompDetails(r)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var r=this.beans.filterManager,o=function(i){var a=t.comp.getFloatingFilterComp();a&&a.then(function(s){if(s){var l=r.getCurrentFloatingFilterParentModel(t.column);s.onParentModelChanged(l,i)}})};this.destroySyncListener=this.addManagedListener(this.column,on.EVENT_FILTER_CHANGED,o),r.isFilterActive(this.column)&&o(null)}},e.prototype.setupWidth=function(){var t=this,r=function(){var o="".concat(t.column.getActualWidth(),"px");t.comp.setWidth(o)};this.addManagedListener(this.column,on.EVENT_WIDTH_CHANGED,r),r()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,on.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())},e.prototype.updateFilterButton=function(){if(!this.suppressFilterButton&&this.comp){var t=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}},e.prototype.onColDefChanged=function(){var t=this,r,o,i=this.active;this.setupActive();var a=!i&&this.active;i&&!this.active&&((r=this.destroySyncListener)===null||r===void 0||r.call(this),(o=this.destroyFilterChangedListener)===null||o===void 0||o.call(this));var s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!s?this.updateCompDetails(s,a):l.then(function(u){var c;!u||t.beans.filterManager.areFilterCompsDifferent((c=t.userCompDetails)!==null&&c!==void 0?c:null,s)?t.updateCompDetails(s,a):t.updateFloatingFilterParams(s)})},e.prototype.updateCompDetails=function(t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},e.prototype.updateFloatingFilterParams=function(t){var r;if(t){var o=t.params;(r=this.comp.getFloatingFilterComp())===null||r===void 0||r.then(function(i){var a=!1;if(i!=null&&i.refresh&&typeof i.refresh=="function"){var s=i.refresh(o);s!==null&&(a=!0)}if(!a&&(i!=null&&i.onParamsUpdated)&&typeof i.onParamsUpdated=="function"){var s=i.onParamsUpdated(o);s!==null&&ze("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}})}},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},e}(CE),KIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},qIe=function(n){KIe(e,n);function e(t,r,o,i,a){var s=n.call(this)||this;return s.pinned=t,s.column=r,s.eResize=o,s.comp=i,s.ctrl=a,s}return e.prototype.postConstruct=function(){var t=this,r=[],o,i,a=function(){if(It(t.eResize,o),!!o){var u=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(r.push(u),i){var c=t.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){t.columnModel.autoSizeColumn(t.column,"uiColumnResized",c)};t.eResize.addEventListener("dblclick",d);var f=new ei(t.eResize);f.addEventListener(ei.EVENT_DOUBLE_TAP,d),r.push(function(){t.eResize.removeEventListener("dblclick",d),f.removeEventListener(ei.EVENT_DOUBLE_TAP,d),f.destroy()})}}},s=function(){r.forEach(function(u){return u()}),r.length=0},l=function(){var u=t.column.isResizable(),c=!t.gridOptionsService.get("suppressAutoSize")&&!t.column.getColDef().suppressAutoSize,d=u!==o||c!==i;d&&(o=u,i=c,s(),a())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},e.prototype.onResizing=function(t,r){var o=this,i=o.column,a=o.lastResizeAmount,s=o.resizeStartWidth,l=this.normaliseResizeAmount(r),u=s+l,c=[{key:i,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),f=this.pinnedWidthService.getPinnedRightWidth(),p=Tg(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+f+(l-a)>p)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.normaliseResizeAmount=function(t){var r=t,o=this.pinned!=="left",i=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?o&&(r*=-1):i&&(r*=-1),r},k_([P("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),k_([P("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),k_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),k_([P("columnModel")],e.prototype,"columnModel",void 0),k_([se],e.prototype,"postConstruct",null),e}(re),YIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},XIe=function(n){YIe(e,n);function e(t){var r=n.call(this)||this;return r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=t,r}return e.prototype.onSpaceKeyDown=function(t){var r=this.cbSelectAll,o=this.gridOptionsService.getDocument();r.isDisplayed()&&!r.getGui().contains(o.activeElement)&&(t.preventDefault(),r.setValue(!r.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new gE),this.cbSelectAll.addCssClass("ag-header-select-all"),oo(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,I.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),KI(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},e.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);var r=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue(),o=r?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),i=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(i," (").concat(o,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(i," (").concat(o,")")),this.headerCellCtrl.announceAriaDescription()},e.prototype.checkSelectionType=function(t){var r=this.gridOptionsService.get("rowSelection")==="multiple";return!!r},e.prototype.checkRightRowModelType=function(t){var r=this.rowModel.getType(),o=r==="clientSide"||r==="serverSide";return!!o},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),r=this.isFilteredOnly(),o=this.isCurrentPageOnly(),i="uiSelectAll";o?i="uiSelectAllCurrentPage":r&&(i="uiSelectAllFiltered");var a={source:i,justFiltered:r,justCurrentPage:o};t?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var r=t,o=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});t=r(o)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},e.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},e.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},OJ([P("rowModel")],e.prototype,"rowModel",void 0),OJ([P("selectionService")],e.prototype,"selectionService",void 0),e}(re),ZIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mne=function(n){ZIe(e,n);function e(t,r,o){var i=n.call(this,t,r,o)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=t,i}return e.prototype.setComp=function(t,r,o,i){var a=this;this.comp=t,this.setGui(r),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new qIe(this.getPinned(),this.column,o,t,this)),this.createManagedBean(new G3([this.column],r)),this.createManagedBean(new nF(this.column,r,this.beans)),this.createManagedBean(new rh(r,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,on.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.resizeHeader=function(t,r){var o,i;if(this.column.isResizable()){var a=this.column.getActualWidth(),s=(o=this.column.getMinWidth())!==null&&o!==void 0?o:0,l=(i=this.column.getMaxWidth())!==null&&i!==void 0?i:Number.MAX_SAFE_INTEGER,u=Math.min(Math.max(a+t,s),l);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:u}],r,!0,"uiColumnResized")}},e.prototype.moveHeader=function(t){var r=this,o=r.eGui,i=r.column,a=r.gridOptionsService,s=r.ctrlsService,l=this.getPinned(),u=o.getBoundingClientRect().left,c=i.getActualWidth(),d=a.get("enableRtl"),f=t===x.HorizontalDirection.Left!==d,p=Eg.normaliseX(f?u-20:u+c+20,l,!0,a,s);Eg.attemptMoveColumns({allMovingColumns:[i],isFromHeader:!0,hDirection:t,xPosition:p,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,t)},e.prototype.createParams=function(){var t=this,r=this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(o){t.menuService.showColumnMenu({column:t.column,buttonElement:o,positionBy:"button"})},showColumnMenuAfterMouseClick:function(o){t.menuService.showColumnMenu({column:t.column,mouseEvent:o,positionBy:"mouse"})},showFilter:function(o){t.menuService.showFilterMenu({column:t.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:function(o){t.beans.sortController.progressSort(t.column,!!o,"uiColumnSorted")},setSort:function(o,i){t.beans.sortController.setSortForColumn(t.column,o,!!i,"uiColumnSorted")},eGridHeader:this.getGui()});return r},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new XIe(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){n.prototype.handleKeyDown.call(this,t),t.key===j.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===j.ENTER&&this.onEnterKeyDown(t),t.key===j.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)},e.prototype.onEnterKeyDown=function(t){if(t.ctrlKey||t.metaKey)this.showMenuOnKeyPress(t,!0);else if(this.sortable){var r=t.shiftKey;this.beans.sortController.progressSort(this.column,r,"uiColumnSorted")}},e.prototype.showMenuOnKeyPress=function(t,r){var o=this.comp.getUserCompInstance();!o||!(o instanceof MB)||o.onMenuKeyboardShortcut(r)&&t.preventDefault()},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var r=this.getRowIndex();this.focusService.setFocusedHeader(r,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,r={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var i=t.column.getColDef().headerTooltip;return i}},o=this.createManagedBean(new vE(r,this.beans));o.setComp(this.eGui),this.refreshFunctions.push(function(){return o.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,r=function(){var o=t.column.getColDef(),i=yE.getHeaderClassesFromColDef(o,t.gridOptionsService,t.column,null),a=t.userHeaderClasses;t.userHeaderClasses=new Set(i),i.forEach(function(s){a.has(s)?a.delete(s):t.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return t.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(r),r()},e.prototype.setDragSource=function(t){var r=this;if(this.dragSourceElement=t,this.removeDragSource(),!(!t||!this.draggable)){var o=this,i=o.column,a=o.beans,s=o.displayName,l=o.dragAndDropService,u=o.gridOptionsService,c=a.columnModel,d=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),f=this.dragSource={type:x.DragSourceType.HeaderCell,eElement:t,getDefaultIconName:function(){return d?no.ICON_HIDE:no.ICON_NOT_ALLOWED},getDragItem:function(){return r.createDragItem(i)},dragItemName:s,onDragStarted:function(){d=!u.get("suppressDragLeaveHidesColumns"),i.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return i.setMoving(!1,"uiColumnMoved")},onGridEnter:function(p){var h;if(d){var m=((h=p==null?void 0:p.columns)===null||h===void 0?void 0:h.filter(function(v){return!v.getColDef().lockVisible}))||[];c.setColumnsVisible(m,!0,"uiColumnMoved")}},onGridExit:function(p){var h;if(d){var m=((h=p==null?void 0:p.columns)===null||h===void 0?void 0:h.filter(function(v){return!v.getColDef().lockVisible}))||[];c.setColumnsVisible(m,!1,"uiColumnMoved")}}};l.addDragSource(f,!0)}},e.prototype.createDragItem=function(t){var r={};return r[t.getId()]=t.isVisible(),{columns:[t],visibleState:r}},e.prototype.updateState=function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),r=this.comp.getUserCompInstance(),o=r!=null&&this.userCompDetails.componentClass==t.componentClass,i=o?this.attemptHeaderCompRefresh(t.params):!1;i?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var r=this.comp.getUserCompInstance();if(!r||!r.refresh)return!1;var o=r.refresh(t);return o},e.prototype.calculateDisplayName=function(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),r=this.gridOptionsService.get("suppressMovableColumns"),o=!r&&!t.suppressMovable&&!t.lockPosition;return!!o||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,r=function(){var o=t.column.getActualWidth();t.comp.setWidth("".concat(o,"px"))};this.addManagedListener(this.column,on.EVENT_WIDTH_CHANGED,r),r()},e.prototype.setupMovingCss=function(){var t=this,r=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,on.EVENT_MOVING_CHANGED,r),r()},e.prototype.setupMenuClass=function(){var t=this,r=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,on.EVENT_MENU_VISIBLE_CHANGED,r),r()},e.prototype.setupSortableClass=function(){var t=this,r=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.eventService,on.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupFilterClass=function(){var t=this,r=function(){var o=t.column.isFilterActive();t.comp.addOrRemoveCssClass("ag-header-cell-filtered",o),t.refreshAria()};this.addManagedListener(this.column,on.EVENT_FILTER_ACTIVE_CHANGED,r),r()},e.prototype.setupWrapTextClass=function(){var t=this,r=function(){var o=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",o)};r(),this.addRefreshFunction(r)},e.prototype.onDisplayedColumnsChanged=function(){n.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,r=t.eGui,o=t.column,i=t.comp,a=t.beans;if(!o.isSpanHeaderHeight()){r.style.removeProperty("top"),r.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}var s=this.column.getColumnGroupPaddingInfo(),l=s.numberOfParents,u=s.isSpanningTotal;i.addOrRemoveCssClass("ag-header-span-height",l>0);var c=a.columnModel,d=c.getColumnHeaderRowHeight();if(l===0){i.addOrRemoveCssClass("ag-header-span-total",!1),r.style.setProperty("top","0px"),r.style.setProperty("height","".concat(d,"px"));return}i.addOrRemoveCssClass("ag-header-span-total",u);var f=c.isPivotMode(),p=f?c.getPivotGroupHeaderHeight():c.getGroupHeaderHeight(),h=l*p;r.style.setProperty("top","".concat(-h,"px")),r.style.setProperty("height","".concat(d+h,"px"))},e.prototype.setupAutoHeight=function(t){var r=this,o=this.beans,i=o.columnModel,a=o.resizeObserverService,s=function(p){if(r.isAlive()){var h=nh(r.getGui()),m=h.paddingTop,v=h.paddingBottom,g=h.borderBottomWidth,y=h.borderTopWidth,C=m+v+g+y,w=t.offsetHeight,b=w+C;if(p<5){var E=r.beans.gridOptionsService.getDocument(),D=!E||!E.contains(t),S=b==0;if(D||S){window.setTimeout(function(){return s(p+1)},0);return}}i.setColumnHeaderHeight(r.column,b)}},l=!1,u,c=function(){var p=r.column.isAutoHeaderHeight();p&&!l&&d(),!p&&l&&f()},d=function(){l=!0,s(0),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=a.observeResize(t,function(){return s(0)})},f=function(){l=!1,u&&u(),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};c(),this.addDestroyFunc(function(){return f()}),this.addManagedListener(this.column,on.EVENT_WIDTH_CHANGED,function(){return l&&s(0)}),this.addManagedListener(this.eventService,on.EVENT_SORT_CHANGED,function(){l&&window.setTimeout(function(){return s(0)})}),this.addRefreshFunction(c)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),r=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Vee(r)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.refreshAriaFilterButton=function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)},e.prototype.refreshAriaFiltered=function(){var t=this.localeService.getLocaleTextFunc(),r=this.column.isFilterActive();r?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},e.prototype.setAriaDescriptionProperty=function(t,r){r!=null?this.ariaDescriptionProperties.set(t,r):this.ariaDescriptionProperties.delete(t)},e.prototype.announceAriaDescription=function(){var t=this,r=this.beans.gridOptionsService.getDocument();if(this.eGui.contains(r.activeElement)){var o=Array.from(this.ariaDescriptionProperties.keys()).sort(function(i,a){return i==="filter"?-1:a.charCodeAt(0)-i.charCodeAt(0)}).map(function(i){return t.ariaDescriptionProperties.get(i)}).join(". ");this.beans.ariaAnnouncementService.announceValue(o)}},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()},e.prototype.addColumnHoverListener=function(){var t=this,r=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var o=t.beans.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",o)}};this.addManagedListener(this.eventService,I.EVENT_COLUMN_HOVER_CHANGED,r),r()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,r=function(a){return t.handleMouseOverChange(a.type==="mouseenter")},o=function(){return t.dispatchColumnMouseEvent(I.EVENT_COLUMN_HEADER_CLICKED,t.column)},i=function(a){return t.handleContextMenuMouseEvent(a,void 0,t.column)};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",o),this.addManagedListener(this.getGui(),"contextmenu",i)},e.prototype.handleMouseOverChange=function(t){this.setActiveHeader(t);var r=t?I.EVENT_COLUMN_HEADER_MOUSE_OVER:I.EVENT_COLUMN_HEADER_MOUSE_LEAVE,o={type:r,column:this.column};this.eventService.dispatchEvent(o)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},e.prototype.getAnchorElementForMenu=function(t){var r=this.comp.getUserCompInstance();return r instanceof MB?r.getAnchorElementForMenu(t):this.getGui()},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},e}(CE),QIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},JIe=function(n){QIe(e,n);function e(t,r,o,i){var a=n.call(this)||this;return a.eResize=r,a.comp=t,a.pinned=o,a.columnGroup=i,a}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gridOptionsService.get("suppressAutoSize")){var o=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var i=[],a=t.columnGroup.getDisplayedLeafColumns();a.forEach(function(s){s.getColDef().suppressAutoSize||i.push(s.getColId())}),i.length>0&&t.columnModel.autoSizeColumns({columns:i,skipHeader:o,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")})}},e.prototype.onResizeStart=function(t){var r=this.getInitialValues(t);this.storeLocalValues(r),this.toggleColumnResizing(!0)},e.prototype.onResizing=function(t,r,o){o===void 0&&(o="uiColumnResized");var i=this.normaliseDragChange(r),a=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(a,o,t)},e.prototype.getInitialValues=function(t){var r=this.getColumnsToResize(),o=this.getInitialSizeOfColumns(r),i=this.getSizeRatiosOfColumns(r,o),a={columnsToResize:r,resizeStartWidth:o,resizeRatios:i},s=null;if(t&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),u=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=a.groupAfterStartWidth=this.getInitialSizeOfColumns(u);a.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},e.prototype.storeLocalValues=function(t){var r=t.columnsToResize,o=t.resizeStartWidth,i=t.resizeRatios,a=t.groupAfterColumns,s=t.groupAfterStartWidth,l=t.groupAfterRatios;this.resizeCols=r,this.resizeStartWidth=o,this.resizeRatios=i,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},e.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},e.prototype.resizeLeafColumnsToFit=function(t){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),o=this.getInitialValues();r>o.resizeStartWidth&&this.resizeColumns(o,r,t,!0)},e.prototype.resizeColumnsFromLocalValues=function(t,r,o){var i,a,s;if(o===void 0&&(o=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(i=this.resizeTakeFromCols)!==null&&i!==void 0?i:void 0,groupAfterStartWidth:(a=this.resizeTakeFromStartWidth)!==null&&a!==void 0?a:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!==null&&s!==void 0?s:void 0};this.resizeColumns(l,t,r,o)}},e.prototype.resizeColumns=function(t,r,o,i){i===void 0&&(i=!0);var a=t.columnsToResize,s=t.resizeStartWidth,l=t.resizeRatios,u=t.groupAfterColumns,c=t.groupAfterStartWidth,d=t.groupAfterRatios,f=[];if(f.push({columns:a,ratios:l,width:r}),u){var p=r-s;f.push({columns:u,ratios:d,width:c-p})}this.columnModel.resizeColumnSets({resizeSets:f,finished:i,source:o}),i&&this.toggleColumnResizing(!1)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.getColumnsToResize=function(){var t=this.columnGroup.getDisplayedLeafColumns();return t.filter(function(r){return r.isResizable()})},e.prototype.getInitialSizeOfColumns=function(t){return t.reduce(function(r,o){return r+o.getActualWidth()},0)},e.prototype.getSizeRatiosOfColumns=function(t,r){return t.map(function(o){return o.getActualWidth()/r})},e.prototype.normaliseDragChange=function(t){var r=t;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(r*=-1):this.pinned==="right"&&(r*=-1),r},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.clearLocalValues()},tI([P("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),tI([P("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),tI([P("columnModel")],e.prototype,"columnModel",void 0),tI([se],e.prototype,"postConstruct",null),e}(re),eFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tFe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},nFe=function(n){eFe(e,n);function e(t,r){var o=n.call(this)||this;return o.removeChildListenersFuncs=[],o.columnGroup=r,o.comp=t,o}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,kr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(o){o.addEventListener("widthChanged",r),o.addEventListener("visibleChanged",r),t.removeChildListenersFuncs.push(function(){o.removeEventListener("widthChanged",r),o.removeEventListener("visibleChanged",r)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(t,"px")),this.comp.addOrRemoveCssClass("ag-hidden",t===0)},tFe([se],e.prototype,"postConstruct",null),e}(re),rFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GI=function(){return GI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},GI.apply(this,arguments)},gne=function(n){rFe(e,n);function e(t,r,o){var i=n.call(this,t,r,o)||this;return i.onSuppressColMoveChange=function(){if(!i.isAlive()||i.isSuppressMoving())i.removeDragSource();else if(!i.dragSource){var a=i.getGui();i.setDragSource(a)}},i.column=t,i}return e.prototype.setComp=function(t,r,o){this.comp=t,this.setGui(r),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var i=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new G3(a,r)),this.createManagedBean(new nF(this.column,r,this.beans)),this.createManagedBean(new nFe(t,this.column)),this.resizeFeature=this.createManagedBean(new JIe(t,o,i,this.column)),this.createManagedBean(new rh(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(I.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},e.prototype.resizeHeader=function(t,r){if(this.resizeFeature){var o=this.resizeFeature.getInitialValues(r);this.resizeFeature.resizeColumns(o,o.resizeStartWidth+t,"uiColumnResized",!0)}},e.prototype.moveHeader=function(t){var r=this,o=r.beans,i=r.eGui,a=r.column,s=r.gridOptionsService,l=r.ctrlsService,u=s.get("enableRtl"),c=t===x.HorizontalDirection.Left,d=this.getPinned(),f=i.getBoundingClientRect(),p=f.left,h=f.width,m=Eg.normaliseX(c!==u?p-20:p+h+20,d,!0,s,l),v=a.getGroupId(),g=this.focusService.getFocusedHeader();Eg.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:m,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:o.columnModel});var y=a.getDisplayedLeafColumns(),C=c?y[0]:Vt(y);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&g&&this.restoreFocus(v,a,g)},e.prototype.restoreFocus=function(t,r,o){var i=r.getLeafColumns();if(i.length){var a=i[0].getParent();if(a){var s=this.findGroupWidthId(a,t);s&&this.focusService.focusHeaderPosition({headerPosition:GI(GI({},o),{column:s})})}}},e.prototype.findGroupWidthId=function(t,r){for(;t;){if(t.getGroupId()===r)return t;t=t.getParent()}return null},e.prototype.resizeLeafColumnsToFit=function(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,r=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(i){t.beans.columnModel.setColumnGroupOpened(t.column.getProvidedColumnGroup(),i,"gridInitializing")}}),o=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(o)},e.prototype.addHeaderMouseListeners=function(){var t=this,r=function(a){return t.handleMouseOverChange(a.type==="mouseenter")},o=function(){return t.dispatchColumnMouseEvent(I.EVENT_COLUMN_HEADER_CLICKED,t.column.getProvidedColumnGroup())},i=function(a){return t.handleContextMenuMouseEvent(a,void 0,t.column.getProvidedColumnGroup())};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",o),this.addManagedListener(this.getGui(),"contextmenu",i)},e.prototype.handleMouseOverChange=function(t){var r=t?I.EVENT_COLUMN_HEADER_MOUSE_OVER:I.EVENT_COLUMN_HEADER_MOUSE_LEAVE,o={type:r,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(o)},e.prototype.setupTooltip=function(){var t=this,r=this.column.getColGroupDef(),o={getColumn:function(){return t.column},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return r&&r.headerTooltip}};r&&(o.getColDef=function(){return r});var i=this.createManagedBean(new vE(o,this.beans));i.setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,yr.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,yr.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.column;this.expandable=t.isExpandable();var r=t.isExpanded();this.expandable?this.comp.setAriaExpanded(r?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.column.getUniqueId()},e.prototype.addClasses=function(){var t=this,r=this.column.getColGroupDef(),o=yE.getHeaderClassesFromColDef(r,this.gridOptionsService,null,this.column);if(this.column.isPadding()){o.push("ag-header-group-cell-no-group");var i=this.column.getLeafColumns();i.every(function(a){return a.isSpanHeaderHeight()})&&o.push("ag-header-span-height")}else o.push("ag-header-group-cell-with-group");o.forEach(function(a){return t.comp.addOrRemoveCssClass(a,!0)})},e.prototype.setupMovingCss=function(){var t=this,r=this.column.getProvidedColumnGroup(),o=r.getLeafColumns(),i=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};o.forEach(function(a){t.addManagedListener(a,on.EVENT_MOVING_CHANGED,i)}),i()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}},e.prototype.handleKeyDown=function(t){n.prototype.handleKeyDown.call(this,t);var r=this.getWrapperHasFocus();if(!(!this.expandable||!r)&&t.key===j.ENTER){var o=this.column,i=!o.isExpanded();this.beans.columnModel.setColumnGroupOpened(o.getProvidedColumnGroup(),i,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var r=this;if(!(!this.isAlive()||this.isSuppressMoving())&&(this.removeDragSource(),!!t)){var o=this,i=o.beans,a=o.column,s=o.displayName,l=o.gridOptionsService,u=o.dragAndDropService,c=i.columnModel,d=a.getProvidedColumnGroup().getLeafColumns(),f=!l.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:x.DragSourceType.HeaderCell,eElement:t,getDefaultIconName:function(){return f?no.ICON_HIDE:no.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return r.getDragItemForGroup(a)},onDragStarted:function(){f=!l.get("suppressDragLeaveHidesColumns"),d.forEach(function(h){return h.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return d.forEach(function(h){return h.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(h){var m;if(f){var v=((m=h==null?void 0:h.columns)===null||m===void 0?void 0:m.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!0,"uiColumnMoved")}},onGridExit:function(h){var m;if(f){var v=((m=h==null?void 0:h.columns)===null||m===void 0?void 0:m.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!1,"uiColumnMoved")}}};u.addDragSource(p,!0)}},e.prototype.getDragItemForGroup=function(t){var r=t.getProvidedColumnGroup().getLeafColumns(),o={};r.forEach(function(a){return o[a.getId()]=a.isVisible()});var i=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(function(a){r.indexOf(a)>=0&&(i.push(a),Ca(r,a))}),r.forEach(function(a){return i.push(a)}),{columns:i,visibleState:o}},e.prototype.isSuppressMoving=function(){var t=!1;this.column.getLeafColumns().forEach(function(o){(o.getColDef().suppressMovable||o.getColDef().lockPosition)&&(t=!0)});var r=t||this.gridOptionsService.get("suppressMovableColumns");return r},e}(CE),oFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},FJ=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iFe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},aFe=0,bI=function(n){oFe(e,n);function e(t,r,o){var i=n.call(this)||this;i.instanceId=aFe++,i.rowIndex=t,i.pinned=r,i.type=o;var a=o==x.HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":o==x.HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return i.headerRowClass="ag-header-row ".concat(a),i}return e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,r){r===void 0&&(r=!0),this.comp=t,r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_VIRTUAL_COLUMNS_CHANGED,function(r){return t.onVirtualColumnsChanged(r.afterScroll)}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(r){return t.isEnsureDomOrder=r.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){if(this.headerCellCtrls)return wg(this.headerCellCtrls).find(function(r){return r.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth("".concat(t,"px"))},e.prototype.getWidthForRow=function(){var t=this.beans.columnModel;if(this.isPrintLayout){var r=this.pinned!=null;return r?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null)}return t.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),r=t.topOffset,o=t.rowHeight;this.comp.setTop(r+"px"),this.comp.setHeight(o+"px")},e.prototype.getTopAndHeight=function(){var t=this.beans,r=t.columnModel,o=t.filterManager,i=r.getHeaderRowCount(),a=[],s=0;o.hasFloatingFilters()&&(i++,s=1);for(var l=r.getColumnGroupHeaderRowHeight(),u=r.getColumnHeaderRowHeight(),c=1+s,d=i-c,f=0;f<d;f++)a.push(l);a.push(u);for(var f=0;f<s;f++)a.push(r.getFloatingFiltersHeight());for(var p=0,f=0;f<this.rowIndex;f++)p+=a[f];var h=a[this.rowIndex];return{topOffset:p,rowHeight:h}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){t===void 0&&(t=!1);var r=this.getHeaderCtrls(),o=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(r,o,t)},e.prototype.getHeaderCtrls=function(){var t,r,o,i,a=this,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=FJ(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,s)}}catch(w){t={error:w}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}var f=function(w){var b=a.beans,E=b.focusService,D=b.columnModel,S=E.isHeaderWrapperFocused(w);if(!S)return!1;var T=D.isDisplayed(w.getColumnGroupChild());return T};if(s)try{for(var p=FJ(s),h=p.next();!h.done;h=p.next()){var m=iFe(h.value,2),v=m[0],g=m[1],y=f(g);y?this.headerCellCtrls.set(v,g):this.destroyBean(g)}}catch(w){o={error:w}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}var C=Array.from(this.headerCellCtrls.values());return C},e.prototype.recycleAndCreateHeaderCtrls=function(t,r){if(this.headerCellCtrls&&!t.isEmptyGroup()){var o=t.getUniqueId(),i;r&&(i=r.get(o),r.delete(o));var a=i&&i.getColumnGroupChild()!=t;if(a&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case x.HeaderRowType.FLOATING_FILTER:i=this.createBean(new hne(t,this.beans,this));break;case x.HeaderRowType.COLUMN_GROUP:i=this.createBean(new gne(t,this.beans,this));break;default:i=this.createBean(new mne(t,this.beans,this));break}this.headerCellCtrls.set(o,i)}},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){if(this.pinned!=null)return[];var t=[],r=this.getActualDepth(),o=this.beans.columnModel;return["left",null,"right"].forEach(function(i){var a=o.getVirtualHeaderGroupRow(i,r);t=t.concat(a)}),t},e.prototype.getActualDepth=function(){return this.type==x.HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,r){if(!this.headerCellCtrls)return!1;var o=Array.from(this.headerCellCtrls.values()),i=o.find(function(a){return a.getColumnGroupChild()==t});return i?i.focus(r):!1},e.prototype.destroy=function(){var t=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(r){t.destroyBean(r)}),this.headerCellCtrls=void 0,n.prototype.destroy.call(this)},IJ([P("beans")],e.prototype,"beans",void 0),IJ([se],e.prototype,"postConstruct",null),e}(re),sFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},lFe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},uFe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},vne=function(n){sFe(e,n);function e(t){var r=n.call(this)||this;return r.hidden=!1,r.includeFloatingFilter=!1,r.groupsRowCtrls=[],r.pinned=t,r}return e.prototype.setComp=function(t,r){this.comp=t,this.eViewport=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var r=new fne(this.pinned,t);this.createManagedBean(r)},e.prototype.refresh=function(t){var r=this;t===void 0&&(t=!1);var o=new Rg,i=this.focusService.getFocusHeaderToUseAfterRefresh(),a=function(){var c=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var d=0;d<c;d++){var f=r.createBean(new bI(o.next(),r.pinned,x.HeaderRowType.COLUMN_GROUP));r.groupsRowCtrls.push(f)}},s=function(){var c=o.next(),d=!r.hidden&&(r.columnsRowCtrl==null||!t||r.columnsRowCtrl.getRowIndex()!==c),f=d||r.hidden;f&&(r.columnsRowCtrl=r.destroyBean(r.columnsRowCtrl)),d&&(r.columnsRowCtrl=r.createBean(new bI(c,r.pinned,x.HeaderRowType.COLUMN)))},l=function(){r.includeFloatingFilter=r.filterManager.hasFloatingFilters()&&!r.hidden;var c=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(!r.includeFloatingFilter){c();return}var d=o.next();if(r.filtersRowCtrl){var f=r.filtersRowCtrl.getRowIndex()!==d;(!t||f)&&c()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new bI(d,r.pinned,x.HeaderRowType.FLOATING_FILTER)))};a(),s(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(i)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=uFe([],lFe(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new k3(function(r){return t.comp.setCenterWidth("".concat(r,"px"))},!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var r=this.pinned==="left",o=this.pinned==="right";this.hidden=!0;var i=function(){var a=r?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(a!=null){var s=a==0,l=t.hidden!==s,u=t.gridOptionsService.get("enableRtl"),c=t.gridOptionsService.getScrollbarWidth(),d=t.scrollVisibleService.isVerticalScrollShowing()&&(u&&r||!u&&o),f=d?a+c:a;t.comp.setPinnedContainerWidth("".concat(f,"px")),t.comp.setDisplayed(!s),l&&(t.hidden=s,t.refresh())}};this.addManagedListener(this.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,I.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof on)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var r=0;r<this.groupsRowCtrls.length;r++){var o=this.groupsRowCtrls[r].getHeaderCellCtrl(t);if(o)return o}},e.prototype.getHtmlElementForColumnHeader=function(t){var r=this.getHeaderCtrlForColumn(t);return r?r.getGui():null},e.prototype.getRowType=function(t){var r=this.getAllCtrls(),o=r[t];return o?o.getType():void 0},e.prototype.focusHeader=function(t,r,o){var i=this.getAllCtrls(),a=i[t];return a?a.focusHeader(r,o):!1},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),n.prototype.destroy.call(this)},mC([P("ctrlsService")],e.prototype,"ctrlsService",void 0),mC([P("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),mC([P("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),mC([P("columnModel")],e.prototype,"columnModel",void 0),mC([P("focusService")],e.prototype,"focusService",void 0),mC([P("filterManager")],e.prototype,"filterManager",void 0),e}(re),cFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),K$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},_I=function(n){cFe(e,n);function e(t){var r=n.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=t,r}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var r={setDisplayed:function(i){return t.setDisplayed(i)},setCtrls:function(i){return t.setCtrls(i)},setCenterWidth:function(i){return t.eCenterContainer.style.width=i},setViewportScrollLeft:function(i){return t.getGui().scrollLeft=i},setPinnedContainerWidth:function(i){var a=t.getGui();a.style.width=i,a.style.maxWidth=i,a.style.minWidth=i}},o=this.createManagedBean(new vne(this.pinned));o.setComp(r,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned=="left",r=this.pinned=="right",o=t?e.PINNED_LEFT_TEMPLATE:r?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(o),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var r=this,o=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var i,a=function(s){var l=s.getGui(),u=l.parentElement!=r.eRowContainer;u&&r.eRowContainer.appendChild(l),i&&m3(r.eRowContainer,l,i),i=l};t.forEach(function(s){var l=s.getInstanceId(),u=o[l];delete o[l];var c=u||r.createBean(new pne(s));r.headerRowComps[l]=c,r.rowCompsList.push(c),a(c)}),eh(o).forEach(function(s){return r.destroyRowComp(s)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,K$([he("eCenterContainer")],e.prototype,"eCenterContainer",void 0),K$([se],e.prototype,"init",null),K$([_i],e.prototype,"destroyRowComps",null),e}(rt),dFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),V_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"})(x.HeaderNavigationDirection||(x.HeaderNavigationDirection={}));var yne=function(n){dFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.currentHeaderRowWithoutSpan=-1,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){t.gridBodyCon=o.gridBodyCtrl});var r=this.gridOptionsService.getDocument();this.addManagedListener(r,"mousedown",function(){return t.setCurrentHeaderRowWithoutSpan(-1)})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,r,o){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var i=r.headerRowIndex,a=r.column,s=this.getHeaderRowCount(),l=t===x.HeaderNavigationDirection.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(a,i):this.headerPositionUtils.getColumnVisibleChild(a,i),c=u.headerRowIndex,d=u.column,f=u.headerRowIndexWithoutSpan,p=!1;return c<0&&(c=0,d=a,p=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):f!==void 0&&(this.currentHeaderRowWithoutSpan=f),!p&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:o})},e.prototype.setCurrentHeaderRowWithoutSpan=function(t){this.currentHeaderRowWithoutSpan=t},e.prototype.navigateHorizontally=function(t,r,o){r===void 0&&(r=!1);var i=this.focusService.getFocusedHeader(),a=t===x.HeaderNavigationDirection.LEFT,s=this.gridOptionsService.get("enableRtl"),l,u;return this.currentHeaderRowWithoutSpan!==-1?i.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=i.headerRowIndex,a!==s?(u="Before",l=this.headerPositionUtils.findHeader(i,u)):(u="After",l=this.headerPositionUtils.findHeader(i,u)),l||!r?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:r,allowUserOverride:!0,event:o}):this.focusNextHeaderRow(i,u,o)},e.prototype.focusNextHeaderRow=function(t,r,o){var i=t.headerRowIndex,a=null,s;if(r==="Before"?i>0&&(s=i-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!a)return!1;var l=this.headerPositionUtils.getHeaderIndexToFocus(a.column,a==null?void 0:a.headerRowIndex),u=l.column,c=l.headerRowIndex;return this.focusService.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:c},direction:r,fromTab:!0,allowUserOverride:!0,event:o})},e.prototype.scrollToColumn=function(t,r){if(r===void 0&&(r="After"),!t.getPinned()){var o;if(t instanceof kr){var i=t.getDisplayedLeafColumns();o=r==="Before"?Vt(i):i[0]}else o=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(o)}},V_([P("focusService")],e.prototype,"focusService",void 0),V_([P("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),V_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),V_([se],e.prototype,"postConstruct",null),e=V_([be("headerNavigationService")],e),e}(re),fFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Cne=function(n){fFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setComp=function(t,r,o){this.comp=t,this.eGui=r,this.createManagedBean(new rh(o,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();var i=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",i),this.mockContextMenuForIPad(i),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this.columnModel,r=0,o=t.getHeaderRowCount(),i,a=this.filterManager.hasFloatingFilters();a&&(o++,r=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+r,c=o-u;if(i=r*t.getFloatingFiltersHeight(),i+=c*s,i+=l,this.headerHeight!==i){this.headerHeight=i;var d="".concat(i+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:I.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns(),r=t.some(function(o){return o.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",r)},e.prototype.onTabKeyDown=function(t){var r=this.gridOptionsService.get("enableRtl"),o=t.shiftKey!==r?x.HeaderNavigationDirection.LEFT:x.HeaderNavigationDirection.RIGHT;(this.headerNavigationService.navigateHorizontally(o,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var r=null;switch(t.key){case j.LEFT:r=x.HeaderNavigationDirection.LEFT;case j.RIGHT:te(r)||(r=x.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,t);break;case j.UP:r=x.HeaderNavigationDirection.UP;case j.DOWN:te(r)||(r=x.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(r,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var r=this.gridOptionsService.getDocument(),o=t.relatedTarget;!o&&this.eGui.contains(r.activeElement)||this.eGui.contains(o)||this.focusService.clearFocusedHeader()},e.prototype.onHeaderContextMenu=function(t,r,o){if(!(!t&&!o||!this.menuService.isHeaderContextMenuEnabled())){var i=(t!=null?t:r).target;(i===this.eGui||i===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,t,o)}},e.prototype.mockContextMenuForIPad=function(t){if(af()){var r=new ei(this.eGui),o=function(i){t(void 0,i.touchStart,i.touchEvent)};this.addManagedListener(r,ei.EVENT_LONG_TAP,o),this.addDestroyFunc(function(){return r.destroy()})}},gC([P("headerNavigationService")],e.prototype,"headerNavigationService",void 0),gC([P("focusService")],e.prototype,"focusService",void 0),gC([P("columnModel")],e.prototype,"columnModel",void 0),gC([P("ctrlsService")],e.prototype,"ctrlsService",void 0),gC([P("filterManager")],e.prototype,"filterManager",void 0),gC([P("menuService")],e.prototype,"menuService",void 0),e}(re),pFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hFe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},wne=function(n){pFe(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,r={addOrRemoveCssClass:function(a,s){return t.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){t.getGui().style.height=a,t.getGui().style.minHeight=a}},o=this.createManagedBean(new Cne);o.setComp(r,this.getGui(),this.getFocusableElement());var i=function(a){t.createManagedBean(a),t.appendChild(a)};i(new _I("left")),i(new _I(null)),i(new _I("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',hFe([se],e.prototype,"postConstruct",null),e}(rt),mFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),q$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Sne=function(n){mFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var r=this,o={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(o);var i=function(){return r.dragService.removeDragSource(o)};return i},e.prototype.onDragStart=function(t,r){this.dragStartX=r.clientX,this.setResizeIcons();var o=r instanceof MouseEvent&&r.shiftKey===!0;t.onResizeStart(o)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,r){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,r){this.resizeAmount=r.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},q$([P("dragService")],e.prototype,"dragService",void 0),q$([P("ctrlsService")],e.prototype,"ctrlsService",void 0),e=q$([be("horizontalResizeService")],e),e}(re),gFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},bne=function(n){gFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,r,o){var i=this;this.showPopup(t,function(a){i.popupService.positionPopupUnderMouseEvent({column:t,type:o,mouseEvent:r,ePopup:a})},o,r.target,this.menuService.isLegacyMenuEnabled())},e.prototype.showMenuAfterButtonClick=function(t,r,o){var i=this,a=-1,s="left",l=this.menuService.isLegacyMenuEnabled();!l&&this.gridOptionsService.get("enableRtl")&&(a=1,s="right");var u=l?void 0:4*a,c=l?void 0:4;this.showPopup(t,function(d){i.popupService.positionPopupByComponent({type:o,eventSource:r,ePopup:d,nudgeX:u,nudgeY:c,alignSide:s,keepWithinBounds:!0,position:"under",column:t})},o,r,l)},e.prototype.showPopup=function(t,r,o,i,a){var s=this,l=t?this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"):void 0;if(!l||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var u=document.createElement("div");oo(u,"presentation"),u.classList.add("ag-menu"),a||u.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(u,"keydown",function(g){return s.trapFocusWithin(g,u)}),l.guiPromise.then(function(g){return u.appendChild(g)});var c,d=function(){var g;return(g=l.filterPromise)===null||g===void 0?void 0:g.then(function(y){var C;return(C=y==null?void 0:y.afterGuiDetached)===null||C===void 0?void 0:C.call(y)})},f=this.menuService.isColumnMenuAnchoringEnabled()?i!=null?i:this.ctrlsService.getGridBodyCtrl().getGui():void 0,p=function(g){t.setMenuVisible(!1,"contextMenu");var y=g instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),y&&i&&ls(i)){var C=s.focusService.findTabbableParent(i);C&&C.focus()}d(),s.dispatchVisibleChangedEvent(!1,o,t)},h=this.localeService.getLocaleTextFunc(),m=a&&o!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),v=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:p,positionCallback:function(){return r(u)},anchorToElement:f,ariaLabel:m});v&&(this.hidePopup=c=v.hideFunc),l.filterPromise.then(function(g){r(u),g.afterGuiAttached&&g.afterGuiAttached({container:o,hidePopup:c})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,o,t)},e.prototype.trapFocusWithin=function(t,r){t.key!==j.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(r,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(r,t.shiftKey))},e.prototype.dispatchVisibleChangedEvent=function(t,r,o){var i={type:I.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:t,switchingTab:!1,key:r,column:o!=null?o:null};this.eventService.dispatchEvent(i)},e.prototype.isMenuEnabled=function(t){var r;return t.isFilterAllowed()&&((r=t.getColDef().menuTabs)!==null&&r!==void 0?r:["filterMenuTab"]).includes("filterMenuTab")},e.prototype.showMenuAfterContextMenuEvent=function(){},vC([P("filterManager")],e.prototype,"filterManager",void 0),vC([P("popupService")],e.prototype,"popupService",void 0),vC([P("focusService")],e.prototype,"focusService",void 0),vC([P("ctrlsService")],e.prototype,"ctrlsService",void 0),vC([P("menuService")],e.prototype,"menuService",void 0),e=vC([be("filterMenuFactory")],e),e}(re),vFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};(function(n){n.TAB_GUARD="ag-tab-guard",n.TAB_GUARD_TOP="ag-tab-guard-top",n.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(x.TabGuardClassNames||(x.TabGuardClassNames={}));var _ne=function(n){vFe(e,n);function e(t){var r=n.call(this)||this;r.skipTabGuardFocus=!1,r.forcingFocusOut=!1;var o=t.comp,i=t.eTopGuard,a=t.eBottomGuard,s=t.focusTrapActive,l=t.forceFocusOutWhenTabGuardsAreEmpty,u=t.focusInnerElement,c=t.onFocusIn,d=t.onFocusOut,f=t.shouldStopEventPropagation,p=t.onTabKeyDown,h=t.handleKeyDown,m=t.eFocusableElement;return r.comp=o,r.eTopGuard=i,r.eBottomGuard=a,r.providedFocusInnerElement=u,r.eFocusableElement=m,r.focusTrapActive=!!s,r.forceFocusOutWhenTabGuardsAreEmpty=!!l,r.providedFocusIn=c,r.providedFocusOut=d,r.providedShouldStopEventPropagation=f,r.providedOnTabKeyDown=p,r.providedHandleKeyDown=h,r}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new rh(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(r){return t.onTabKeyDown(r)},handleKeyDown:function(r){return t.handleKeyDown(r)},onFocusIn:function(r){return t.onFocusIn(r)},onFocusOut:function(r){return t.onFocusOut(r)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(r){return t.addManagedListener(r,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){if(!this.forcingFocusOut){var t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())}},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty){var r=this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0;if(r){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}}var o=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(o):this.focusInnerElement(o)},e.prototype.findNextElementOutsideAndFocus=function(t){var r=this.gridOptionsService.getDocument(),o=this.focusService.findFocusableElements(r.body,null,!0),i=o.indexOf(t?this.eTopGuard:this.eBottomGuard);if(i!==-1){var a,s;t?(a=0,s=i):(a=i+1,s=o.length);var l=o.slice(a,s),u=this.gridOptionsService.get("tabIndex");l.sort(function(c,d){var f=parseInt(c.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return p===u?1:f===u?-1:f===0?1:p===0?-1:f-p}),l[t?l.length-1:0].focus()}},e.prototype.onFocusIn=function(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())},e.prototype.onFocusOut=function(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())},e.prototype.onTabKeyDown=function(t){var r=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!this.focusTrapActive&&!t.defaultPrevented){var o=this.tabGuardsAreActive();o&&this.deactivateTabGuards();var i=this.getNextFocusableElement(t.shiftKey);o&&setTimeout(function(){return r.activateTabGuards()},0),i&&(i.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var r=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(r.splice(0,1),r.splice(r.length-1,1)),r.length&&r[t?r.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){var r=this;if(t===void 0&&(t=!1),!this.forcingFocusOut){var o=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,o.focus(),window.setTimeout(function(){r.forcingFocusOut=!1,r.activateTabGuards()})}},e.prototype.isTabGuard=function(t){return t===this.eTopGuard||t===this.eBottomGuard},LJ([P("focusService")],e.prototype,"focusService",void 0),LJ([se],e.prototype,"postConstruct",null),e}(re),yFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CFe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},wFe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},OC=function(n){yFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var r=[this.eTopGuard,this.eBottomGuard],o={setTabIndex:function(i){r.forEach(function(a){return i!=null?a.setAttribute("tabindex",i):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new _ne({comp:o,focusTrapActive:!!t.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:t.forceFocusOutWhenTabGuardsAreEmpty}))},e.prototype.createTabGuard=function(t){var r=document.createElement("div"),o=t==="top"?x.TabGuardClassNames.TAB_GUARD_TOP:x.TabGuardClassNames.TAB_GUARD_BOTTOM;return r.classList.add(x.TabGuardClassNames.TAB_GUARD,o),oo(r,"presentation"),r},e.prototype.addTabGuards=function(t,r){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",r)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];wo(this.getFocusableElement()),this.addTabGuards.apply(this,wFe([],CFe(t),!1))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,r){pE(t)||(t=t.getGui());var o=this.eBottomGuard;o?o.insertAdjacentElement("beforebegin",t):n.prototype.appendChild.call(this,t,r)},e}(rt),SFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},bFe=function(n){SFe(e,n);function e(t){var r=n.call(this,e.getTemplate(t.cssClass))||this;return r.items=[],r.tabbedItemScrollMap=new Map,r.params=t,t.items&&t.items.forEach(function(o){return r.addItem(o)}),r}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var r,o,i;return(i=(o=(r=t.activeItem)===null||r===void 0?void 0:r.tabbedItem)===null||o===void 0?void 0:o.afterDetachedCallback)===null||i===void 0?void 0:i.call(o)})},e.getTemplate=function(t){return'<div class="ag-tabs '.concat(t,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(t?"".concat(t,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(t?"".concat(t,"-body"):"",`"></div>
        </div>`)},e.prototype.handleKeyDown=function(t){var r=this.gridOptionsService.getDocument();switch(t.key){case j.RIGHT:case j.LEFT:if(!this.eHeader.contains(r.activeElement))return;var o=t.key===j.RIGHT,i=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=o!==i?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;t.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case j.UP:case j.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var r=this,o=r.focusService,i=r.eHeader,a=r.eBody,s=r.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=t.target;if(t.preventDefault(),i.contains(u)){this.focusBody(t.shiftKey);return}var d=null;o.isTargetUnderManagedComponent(a,c)&&(t.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,c)),d||(d=s.eHeaderButton)),!d&&a.contains(u)&&(d=o.findNextFocusableElement(a,!1,t.shiftKey),d||this.focusHeader()),d&&d.focus()}},e.prototype.focusInnerElement=function(t){t?this.focusHeader():this.focusBody(!0)},e.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},e.prototype.focusBody=function(t){this.focusService.focusInto(this.eBody,t)},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var r=document.createElement("span");oo(r,"tab"),r.setAttribute("tabindex","-1"),r.appendChild(t.title),r.classList.add("ag-tab"),this.eHeader.appendChild(r),th(r,t.titleLabel);var o={tabbedItem:t,eHeaderButton:r};this.items.push(o),r.addEventListener("click",this.showItemWrapper.bind(this,o))},e.prototype.showItem=function(t){var r=this.items.find(function(o){return o.tabbedItem===t});r&&this.showItemWrapper(r)},e.prototype.showItemWrapper=function(t){var r=this,o,i,a,s,l,u,c=t.tabbedItem,d=t.eHeaderButton;if((i=(o=this.params).onItemClicked)===null||i===void 0||i.call(o,{item:c}),this.activeItem===t){(s=(a=this.params).onActiveItemClicked)===null||s===void 0||s.call(a);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),wo(this.eBody),c.bodyPromise.then(function(f){r.eBody.appendChild(f);var p=!r.focusService.isKeyboardMode();if(r.focusService.focusInto(r.eBody,!1,p),c.afterAttachedCallback&&c.afterAttachedCallback(r.afterAttachedParams),r.params.keepScrollPosition){var h=c.getScrollableContainer&&c.getScrollableContainer()||f;r.lastScrollListener=r.addManagedListener(h,"scroll",function(){r.tabbedItemScrollMap.set(c.name,h.scrollTop)});var m=r.tabbedItemScrollMap.get(c.name);m!==void 0&&setTimeout(function(){h.scrollTop=m},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(u=(l=this.activeItem.tabbedItem).afterDetachedCallback)===null||u===void 0||u.call(l)),d.classList.add("ag-tab-selected"),this.activeItem=t},nI([P("focusService")],e.prototype,"focusService",void 0),nI([he("eHeader")],e.prototype,"eHeader",void 0),nI([he("eBody")],e.prototype,"eBody",void 0),nI([se],e.prototype,"postConstruct",null),e}(OC),_Fe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),EFe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},xFe=50,Ene=function(n){_Fe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,r){var o=this,i=this.gridOptionsService.getWindow(),a=function(){var c=new i.ResizeObserver(r);return c.observe(t),function(){return c.disconnect()}},s=function(){var c,d,f=(c=t==null?void 0:t.clientWidth)!==null&&c!==void 0?c:0,p=(d=t==null?void 0:t.clientHeight)!==null&&d!==void 0?d:0,h=!0,m=function(){var v,g;if(h){var y=(v=t==null?void 0:t.clientWidth)!==null&&v!==void 0?v:0,C=(g=t==null?void 0:t.clientHeight)!==null&&g!==void 0?g:0,w=y!==f||C!==p;w&&(f=y,p=C,r()),o.doNextPolyfillTurn(m)}};return m(),function(){return h=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!i.ResizeObserver;return u&&!l?a():this.getFrameworkOverrides().wrapIncoming(function(){return s()},"resize-observer")},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var r=function(){var o=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],o.forEach(function(i){return i()})};this.polyfillScheduled=!0,window.setTimeout(r,xFe)}},e=EFe([be("resizeObserverService")],e),e}(re),DFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},xne=function(n){DFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){var r=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,r&&t===0){var o=this.paginationProxy.getCurrentPage();o!==this.lastPage&&(this.lastPage=o,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame},e.prototype.createTask=function(t,r,o){this.verifyAnimationFrameOn(o);var i={task:t,index:r,createOrder:++this.taskCount};this.addTaskToList(this[o],i),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,r){t.list.push(r),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var r=this.scrollGoingDown?1:-1;t.list.sort(function(o,i){return o.index!==i.index?r*(i.index-o.index):i.createOrder-o.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var r=this.createTasksP1,o=r.list,i=this.createTasksP2,a=i.list,s=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<t;){var f=d.getScrollFeature().scrollGridIfNeeded();if(!f){var p=void 0;if(o.length)this.sortTaskList(r),p=o.pop().task;else if(a.length)this.sortTaskList(i),p=a.pop().task;else if(s.length)p=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}u=new Date().getTime()-l}o.length||a.length||s.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var r=this.gridOptionsService.getWindow();r.requestAnimationFrame?r.requestAnimationFrame(t):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(t):r.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var r=this,o=!1;return function(){if(!r.isOn()){window.setTimeout(t,0);return}o||(o=!0,r.addDestroyTask(function(){o=!1,t()}))}},rI([P("ctrlsService")],e.prototype,"ctrlsService",void 0),rI([P("paginationProxy")],e.prototype,"paginationProxy",void 0),rI([se],e.prototype,"init",null),e=rI([be("animationFrameService")],e),e}(re);(function(n){n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing"})(x.ClientSideRowModelSteps||(x.ClientSideRowModelSteps={}));var RFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Dne=function(n){RFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},e.prototype.expandRows=function(t){if(this.isClientSideRowModel){var r=new Set(t);this.rowModel.forEachNode(function(o){o.id&&r.has(o.id)&&(o.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},e.prototype.getExpandedRows=function(){var t=[];return this.rowModel.forEachNode(function(r){var o=r.expanded,i=r.id;o&&i&&t.push(i)}),t},e.prototype.expandAll=function(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)},e.prototype.setRowNodeExpanded=function(t,r,o){t&&(o&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,r,o),t.setExpanded(r))},e.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:x.ClientSideRowModelSteps.MAP})},Y$([P("rowModel")],e.prototype,"rowModel",void 0),Y$([se],e.prototype,"postConstruct",null),e=Y$([be("expansionService")],e),e}(re),TFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tf=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Rne=function(n){TFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t;this.activeMenuFactory=(t=this.enterpriseMenuFactory)!==null&&t!==void 0?t:this.filterMenuFactory},e.prototype.showColumnMenu=function(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")},e.prototype.showFilterMenu=function(t){var r=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(r,t,t.containerType,!0)},e.prototype.showHeaderContextMenu=function(t,r,o){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,r,o)},e.prototype.showContextMenu=function(t){var r,o,i,a=t.column,s=t.anchorToElement,l=t.rowNode,u=t.value;(r=this.contextMenuFactory)===null||r===void 0||r.onContextMenu((o=t.mouseEvent)!==null&&o!==void 0?o:null,(i=t.touchEvent)!==null&&i!==void 0?i:null,l!=null?l:null,a!=null?a:null,u,s)},e.prototype.showColumnChooser=function(t){var r;(r=this.columnChooserFactory)===null||r===void 0||r.showColumnChooser(t)},e.prototype.hidePopupMenu=function(){var t;(t=this.contextMenuFactory)===null||t===void 0||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()},e.prototype.hideColumnChooser=function(){var t;(t=this.columnChooserFactory)===null||t===void 0||t.hideActiveColumnChooser()},e.prototype.isColumnMenuInHeaderEnabled=function(t){var r=t.getColDef(),o=r.suppressMenu,i=r.suppressHeaderMenuButton,a=i!=null?i:o;return!a&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)},e.prototype.isFilterMenuInHeaderEnabled=function(t){return!t.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(t)},e.prototype.isHeaderContextMenuEnabled=function(t){return!(t!=null&&t.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"},e.prototype.isHeaderMenuButtonAlwaysShowEnabled=function(){return this.isSuppressMenuHide()},e.prototype.isHeaderMenuButtonEnabled=function(){var t=!this.isSuppressMenuHide(),r=af()&&t;return!r},e.prototype.isHeaderFilterButtonEnabled=function(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)},e.prototype.isFilterMenuItemEnabled=function(t){return this.filterManager.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)},e.prototype.isColumnMenuAnchoringEnabled=function(){return!this.isLegacyMenuEnabled()},e.prototype.areAdditionalColumnMenuItemsEnabled=function(){return this.getColumnMenuType()==="new"},e.prototype.isLegacyMenuEnabled=function(){return this.getColumnMenuType()==="legacy"},e.prototype.isFloatingFilterButtonEnabled=function(t){var r,o=t.getColDef(),i=(r=o.floatingFilterComponentParams)===null||r===void 0?void 0:r.suppressFilterButton;return i!=null&&ze("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),o.suppressFloatingFilterButton==null?!i:!o.suppressFloatingFilterButton},e.prototype.getColumnMenuType=function(){var t;return(t=this.gridOptionsService.get("columnMenu"))!==null&&t!==void 0?t:"legacy"},e.prototype.isFloatingFilterButtonDisplayed=function(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)},e.prototype.isSuppressMenuHide=function(){var t=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?t:!0},e.prototype.showColumnMenuCommon=function(t,r,o,i){var a=this,s=r.column,l=r.positionBy;if(l==="button"){var u=r.buttonElement;t.showMenuAfterButtonClick(s,u,o,i)}else if(l==="mouse"){var c=r.mouseEvent;t.showMenuAfterMouseEvent(s,c,o,i)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(function(){var d=a.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);t.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(i),o,!0)}))},tf([Ot("enterpriseMenuFactory")],e.prototype,"enterpriseMenuFactory",void 0),tf([P("filterMenuFactory")],e.prototype,"filterMenuFactory",void 0),tf([Ot("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),tf([P("ctrlsService")],e.prototype,"ctrlsService",void 0),tf([P("animationFrameService")],e.prototype,"animationFrameService",void 0),tf([Ot("columnChooserFactory")],e.prototype,"columnChooserFactory",void 0),tf([P("filterManager")],e.prototype,"filterManager",void 0),tf([se],e.prototype,"postConstruct",null),e=tf([be("menuService")],e),e}(re),PFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),G_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Tne=function(n){PFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(r){t.centerRowContainerCtrl=r.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,r){var o=this.getHeaderCellForColumn(t);if(!o)return-1;var i=this.rowRenderer.getAllCellsForColumn(t);return r||i.push(o),this.addElementsToContainerAndGetWidth(i)},e.prototype.getPreferredWidthForColumnGroup=function(t){var r=this.getHeaderCellForColumn(t);return r?this.addElementsToContainerAndGetWidth([r]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var r=this,o=document.createElement("form");o.style.position="fixed";var i=this.centerRowContainerCtrl.getContainerElement();t.forEach(function(l){return r.cloneItemIntoDummy(l,o)}),i.appendChild(o);var a=o.offsetWidth;i.removeChild(o);var s=this.getAutoSizePadding();return a+s},e.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},e.prototype.getHeaderCellForColumn=function(t){var r=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){var i=o.getHtmlElementForColumnHeader(t);i!=null&&(r=i)}),r},e.prototype.cloneItemIntoDummy=function(t,r){var o=t.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var i=document.createElement("div"),a=i.classList,s=["ag-header-cell","ag-header-group-cell"].some(function(f){return o.classList.contains(f)});s?(a.add("ag-header","ag-header-row"),i.style.position="static"):a.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(f){return l.classList.contains(f)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&a.add(d)}break}l=l.parentElement}i.appendChild(o),r.appendChild(i)},G_([P("rowRenderer")],e.prototype,"rowRenderer",void 0),G_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),G_([P("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),G_([se],e.prototype,"postConstruct",null),e=G_([be("autoWidthCalculator")],e),e}(re),OFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},IFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FFe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},LFe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},MFe=function(n){OFe(e,n);function e(t,r){var o=n.call(this)||this;return o.createRowCon=t,o.destroyRowCtrls=r,o.stickyRowCtrls=[],o.containerHeight=0,o}return e.prototype.postConstruct=function(){var t=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(r){t.gridBodyCtrl=r.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,r=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],r);for(var o=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(h){var m,v,g;o.push(h);var y;if(t.isClientSide){for(var C=h;C.isExpandable()&&C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=Vt(C.childrenAfterSort)}y=C.rowTop+C.rowHeight}else if(h.master)y=h.detailNode.rowTop+h.detailNode.rowHeight;else{var w=(m=h.childStore)===null||m===void 0?void 0:m.getStoreBounds();y=((v=w==null?void 0:w.heightPx)!==null&&v!==void 0?v:0)+((g=w==null?void 0:w.topPx)!==null&&g!==void 0?g:0)}var b=i+r+h.rowHeight;y<b?h.stickyRowTop=r+(y-b):h.stickyRowTop=r,r=0,o.forEach(function(E){var D=E.stickyRowTop+E.rowHeight;r<D&&(r=D)})},s=0;;){var l=i+r,u=this.rowModel.getRowIndexAtPixel(l),c=this.rowModel.getRow(u);if(c==null||c.level<0||s++===100)break;for(var d=[],f=c.parent;f.level>=0;)d.push(f),f=f.parent;var p=d.reverse().find(function(h){return o.indexOf(h)<0&&h.displayed});if(p){a(p);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<l){a(c);continue}break}return this.refreshNodesAndContainerHeight(o,r)},e.prototype.refreshStickyNode=function(t){for(var r=[],o=0;o<this.stickyRowCtrls.length;o++){var i=this.stickyRowCtrls[o].getRowNode();i!==t&&r.push(i)}this.refreshNodesAndContainerHeight(r,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,r){var o,i,a,s=this,l=!1,u=this.stickyRowCtrls.filter(function(v){return t.indexOf(v.getRowNode())===-1}),c=t.filter(function(v){return s.stickyRowCtrls.findIndex(function(g){return g.getRowNode()===v})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(v){d[v.getRowNode().id]=v,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(g){return g!==v})});try{for(var f=IFe(Object.values(d)),p=f.next();!p.done;p=f.next()){var h=p.value;h.getRowNode().sticky=!1}}catch(v){o={error:v}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}this.destroyRowCtrls(d,!1);var m=c.map(function(v){return v.sticky=!0,s.createRowCon(v,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,LFe([],FFe(m),!1)),this.stickyRowCtrls.forEach(function(v){return v.setRowTop(v.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(v,g){return g.getRowNode().rowIndex-v.getRowNode().rowIndex}),this.containerHeight!==r&&(this.containerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),l=!0),l},oI([P("rowModel")],e.prototype,"rowModel",void 0),oI([P("rowRenderer")],e.prototype,"rowRenderer",void 0),oI([P("ctrlsService")],e.prototype,"ctrlsService",void 0),oI([se],e.prototype,"postConstruct",null),e}(re),AFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),au=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Gp=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},Hp=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},NFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pne=function(n){AFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t.setupRangeSelectionListeners=function(){var r=function(){t.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},o=function(){t.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},i=function(){t.eventService.addEventListener(I.EVENT_RANGE_SELECTION_CHANGED,r),t.eventService.addEventListener(I.EVENT_COLUMN_MOVED,o),t.eventService.addEventListener(I.EVENT_COLUMN_PINNED,o),t.eventService.addEventListener(I.EVENT_COLUMN_VISIBLE,o)},a=function(){t.eventService.removeEventListener(I.EVENT_RANGE_SELECTION_CHANGED,r),t.eventService.removeEventListener(I.EVENT_COLUMN_MOVED,o),t.eventService.removeEventListener(I.EVENT_COLUMN_PINNED,o),t.eventService.removeEventListener(I.EVENT_COLUMN_VISIBLE,o)};t.addDestroyFunc(function(){return a()}),t.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?i():a()});var s=t.gridOptionsService.get("enableRangeSelection");s&&i()},t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){var t=this;if(this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,I.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,I.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return t.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return t.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return t.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var r=this.rowModel.getType();(r==="clientSide"||r==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new MFe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var t=this.getKeepDetailRowsCount(),r=t!=null?t:3;this.cachedRowCtrls=new kFe(r)}},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=eh(this.rowCtrlsByRowIndex),r=eh(this.zombieRowCtrls),o=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];r.length>0||o.length>0?this.allRowCtrls=Hp(Hp(Hp([],Gp(t),!1),Gp(r),!1),Gp(o),!1):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach(function(r){return r.onCellFocused(t)}),this.getFullWidthRowCtrls().forEach(function(r){return r.onFullWidthRowFocused(t)})},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_CELL_FOCUSED,function(r){t.onCellFocusChanged(r)}),this.addManagedListener(this.eventService,I.EVENT_CELL_FOCUS_CLEARED,function(){t.onCellFocusChanged()}),this.addManagedListener(this.eventService,I.EVENT_FLASH_CELLS,function(r){t.getAllCellCtrls().forEach(function(o){return o.onFlashCells(r)})}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(r){return r.onColumnHover()})}),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(r){return r.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(r){return r.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var r=this.columnModel.getAllGridColumns();r.forEach(function(o){var i=function(d){t.getAllCellCtrls().forEach(function(f){f.getColumn()===o&&d(f)})},a=function(){i(function(d){return d.onLeftChanged()})},s=function(){i(function(d){return d.onWidthChanged()})},l=function(){i(function(d){return d.onFirstRightPinnedChanged()})},u=function(){i(function(d){return d.onLastLeftPinnedChanged()})},c=function(){i(function(d){return d.onColDefChanged()})};o.addEventListener("leftChanged",a),o.addEventListener("widthChanged",s),o.addEventListener("firstRightPinnedChanged",l),o.addEventListener("lastLeftPinnedChanged",u),o.addEventListener("colDefChanged",c),t.destroyFuncsForColumnListeners.push(function(){o.removeEventListener("leftChanged",a),o.removeEventListener("widthChanged",s),o.removeEventListener("firstRightPinnedChanged",l),o.removeEventListener("lastLeftPinnedChanged",u),o.removeEventListener("colDefChanged",c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),r=t||this.gridOptionsService.get("embedFullWidthRows"),o=r!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=r,o&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var r={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(r)},e.prototype.getAllCellsForColumn=function(t){var r=[];return this.getAllRowCtrls().forEach(function(o){var i=o.getCellElement(t);i&&r.push(i)}),r},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,r){var o=this;t.forEach(function(i){i.destroyFirstPass(),i.destroySecondPass()}),t.length=0,r&&r.forEach(function(i){var a=new Jp(i,o.beans,!1,!1,o.printLayout);t.push(a)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.redrawRow=function(t,r){var o=this,i;if(r===void 0&&(r=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else if(!((i=this.cachedRowCtrls)===null||i===void 0)&&i.has(t)){this.cachedRowCtrls.removeRow(t);return}else{var a=function(s){var l=s[t.rowIndex];l&&l.getRowNode()===t&&(l.destroyFirstPass(),l.destroySecondPass(),s[t.rowIndex]=o.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}r||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var r=this,o=t!=null;if(o){t==null||t.forEach(function(i){return r.redrawRow(i,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var r=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(r==null)return null;var o=this.gridOptionsService.getDocument(),i=o.activeElement,a=this.gridOptionsService.getDomData(i,Qp.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(i,Jp.DOM_DATA_KEY_ROW_CTRL),l=a||s;return l?r:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var r=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var o=!t.domLayoutChanged&&!!t.recycleRows,i=t.animate&&this.gridOptionsService.isAnimateRows(),a=o?this.getRowsToRecycle():null;o||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,i),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),r!=null&&this.restoreFocusedCell(r),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var r=t.newData||t.newPage,o=this.gridOptionsService.get("suppressScrollOnNewData");r&&!o&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(r){r.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){for(var t=[],r=this.getAllRowCtrls(),o=r.length,i=0;i<o;i++)for(var a=r[i].getAllCellCtrls(),s=a.length,l=0;l<s;l++)t.push(a[l]);return t},e.prototype.getAllRowCtrls=function(){var t,r,o=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],i=Hp(Hp(Hp([],Gp(this.topRowCtrls),!1),Gp(this.bottomRowCtrls),!1),Gp(o),!1);try{for(var a=NFe(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next()){var l=s.value;i.push(this.rowCtrlsByRowIndex[l])}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},e.prototype.addRenderedRowListener=function(t,r,o){var i=this.rowCtrlsByRowIndex[r];i&&i.addEventListener(t,o)},e.prototype.flashCells=function(t){t===void 0&&(t={}),this.getCellCtrls(t.rowNodes,t.columns).forEach(function(r){return r.flashCell(t)})},e.prototype.refreshCells=function(t){var r=this;t===void 0&&(t={});var o={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(i){return i.refreshOrDestroyCell(o)}),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(function(i){if(i.isFullWidth()){var a=i.refreshFullWidth();a||r.redrawRow(i.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var r=this,o,i=this.getCellCtrls(t.rowNodes,t.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((o=t.columns)===null||o===void 0)&&o.length)return i;var a=[],s=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(s&&!r.isRowInMap(l.getRowNode(),s))&&l.isFullWidth())for(var u=l.getFullWidthCellRenderers(),c=0;c<u.length;c++){var d=u[c];d!=null&&a.push(d)}}),Hp(Hp([],Gp(a),!1),Gp(i),!1)},e.prototype.getCellEditorInstances=function(t){var r=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){var i=o.getCellEditor();i&&r.push(i)}),r},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(r){if(r.isEditing()){var o=r.getCellPosition();t.push(o)}}),t},e.prototype.mapRowNodes=function(t){if(t){var r={top:{},bottom:{},normal:{}};return t.forEach(function(o){var i=o.id;o.rowPinned==="top"?r.top[i]=o:o.rowPinned==="bottom"?r.bottom[i]=o:r.normal[i]=o}),r}},e.prototype.isRowInMap=function(t,r){var o=t.id,i=t.rowPinned;return i==="bottom"?r.bottom[o]!=null:i==="top"?r.top[o]!=null:r.normal[o]!=null},e.prototype.getRowCtrls=function(t){var r=this,o=this.mapRowNodes(t),i=this.getAllRowCtrls();return!t||!o?i:i.filter(function(a){var s=a.getRowNode();return r.isRowInMap(s,o)})},e.prototype.getCellCtrls=function(t,r){var o=this,i;te(r)&&(i={},r.forEach(function(s){var l=o.columnModel.getGridColumn(s);te(l)&&(i[l.getId()]=!0)}));var a=[];return this.getRowCtrls(t).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=i&&!i[u];c||a.push(l)})}),a},e.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];bi(this.rowCtrlsByRowIndex,function(o,i){var a=i.getRowNode().id==null;a&&t.push(o)}),this.removeRowCtrls(t);var r={};return bi(this.rowCtrlsByRowIndex,function(o,i){var a=i.getRowNode();r[a.id]=i}),this.rowCtrlsByRowIndex={},r},e.prototype.removeRowCtrls=function(t,r){var o=this;r===void 0&&(r=!1),t.forEach(function(i){var a=o.rowCtrlsByRowIndex[i];a&&(a.destroyFirstPass(r),a.destroySecondPass()),delete o.rowCtrlsByRowIndex[i]})},e.prototype.onBodyScroll=function(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){t===void 0&&(t={});var r=t.afterScroll,o;this.stickyRowFeature&&s3()&&(o=this.getCellToRestoreFocusToAfterRefresh()||void 0);var i=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==i||this.lastRenderedRow!==a;if(!(r&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!s),o!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();o!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(o))}},e.prototype.removeRowCompsNotToDraw=function(t,r){var o={};t.forEach(function(s){return o[s]=!0});var i=Object.keys(this.rowCtrlsByRowIndex),a=i.filter(function(s){return!o[s]});this.removeRowCtrls(a,r)},e.prototype.calculateIndexesToDraw=function(t){var r=this,o=nte(this.firstRenderedRow,this.lastRenderedRow),i=function(c,d){var f=d.getRowNode().rowIndex;f!=null&&(f<r.firstRenderedRow||f>r.lastRenderedRow)&&r.doNotUnVirtualiseRow(d)&&o.push(f)};bi(this.rowCtrlsByRowIndex,i),bi(t,i),o.sort(function(c,d){return c-d});for(var a=[],s=0;s<o.length;s++){var l=o[s],u=this.paginationProxy.getRow(l);u&&!u.sticky&&a.push(l)}return a},e.prototype.recycleRows=function(t,r,o){var i=this;r===void 0&&(r=!1),o===void 0&&(o=!1);var a=this.calculateIndexesToDraw(t);if((this.printLayout||o)&&(r=!1),this.removeRowCompsNotToDraw(a,!r),a.forEach(function(l){var u=i.createOrUpdateRowCtrl(l,t,r,o);te(u)}),t){var s=o&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;s?this.beans.animationFrameService.addDestroyTask(function(){i.destroyRowCtrls(t,r),i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,r)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){t===void 0&&(t=!1);var r={type:I.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(r)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),r=this.columnModel.isPinningRight(),o=this.pinningLeft!==t||r!==this.pinningRight;o&&(this.pinningLeft=t,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(r){var o=r.getRowNode().rowIndex;t.push(o.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var r=this,o=this.mapRowNodes(t);return this.getAllRowCtrls().filter(function(i){if(!i.isFullWidth())return!1;var a=i.getRowNode();return!(o!=null&&!r.isRowInMap(a,o))})},e.prototype.createOrUpdateRowCtrl=function(t,r,o,i){var a,s=this.rowCtrlsByRowIndex[t];s||(a=this.paginationProxy.getRow(t),te(a)&&te(r)&&r[a.id]&&a.alreadyRendered&&(s=r[a.id],r[a.id]=null));var l=!s;if(l)if(a||(a=this.paginationProxy.getRow(t)),te(a))s=this.createRowCon(a,o,i);else return;return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s},e.prototype.destroyRowCtrls=function(t,r){var o=this,i=[];bi(t,function(a,s){if(s){if(o.cachedRowCtrls&&s.isCacheable()){o.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!r),r?(o.zombieRowCtrls[s.getInstanceId()]=s,i.push(function(){s.destroySecondPass(),delete o.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),r&&(i.push(function(){o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}),vee(i))},e.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},e.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),r=this.gridOptionsService.getRowHeightAsNumber();return t*r},e.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var t,r;if(!this.paginationProxy.isRowsToRender())t=0,r=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow();else{var o=this.getRowBufferInPixels(),i=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),f=d.pageFirstPixel,p=d.pageLastPixel,h=this.rowContainerHeightService.getDivStretchOffset(),m=i.getScrollFeature().getVScrollPosition(),v=m.top,g=m.bottom;a?(l=f+h,u=p+h):(l=Math.max(v+c-o,f)+h,u=Math.min(g+c+o,p)+h),this.firstVisibleVPixel=Math.max(v+c,f)+h,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(s);var y=this.paginationProxy.getRowIndexAtPixel(l),C=this.paginationProxy.getRowIndexAtPixel(u),w=this.paginationProxy.getPageFirstRow(),b=this.paginationProxy.getPageLastRow();y<w&&(y=w),C>b&&(C=b),t=y,r=C}var E=this.gridOptionsService.isDomLayout("normal"),D=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),S=Math.max(this.getRowBuffer(),500);E&&!D&&r-t>S&&(r=t+S);var T=t!==this.firstRenderedRow,O=r!==this.lastRenderedRow;if(T||O){this.firstRenderedRow=t,this.lastRenderedRow=r;var L={type:I.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:r};this.eventService.dispatchEvent(L)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var r={type:I.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(r)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,r){var o=this.paginationProxy.ensureRowHeightsValid(t,r,-1,-1);return o&&this.updateContainerHeights(),o},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var r=!1,o=!0,i=t.getRowNode(),a=this.focusService.isRowNodeFocused(i),s=t.isEditing(),l=i.detail,u=a||s||l;if(!u)return r;var c=this.paginationProxy.isRowPresent(i);return c?o:r},e.prototype.createRowCon=function(t,r,o){var i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(i)return i;var a=this.gridOptionsService.get("suppressAnimationFrame"),s=o&&!a&&!this.printLayout,l=new Jp(t,this.beans,r,s,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(r){return t[r].getRowNode()})},e.prototype.getRowByPosition=function(t){var r,o=t.rowIndex;switch(t.rowPinned){case"top":r=this.topRowCtrls[o];break;case"bottom":r=this.bottomRowCtrls[o];break;default:r=this.rowCtrlsByRowIndex[o],r||(r=this.getStickyTopRowCtrls().find(function(i){return i.getRowNode().rowIndex===o})||null);break}return r},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,r){var o=t==null||r==null;if(o)return!1;var i=t>this.lastRenderedRow,a=r<this.firstRenderedRow,s=!a&&!i;return s},au([P("animationFrameService")],e.prototype,"animationFrameService",void 0),au([P("paginationProxy")],e.prototype,"paginationProxy",void 0),au([P("columnModel")],e.prototype,"columnModel",void 0),au([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),au([P("rowModel")],e.prototype,"rowModel",void 0),au([P("focusService")],e.prototype,"focusService",void 0),au([P("beans")],e.prototype,"beans",void 0),au([P("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),au([P("ctrlsService")],e.prototype,"ctrlsService",void 0),au([se],e.prototype,"postConstruct",null),e=au([be("rowRenderer")],e),e}(re),kFe=function(){function n(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return n.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},n.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var r=t.getRowNode()!=e;return r?null:t},n.prototype.has=function(e){return this.entriesMap[e.id]!=null},n.prototype.removeRow=function(e){var t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],Ca(this.entriesList,r)},n.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],Ca(this.entriesList,e)},n.prototype.getEntries=function(){return this.entriesList},n}(),VFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},One=function(n){VFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.formatValue=function(t,r,o,i,a){a===void 0&&(a=!0);var s=null,l,u=t.getColDef();if(i?l=i:a&&(l=u.valueFormatter),l){var c=this.gridOptionsService.addGridCommonParams({value:o,node:r,data:r?r.data:null,colDef:u,column:t});typeof l=="function"?s=l(c):s=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[o]||"";return s==null&&Array.isArray(o)&&(s=o.join(", ")),s},MJ([P("expressionService")],e.prototype,"expressionService",void 0),e=MJ([be("valueFormatterService")],e),e}(re),GFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Ine=function(n){GFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return t.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return t.setPinnedBottomRowData()})},e.prototype.isEmpty=function(t){var r=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return os(r)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,r){var o=r==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(os(o))return 0;for(var i=0;i<o.length;i++){var a=o[i],s=a.rowTop+a.rowHeight-1;if(s>=t)return i}return o.length-1},e.prototype.setPinnedTopRowData=function(){var t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0);var r={type:I.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},e.prototype.setPinnedBottomRowData=function(){var t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1);var r={type:I.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},e.prototype.createNodesFromData=function(t,r){var o=this,i=[];if(t){var a=0;t.forEach(function(s,l){var u=new lt(o.beans);u.data=s;var c=r?lt.ID_PREFIX_TOP_PINNED:lt.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=r?"top":"bottom",u.setRowTop(a),u.setRowHeight(o.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),a+=u.rowHeight,i.push(u)})}return i},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){os(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){os(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var r=Vt(t);return r.rowTop+r.rowHeight},X$([P("beans")],e.prototype,"beans",void 0),X$([se],e.prototype,"init",null),e=X$([be("pinnedRowModel")],e),e}(re);(function(n){n.Applied="Applied",n.StoreNotFound="StoreNotFound",n.StoreLoading="StoreLoading",n.StoreWaitingToLoad="StoreWaitingToLoad",n.StoreLoadingFailed="StoreLoadingFailed",n.StoreWrongType="StoreWrongType",n.Cancelled="Cancelled",n.StoreNotStarted="StoreNotStarted"})(x.ServerSideTransactionResultStatus||(x.ServerSideTransactionResultStatus={}));var wE=function(){function n(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)},n.prototype.depthFirstSearchEverything=function(e,t,r){if(e.childrenAfterGroup)for(var o=0;o<e.childrenAfterGroup.length;o++){var i=e.childrenAfterGroup[o];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[o],t,r):r&&t(i)}t(e)},n.prototype.forEachChangedNodeDepthFirst=function(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1),this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},n.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},n.prototype.createPathItems=function(e){for(var t=e,r=0;!this.mapToItems[t.id];){var o={rowNode:t,children:null};this.mapToItems[t.id]=o,r++,t=t.parent}return r},n.prototype.populateColumnsMap=function(e,t){var r=this;if(!(!this.keepingColumns||!t))for(var o=e;o;)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),t.forEach(function(i){return r.nodeIdsToColumns[o.id][i.getId()]=!0}),o=o.parent},n.prototype.linkPathItems=function(e,t){for(var r=e,o=0;o<t;o++){var i=this.mapToItems[r.id],a=this.mapToItems[r.parent.id];a.children||(a.children=[]),a.children.push(i),r=r.parent}},n.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}},n.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},n.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var r=this.nodeIdsToColumns[e.id],o=t.filter(function(i){return r[i.getId()]});return o},n.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[e.id],o=t.filter(function(i){return!r[i.getId()]});return o},n}(),HFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HI=function(n){HFe(e,n);function e(t){var r=n.call(this)||this;return r.state=e.STATE_WAITING_TO_LOAD,r.version=0,r.id=t,r}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var r=this.isRequestMostRecentAndLive(t);r&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,r){this.successCommon(t,r)},e.prototype.pageLoaded=function(t,r,o){this.successCommon(t,{rowData:r,rowCount:o})},e.prototype.isRequestMostRecentAndLive=function(t){var r=t===this.version,o=this.isAlive();return r&&o},e.prototype.successCommon=function(t,r){this.dispatchLoadCompleted();var o=this.isRequestMostRecentAndLive(t);o&&(this.state=e.STATE_LOADED,this.processServerResult(r))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var r={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(r)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(re),$Fe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},BFe=function(n,e){return function(t,r){e(t,r,n)}},Fne=function(n){$Fe(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var r=this.gridOptionsService.get("blockLoadDebounceMillis");r&&r>0&&(this.checkBlockToLoadDebounce=ut.debounce(this.performCheckBlocksToLoad.bind(this),r))},e.prototype.setBeans=function(r){this.logger=r.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var r=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(r==null)return 2;if(!(r<=0))return r},e.prototype.addBlock=function(r){this.blocks.push(r),r.addEventListener(HI.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(r){ut.removeFromArray(this.blocks,r)},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:t.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var r=this.getAvailableLoadingCount(),o=this.blocks.filter(function(i){return i.getState()===HI.STATE_WAITING_TO_LOAD}).slice(0,r);this.registerLoads(o.length),o.forEach(function(i){return i.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var r=this.rowModel;return r.getBlockStates()}var o={};return this.blocks.forEach(function(i){var a=i.getBlockStateJson(),s=a.id,l=a.state;o[s]=l}),o},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(r){this.activeBlockLoadsCount+=r},e.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var t;return e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",iI([P("rowModel")],e.prototype,"rowModel",void 0),iI([se],e.prototype,"postConstruct",null),iI([BFe(0,ss("loggerFactory"))],e.prototype,"setBeans",null),e=t=iI([be("rowNodeBlockLoader")],e),e}(re),WFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Z$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Lne=function(n){WFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,I.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,r,o,i){var a=this.rowModel.ensureRowHeightsValid(t,r,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},e.prototype.isPaginateChildRows=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return t?!0:this.gridOptionsService.get("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var r={type:I.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,newPageSize:t?t.newPageSize:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(r)},e.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var t={type:I.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t||typeof this.currentPage!="number")){this.currentPage=t;var r={type:I.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(r)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return Ke(this.topRowBounds)||Ke(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,r=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:r}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var r=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return r},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var r=this.getPageFirstRow(),o=this.getPageLastRow(),i=r;i<=o;i++){var a=this.getRow(i);a&&t(a)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var r=this.rowModel.getRowBounds(t);return r.rowIndex=t,r},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var r=this.getPageForIndex(t);this.goToPage(r)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var r=this.getPageForIndex(t.rowIndex);return r===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),r=Math.floor(t/this.pageSize);this.goToPage(r)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPage=function(t){this.currentPage=t},Object.defineProperty(e.prototype,"pageSize",{get:function(){return te(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:te(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:te(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:te(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),e.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:I.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},e.prototype.setPageSize=function(t,r){var o=this.pageSize;switch(r){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(o!==this.pageSize){var i={type:I.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(i)}},e.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(te(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:I.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var r=this.pageSize*this.currentPage,o=this.pageSize*(this.currentPage+1)-1;if(o>t&&(o=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(r),o===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var i=this.rowModel.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=i-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Z$([P("rowModel")],e.prototype,"rowModel",void 0),Z$([se],e.prototype,"postConstruct",null),e=Z$([be("paginationProxy")],e),e}(re),zFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Mne=function(n){zFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,r,o,i){this.processClassRules(void 0,t.cellClassRules,r,o,i),this.processStaticCellClasses(t,r,o)},e.prototype.processClassRules=function(t,r,o,i,a){if(!(r==null&&t==null)){var s={},l={},u=function(h,m){h.split(" ").forEach(function(v){v.trim()!=""&&m(v)})};if(r)for(var c=Object.keys(r),d=function(h){var m=c[h],v=r[m],g;typeof v=="string"?g=f.expressionService.evaluate(v,o):typeof v=="function"&&(g=v(o)),u(m,function(y){g?s[y]=!0:l[y]=!0})},f=this,p=0;p<c.length;p++)d(p);t&&a&&Object.keys(t).forEach(function(h){return u(h,function(m){s[m]||(l[m]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(i)}},e.prototype.getStaticCellClasses=function(t,r){var o=t.cellClass;if(!o)return[];var i;if(typeof o=="function"){var a=o;i=a(r)}else i=o;return typeof i=="string"&&(i=[i]),i||[]},e.prototype.processStaticCellClasses=function(t,r,o){var i=this.getStaticCellClasses(t,r);i.forEach(function(a){o(a)})},AJ([P("expressionService")],e.prototype,"expressionService",void 0),e=AJ([be("stylingService")],e),e}(re),UFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ane=function(n){UFe(e,n);function e(t){return n.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,r){return n.prototype.setValue.call(this,t,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(gE),jFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nne=function(n){jFe(e,n);function e(t){return n.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,r){var o=n.prototype.setValue.call(this,t,r);return this.eInput.value=t,o},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Xp),KFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kne=function(n){KFe(e,n);function e(t){return n.call(this,t,"ag-date-field","date")||this}return e.prototype.postConstruct=function(){var t=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var r=Vc();this.addManagedListener(this.eInput,"mousedown",function(){t.isDisabled()||r||t.eInput.focus()}),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var r,o=t instanceof Date?(r=ul(t!=null?t:null,!1))!==null&&r!==void 0?r:void 0:t;return this.min===o?this:(this.min=o,kc(this.eInput,"min",o),this)},e.prototype.setMax=function(t){var r,o=t instanceof Date?(r=ul(t!=null?t:null,!1))!==null&&r!==void 0?r:void 0:t;return this.max===o?this:(this.max=o,kc(this.eInput,"max",o),this)},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,kc(this.eInput,"step",t),this)},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return(t=Sa(this.getValue()))!==null&&t!==void 0?t:void 0},e.prototype.setDate=function(t,r){this.setValue(ul(t!=null?t:null,!1),r)},e}(oh),qFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vne=function(n){qFe(e,n);function e(t){return n.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var t=this.config,r=t.min,o=t.max,i=t.step;r!=null&&this.setMinValue(r),o!=null&&this.setMaxValue(o),this.setStep(i||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(r){var o=r.target.value;t.setValue(o)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,r){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var o=n.prototype.setValue.call(this,t,r);return this.eInput.value=t,o},e}(Xp),YFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},XFe=function(n){YFe(e,n);function e(t,r){var o=n.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return o.params=t,o.wrapperEl=r,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},e.prototype.setState=function(t){var r="";this.params.valueFormatter&&(r=this.params.valueFormatter(t));var o=this.populateWithRenderer(t,r);o||this.populateWithoutRenderer(t,r),this.value=t},e.prototype.highlightString=function(t){var r=this.parsedValue;if(!(this.params.cellRenderer||!te(r))){var o=te(t);if(o){var i=r==null?void 0:r.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){var a=i+t.length,s=ro(r.slice(0,i),!0),l=ro(r.slice(i,a),!0),u=ro(r.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else o=!1}o||this.renderValueWithoutRenderer(r)}},e.prototype.updateHighlighted=function(t){var r,o=this.getGui(),i="ag-rich-select-row-".concat(this.getCompId());if((r=o.parentElement)===null||r===void 0||r.setAttribute("id",i),t){var a=this.getParentComponent().getAriaElement();ZB(a,i),this.wrapperEl.setAttribute("data-active-option",i)}RC(o.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,r){var o=this.gridOptionsService.getDocument(),i=this.getGui(),a=o.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=ro(te(r)?r:t,!0);this.parsedValue=te(s)?s:null,i.appendChild(a),this.renderValueWithoutRenderer(s)},e.prototype.renderValueWithoutRenderer=function(t){var r=this.getGui().querySelector("span");r&&(r.innerHTML=te(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,r){var o=this,i,a;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:r})),a&&(i=a.newAgStackInstance()),i&&C3(i,this.getGui()),i?(i.then(function(s){o.addDestroyFunc(function(){o.getContext().destroyBean(s)})}),!0):!1},e.prototype.onClick=function(){var t=this.getParentComponent(),r={type:I.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t==null||t.dispatchEvent(r)},NJ([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),NJ([se],e.prototype,"postConstruct",null),e}(rt),ZFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},H3=function(n){ZFe(e,n);function e(t){var r=n.call(this,e.getTemplate((t==null?void 0:t.cssIdentifier)||"default"))||this;r.renderedRows=new Map,r.rowHeight=20;var o=t||{},i=o.cssIdentifier,a=i===void 0?"default":i,s=o.ariaRole,l=s===void 0?"listbox":s,u=o.listName;return r.cssIdentifier=a,r.ariaRole=l,r.listName=u,r}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(r){return t.onFocusIn(r)},onFocusOut:function(r){return t.onFocusOut(r)},focusInnerElement:function(r){return t.focusInnerElement(r)},onTabKeyDown:function(r){return t.onTabKeyDown(r)},handleKeyDown:function(r){return t.handleKeyDown(r)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc(),r=t("ariaDefaultListName",this.listName||"List"),o=this.eContainer;oo(o,this.ariaRole),th(o,r)},e.prototype.addResizeObserver=function(){var t=this,r=function(){return t.animationFrameService.requestAnimationFrame(function(){return t.drawVirtualRows()})},o=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(o)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var r=t.target;r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Gee(r)-1)},e.prototype.onFocusOut=function(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)},e.prototype.handleKeyDown=function(t){switch(t.key){case j.UP:case j.DOWN:this.navigate(t.key===j.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(fu(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var r=this.lastFocusedRowIndex+(t?-1:1);return r<0||r>=this.model.getRowCount()?!1:(this.focusRow(r),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var r=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(r.isAlive()){var o=r.renderedRows.get(t);o&&o.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var r=this.renderedRows.get(t);return r&&r.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(r,o){return t(r.rowComponent,o)})},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'.concat(t,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(t,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,r){r===void 0&&(r=!0);var o=this.model.getRowCount();if(typeof t!="number"||t<0||t>=o)return!1;var i=t*this.rowHeight,a=i+this.rowHeight,s=this.getGui(),l=s.scrollTop,u=s.offsetHeight,c=l+u,d=r?0:this.rowHeight,f=l>i+d,p=c<a-d;if(f)return s.scrollTop=i,!0;if(p){var h=a-u;return s.scrollTop=h,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var r=this;if(!(this.model==null||!this.isAlive())){var o=this.model.getRowCount();this.eContainer.style.height="".concat(o*this.rowHeight,"px"),BB(function(){return r.eContainer.clientHeight>=o*r.rowHeight},function(){r.isAlive()&&(r.canSoftRefresh(t)?r.drawVirtualRows(!0):(r.clearVirtualRows(),r.drawVirtualRows()))})}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(r,o){return t.removeRow(o)})},e.prototype.drawVirtualRows=function(t){if(!(!this.isAlive()||!this.model)){var r=this.getGui(),o=r.scrollTop,i=o+r.offsetHeight,a=Math.floor(o/this.rowHeight),s=Math.floor(i/this.rowHeight);this.ensureRowsRendered(a,s,t)}},e.prototype.ensureRowsRendered=function(t,r,o){var i=this;this.renderedRows.forEach(function(s,l){(l<t||l>r)&&l!==i.lastFocusedRowIndex&&i.removeRow(l)}),o&&this.refreshRows();for(var a=t;a<=r;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},e.prototype.insertRow=function(t){var r=this,o=this.model.getRow(t),i=document.createElement("div");i.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),oo(i,this.ariaRole==="tree"?"treeitem":"option"),QB(i,this.model.getRowCount()),JB(i,t+1),i.setAttribute("tabindex","-1"),i.style.height="".concat(this.rowHeight,"px"),i.style.top="".concat(this.rowHeight*t,"px");var a=this.componentCreator(o,i);a.addGuiEventListener("focusin",function(){return r.lastFocusedRowIndex=t}),i.appendChild(a.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(t,{rowComponent:a,eDiv:i,value:o})},e.prototype.removeRow=function(t){var r=this.renderedRows.get(t);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,r=this.model.getRowCount();this.renderedRows.forEach(function(o,i){var a,s;if(i>=r)t.removeRow(i);else{var l=t.model.getRow(i);!((s=(a=t.model).areRowsEqual)===null||s===void 0)&&s.call(a,o.value,l)?t.componentUpdater(l,o.rowComponent):t.removeRow(i)}})},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()},{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),n.prototype.destroy.call(this))},aI([P("resizeObserverService")],e.prototype,"resizeObserverService",void 0),aI([P("animationFrameService")],e.prototype,"animationFrameService",void 0),aI([he("eContainer")],e.prototype,"eContainer",void 0),aI([se],e.prototype,"postConstruct",null),e}(OC),QFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$I=function(){return $I=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},$I.apply(this,arguments)},kJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},JFe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Gne=function(n){QFe(e,n);function e(t){var r=this,o,i;r=n.call(this,$I($I({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(o=t==null?void 0:t.template)!==null&&o!==void 0?o:JFe,modalPicker:!1},t),{maxPickerHeight:(i=t==null?void 0:t.maxPickerHeight)!==null&&i!==void 0?i:"calc(var(--ag-row-height) * 6.5)"}))||this,r.searchString="",r.highlightedItem=-1,r.lastRowHovered=-1,r.searchStringCreator=null;var a=t||{},s=a.cellRowHeight,l=a.value,u=a.valueList,c=a.searchStringCreator;return s!=null&&(r.cellRowHeight=s),l!==void 0&&(r.value=l),u!=null&&(r.values=u),c&&(r.searchStringCreator=c),r}return e.prototype.postConstruct=function(){var t=this;n.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var r=this.config,o=r.allowTyping,i=r.placeholder;o?(this.eInput.setAutoComplete(!1).setInputPlaceholder(i),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay,s=a===void 0?300:a;this.clearSearchString=as(this.clearSearchString,s),this.renderSelectedValue(),o&&(this.eInput.onValueChange(function(l){return t.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),r=this.localeService.getLocaleTextFunc(),o=t.createElement("div");o.classList.add("ag-loading-text"),o.innerText=r("loadingOoo","Loading..."),this.eLoading=o},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new H3({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));var r=function(c,d){};this.listComponent.setComponentUpdater(r),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,I.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){t.onListValueSelected(c.value,c.fromEnterKey)});var o=this.cellRowHeight;o&&this.listComponent.setRowHeight(o);var i=this.listComponent.getGui(),a=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(c){return c.preventDefault()}),i.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());a.setAttribute("id",s);var l=this.localeService.getLocaleTextFunc(),u=l(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);th(a,u),n3(this.eWrapper,a)},e.prototype.renderSelectedValue=function(){var t=this,r=this,o=r.value,i=r.eDisplayField,a=r.config,s=this.config,l=s.allowTyping,u=s.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(o):o;if(l){this.eInput.setValue(u!=null?u:c);return}var d;a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:o,valueFormatted:c}));var f;if(d&&(f=d.newAgStackInstance()),f)wo(i),C3(f,i),f.then(function(h){t.addDestroyFunc(function(){return t.getContext().destroyBean(h)})});else if(te(this.value))i.innerText=c,i.classList.remove("ag-display-as-placeholder");else{var p=a.placeholder;te(p)?(i.innerHTML="".concat(ro(p)),i.classList.add("ag-display-as-placeholder")):wo(i)}},e.prototype.getCurrentValueIndex=function(){var t=this,r=t.currentList,o=t.value;if(o==null||!r)return-1;for(var i=0;i<r.length;i++)if(r[i]===o)return i;return-1},e.prototype.highlightFilterMatch=function(){var t=this,r;(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(o,i){o.highlightString(t.searchString)})},e.prototype.highlightSelectedValue=function(t){var r=this,o;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(o=this.listComponent)===null||o===void 0||o.forEachRenderedRow(function(i,a){var s=t===-1?!1:r.highlightedItem===a;i.updateHighlighted(s)})},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var r=t.valueList,o=t.refresh;this.listComponent&&this.currentList!==r&&(this.currentList=r,this.listComponent.setModel({getRowCount:function(){return r.length},getRow:function(i){return r[i]},areRowsEqual:function(i,a){return i===a}}),o&&(this.values?this.listComponent.refresh(!0):(this.values=r,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){n.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},e.prototype.showCurrentValueInPicker=function(){var t,r;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((t=this.eLoading)===null||t===void 0)&&t.offsetParent&&((r=this.eLoading.parentElement)===null||r===void 0||r.removeChild(this.eLoading));var o=this.getCurrentValueIndex();o!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(o),this.listComponent.refresh(!0),this.highlightSelectedValue(o)):this.listComponent.refresh()}},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,n.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(){if(this.eInput){var t=this.eInput.getFocusableElement();t.focus(),t.select()}},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var r=t.key;if(r===j.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!XI(t))return;t.preventDefault(),this.searchTextFromCharacter(r)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){t==null&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var r=this.config.valueFormatter,o=r===void 0?function(a){return a}:r,i;return typeof t[0]=="number"||typeof t[0]=="string"?i=t.map(function(a){return o(a)}):typeof t[0]=="object"&&this.searchStringCreator&&(i=this.searchStringCreator(t)),i},e.prototype.getSuggestionsAndFilteredValues=function(t,r){var o=this,i=[],a=[];if(!t.length)return{suggestions:i,filteredValues:a};var s=this.config,l=s.searchType,u=l===void 0?"fuzzy":l,c=s.filterList;if(u==="fuzzy"){var d=hE(this.searchString,r,!0);i=d.values;var f=d.indices;if(c&&f.length)for(var p=0;p<f.length;p++)a.push(this.values[f[p]])}else i=r.filter(function(h,m){var v=h.toLocaleLowerCase(),g=o.searchString.toLocaleLowerCase(),y=u==="match"?v.startsWith(g):v.indexOf(g)!==-1;return c&&y&&a.push(o.values[m]),y});return{suggestions:i,filteredValues:a}},e.prototype.filterListModel=function(t){var r=this.config.filterList;r&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())},e.prototype.runSearch=function(){var t,r,o=this.values,i=this.buildSearchStrings(o);if(!i){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,i),s=a.suggestions,l=a.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,f=u.searchType,p=f===void 0?"fuzzy":f,h=l.length,m=!!(c&&this.searchString!=="");if(this.filterListModel(m?l:o),s.length){var v=m?0:i.indexOf(s[0]);this.selectListItem(v)}else if(this.highlightSelectedValue(-1),!m||h)(t=this.listComponent)===null||t===void 0||t.ensureIndexVisible(0);else if(m){this.getAriaElement().removeAttribute("data-active-option");var g=(r=this.listComponent)===null||r===void 0?void 0:r.getAriaElement();g&&ZB(g,null)}d&&p!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},e.prototype.displayOrHidePicker=function(){var t,r=(t=this.listComponent)===null||t===void 0?void 0:t.getGui(),o=this.currentList?this.currentList.length===0:!1;r==null||r.classList.toggle("ag-hidden",o)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,r){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length)){var o=this.listComponent.ensureIndexVisible(t,!r);o&&!r&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}},e.prototype.setValue=function(t,r,o){var i=this.currentList?this.currentList.indexOf(t):-1;return i===-1?this:(this.value=t,o||this.selectListItem(i),this.renderSelectedValue(),n.prototype.setValue.call(this,t,r))},e.prototype.createRowComponent=function(t){var r=new XFe(this.config,this.eWrapper);r.setParentComponent(this.listComponent),this.getContext().createBean(r),r.setState(t);var o=this.config,i=o.highlightMatch,a=o.searchType,s=a===void 0?"fuzzy":a;return i&&s!=="fuzzy"&&r.highlightString(this.searchString),r},e.prototype.getRowForMouseEvent=function(t){var r=this.listComponent;if(!r)return-1;var o=r==null?void 0:r.getGui(),i=o.getBoundingClientRect(),a=r.getScrollTop(),s=t.clientY-i.top+a;return Math.floor(s/r.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var r=this.getRowForMouseEvent(t);r!==-1&&r!=this.lastRowHovered&&(this.lastRowHovered=r,this.selectListItem(r,!0))}},e.prototype.onNavigationKeyDown=function(t,r){t.preventDefault();var o=r===j.DOWN;if(!this.isPickerDisplayed&&o){this.showPicker();return}var i=this.highlightedItem,a=o?1:-1,s=i===-1?0:i+a;this.selectListItem(s)},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,r){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,r),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,r){var o={type:I.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:r,value:t};this.dispatchEvent(o)},e.prototype.getFocusableElement=function(){var t=this.config.allowTyping;return t?this.eInput.getFocusableElement():n.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var r=t.key,o=this.config.allowTyping;switch(r){case j.LEFT:case j.RIGHT:case j.PAGE_HOME:case j.PAGE_END:o||t.preventDefault();break;case j.PAGE_UP:case j.PAGE_DOWN:t.preventDefault();break;case j.DOWN:case j.UP:this.onNavigationKeyDown(t,r);break;case j.ESCAPE:this.isPickerDisplayed&&(ls(this.listComponent.getGui())&&(t.preventDefault(),fu(t)),this.hidePicker());break;case j.ENTER:this.onEnterKeyDown(t);break;case j.TAB:this.onTabKeyDown();break;default:o||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,n.prototype.destroy.call(this)},kJ([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),kJ([he("eInput")],e.prototype,"eInput",void 0),e}(D3),eLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Hne=function(n){eLe(e,n);function e(t){var r=n.call(this,t,e.TEMPLATE)||this;return r.labelAlignment="top",r}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var r=this,o=I.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,o,function(){var i=parseFloat(r.eText.getValue());r.eSlider.setValue(i.toString(),!0),t(i||0)}),this.addManagedListener(this.eSlider,o,function(){var i=r.eSlider.getValue();r.eText.setValue(i,!0),t(parseFloat(i))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,sI([he("eLabel")],e.prototype,"eLabel",void 0),sI([he("eSlider")],e.prototype,"eSlider",void 0),sI([he("eText")],e.prototype,"eText",void 0),sI([se],e.prototype,"init",null),e}(E3),tLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$p=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},$ne=function(n){tLe(e,n);function e(t){t===void 0&&(t={});var r=n.call(this,e.getTemplate(t))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var o=t.title,i=t.enabled,a=t.items,s=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return r.title=o,r.cssIdentifier=t.cssIdentifier||"default",r.enabled=i!=null?i:!0,r.items=a||[],r.alignItems=t.alignItems||"center",s!=null&&(r.suppressEnabledCheckbox=s),l!=null&&(r.suppressOpenCloseIcons=l),r}return e.getTemplate=function(t){var r=t.cssIdentifier||"default",o=t.direction||"vertical";return'<div class="ag-group ag-'.concat(r,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(r,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(r,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(r,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(o," ag-").concat(r,`-group-container"></div>
        </div>`)},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var r=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(r("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(ll("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ll("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(r){switch(r.key){case j.ENTER:case j.SPACE:r.preventDefault(),t.toggleGroupExpand();break;case j.RIGHT:case j.LEFT:r.preventDefault(),t.toggleGroupExpand(r.key===j.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||rf(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;It(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),It(this.eGroupOpenedIcon,t&&this.expanded),It(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=t;var r="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(r),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),It(this.eContainer,!0),this):(t=t!=null?t:!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),It(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var r=this;t.forEach(function(o){return r.addItem(o)})},e.prototype.prependItem=function(t){this.insertItem(t,this.eContainer.firstChild)},e.prototype.addItem=function(t){this.insertItem(t,null)},e.prototype.insertItem=function(t,r){var o=this.eContainer,i=t instanceof rt?t.getGui():t;i.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),o.insertBefore(i,r),this.items.push(i)},e.prototype.hideItem=function(t,r){var o=this.items[r];It(o,!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,r){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),r||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var r=this;return this.cbGroupEnabled.onValueChange(function(o){r.setEnabled(o,!0),t(o)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",$p([he("eTitleBar")],e.prototype,"eTitleBar",void 0),$p([he("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),$p([he("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),$p([he("eToolbar")],e.prototype,"eToolbar",void 0),$p([he("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),$p([he("eTitle")],e.prototype,"eTitle",void 0),$p([he("eContainer")],e.prototype,"eContainer",void 0),$p([se],e.prototype,"postConstruct",null),e}(rt),nLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Bne=function(n){nLe(e,n);function e(t,r){t===void 0&&(t=0);var o=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return o.level=t,o.menuItems=[],o.params=r!=null?r:{column:null,node:null,value:null},o}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(r){return t.onTabKeyDown(r)},handleKeyDown:function(r){return t.handleKeyDown(r)},onFocusIn:function(r){return t.handleFocusIn(r)},onFocusOut:function(r){return t.handleFocusOut(r)}})},e.prototype.onTabKeyDown=function(t){var r=this.getParentComponent(),o=r&&r.getGui(),i=o&&o.classList.contains("ag-focus-managed");i||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case j.UP:case j.RIGHT:case j.DOWN:case j.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case j.ESCAPE:this.closeIfIsChild()&&fu(t);break}},e.prototype.handleFocusIn=function(t){var r,o,i=t.relatedTarget;!this.tabGuardCtrl.isTabGuard(i)&&(this.getGui().contains(i)||!((o=(r=this.activeMenuItem)===null||r===void 0?void 0:r.getSubMenuGui())===null||o===void 0)&&o.contains(i))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())},e.prototype.handleFocusOut=function(t){var r,o=t.relatedTarget;!this.activeMenuItem||this.getGui().contains(o)||!((r=this.activeMenuItem.getSubMenuGui())===null||r===void 0)&&r.contains(o)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var r=this;t!=null&&wa.all(t.map(function(o){return o==="separator"?wa.resolve({eGui:r.createSeparator()}):typeof o=="string"?wa.resolve({eGui:null}):r.addItem(o)})).then(function(o){o.forEach(function(i){i!=null&&i.eGui&&(r.appendChild(i.eGui),i.comp&&r.menuItems.push(i.comp))})})},e.prototype.addItem=function(t){var r=this,o=this.createManagedBean(new J_);return o.init({menuItemDef:t,isAnotherSubMenuOpen:function(){return r.menuItems.some(function(i){return i.isSubMenuOpen()})},level:this.level,contextParams:this.params}).then(function(){return o.setParentComponent(r),r.addManagedListener(o,J_.EVENT_CLOSE_MENU,function(i){r.dispatchEvent(i)}),r.addManagedListener(o,J_.EVENT_MENU_ITEM_ACTIVATED,function(i){r.activeMenuItem&&r.activeMenuItem!==i.menuItem&&r.activeMenuItem.deactivate(),r.activeMenuItem=i.menuItem}),{comp:o,eGui:o.getGui()}})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(r){return!r.isDisabled()})[0];t&&t.activate()},e.prototype.createSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;return ba(t)},e.prototype.handleNavKey=function(t){switch(t){case j.UP:case j.DOWN:var r=this.findNextItem(t===j.UP);r&&r!==this.activeMenuItem&&r.activate();return}var o=this.gridOptionsService.get("enableRtl")?j.RIGHT:j.LEFT;t===o?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var r=this.getParentComponent();return r&&r instanceof J_?(t&&t.preventDefault(),r.closeSubMenu(),r.getGui().focus(),!0):!1},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var r=this.menuItems.filter(function(l){return!l.isDisabled()});if(r.length){if(!this.activeMenuItem)return t?Vt(r):r[0];t&&r.reverse();for(var o,i=!1,a=0;a<r.length;a++){var s=r[a];if(!i){s===this.activeMenuItem&&(i=!0);continue}o=s;break}return i&&!o?r[0]:o||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},VJ([P("focusService")],e.prototype,"focusService",void 0),VJ([se],e.prototype,"postConstruct",null),e}(OC),rLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oLe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Wne=function(n){rLe(e,n);function e(t){var r=n.call(this)||this;return r.wrappedComponent=t,r.setTemplateFromElement(t.getGui()),r}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(r){return t.onTabKeyDown(r)},handleKeyDown:function(r){return t.handleKeyDown(r)}})},e.prototype.handleKeyDown=function(t){t.key===j.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},oLe([se],e.prototype,"postConstruct",null),e}(OC),iLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nE=function(){return nE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},nE.apply(this,arguments)},Q$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},J_=function(n){iLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isActive=!1,t.subMenuIsOpen=!1,t.subMenuIsOpening=!1,t.suppressRootStyles=!0,t.suppressAria=!0,t.suppressFocus=!0,t}return e.prototype.init=function(t){var r=this,o,i,a=t.menuItemDef,s=t.isAnotherSubMenuOpen,l=t.level,u=t.childComponent,c=t.contextParams;this.params=t.menuItemDef,this.level=l,this.isAnotherSubMenuOpen=s,this.childComponent=u,this.contextParams=c,this.cssClassPrefix=(i=(o=this.params.menuItemParams)===null||o===void 0?void 0:o.cssClassPrefix)!==null&&i!==void 0?i:"ag-menu-option";var d=this.userComponentFactory.getMenuItemCompDetails(this.params,nE(nE({},a),{level:l,isAnotherSubMenuOpen:s,openSubMenu:function(f){return r.openSubMenu(f)},closeSubMenu:function(){return r.closeSubMenu()},closeMenu:function(f){return r.closeMenu(f)},updateTooltip:function(f){return r.updateTooltip(f)},onItemActivated:function(){return r.onItemActivated()}}));return d.newAgStackInstance().then(function(f){var p;r.menuItemComp=f;var h=(p=f.configureDefaults)===null||p===void 0?void 0:p.call(f);h&&r.configureDefaults(h===!0?void 0:h)})},e.prototype.addListeners=function(t,r){var o=this;r!=null&&r.suppressClick||this.addManagedListener(t,"click",function(i){return o.onItemSelected(i)}),r!=null&&r.suppressKeyboardSelect||this.addManagedListener(t,"keydown",function(i){(i.key===j.ENTER||i.key===j.SPACE)&&(i.preventDefault(),o.onItemSelected(i))}),r!=null&&r.suppressMouseDown||this.addManagedListener(t,"mousedown",function(i){i.stopPropagation(),i.preventDefault()}),r!=null&&r.suppressMouseOver||(this.addManagedListener(t,"mouseenter",function(){return o.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return o.onMouseLeave()}))},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var r=this,o,i;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){this.subMenuIsOpening=!0;var a=ba('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=a;var s,l=function(){r.subMenuIsOpening=!1};if(this.childComponent){var u=this.createBean(new Wne(this.childComponent));u.setParentComponent(this);var c=u.getGui(),d="mouseenter",f=function(){return r.cancelDeactivate()};c.addEventListener(d,f),s=function(){return c.removeEventListener(d,f)},a.appendChild(c),this.childComponent.afterGuiAttached&&(l=function(){r.childComponent.afterGuiAttached(),r.subMenuIsOpening=!1})}else if(this.params.subMenu){var p=this.createBean(new Bne(this.level+1,this.contextParams));p.setParentComponent(this),p.addMenuItems(this.params.subMenu),a.appendChild(p.getGui()),this.addManagedListener(p,e.EVENT_CLOSE_MENU,function(g){return r.dispatchEvent(g)}),p.addGuiEventListener("mouseenter",function(){return r.cancelDeactivate()}),s=function(){return r.destroyBean(p)},t&&(l=function(){p.activateFirstItem(),r.subMenuIsOpening=!1})}var h=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:a}),m=this.localeService.getLocaleTextFunc(),v=this.popupService.addPopup({modal:!0,eChild:a,positionCallback:h,anchorToElement:this.eGui,ariaLabel:m("ariaLabelSubMenu","SubMenu"),afterGuiAttached:l});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=function(){var g,y;v&&v.hideFunc(),r.subMenuIsOpen=!1,r.setAriaExpanded(!1),s(),(y=(g=r.menuItemComp).setExpanded)===null||y===void 0||y.call(g,!1),r.eSubMenuGui=void 0},(i=(o=this.menuItemComp).setExpanded)===null||i===void 0||i.call(o,!0)}},e.prototype.setAriaExpanded=function(t){this.suppressAria||rf(this.eGui,t)},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.isSubMenuOpening=function(){return this.subMenuIsOpening},e.prototype.activate=function(t){var r=this,o,i;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),(i=(o=this.menuItemComp).setActive)===null||i===void 0||i.call(o,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),t&&this.params.subMenu&&window.setTimeout(function(){r.isAlive()&&r.isActive&&r.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){var t,r;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),(r=(t=this.menuItemComp).setActive)===null||r===void 0||r.call(t,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.getGui=function(){return this.menuItemComp.getGui()},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getSubMenuGui=function(){return this.eSubMenuGui},e.prototype.onItemSelected=function(t){var r=this,o,i;(i=(o=this.menuItemComp).select)===null||i===void 0||i.call(o),this.params.action?this.getFrameworkOverrides().wrapOutgoing(function(){return r.params.action(r.gridOptionsService.addGridCommonParams(nE({},r.contextParams)))}):this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(t)},e.prototype.closeMenu=function(t){var r={type:e.EVENT_CLOSE_MENU,event:t};this.dispatchEvent(r)},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.configureDefaults=function(t){var r=this,o,i,a;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(function(){return r.configureDefaults(t)});return}var s=this.menuItemComp.getGui(),l=(i=(o=this.menuItemComp).getRootElement)===null||i===void 0?void 0:i.call(o);l&&(t!=null&&t.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=l),this.eGui=s,this.suppressRootStyles=!!(t!=null&&t.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(a=this.params.cssClasses)===null||a===void 0||a.forEach(function(u){return s.classList.add(u)}),this.params.disabled&&s.classList.add("".concat(this.cssClassPrefix,"-disabled"))),t!=null&&t.suppressTooltip||this.setTooltip(),this.suppressAria=!!(t!=null&&t.suppressAria),this.suppressAria||(oo(s,"treeitem"),Wee(s,this.level+1),this.params.disabled&&XB(s,!0)),t!=null&&t.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,t),this.suppressFocus=!!(t!=null&&t.suppressFocus)},e.prototype.updateTooltip=function(t){this.tooltip=t,!this.tooltipFeature&&this.menuItemComp&&this.setTooltip()},e.prototype.setTooltip=function(){var t=this;this.tooltip&&(this.tooltipFeature=this.createManagedBean(new vE({getGui:function(){return t.getGui()},getTooltipValue:function(){return t.tooltip},getLocation:function(){return"menu"}},this.beans)),this.tooltipFeature.setComp(this.getGui()))},e.EVENT_CLOSE_MENU="closeMenu",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,Q$([P("popupService")],e.prototype,"popupService",void 0),Q$([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Q$([P("beans")],e.prototype,"beans",void 0),e}(re),aLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),H_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},zne=function(n){aLe(e,n);function e(t){var r=n.call(this,e.getTemplate(t))||this;return r.config=t,r.closable=!0,r}return e.getTemplate=function(t){var r=t.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(r,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(r,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(r,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(r,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(r,`-panel-content-wrapper"></div>
        </div>`)},e.prototype.postConstruct=function(){var t=this,r=this.config,o=r.component,i=r.closable,a=r.hideTitleBar,s=r.title,l=r.minWidth,u=l===void 0?250:l,c=r.width,d=r.minHeight,f=d===void 0?250:d,p=r.height,h=r.centered,m=r.popup,v=r.x,g=r.y;this.positionableFeature=new _3(this.getGui(),{minWidth:u,width:c,minHeight:f,height:p,centered:h,x:v,y:g,popup:m,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var y=this.getGui();o&&this.setBodyComponent(o),a?It(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(i!=null?i:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(C){var w=t.gridOptionsService.getDocument();if(y.contains(C.relatedTarget)||y.contains(w.activeElement)||t.eTitleBarButtons.contains(C.target)){C.preventDefault();return}var b=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");b&&b.focus()}),!(m&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,r=this.getGui();r.focus(),this.close=function(){r.parentElement.removeChild(r),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var r=this.closeButtonComp=new rt(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var o=r.getGui(),i=Vr("close",this.gridOptionsService);i.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(i),this.addTitleBarButton(r),r.addManagedListener(o,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var o=this.closeButtonComp.getGui();o.parentElement.removeChild(o),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,r){var o=this.eTitleBarButtons,i=o.children,a=i.length;r==null&&(r=a),r=Math.max(0,Math.min(r,a)),t.addCssClass("ag-panel-title-bar-button");var s=t.getGui();r===0?o.insertAdjacentElement("afterbegin",s):r===a?o.insertAdjacentElement("beforeend",s):i[r-1].insertAdjacentElement("afterend",s),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return fE(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return Tg(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&ls(t)&&this.close(),n.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',H_([he("eContentWrapper")],e.prototype,"eContentWrapper",void 0),H_([he("eTitleBar")],e.prototype,"eTitleBar",void 0),H_([he("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),H_([he("eTitle")],e.prototype,"eTitle",void 0),H_([se],e.prototype,"postConstruct",null),e}(rt),sLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BI=function(){return BI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},BI.apply(this,arguments)},lLe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},uLe=function(n){sLe(e,n);function e(t){var r=n.call(this,BI(BI({},t),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return e.prototype.postConstruct=function(){var t=this,r=this.getGui(),o=this.config,i=o.movable,a=o.resizable,s=o.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",function(l){r.contains(l.relatedTarget)||t.popupService.bringPopupToFront(r)}),i&&this.setMovable(i),s&&this.setMaximizable(s),a&&this.setResizable(a)},e.prototype.renderComponent=function(){var t=this.getGui(),r=this.config,o=r.alwaysOnTop,i=r.modal,a=r.title,s=r.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:i,eChild:t,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:o,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});u&&(this.close=u.hideFunc)},e.prototype.onClosed=function(t){var r,o;this.destroy(),(o=(r=this.config).closedCallback)===null||o===void 0||o.call(r,t)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var r=this.lastPosition,o=r.x,i=r.y,a=r.width,s=r.height;this.setWidth(a),this.setHeight(s),this.positionableFeature.offsetElement(o,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){It(this.maximizeIcon,!this.isMaximized),It(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var r=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var o=this.eTitleBar;if(!(!o||t===this.isMaximizable)){var i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(o,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){r.isMaximized=!1,r.refreshMaximizeIcon()})}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new rt('<div class="ag-dialog-button"></span>')),r=t.getGui();return this.maximizeIcon=Vr("maximize",this.gridOptionsService),r.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Vr("minimize",this.gridOptionsService),r.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},lLe([P("popupService")],e.prototype,"popupService",void 0),e}(zne),cLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WI=function(){return WI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},WI.apply(this,arguments)},$_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},GJ=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},HJ=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},$J=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kp;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal"})(Kp||(Kp={}));var dLe=0,Une=function(n){cLe(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.popupList=[],r}t=e,e.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl}),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},e.prototype.getPopupParent=function(){var r=this.gridOptionsService.get("popupParent");return r||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(r){var o=r.eventSource,i=r.ePopup,a=this.getPopupIndex(i);if(a!==-1){var s=this.popupList[a];s.alignedToElement=o}var l=o.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(i,l.top-u.top,Kp.vertical),d=i.clientWidth>0?i.clientWidth:200;i.style.minWidth="".concat(d,"px");var f=u.right-u.left,p=f-d,h;this.gridOptionsService.get("enableRtl")?(h=v(),h<0&&(h=m(),this.setAlignedStyles(i,"left")),h>p&&(h=0,this.setAlignedStyles(i,"right"))):(h=m(),h>p&&(h=v(),this.setAlignedStyles(i,"right")),h<0&&(h=0,this.setAlignedStyles(i,"left"))),i.style.left="".concat(h,"px"),i.style.top="".concat(c,"px");function m(){return l.right-u.left-2}function v(){return l.left-u.left-d}},e.prototype.positionPopupUnderMouseEvent=function(r){var o=this,i=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.skipObserver;this.positionPopup({ePopup:i,nudgeX:a,nudgeY:s,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return o.calculatePointerAlign(r.mouseEvent)},postProcessCallback:function(){return o.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)}})},e.prototype.calculatePointerAlign=function(r){var o=this.getParentRect();return{x:r.clientX-o.left,y:r.clientY-o.top}},e.prototype.positionPopupByComponent=function(r){var o=this,i=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.keepWithinBounds,u=r.eventSource,c=r.alignSide,d=c===void 0?"left":c,f=r.position,p=f===void 0?"over":f,h=r.column,m=r.rowNode,v=r.type,g=u.getBoundingClientRect(),y=this.getParentRect(),C=this.getPopupIndex(i);if(C!==-1){var w=this.popupList[C];w.alignedToElement=u}var b=function(){var E=g.left-y.left;d==="right"&&(E-=i.offsetWidth-g.width);var D;if(p==="over")D=g.top-y.top,o.setAlignedStyles(i,"over");else{o.setAlignedStyles(i,"under");var S=o.shouldRenderUnderOrAbove(i,g,y,r.nudgeY||0);S==="under"?D=g.top-y.top+g.height:D=g.top-i.offsetHeight-(s||0)*2-y.top}return{x:E,y:D}};this.positionPopup({ePopup:i,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:b,postProcessCallback:function(){return o.callPostProcessPopup(v,i,u,null,h,m)}})},e.prototype.shouldRenderUnderOrAbove=function(r,o,i,a){var s=i.bottom-o.bottom,l=o.top-i.top,u=r.offsetHeight+a;return s>u?"under":l>u||l>s?"above":"under"},e.prototype.setAlignedStyles=function(r,o){var i=this.getPopupIndex(r);if(i!==-1){var a=this.popupList[i],s=a.alignedToElement;if(s){var l=["right","left","over","above","under"];l.forEach(function(u){s.classList.remove("ag-has-popup-positioned-".concat(u)),r.classList.remove("ag-popup-positioned-".concat(u))}),o&&(s.classList.add("ag-has-popup-positioned-".concat(o)),r.classList.add("ag-popup-positioned-".concat(o)))}}},e.prototype.callPostProcessPopup=function(r,o,i,a,s,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:s,rowNode:l,ePopup:o,type:r,eventSource:i,mouseEvent:a};u(c)}},e.prototype.positionPopup=function(r){var o=this,i=r.ePopup,a=r.keepWithinBounds,s=r.nudgeX,l=r.nudgeY,u=r.skipObserver,c=r.updatePosition,d={width:0,height:0},f=function(h){h===void 0&&(h=!1);var m=c(),v=m.x,g=m.y;h&&i.clientWidth===d.width&&i.clientHeight===d.height||(d.width=i.clientWidth,d.height=i.clientHeight,s&&(v+=s),l&&(g+=l),a&&(v=o.keepXYWithinBounds(i,v,Kp.horizontal),g=o.keepXYWithinBounds(i,g,Kp.vertical)),i.style.left="".concat(v,"px"),i.style.top="".concat(g,"px"),r.postProcessCallback&&r.postProcessCallback())};if(f(),!u){var p=this.resizeObserverService.observeResize(i,function(){return f(!0)});setTimeout(function(){return p()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var r=this.gridOptionsService.getDocument(),o=this.getPopupParent();return o===r.body?o=r.documentElement:getComputedStyle(o).position==="static"&&(o=o.offsetParent),p3(o)},e.prototype.keepXYWithinBounds=function(r,o,i){var a=i===Kp.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",u=a?"offsetHeight":"offsetWidth",c=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),f=d.documentElement,p=this.getPopupParent(),h=p.getBoundingClientRect(),m=d.documentElement.getBoundingClientRect(),v=p===d.body,g=r[u],y=a?f3:aE,C=v?y(f)+f[c]:p[s];v&&(C-=Math.abs(m[l]-h[l]));var w=C-g;return Math.min(Math.max(o,0),Math.abs(w))},e.prototype.addPopup=function(r){var o=this.gridOptionsService.getDocument(),i=r.eChild,a=r.ariaLabel,s=r.alwaysOnTop,l=r.positionCallback,u=r.anchorToElement;if(!o)return{hideFunc:function(){}};var c=this.getPopupIndex(i);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(i);var f=this.createPopupWrapper(i,a,!!s),p=this.addEventListenersToPopup(WI(WI({},r),{wrapperEl:f}));return l&&l(),this.addPopupToPopupList(i,f,p,u),{hideFunc:p}},e.prototype.initialisePopupPosition=function(r){var o=this.getPopupParent(),i=o.getBoundingClientRect();te(r.style.top)||(r.style.top="".concat(i.top*-1,"px")),te(r.style.left)||(r.style.left="".concat(i.left*-1,"px"))},e.prototype.createPopupWrapper=function(r,o,i){var a,s=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(a=l.classList).add.apply(a,HJ([],GJ(u),!1)),l.classList.add("ag-popup"),r.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||oo(r,"dialog"),th(r,o),l.appendChild(r),s.appendChild(l),i?this.setAlwaysOnTop(r,!0):this.bringPopupToFront(r),l},e.prototype.handleThemeChange=function(){var r,o,i,a,s,l=this.environment.getTheme().allThemes;try{for(var u=$J(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var f=(i=void 0,$J(Array.from(d.wrapper.classList))),p=f.next();!p.done;p=f.next()){var h=p.value;h.startsWith("ag-theme-")&&d.wrapper.classList.remove(h)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}l.length&&(s=d.wrapper.classList).add.apply(s,HJ([],GJ(l),!1))}}catch(m){r={error:m}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.addEventListenersToPopup=function(r){var o=this,i=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=r.wrapperEl,l=r.eChild,u=r.click,c=r.closedCallback,d=r.afterGuiAttached,f=r.closeOnEsc,p=r.modal,h=!1,m=function(C){if(s.contains(i.activeElement)){var w=C.key;w===j.ESCAPE&&!du(C)&&y({keyboardEvent:C})}},v=function(C){return y({mouseEvent:C})},g=function(C){return y({touchEvent:C})},y=function(C){C===void 0&&(C={});var w=C.mouseEvent,b=C.touchEvent,E=C.keyboardEvent;o.isEventFromCurrentPopup({mouseEvent:w,touchEvent:b},l)||h||(h=!0,a.removeChild(s),i.removeEventListener("keydown",m),i.removeEventListener("mousedown",v),i.removeEventListener("touchstart",g),i.removeEventListener("contextmenu",v),o.eventService.removeEventListener(I.EVENT_DRAG_STARTED,v),c&&c(w||b||E),o.removePopupFromPopupList(l))};return d&&d({hidePopup:y}),window.setTimeout(function(){f&&i.addEventListener("keydown",m),p&&(i.addEventListener("mousedown",v),o.eventService.addEventListener(I.EVENT_DRAG_STARTED,v),i.addEventListener("touchstart",g),i.addEventListener("contextmenu",v))},0),y},e.prototype.addPopupToPopupList=function(r,o,i,a){this.popupList.push({element:r,wrapper:o,hideFunc:i,instanceId:dLe++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(r,a)},e.prototype.getPopupIndex=function(r){return this.popupList.findIndex(function(o){return o.element===r})},e.prototype.setPopupPositionRelatedToElement=function(r,o){var i=this.getPopupIndex(r);if(i!==-1){var a=this.popupList[i];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,!!o){var s=this.keepPopupPositionedRelativeTo({element:o,ePopup:r,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},e.prototype.removePopupFromPopupList=function(r){this.setAlignedStyles(r,null),this.setPopupPositionRelatedToElement(r,null),this.popupList=this.popupList.filter(function(o){return o.element!==r})},e.prototype.keepPopupPositionedRelativeTo=function(r){var o=this,i=this.getPopupParent(),a=i.getBoundingClientRect(),s=r.element,l=r.ePopup,u=s.getBoundingClientRect(),c=a.top-u.top,d=a.left-u.left,f=c,p=d,h=l.style.top,m=parseInt(h.substring(0,h.length-1),10),v=l.style.left,g=parseInt(v.substring(0,v.length-1),10);return new wa(function(y){o.getFrameworkOverrides().setInterval(function(){var C=i.getBoundingClientRect(),w=s.getBoundingClientRect(),b=w.top==0&&w.left==0&&w.height==0&&w.width==0;if(b){r.hidePopup();return}var E=C.top-w.top;if(E!=f){var D=o.keepXYWithinBounds(l,m+c-E,Kp.vertical);l.style.top="".concat(D,"px")}f=E;var S=C.left-w.left;if(S!=p){var T=o.keepXYWithinBounds(l,g+d-S,Kp.horizontal);l.style.left="".concat(T,"px")}p=S},200).then(function(C){var w=function(){C!=null&&window.clearInterval(C)};y(w)})})},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},e.prototype.isEventFromCurrentPopup=function(r,o){var i=r.mouseEvent,a=r.touchEvent,s=i||a;if(!s)return!1;var l=this.getPopupIndex(o);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(TI(c.element,s))return!0}return this.isElementWithinCustomPopup(s.target)},e.prototype.isElementWithinCustomPopup=function(r){for(var o=this.gridOptionsService.getDocument();r&&r!==o.body;){if(r.classList.contains("ag-custom-component-popup")||r.parentElement===null)return!0;r=r.parentElement}return!1},e.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},e.prototype.setAlwaysOnTop=function(r,o){var i=this.getWrapper(r);i&&(i.classList.toggle("ag-always-on-top",!!o),o&&this.bringPopupToFront(i))},e.prototype.bringPopupToFront=function(r){var o=this.getPopupParent(),i=Array.prototype.slice.call(o.querySelectorAll(".ag-popup")),a=i.length,s=Array.prototype.slice.call(o.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,u=this.getWrapper(r);if(!(!u||a<=1||!o.contains(r))){var c=i.indexOf(u),d=u.querySelectorAll("div"),f=[];if(d.forEach(function(v){v.scrollTop!==0&&f.push([v,v.scrollTop])}),l){var p=u.classList.contains("ag-always-on-top");p?c!==a-1&&Vt(s).insertAdjacentElement("afterend",u):c!==a-l-1&&s[0].insertAdjacentElement("beforebegin",u)}else c!==a-1&&Vt(i).insertAdjacentElement("afterend",u);for(;f.length;){var h=f.pop();h[0].scrollTop=h[1]}var m={type:"popupToFront",eWrapper:u};this.eventService.dispatchEvent(m)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,$_([P("focusService")],e.prototype,"focusService",void 0),$_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),$_([P("resizeObserverService")],e.prototype,"resizeObserverService",void 0),$_([se],e.prototype,"postConstruct",null),e=t=$_([be("popupService")],e),e}(re),fLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pLe=function(n){fLe(e,n);function e(){var t=n.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return t.hasHighlighting=!1,t}return e.prototype.setState=function(t,r){this.value=t,this.render(),this.updateSelected(r)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var r,o=!1;if(te(t)){var i=(r=this.value)===null||r===void 0?void 0:r.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){o=!0,this.hasHighlighting=!0;var a=i+t.length,s=ro(this.value.slice(0,i)),l=ro(this.value.slice(i,a)),u=ro(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(u)}}!o&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=(t=ro(this.value))!==null&&t!==void 0?t:"&nbsp;"},e}(rt),hLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},mLe=function(n){hLe(e,n);function e(t){var r=n.call(this,e.TEMPLATE)||this;return r.params=t,r.searchString="",r}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new H3({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(o){return t.autocompleteEntries[o]}});var r=this.virtualList.getGui();this.addManagedListener(r,"click",function(){return t.params.onConfirmed()}),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",function(o){return o.preventDefault()}),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,r){t.preventDefault();var o=this.autocompleteEntries.indexOf(this.selectedValue),i=r===j.UP?o-1:o+1;this.checkSetSelectedValue(i)},e.prototype.setSearch=function(t){this.searchString=t,te(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,r){var o,i=!1,a=t.toLocaleLowerCase(),s=r.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(a),d=c===0,f=c>=0;return f&&(!o||!i&&d||i===d&&l.length<o.length)&&(o=l,i=d),f});return!o&&s.length&&(o=s[0]),{topMatch:o,allMatches:s}},e.prototype.runSearch=function(){var t,r,o=this.params.autocompleteEntries,i=o.map(function(d){var f;return(f=d.displayValue)!==null&&f!==void 0?f:d.key}),a,s;if(this.params.useFuzzySearch)a=hE(this.searchString,i,!0).values,s=a.length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,i);a=l.allMatches,s=l.topMatch}var u=o.filter(function(d){var f=d.key,p=d.displayValue;return a.includes(p!=null?p:f)});if(!u.length&&this.selectedValue&&(!((r=(t=this.params)===null||t===void 0?void 0:t.forceLastSelection)===null||r===void 0)&&r.call(t,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!s){var c=a.indexOf(s);this.checkSetSelectedValue(c)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow(function(r){return r.setSearchString(t.searchString)})},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var r=this.autocompleteEntries[t];this.selectedValue!==r&&(this.selectedValue=r,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow(function(o,i){o.updateSelected(t===i)}))},e.prototype.createRowComponent=function(t){var r,o=new pLe;return this.getContext().createBean(o),o.setState((r=t.displayValue)!==null&&r!==void 0?r:t.key,t===this.selectedValue),o},e.prototype.onMouseMove=function(t){var r=this.virtualList.getGui().getBoundingClientRect(),o=this.virtualList.getScrollTop(),i=t.clientY-r.top+o,a=Math.floor(i/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!==null&&t!==void 0?t:null},e.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,BJ([he("eList")],e.prototype,"eList",void 0),BJ([se],e.prototype,"init",null),e}(ih),gLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J$=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},jne=function(n){gLe(e,n);function e(){var t=n.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange(function(r){return t.onValueChanged(r)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){t.destroyBean(t.autocompleteList)}),this.addGuiEventListener("focusout",function(){return t.onFocusOut()})},e.prototype.onValueChanged=function(t){var r=Nc(t);this.updateValue(r),this.updateAutocompleteList(r)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var r,o,i,a,s=(o=(r=this.listGenerator)===null||r===void 0?void 0:r.call(this,t,this.lastPosition))!==null&&o!==void 0?o:{enabled:!1};if((!s.type||s.type!==((i=this.autocompleteListParams)===null||i===void 0?void 0:i.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((a=this.autocompleteListParams)===null||a===void 0)&&a.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l!=null?l:"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var r=this,o=t.key;switch(this.updateLastPosition(),o){case j.ENTER:this.onEnterKeyDown(t);break;case j.TAB:this.onTabKeyDown(t);break;case j.DOWN:case j.UP:this.onUpDownKeyDown(t,o);break;case j.LEFT:case j.RIGHT:case j.PAGE_HOME:case j.PAGE_END:setTimeout(function(){r.updatePositionAndList()});break;case j.ESCAPE:this.onEscapeKeyDown(t);break;case j.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}},e.prototype.confirmSelection=function(){var t,r=(t=this.autocompleteList)===null||t===void 0?void 0:t.getSelectedValue();r&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:r,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,r){var o;t.preventDefault(),this.isListOpen?(o=this.autocompleteList)===null||o===void 0||o.onNavigationKeyDown(t,r):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!==null&&t!==void 0?t:null)},e.prototype.setCaret=function(t,r){var o=this.gridOptionsService.getDocument();r&&o.activeElement===o.body&&this.eAutocompleteInput.getFocusableElement().focus();var i=this.eAutocompleteInput.getInputElement();i.setSelectionRange(t,t),t===i.value.length&&(i.scrollLeft=i.scrollWidth)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&t!==void 0?t:0},e.prototype.validate=function(t){var r;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((r=this.validationMessage)!==null&&r!==void 0?r:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new mLe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var r=this.autocompleteList.getGui(),o={ePopup:r,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupService.addPopup({eChild:r,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(o)},ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return Nc(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var r=t.value,o=t.position,i=t.silent,a=t.updateListOnlyIfOpen,s=t.restoreFocus;this.eAutocompleteInput.setValue(r,!0),this.setCaret(o!=null?o:this.lastPosition,s),i||this.updateValue(r),(!a||this.isListOpen)&&this.updateAutocompleteList(r)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",J$([P("popupService")],e.prototype,"popupService",void 0),J$([he("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),J$([se],e.prototype,"postConstruct",null),e}(rt),vLe=["touchstart","touchend","touchmove","touchcancel"],Kne=function(){function n(e){e===void 0&&(e="javascript"),this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=function(t){return t()},this.wrapOutgoing=function(t){return t()}}return n.prototype.setInterval=function(e,t){return new wa(function(r){r(window.setInterval(e,t))})},n.prototype.addEventListener=function(e,t,r,o){var i=cu(vLe,t);e.addEventListener(t,r,{capture:!!o,passive:i})},Object.defineProperty(n.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.frameworkComponent=function(e){return null},n.prototype.isFrameworkComponent=function(e){return!1},n.prototype.getDocLink=function(e){var t=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(t,"-data-grid").concat(e?"/".concat(e):"")},n}(),yLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},CLe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},wLe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},qne=function(n){yLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,r,o){return o===void 0&&(o=!1),o?this.getNextCellToFocusWithCtrlPressed(t,r):this.getNextCellToFocusWithoutCtrlPressed(t,r)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,r){var o=t===j.UP,i=t===j.DOWN,a=t===j.LEFT,s,l;if(o||i)l=o?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=r.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=r.rowIndex,s=a!==c?u[0]:Vt(u)}return{rowIndex:l,rowPinned:null,column:s}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,r){for(var o=r,i=!1;!i;){switch(t){case j.UP:o=this.getCellAbove(o);break;case j.DOWN:o=this.getCellBelow(o);break;case j.RIGHT:this.gridOptionsService.get("enableRtl")?o=this.getCellToLeft(o):o=this.getCellToRight(o);break;case j.LEFT:this.gridOptionsService.get("enableRtl")?o=this.getCellToRight(o):o=this.getCellToLeft(o);break;default:o=null;break}o?i=this.isCellGoodToFocusOn(o):i=!0}return o},e.prototype.isCellGoodToFocusOn=function(t){var r=t.column,o;switch(t.rowPinned){case"top":o=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":o=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:o=this.rowModel.getRow(t.rowIndex);break}if(!o)return!1;var i=r.isSuppressNavigable(o);return!i},e.prototype.getCellToLeft=function(t){if(!t)return null;var r=this.columnModel.getDisplayedColBefore(t.column);return r?{rowIndex:t.rowIndex,column:r,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var r=this.columnModel.getDisplayedColAfter(t.column);return r?{rowIndex:t.rowIndex,column:r,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var r=t.rowIndex,o=t.rowPinned;if(this.isLastRowInContainer(t))switch(o){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var i=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(i);return a||{rowIndex:r+1,rowPinned:o}},e.prototype.getNextStickyPosition=function(t,r){if(!(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)){var o=wLe([],CLe(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),i=r?-1:1,a=o.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),s=o[a+i];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var r=this.getRowBelow(t);return r?{rowIndex:r.rowIndex,column:t.column,rowPinned:r.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var r=t.rowPinned,o=t.rowIndex;if(r==="top"){var i=this.pinnedRowModel.getPinnedTopRowData().length-1;return i<=o}if(r==="bottom"){var a=this.pinnedRowModel.getPinnedBottomRowData().length-1;return a<=o}var s=this.paginationProxy.getPageLastRow();return s<=o},e.prototype.getRowAbove=function(t){var r=t.rowIndex,o=t.rowPinned,i=o?r===0:r===this.paginationProxy.getPageFirstRow();if(i)return o==="top"?null:o?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(a,!0);return s||{rowIndex:r-1,rowPinned:o}},e.prototype.getCellAbove=function(t){if(!t)return null;var r=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return r?{rowIndex:r.rowIndex,column:t.column,rowPinned:r.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,r){return r?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var r=this.columnModel.getAllDisplayedColumns(),o=t.rowIndex,i=t.rowPinned,a=this.columnModel.getDisplayedColAfter(t.column);if(!a){a=r[0];var s=this.getRowBelow(t);if(Ke(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;o=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:o,column:a,rowPinned:i}},e.prototype.getNextTabbedCellBackwards=function(t){var r=this.columnModel.getAllDisplayedColumns(),o=t.rowIndex,i=t.rowPinned,a=this.columnModel.getDisplayedColBefore(t.column);if(!a){a=Vt(r);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(Ke(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;o=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:o,column:a,rowPinned:i}},yC([P("columnModel")],e.prototype,"columnModel",void 0),yC([P("rowModel")],e.prototype,"rowModel",void 0),yC([P("rowRenderer")],e.prototype,"rowRenderer",void 0),yC([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),yC([P("paginationProxy")],e.prototype,"paginationProxy",void 0),e=yC([be("cellNavigationService")],e),e}(re),SLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),B_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},bLe=function(n,e){return function(t,r){e(t,r,n)}},Yne=function(n){SLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.getAlignedGridApis=function(){var t=this,r,o=(r=this.gridOptionsService.get("alignedGrids"))!==null&&r!==void 0?r:[],i=typeof o=="function";typeof o=="function"&&(o=o());var a=function(){return"See ".concat(t.getFrameworkOverrides().getDocLink("aligned-grids"))},s=o.map(function(l){var u;if(!l){uu("alignedGrids contains an undefined option."),i||uu(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),uu(a());return}if(l instanceof L3)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||uu("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return s},e.prototype.init=function(){this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){this.consuming||this.getAlignedGridApis().forEach(function(r){var o=r.__getAlignedGridService();t(o)})},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(r){r.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(r){r.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var r=this;this.onEvent(function(){var o=r.ctrlsService.getGridBodyCtrl();o.getScrollFeature().setHorizontalScrollPosition(t.left,!0)})},e.prototype.getMasterColumns=function(t){var r=[];return t.columns?t.columns.forEach(function(o){r.push(o)}):t.column&&r.push(t.column),r},e.prototype.getColumnIds=function(t){var r=[];return t.columns?t.columns.forEach(function(o){r.push(o.getColId())}):t.column&&r.push(t.column.getColId()),r},e.prototype.onColumnEvent=function(t){var r=this;this.onEvent(function(){switch(t.type){case I.EVENT_COLUMN_MOVED:case I.EVENT_COLUMN_VISIBLE:case I.EVENT_COLUMN_PINNED:case I.EVENT_COLUMN_RESIZED:var o=t;r.processColumnEvent(o);break;case I.EVENT_COLUMN_GROUP_OPENED:var i=t;r.processGroupOpenedEvent(i);break;case I.EVENT_COLUMN_PIVOT_CHANGED:break}})},e.prototype.processGroupOpenedEvent=function(t){var r=this;t.columnGroups.forEach(function(o){var i=null;if(o){var a=o.getGroupId();i=r.columnModel.getProvidedColumnGroup(a)}o&&!i||(r.logger.log("onColumnEvent-> processing "+t+" expanded = "+o.isExpanded()),r.columnModel.setColumnGroupOpened(i,o.isExpanded(),"alignedGridChanged"))})},e.prototype.processColumnEvent=function(t){var r=this,o,i=t.column,a=null;if(i&&(a=this.columnModel.getPrimaryColumn(i.getColId())),!(i&&!a)){var s=this.getMasterColumns(t);switch(t.type){case I.EVENT_COLUMN_MOVED:{var l=t,u=t.api.getColumnState(),c=u.map(function(g){return{colId:g.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," toIndex = ").concat(l.toIndex))}break;case I.EVENT_COLUMN_VISIBLE:{var d=t,u=t.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,hide:C.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," visible = ").concat(d.visible))}break;case I.EVENT_COLUMN_PINNED:{var f=t,u=t.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,pinned:C.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," pinned = ").concat(f.pinned))}break;case I.EVENT_COLUMN_RESIZED:var p=t,h={};s.forEach(function(g){r.logger.log("onColumnEvent-> processing ".concat(t.type," actualWidth = ").concat(g.getActualWidth())),h[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),(o=p.flexColumns)===null||o===void 0||o.forEach(function(g){h[g.getId()]&&delete h[g.getId()]}),this.columnModel.setColumnWidths(Object.values(h),!1,p.finished,"alignedGridChanged");break}var m=this.ctrlsService.getGridBodyCtrl(),v=m.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(g){g.setGridOption("alwaysShowVerticalScroll",v)})}},B_([P("columnModel")],e.prototype,"columnModel",void 0),B_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),B_([bLe(0,ss("loggerFactory"))],e.prototype,"setBeans",null),B_([se],e.prototype,"init",null),e=B_([be("alignedGridsService")],e),e}(re),_Le=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Xne=function(n){_Le(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.selectedNodes=new Map,t.lastRowNode=null,t}return e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){t.groupSelectsChildren=t.gridOptionsService.get("groupSelectsChildren"),t.rowSelection=t.gridOptionsService.get("rowSelection"),t.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,I.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},e.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},e.prototype.setNodesSelected=function(t){var r,o=t.newValue,i=t.clearSelection,a=t.suppressFinishActions,s=t.rangeSelect,l=t.nodes,u=t.event,c=t.source,d=c===void 0?"api":c;if(l.length===0||l.length>1&&!this.isMultiselect())return 0;var f=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,p=l.map(function(S){return S.footer?S.sibling:S});if(s){if(l.length>1)return 0;var h=null;if(d==="checkboxSelected"&&o===!1&&this.lastRowNode&&(this.lastRowNode.id?h=this.lastRowNode:this.lastRowNode=null),h==null&&(h=this.getLastSelectedNode()),h){var m=p[0],v=m!==h;if(v&&this.isMultiselect())return this.selectRange(m,h,o,d)}}this.lastRowNode=o?null:p[0];for(var g=0,y=0;y<p.length;y++){var C=p[y],w=f&&C.group;if(!w){var b=C.selectThisNode(o,u,d);b&&g++}this.groupSelectsChildren&&(!((r=C.childrenAfterGroup)===null||r===void 0)&&r.length)&&(g+=this.selectChildren(C,o,f,d))}if(!a){var E=o&&(i||!this.isMultiselect());if(E&&(g+=this.clearOtherNodes(p[0],d)),g>0){this.updateGroupsFromChildrenSelections(d);var D={type:I.EVENT_SELECTION_CHANGED,source:d};this.eventService.dispatchEvent(D)}}return g},e.prototype.selectRange=function(t,r,o,i){var a=this;o===void 0&&(o=!0);var s=this.rowModel.getNodesInRangeForSelection(t,r),l=0;s.forEach(function(c){if(!(c.group&&a.groupSelectsChildren)){var d=c.selectThisNode(o,void 0,i);d&&l++}}),this.updateGroupsFromChildrenSelections(i);var u={type:I.EVENT_SELECTION_CHANGED,source:i};return this.eventService.dispatchEvent(u),l},e.prototype.selectChildren=function(t,r,o,i){var a=o?t.childrenAfterAggFilter:t.childrenAfterGroup;return Ke(a)?0:this.setNodesSelected({newValue:r,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:o,source:i,nodes:a})},e.prototype.getLastSelectedNode=function(){var t=Array.from(this.selectedNodes.keys());if(t.length==0)return null;var r=this.selectedNodes.get(Vt(t));return r||null},e.prototype.getSelectedNodes=function(){var t=[];return this.selectedNodes.forEach(function(r){r&&t.push(r)}),t},e.prototype.getSelectedRows=function(){var t=[];return this.selectedNodes.forEach(function(r){r&&r.data&&t.push(r.data)}),t},e.prototype.getSelectionCount=function(){return this.selectedNodes.size},e.prototype.filterFromSelection=function(t){var r=new Map;this.selectedNodes.forEach(function(o,i){var a=o&&t(o);a&&r.set(i,o)}),this.selectedNodes=r},e.prototype.updateGroupsFromChildrenSelections=function(t,r){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var o=this.rowModel,i=o.getRootNode();r||(r=new wE(!0,i),r.setInactive());var a=!1;return r.forEachChangedNodeDepthFirst(function(s){if(s!==i){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(l===null?!1:l,void 0,t)||a}}),a},e.prototype.clearOtherNodes=function(t,r){var o=this,i=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==t.id){var l=o.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:r}),o.groupSelectsChildren&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(l===null?!1:l,void 0,r)}),a},e.prototype.onRowSelected=function(t){var r=t.node;this.groupSelectsChildren&&r.group||(r.isSelected()?this.selectedNodes.set(r.id,r):this.selectedNodes.delete(r.id))},e.prototype.syncInRowNode=function(t,r){this.syncInOldRowNode(t,r),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,r){var o=te(r)&&t.id!==r.id;if(o&&r){var i=r.id,a=this.selectedNodes.get(i)==t;a&&this.selectedNodes.set(r.id,r)}},e.prototype.syncInNewRowNode=function(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)},e.prototype.reset=function(t){var r=this.getSelectionCount();if(this.resetNodes(),r){var o={type:I.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(o)}},e.prototype.resetNodes=function(){var t;(t=this.selectedNodes)===null||t===void 0||t.clear()},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var t=this.rowModel,r=t.getTopLevelNodes();if(r===null)return;var o=[];function i(a){for(var s=0,l=a.length;s<l;s++){var u=a[s];if(u.isSelected())o.push(u);else{var c=u;c.group&&c.children&&i(c.children)}}}return i(r),o},e.prototype.isEmpty=function(){var t=0;return this.selectedNodes.forEach(function(r){r&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){var r=function(u){return u.selectThisNode(!1,void 0,i)},o=this.rowModel.getType()==="clientSide",i=t.source,a=t.justFiltered,s=t.justCurrentPage;if(s||a){if(!o)return;this.getNodesToSelect(a,s).forEach(r)}else this.selectedNodes.forEach(function(u){u&&r(u)}),this.reset(i);o&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);var l={type:I.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(l)},e.prototype.getSelectedCounts=function(t,r){var o=this,i=0,a=0,s=function(l){o.groupSelectsChildren&&l.group||(l.isSelected()?i++:l.selectable&&a++)};return this.getNodesToSelect(t,r).forEach(s),{selectedCount:i,notSelectedCount:a}},e.prototype.getSelectAllState=function(t,r){var o=this.getSelectedCounts(t,r),i=o.selectedCount,a=o.notSelectedCount;return i===0&&a===0?!1:i>0&&a>0?null:i>0},e.prototype.hasNodesToSelect=function(t,r){return t===void 0&&(t=!1),r===void 0&&(r=!1),this.getNodesToSelect(t,r).filter(function(o){return o.selectable}).length>0},e.prototype.getNodesToSelect=function(t,r){var o=this;if(t===void 0&&(t=!1),r===void 0&&(r=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var i=[];if(r)return this.paginationProxy.forEachNodeOnPage(function(s){if(!s.group){i.push(s);return}if(!s.expanded){var l=function(u){var c;i.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(s);return}o.groupSelectsChildren||i.push(s)}),i;var a=this.rowModel;return t?(a.forEachNodeAfterFilter(function(s){i.push(s)}),i):(a.forEachNode(function(s){i.push(s)}),i)},e.prototype.selectAllRowNodes=function(t){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var r=t.source,o=t.justFiltered,i=t.justCurrentPage,a=function(l){return l.selectThisNode(!0,void 0,r)};this.getNodesToSelect(o,i).forEach(a),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r);var s={type:I.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(s)},e.prototype.getSelectionState=function(){var t=[];return this.selectedNodes.forEach(function(r){r!=null&&r.id&&t.push(r.id)}),t.length?t:null},e.prototype.setSelectionState=function(t,r){if(Array.isArray(t)){var o=new Set(t),i=[];this.rowModel.forEachNode(function(a){o.has(a.id)&&i.push(a)}),this.setNodesSelected({newValue:!0,nodes:i,source:r})}},lI([P("rowModel")],e.prototype,"rowModel",void 0),lI([P("paginationProxy")],e.prototype,"paginationProxy",void 0),lI([se],e.prototype,"init",null),e=lI([be("selectionService")],e),e}(re),WJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ELe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},xLe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},rF=function(){function n(e){var t=this;this.viaApi=function(r){for(var o,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return ze("Since v31, 'columnApi.".concat(r,"' is deprecated and moved to 'api.").concat(r,"'.")),(o=t.api)[r].apply(o,xLe([],ELe(i),!1))},this.api=e}return n.prototype.sizeColumnsToFit=function(e){this.viaApi("sizeColumnsToFit",e)},n.prototype.setColumnGroupOpened=function(e,t){this.viaApi("setColumnGroupOpened",e,t)},n.prototype.getColumnGroup=function(e,t){return this.viaApi("getColumnGroup",e,t)},n.prototype.getProvidedColumnGroup=function(e){return this.viaApi("getProvidedColumnGroup",e)},n.prototype.getDisplayNameForColumn=function(e,t){return this.viaApi("getDisplayNameForColumn",e,t)},n.prototype.getDisplayNameForColumnGroup=function(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)},n.prototype.getColumn=function(e){return this.viaApi("getColumn",e)},n.prototype.getColumns=function(){return this.viaApi("getColumns")},n.prototype.applyColumnState=function(e){return this.viaApi("applyColumnState",e)},n.prototype.getColumnState=function(){return this.viaApi("getColumnState")},n.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},n.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},n.prototype.setColumnGroupState=function(e){this.viaApi("setColumnGroupState",e)},n.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},n.prototype.isPinning=function(){return this.viaApi("isPinning")},n.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},n.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},n.prototype.getDisplayedColAfter=function(e){return this.viaApi("getDisplayedColAfter",e)},n.prototype.getDisplayedColBefore=function(e){return this.viaApi("getDisplayedColBefore",e)},n.prototype.setColumnVisible=function(e,t){this.viaApi("setColumnVisible",e,t)},n.prototype.setColumnsVisible=function(e,t){this.viaApi("setColumnsVisible",e,t)},n.prototype.setColumnPinned=function(e,t){this.viaApi("setColumnPinned",e,t)},n.prototype.setColumnsPinned=function(e,t){this.viaApi("setColumnsPinned",e,t)},n.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},n.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},n.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},n.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},n.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},n.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},n.prototype.moveColumn=function(e,t){this.viaApi("moveColumn",e,t)},n.prototype.moveColumnByIndex=function(e,t){this.viaApi("moveColumnByIndex",e,t)},n.prototype.moveColumns=function(e,t){this.viaApi("moveColumns",e,t)},n.prototype.moveRowGroupColumn=function(e,t){this.viaApi("moveRowGroupColumn",e,t)},n.prototype.setColumnAggFunc=function(e,t){this.viaApi("setColumnAggFunc",e,t)},n.prototype.setColumnWidth=function(e,t,r,o){r===void 0&&(r=!0),this.viaApi("setColumnWidth",e,t,r,o)},n.prototype.setColumnWidths=function(e,t,r){t===void 0&&(t=!0),this.viaApi("setColumnWidths",e,t,r)},n.prototype.setPivotMode=function(e){this.viaApi("setPivotMode",e)},n.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},n.prototype.getPivotResultColumn=function(e,t){return this.viaApi("getPivotResultColumn",e,t)},n.prototype.setValueColumns=function(e){this.viaApi("setValueColumns",e)},n.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},n.prototype.removeValueColumn=function(e){this.viaApi("removeValueColumn",e)},n.prototype.removeValueColumns=function(e){this.viaApi("removeValueColumns",e)},n.prototype.addValueColumn=function(e){this.viaApi("addValueColumn",e)},n.prototype.addValueColumns=function(e){this.viaApi("addValueColumns",e)},n.prototype.setRowGroupColumns=function(e){this.viaApi("setRowGroupColumns",e)},n.prototype.removeRowGroupColumn=function(e){this.viaApi("removeRowGroupColumn",e)},n.prototype.removeRowGroupColumns=function(e){this.viaApi("removeRowGroupColumns",e)},n.prototype.addRowGroupColumn=function(e){this.viaApi("addRowGroupColumn",e)},n.prototype.addRowGroupColumns=function(e){this.viaApi("addRowGroupColumns",e)},n.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},n.prototype.setPivotColumns=function(e){this.viaApi("setPivotColumns",e)},n.prototype.removePivotColumn=function(e){this.viaApi("removePivotColumn",e)},n.prototype.removePivotColumns=function(e){this.viaApi("removePivotColumns",e)},n.prototype.addPivotColumn=function(e){this.viaApi("addPivotColumn",e)},n.prototype.addPivotColumns=function(e){this.viaApi("addPivotColumns",e)},n.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},n.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},n.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},n.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},n.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},n.prototype.autoSizeColumn=function(e,t){return this.viaApi("autoSizeColumn",e,t)},n.prototype.autoSizeColumns=function(e,t){this.viaApi("autoSizeColumns",e,t)},n.prototype.autoSizeAllColumns=function(e){this.viaApi("autoSizeAllColumns",e)},n.prototype.setPivotResultColumns=function(e){this.viaApi("setPivotResultColumns",e)},n.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},WJ([P("gridApi")],n.prototype,"api",void 0),n=WJ([be("columnApi")],n),n}(),DLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Zne=function(n){DLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var r=function(i){return t.callColumnCellValueChangedHandler(i)},o=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(I.EVENT_CELL_VALUE_CHANGED,r,o),this.addDestroyFunc(function(){return t.eventService.removeEventListener(I.EVENT_CELL_VALUE_CHANGED,r,o)}),this.addManagedPropertyListener("treeData",function(i){return t.isTreeData=i.currentValue})},e.prototype.getValue=function(t,r,o,i){if(o===void 0&&(o=!1),i===void 0&&(i=!1),this.initialised||this.init(),!!r){var a=t.getColDef(),s=a.field,l=t.getColId(),u=r.data,c,d=r.groupData&&r.groupData[l]!==void 0,f=!i&&r.aggData&&r.aggData[l]!==void 0,p=this.isSsrm&&i&&!!t.getColDef().aggFunc,h=this.isSsrm&&r.footer&&r.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===r.field);if(o&&a.filterValueGetter?c=this.executeFilterValueGetter(a.filterValueGetter,u,t,r):this.isTreeData&&f?c=r.aggData[l]:this.isTreeData&&a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,t,r):this.isTreeData&&s&&u?c=EC(u,s,t.isFieldContainsDots()):d?c=r.groupData[l]:f?c=r.aggData[l]:a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,t,r):h?c=EC(u,r.field,t.isFieldContainsDots()):s&&u&&!p&&(c=EC(u,s,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var m=c.substring(1);c=this.executeValueGetter(m,u,t,r)}if(c==null){var v=this.getOpenedGroup(r,t);if(v!=null)return v}return c}},e.prototype.getOpenedGroup=function(t,r){if(this.gridOptionsService.get("showOpenedGroup")){var o=r.getColDef();if(o.showRowGroup)for(var i=r.getColDef().showRowGroup,a=t.parent;a!=null;){if(a.rowGroupColumn&&(i===!0||i===a.rowGroupColumn.getColId()))return a.key;a=a.parent}}},e.prototype.setValue=function(t,r,o,i){var a=this.columnModel.getPrimaryColumn(r);if(!t||!a)return!1;Ke(t.data)&&(t.data={});var s=a.getColDef(),l=s.field,u=s.valueSetter;if(Ke(l)&&Ke(u)||!this.dataTypeService.checkType(a,o))return!1;var c=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(a,t),newValue:o,colDef:a.getColDef(),column:a});c.newValue=o;var d;if(te(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(t.data,l,o,a.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(a,t);var f={type:I.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:i};return this.eventService.dispatchEvent(f),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var r=t.colDef.onCellValueChanged;typeof r=="function"&&this.getFrameworkOverrides().wrapOutgoing(function(){r({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})})},e.prototype.setValueUsingField=function(t,r,o,i){if(!r)return!1;var a=!1;if(!i)a=t[r]===o,a||(t[r]=o);else for(var s=r.split("."),l=t;s.length>0&&l;){var u=s.shift();s.length===0?(a=l[u]===o,a||(l[u]=o)):l=l[u]}return!a},e.prototype.executeFilterValueGetter=function(t,r,o,i){var a=this.gridOptionsService.addGridCommonParams({data:r,node:i,column:o,colDef:o.getColDef(),getValue:this.getValueCallback.bind(this,i)});return typeof t=="function"?t(a):this.expressionService.evaluate(t,a)},e.prototype.executeValueGetter=function(t,r,o,i){var a=o.getColId(),s=this.valueCache.getValue(i,a);if(s!==void 0)return s;var l=this.gridOptionsService.addGridCommonParams({data:r,node:i,column:o,colDef:o.getColDef(),getValue:this.getValueCallback.bind(this,i)}),u;return typeof t=="function"?u=t(l):u=this.expressionService.evaluate(t,l),this.valueCache.setValue(i,a,u),u},e.prototype.getValueCallback=function(t,r){var o=this.columnModel.getPrimaryColumn(r);return o?this.getValue(o,t):null},e.prototype.getKeyForNode=function(t,r){var o=this.getValue(t,r),i=t.getColDef().keyCreator,a=o;if(i){var s=this.gridOptionsService.addGridCommonParams({value:o,colDef:t.getColDef(),column:t,node:r,data:r.data});a=i(s)}return typeof a=="string"||a==null||(a=String(a),a==="[object Object]"&&ze("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),a},CC([P("expressionService")],e.prototype,"expressionService",void 0),CC([P("columnModel")],e.prototype,"columnModel",void 0),CC([P("valueCache")],e.prototype,"valueCache",void 0),CC([P("dataTypeService")],e.prototype,"dataTypeService",void 0),CC([se],e.prototype,"init",null),e=CC([be("valueService")],e),e}(re),RLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},TLe=function(n,e){return function(t,r){e(t,r,n)}},Qne=function(n){RLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,r){if(typeof t=="string")return this.evaluateExpression(t,r)},e.prototype.evaluateExpression=function(t,r){try{var o=this.createExpressionFunction(t),i=o(r.value,r.context,r.oldValue,r.newValue,r.value,r.node,r.data,r.colDef,r.rowIndex,r.api,r.columnApi,r.getValue,r.column,r.columnGroup);return i}catch(a){return null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var r=this.createFunctionBody(t),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",r);return this.expressionToFunctionCache[t]=o,o},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},zJ([TLe(0,ss("loggerFactory"))],e.prototype,"setBeans",null),e=zJ([be("expressionService")],e),e}(re),PLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OLe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Jne=function(n){PLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,r){var o=this.templateCache[t];if(o)return o;var i=this.waitingCallbacks[t],a=this;if(!i){i=[],this.waitingCallbacks[t]=i;var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,t)},s.open("GET",t),s.send()}return r&&i.push(r),null},e.prototype.handleHttpResult=function(t,r){if(!(t.status!==200||t.response===null)){this.templateCache[r]=t.response||t.responseText;for(var o=this.waitingCallbacks[r],i=0;i<o.length;i++){var a=o[i];a()}}},e=OLe([be("templateService")],e),e}(re),ILe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},FLe=function(n,e){return function(t,r){e(t,r,n)}},ere=function(n){ILe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.get("debug")},e.prototype.create=function(t){return new oF(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},UJ([FLe(0,ss("gridOptionsService"))],e.prototype,"setBeans",null),e=UJ([be("loggerFactory")],e),e}(re),oF=function(){function n(e,t){this.name=e,this.isLoggingFunc=t}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(e){this.isLoggingFunc()},n}(),LLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wC=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},tre=function(n){LLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setComp=function(t,r,o){var i=this;this.view=t,this.eGridHostDiv=r,this.eGui=o,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return i.eGui},isInterestedIn:function(s){return s===x.DragSourceType.HeaderCell||s===x.DragSourceType.ToolPanel},getIconName:function(){return no.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(r),this.createManagedBean(new A3(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,r=this.focusService.findTabbableParent(this.getGui());return((t=r==null?void 0:r.getAttribute("row-id"))===null||t===void 0?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return zt.__isRegistered(x.ModuleNames.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return zt.__isRegistered(x.ModuleNames.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return zt.__isRegistered(x.ModuleNames.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return zt.__isRegistered(x.ModuleNames.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:I.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var r=this.gridOptionsService.getDocument(),o=this.view.getFocusableContainers(),i=o.findIndex(function(s){return s.contains(r.activeElement)}),a=i+(t?-1:1);return a<=0||a>=o.length?!1:this.focusService.focusInto(o[a])},e.prototype.focusInnerElement=function(t){var r=this.view.getFocusableContainers(),o=this.columnModel.getAllDisplayedColumns();if(t){if(r.length>1)return this.focusService.focusInto(Vt(r),!0);var i=Vt(o);if(this.focusService.focusGridView(i,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(o[0]))return!0;for(var a=1;a<r.length;a++)if(this.focusService.focusInto(r[a]))return!0;return!1}return this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},wC([P("focusService")],e.prototype,"focusService",void 0),wC([P("resizeObserverService")],e.prototype,"resizeObserverService",void 0),wC([P("columnModel")],e.prototype,"columnModel",void 0),wC([P("ctrlsService")],e.prototype,"ctrlsService",void 0),wC([P("mouseEventService")],e.prototype,"mouseEventService",void 0),wC([P("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(re),MLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),W_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},$3=function(n){MLe(e,n);function e(t){var r=n.call(this)||this;return r.eGridDiv=t,r}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var r={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(i){return t.addCssClass(i)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(i){t.getGui().style.userSelect=i!=null?i:"",t.getGui().style.webkitUserSelect=i!=null?i:""},setCursor:function(i){t.getGui().style.cursor=i!=null?i:""}};this.ctrl=this.createManagedBean(new tre);var o=this.createTemplate();this.setTemplate(o),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(i){return t.ctrl.focusInnerElement(i)},forceFocusOutWhenTabGuardsAreEmpty:!0})},e.prototype.insertGridIntoDom=function(){var t=this,r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(function(){t.eGridDiv.removeChild(r),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,r){var o=this.eRootWrapperBody.classList;o.toggle(x.LayoutCssClasses.AUTO_HEIGHT,r.autoHeight),o.toggle(x.LayoutCssClasses.NORMAL,r.normal),o.toggle(x.LayoutCssClasses.PRINT,r.print),this.addOrRemoveCssClass(x.LayoutCssClasses.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(x.LayoutCssClasses.NORMAL,r.normal),this.addOrRemoveCssClass(x.LayoutCssClasses.PRINT,r.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",r=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",o=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",i=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",a=`<div class="ag-root-wrapper" role="presentation">
                `.concat(t,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(r,`
                </div>
                `).concat(o,`
                <ag-pagination></ag-pagination>
                `).concat(i,`
            </div>`);return a},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(r){return ls(r)})},W_([P("loggerFactory")],e.prototype,"loggerFactory",void 0),W_([he("gridBody")],e.prototype,"gridBodyComp",void 0),W_([he("sideBar")],e.prototype,"sideBarComp",void 0),W_([he("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),W_([se],e.prototype,"postConstruct",null),e}(OC),ALe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Tc=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},Bp=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},nre=function(n){ALe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(r,o,i){var a=this.getNextSortDirection(r);this.setSortForColumn(r,a,o,i)},e.prototype.setSortForColumn=function(r,o,i,a){o!=="asc"&&o!=="desc"&&(o=null);var s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[r];if(s&&r.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(r),c=u==null?void 0:u.filter(function(h){return h.isSortable()});c&&(l=Bp([r],Tc(c),!1))}l.forEach(function(h){return h.setSort(o,a)});var d=(i||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),f=[];if(!d){var p=this.clearSortBarTheseColumns(l,a);f.push.apply(f,Bp([],Tc(p),!1))}this.updateSortIndex(r),f.push.apply(f,Bp([],Tc(l),!1)),this.dispatchSortChangedEvents(a,f)},e.prototype.updateSortIndex=function(r){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(r.getId()),a=o&&i||r,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=s.filter(function(c){return o&&c.getColDef().showRowGroup?!1:c!==a}),u=a.getSort()?Bp(Bp([],Tc(l),!1),[a],!1):l;u.forEach(function(c,d){c.setSortIndex(d)})},e.prototype.onSortChanged=function(r,o){this.dispatchSortChangedEvents(r,o)},e.prototype.isSortActive=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),o=r.filter(function(i){return!!i.getSort()});return o&&o.length>0},e.prototype.dispatchSortChangedEvents=function(r,o){var i={type:I.EVENT_SORT_CHANGED,source:r};o&&(i.columns=o),this.eventService.dispatchEvent(i)},e.prototype.clearSortBarTheseColumns=function(r,o){var i=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(a){r.includes(a)||(a.getSort()&&i.push(a),a.setSort(void 0,o))}),i},e.prototype.getNextSortDirection=function(r){var o;if(r.getColDef().sortingOrder?o=r.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?o=this.gridOptionsService.get("sortingOrder"):o=t.DEFAULT_SORTING_ORDER,!Array.isArray(o)||o.length<=0)return null;var i=o.indexOf(r.getSort()),a=i<0,s=i==o.length-1,l;return a||s?l=o[0]:l=o[i+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?null:l},e.prototype.getIndexedSortMap=function(){var r=this,o=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup();o=o.filter(function(c){var d=!!c.getAggFunc(),f=!c.isPrimary(),p=i?r.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||f||p})}var a=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(o=Bp([],Tc(new Set(o.map(function(c){var d;return(d=r.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};o.forEach(function(c,d){return l[c.getId()]=d}),o.sort(function(c,d){var f=c.getSortIndex(),p=d.getSortIndex();if(f!=null&&p!=null)return f-p;if(f==null&&p==null){var h=l[c.getId()],m=l[d.getId()];return h>m?1:-1}else return p==null?-1:1});var u=new Map;return o.forEach(function(c,d){return u.set(c,d)}),s&&a.forEach(function(c){var d=r.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},e.prototype.getColumnsWithSortingOrdered=function(){return Bp([],Tc(this.getIndexedSortMap().entries()),!1).sort(function(r,o){var i=Tc(r,2),a=i[0],s=i[1],l=Tc(o,2),u=l[0],c=l[1];return s-c}).map(function(r){var o=Tc(r,1),i=o[0];return i})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),colId:r.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),column:r}})},e.prototype.canColumnDisplayMixedSort=function(r){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!r.getColDef().showRowGroup;return o&&i},e.prototype.getDisplaySortForColumn=function(r){var o=this.columnModel.getSourceColumnsForGroupColumn(r);if(!this.canColumnDisplayMixedSort(r)||!(o!=null&&o.length))return r.getSort();var i=r.getColDef().field!=null||!!r.getColDef().valueGetter,a=i?Bp([r],Tc(o),!1):o,s=a[0].getSort(),l=a.every(function(u){return u.getSort()==s});return l?s:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(r){return this.getIndexedSortMap().get(r)};var t;return e.DEFAULT_SORTING_ORDER=["asc","desc",null],jJ([P("columnModel")],e.prototype,"columnModel",void 0),e=t=jJ([be("sortController")],e),e}(re),NLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rE=function(){return rE=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},rE.apply(this,arguments)},pa=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},rre=function(n){NLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",t.toggleKeyboardMode),r.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",t.toggleKeyboardMode),r.addEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(r){var o=t.keyboardModeActive,i=r.type==="keydown";i&&(r.ctrlKey||r.metaKey||r.altKey)||o!==i&&(t.keyboardModeActive=i)},e.unregisterGridCompController=function(r){t.removeKeyboardModeEvents(r)},e.prototype.init=function(){var r=this,o=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,o),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,o),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,o),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl})},e.prototype.registerKeyboardFocusEvents=function(){var r=this.gridOptionsService.getDocument();t.addKeyboardModeEvents(r),t.instanceCount++,this.addDestroyFunc(function(){t.instanceCount--,t.unregisterGridCompController(r)})},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var r=this.focusedCellPosition.column,o=this.columnModel.getGridColumn(r.getId());r!==o&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(r.activeElement,Jp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(r.activeElement,CE.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(r,o){for(var i=r;i;){var a=this.gridOptionsService.getDomData(i,o);if(a)return!1;i=i.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(r){var o=this;return this.isCellRestoreFocused(r)?(setTimeout(function(){o.restoredFocusedCellPosition=null},0),!0):!1},e.prototype.isCellRestoreFocused=function(r){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(r){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=r)},e.prototype.getFocusEventParams=function(){var r=this.focusedCellPosition,o=r.rowIndex,i=r.rowPinned,a=r.column,s={rowIndex:o,rowPinned:i,column:a,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:i});return l&&(s.isFullWidthCell=l.isFullWidth()),s},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var r=rE({type:I.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(r)}},e.prototype.setFocusedCell=function(r){var o=r.column,i=r.rowIndex,a=r.rowPinned,s=r.forceBrowserFocus,l=s===void 0?!1:s,u=r.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(o);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:i,rowPinned:Nc(a),column:d}:null;var f=rE(rE({type:I.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(f)},e.prototype.isCellFocused=function(r){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(r){return this.isRowFocused(r.rowIndex,r.rowPinned)},e.prototype.isHeaderWrapperFocused=function(r){if(this.focusedHeaderPosition==null)return!1;var o=r.getColumnGroupChild(),i=r.getRowIndex(),a=r.getPinned(),s=this.focusedHeaderPosition,l=s.column,u=s.headerRowIndex;return o===l&&i===u&&a==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(r,o){this.focusedHeaderPosition={headerRowIndex:r,column:o}},e.prototype.focusHeaderPosition=function(r){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;var o=r.direction,i=r.fromTab,a=r.allowUserOverride,s=r.event,l=r.fromCell,u=r.rowWithoutSpanValue,c=r.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(a){var d=this.getFocusedHeader(),f=this.headerNavigationService.getHeaderRowCount();if(i){var p=this.gridOptionsService.getCallback("tabToNextHeader");if(p){var h={backwards:o==="Before",previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:f};c=p(h)}}else{var p=this.gridOptionsService.getCallback("navigateToNextHeader");if(p&&s){var m={key:s.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:f,event:s};c=p(m)}}}if(!c)return!1;if(c.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,o);var v=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()),g=v.focusHeader(c.headerRowIndex,c.column,s);return g&&(u!=null||l)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(u!=null?u:-1),g},e.prototype.focusFirstHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];if(!r)return!1;r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0));var o=this.headerPositionUtils.getHeaderIndexToFocus(r,0);return this.focusHeaderPosition({headerPosition:o,rowWithoutSpanValue:0})},e.prototype.focusLastHeader=function(r){var o=this.headerNavigationService.getHeaderRowCount()-1,i=Vt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:o,column:i},rowWithoutSpanValue:-1,event:r})},e.prototype.focusPreviousFromFirstCell=function(r){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(r)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(r,o){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===Nc(o)},e.prototype.findFocusableElements=function(r,o,i){i===void 0&&(i=!1);var a=rte,s=c3;o&&(s+=", "+o),i&&(s+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(r.querySelectorAll(a)).filter(function(d){return ls(d)}),u=Array.prototype.slice.apply(r.querySelectorAll(s));if(!u.length)return l;var c=function(d,f){return d.filter(function(p){return f.indexOf(p)===-1})};return c(l,u)},e.prototype.focusInto=function(r,o,i){o===void 0&&(o=!1),i===void 0&&(i=!1);var a=this.findFocusableElements(r,null,i),s=o?Vt(a):a[0];return s?(s.focus({preventScroll:!0}),!0):!1},e.prototype.findFocusableElementBeforeTabGuard=function(r,o){if(!o)return null;var i=this.findFocusableElements(r),a=i.indexOf(o);if(a===-1)return null;for(var s=-1,l=a-1;l>=0;l--)if(i[l].classList.contains(x.TabGuardClassNames.TAB_GUARD_TOP)){s=l;break}return s<=0?null:i[s-1]},e.prototype.findNextFocusableElement=function(r,o,i){r===void 0&&(r=this.eGridDiv);var a=this.findFocusableElements(r,o?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument(),l=s.activeElement,u;o?u=a.findIndex(function(d){return d.contains(l)}):u=a.indexOf(l);var c=u+(i?-1:1);return c<0||c>=a.length?null:a[c]},e.prototype.isTargetUnderManagedComponent=function(r,o){if(!o)return!1;var i=r.querySelectorAll(".".concat(rh.FOCUS_MANAGED_CLASS));if(!i.length)return!1;for(var a=0;a<i.length;a++)if(i[a].contains(o))return!0;return!1},e.prototype.findTabbableParent=function(r,o){o===void 0&&(o=5);for(var i=0;r&&OI(r)===null&&++i<=o;)r=r.parentElement;return OI(r)===null?null:r},e.prototype.focusGridView=function(r,o){if(this.gridOptionsService.get("suppressCellFocus"))return o?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var i=o?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;var a=i.rowIndex,s=i.rowPinned,l=this.getFocusedHeader();if(!r&&l&&(r=l.column),a==null||!r)return!1;if(this.navigationService.ensureCellVisible({rowIndex:a,column:r,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:r,rowPinned:Nc(s),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:a,rowPinned:s,column:r};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(r,o){return o===void 0&&(o=!1),!o&&this.gridCtrl.focusNextInnerContainer(r)?!0:((o||!r&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(r),!1)},e.prototype.focusAdvancedFilter=function(r){return this.advancedFilterFocusColumn=r==null?void 0:r.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(r,o){var i,a,s=(i=o?void 0:this.advancedFilterFocusColumn)!==null&&i!==void 0?i:(a=this.columnModel.getAllDisplayedColumns())===null||a===void 0?void 0:a[0];return r?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var t;return e.keyboardModeActive=!1,e.instanceCount=0,pa([P("eGridDiv")],e.prototype,"eGridDiv",void 0),pa([P("columnModel")],e.prototype,"columnModel",void 0),pa([P("headerNavigationService")],e.prototype,"headerNavigationService",void 0),pa([P("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),pa([P("rowRenderer")],e.prototype,"rowRenderer",void 0),pa([P("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),pa([P("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),pa([Ot("rangeService")],e.prototype,"rangeService",void 0),pa([P("navigationService")],e.prototype,"navigationService",void 0),pa([P("ctrlsService")],e.prototype,"ctrlsService",void 0),pa([P("filterManager")],e.prototype,"filterManager",void 0),pa([Ot("advancedFilterService")],e.prototype,"advancedFilterService",void 0),pa([se],e.prototype,"init",null),e=t=pa([be("focusService")],e),e}(re),kLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VLe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},GLe=function(n){kLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var r={type:I.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(r)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:I.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=VLe([be("columnHoverService")],e),e}(re),HLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},$Le=function(n){HLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.suppressAnimation=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(r){return t.gridBodyCtrl=r.gridBodyCtrl})},e.prototype.isActive=function(){return this.active&&!this.suppressAnimation},e.prototype.setSuppressAnimation=function(t){this.suppressAnimation=t},e.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){var t=this;this.active&&this.flush(function(){t.active=!1})},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===r&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(t){var r=this;if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t();return}var o=function(i){for(;i.length;){var a=i.pop();a&&a()}};this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return o(r.executeNextFuncs)},0),window.setTimeout(function(){o(r.executeLaterFuncs),t()},200)})},eB([P("ctrlsService")],e.prototype,"ctrlsService",void 0),eB([se],e.prototype,"postConstruct",null),e=eB([be("columnAnimationService")],e),e}(re),BLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},WLe=function(n){BLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(r){t.centerRowContainerCon=r.centerRowContainerCtrl,t.addManagedListener(t.eventService,I.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.addManagedPropertyListener("paginationAutoPageSize",t.onPaginationAutoSizeChanged.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},e.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var r=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(r>0){var o=function(){var i=t.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(r/i);t.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?as(function(){return o()},50)():(o(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},uI([P("ctrlsService")],e.prototype,"ctrlsService",void 0),uI([P("paginationProxy")],e.prototype,"paginationProxy",void 0),uI([se],e.prototype,"postConstruct",null),e=uI([be("paginationAutoPageSizeService")],e),e}(re),zLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ore=function(n){zLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,r,o){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[r]=o)},e.prototype.getValue=function(t,r){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[r]},KJ([se],e.prototype,"init",null),e=KJ([be("valueCache")],e),e}(re),ULe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},jLe="paste",KLe=function(n){ULe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,I.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==jLe&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,r){if(!this.gridOptionsService.get("suppressChangeDetection")){var o=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var i=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new wE(i,this.clientSideRowModel.getRootNode());a.addParentNode(t.parent,[r]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){o.push(s)})}this.rowRenderer.refreshCells({rowNodes:o})}},cI([P("rowModel")],e.prototype,"rowModel",void 0),cI([P("rowRenderer")],e.prototype,"rowRenderer",void 0),cI([se],e.prototype,"init",null),e=cI([be("changeDetectionService")],e),e}(re),qLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qJ=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},YLe=function(n){qLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,r){var o=this.componentMetadataProvider.retrieve(t);return o&&o.functionAdapter?o.functionAdapter(r):null},e.prototype.adaptCellRendererFunction=function(t){var r=function(){function o(){}return o.prototype.refresh=function(i){return!1},o.prototype.getGui=function(){return this.eGui},o.prototype.init=function(i){var a=t(i),s=typeof a;if(s==="string"||s==="number"||s==="boolean"){this.eGui=ba("<span>"+a+"</span>");return}if(a==null){this.eGui=ba("<span></span>");return}this.eGui=a},o}();return r},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},qJ([P("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=qJ([be("agComponentUtils")],e),e}(re),XLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ZLe=function(n){XLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},tB([P("agComponentUtils")],e.prototype,"agComponentUtils",void 0),tB([se],e.prototype,"postConstruct",null),e=tB([be("componentMetadataProvider")],e),e}(re),QLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},JLe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},eMe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},tMe=25,YJ=10,rB=8,nMe=4,oB=4,iB=6,rMe=16,XJ=14,aB=8,oMe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:nMe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:rB*7,headerCellMinWidth:48,listItemHeight:rB*4,rowHeight:rB*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:oB*8,headerCellMinWidth:24,listItemHeight:oB*6,rowHeight:oB*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:iB*8,headerCellMinWidth:36,listItemHeight:iB*4,rowHeight:iB*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:XJ+aB*4.25,headerCellMinWidth:36,listItemHeight:rMe+aB,rowHeight:XJ+aB*3.5,chartMenuPanelWidth:260}},ZJ={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},ire=function(n){QLe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.calculatedSizes={},t}return e.prototype.postConstruct=function(){var t=this,r,o=(r=this.getTheme().el)!==null&&r!==void 0?r:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return t.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()}),this.mutationObserver.observe(o||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:I.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var r=this.getTheme(),o=r.themeFamily,i=r.el;if(!(!o||o.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[o]||(this.calculatedSizes[o]={});var a=this.calculatedSizes[o][t];return a!=null?a:(this.calculatedSizes[o][t]=this.calculateValueForSassProperty(t,o,i),this.calculatedSizes[o][t])}},e.prototype.calculateValueForSassProperty=function(t,r,o){var i,a="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),s=oMe[a][t],l=this.gridOptionsService.getDocument();if(o||(o=this.eGridDiv),!ZJ[t])return s;var u=ZJ[t],c=l.createElement("div"),d=Array.from(o.classList);(i=c.classList).add.apply(i,eMe([r],JLe(d),!1)),c.style.position="absolute";var f=u.reduce(function(m,v){var g=l.createElement("div");return g.style.position="static",g.classList.add(v),m.appendChild(g),g},c),p=0;if(l.body){l.body.appendChild(c);var h=t.toLowerCase().indexOf("height")!==-1?"height":"width";p=parseInt(window.getComputedStyle(f)[h],10),l.body.removeChild(c)}return p||s},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,r=this.eGridDiv,o=null,i=[];r;)if(o=t.exec(r.className),!o)r=r.parentElement||void 0;else{var a=r.className.match(t);a&&(i=a);break}if(!o)return{allThemes:i};var s=o[0];return{theme:s,el:r,themeFamily:s.replace(/-dark$/,""),allThemes:i}},e.prototype.getFromTheme=function(t,r){var o;return(o=this.getSassVariable(r))!==null&&o!==void 0?o:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(tMe,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),r=this.gridOptionsService.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var o="".concat(r,"px");return t!=o?(this.eGridDiv.style.setProperty("--ag-line-height",o),r):t!=""?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return te(t)?Math.max(t,YJ):YJ},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),n.prototype.destroy.call(this)},nB([P("eGridDiv")],e.prototype,"eGridDiv",void 0),nB([se],e.prototype,"postConstruct",null),e=nB([be("environment")],e),e}(re),iMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},aMe=function(n,e){return function(t,r){e(t,r,n)}},sMe=function(n){iMe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,I.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Zee(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),r=t.getScrollFeature().getVScrollPosition().top,o=this.getUiBodyHeight(),i=r!==this.scrollY||o!==this.uiBodyHeight;i&&(this.scrollY=r,this.uiBodyHeight=o,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,r=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(r," (").concat(this.pixelsToShave," * ").concat(t,")")),this.setDivStretchOffset(r)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var r=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==r&&(this.divStretchOffset=r,this.eventService.dispatchEvent({type:I.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),r=t.getScrollFeature().getVScrollPosition();return r.bottom-r.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var r=this.modelHeight-this.getUiBodyHeight(),o=t/r,i=this.maxScrollY*o;return i},dI([P("ctrlsService")],e.prototype,"ctrlsService",void 0),dI([aMe(0,ss("loggerFactory"))],e.prototype,"agWire",null),dI([se],e.prototype,"postConstruct",null),e=dI([be("rowContainerHeightService")],e),e}(re),lMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},are=function(n){lMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("isRowSelectable",function(){return t.updateSelectable()})},e.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},e.prototype.updateSelectable=function(t){t===void 0&&(t=!1);var r=!!this.gridOptionsService.get("rowSelection"),o=this.gridOptionsService.get("isRowSelectable");if(!(!r||!o)){var i=this.gridOptionsService.get("groupSelectsChildren"),a=this.rowModel.getType()==="clientSide"&&i,s=[],l=function(d){if(!(t&&!d.group)){if(a&&d.group){var f=d.childrenAfterGroup.some(function(h){return h.selectable===!0});d.setRowSelectable(f,!0);return}var p=o?o(d):!0;d.setRowSelectable(p,!0),!p&&d.isSelected()&&s.push(d)}};if(a){var u=this.rowModel,c=new wE(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof Xne&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},fI([P("rowModel")],e.prototype,"rowModel",void 0),fI([P("selectionService")],e.prototype,"selectionService",void 0),fI([se],e.prototype,"init",null),e=fI([be("selectableService")],e),e}(re),uMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ns=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},cMe=function(n){uMe(e,n);function e(){var t=n.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return e.prototype.postConstruct=function(){var t=this,r=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var o=this,i=o.btFirst,a=o.btPrevious,s=o.btNext,l=o.btLast,u=o.pageSizeComp;this.activateTabIndex([i,a,s,l]),i.insertAdjacentElement("afterbegin",Vr(r?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Vr(r?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Vr(r?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",Vr(r?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return t.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.get("pagination"),r=t&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(r),r&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},e.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(r){var o=r.el,i=r.fn;t.addManagedListener(o,"click",i),t.addManagedListener(o,"keydown",function(a){(a.key===j.ENTER||a.key===j.SPACE)&&(a.preventDefault(),i())})}),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,r=this.paginationProxy.getCurrentPage(),o=t?r+1:0;this.lbCurrent.textContent=this.formatNumber(o)},e.prototype.formatNumber=function(t){var r=this.gridOptionsService.getCallback("paginationNumberFormatter");if(r){var o={value:t};return r(o)}var i=this.localeService.getLocaleTextFunc(),a=i("thousandSeparator",","),s=i("decimalSeparator",".");return u3(t,a,s)},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),r=t("page","Page"),o=t("to","to"),i=t("of","of"),a=t("firstPage","First Page"),s=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(i,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(r,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(i,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var i=this.isZeroPagesToDisplay(),a=t===o-1;this.nextButtonDisabled=a||i,this.lastButtonDisabled=!r||i||t===o-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,r){XB(t,r),t.classList.toggle("ag-disabled",r)},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,a,s;if(this.isZeroPagesToDisplay()?a=s=0:(a=r*t+1,s=a+r-1,o&&s>i&&(s=i)),this.lbFirstRowOnPage.textContent=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();return t&&r===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages(),o=t?this.paginationProxy.getMasterRowCount():null;if(o===1){var i=this.paginationProxy.getRow(0),a=i&&i.group&&!(i.groupData||i.aggData);if(a){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.textContent=this.formatNumber(r),this.lbRecordCount.textContent=this.formatNumber(o);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},ns([P("paginationProxy")],e.prototype,"paginationProxy",void 0),ns([P("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),ns([he("btFirst")],e.prototype,"btFirst",void 0),ns([he("btPrevious")],e.prototype,"btPrevious",void 0),ns([he("btNext")],e.prototype,"btNext",void 0),ns([he("btLast")],e.prototype,"btLast",void 0),ns([he("lbRecordCount")],e.prototype,"lbRecordCount",void 0),ns([he("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),ns([he("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),ns([he("lbCurrent")],e.prototype,"lbCurrent",void 0),ns([he("lbTotal")],e.prototype,"lbTotal",void 0),ns([he("pageSizeComp")],e.prototype,"pageSizeComp",void 0),ns([se],e.prototype,"postConstruct",null),e}(rt),dMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},fMe=function(n){dMe(e,n);function e(){var t=n.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t}return e.prototype.updateLayoutClasses=function(t,r){var o=this.eOverlayWrapper.classList;o.toggle(x.LayoutCssClasses.AUTO_HEIGHT,r.autoHeight),o.toggle(x.LayoutCssClasses.NORMAL,r.normal),o.toggle(x.LayoutCssClasses.PRINT,r.print)},e.prototype.postConstruct=function(){this.createManagedBean(new A3(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var r=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&r.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,r.toggle(t,!0)},e.prototype.showOverlay=function(t,r,o){var i=this;this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(a){i.inProgress=!1,i.eOverlayWrapper.appendChild(a.getGui()),i.activeOverlay=a,i.updateListenerDestroyFunc=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){var t;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(t=this.updateListenerDestroyFunc)===null||t===void 0||t.call(this),wo(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},e.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,sB([P("overlayService")],e.prototype,"overlayService",void 0),sB([he("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),sB([se],e.prototype,"postConstruct",null),e}(rt),pMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},sre=function(n){pMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,r;return this.pinnedRowModel.getPinnedTopRowCount()?r="top":this.rowModel.getRowCount()?(r=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(r="bottom"),r===void 0?null:{rowIndex:t,rowPinned:r}},e.prototype.getLastRow=function(){var t,r=null,o=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return o?(r="bottom",t=o-1):this.rowModel.getRowCount()?(r=null,t=this.paginationProxy.getPageLastRow()):i&&(r="top",t=i-1),t===void 0?null:{rowIndex:t,rowPinned:r}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,r){return!t&&!r?!0:t&&!r||!t&&r?!1:t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned},e.prototype.before=function(t,r){switch(t.rowPinned){case"top":if(r.rowPinned!=="top")return!0;break;case"bottom":if(r.rowPinned!=="bottom")return!1;break;default:if(te(r.rowPinned))return r.rowPinned!=="top";break}return t.rowIndex<r.rowIndex},e.prototype.rowMax=function(t){var r=this,o;return t.forEach(function(i){(o===void 0||r.before(o,i))&&(o=i)}),o},e.prototype.rowMin=function(t){var r=this,o;return t.forEach(function(i){(o===void 0||r.before(i,o))&&(o=i)}),o},pI([P("rowModel")],e.prototype,"rowModel",void 0),pI([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),pI([P("paginationProxy")],e.prototype,"paginationProxy",void 0),e=pI([be("rowPositionUtils")],e),e}(re),hMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mMe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},lre=function(n){hMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createId=function(t){var r=t.rowIndex,o=t.rowPinned,i=t.column;return this.createIdFromValues({rowIndex:r,column:i,rowPinned:o})},e.prototype.createIdFromValues=function(t){var r=t.rowIndex,o=t.rowPinned,i=t.column;return"".concat(r,".").concat(o==null?"null":o,".").concat(i.getId())},e.prototype.equals=function(t,r){var o=t.column===r.column,i=t.rowPinned===r.rowPinned,a=t.rowIndex===r.rowIndex;return o&&i&&a},e=mMe([be("cellPositionUtils")],e),e}(re),gMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eE=function(){function n(e){this.cellValueChanges=e}return n}(),lB=function(n){gMe(e,n);function e(t,r,o,i){var a=n.call(this,t)||this;return a.initialRange=r,a.finalRange=o,a.ranges=i,a}return e}(eE),QJ=function(){function n(e){this.actionStack=[],this.maxStackSize=e||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}(),vMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zI=function(){return zI=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},zI.apply(this,arguments)},Pc=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},yMe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},CMe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},wMe=function(n){vMe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(r){var o={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},i=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,o),a=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,o),s=i||a||t.isPasting||t.isRangeInAction;if(s){var l=r.rowPinned,u=r.rowIndex,c=r.column,d=r.oldValue,f=r.value,p={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:f,oldValue:d};t.cellValueChanges.push(p)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var r=this.gridOptionsService.get("undoRedoCellEditingLimit");r<=0||(this.undoStack=new QJ(r),this.redoStack=new QJ(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,I.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,I.EVENT_MODEL_UPDATED,function(o){o.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var r={type:I.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(r);var o=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),i={type:I.EVENT_UNDO_ENDED,source:t,operationPerformed:o};this.eventService.dispatchEvent(i)},e.prototype.redo=function(t){var r={type:I.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(r);var o=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),i={type:I.EVENT_REDO_ENDED,source:t,operationPerformed:o};this.eventService.dispatchEvent(i)},e.prototype.undoRedo=function(t,r,o,i,a){if(!t)return!1;var s=t.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,function(l){return l[i]},a),s instanceof lB?this.processRange(s.ranges||[s[o]]):this.processCell(s.cellValueChanges),r.push(s),!0)},e.prototype.processAction=function(t,r,o){var i=this;t.cellValueChanges.forEach(function(a){var s=a.rowIndex,l=a.rowPinned,u=a.columnId,c={rowIndex:s,rowPinned:l},d=i.getRowNode(c);d.displayed&&d.setDataValue(u,r(a),o)})},e.prototype.processRange=function(t){var r=this,o;this.rangeService.removeAllCellRanges(!0),t.forEach(function(i,a){if(i){var s=i.startRow,l=i.endRow;a===t.length-1&&(o={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},r.setLastFocusedCell(o));var u={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:i.startColumn,columns:i.columns};r.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var r=t[0],o=r.rowIndex,i=r.rowPinned,a={rowIndex:o,rowPinned:i},s=this.getRowNode(a),l={rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId};this.setLastFocusedCell(l,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,r){var o=t.rowIndex,i=t.columnId,a=t.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(i);if(l){s.ensureIndexVisible(o),s.ensureColumnVisible(l);var u={rowIndex:o,column:l,rowPinned:a};this.focusService.setFocusedCell(zI(zI({},u),{forceBrowserFocus:!0})),r&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_ROW_EDITING_STARTED,function(r){t.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,I.EVENT_ROW_EDITING_STOPPED,function(){var r=new eE(t.cellValueChanges);t.pushActionsToUndoStack(r),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_CELL_EDITING_STARTED,function(r){t.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,I.EVENT_CELL_EDITING_STOPPED,function(r){t.activeCellEdit=null;var o=r.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(o){var i=new eE(t.cellValueChanges);t.pushActionsToUndoStack(i)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,I.EVENT_PASTE_END,function(){var r=new eE(t.cellValueChanges);t.pushActionsToUndoStack(r),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,I.EVENT_FILL_END,function(r){var o=new lB(t.cellValueChanges,r.initialRange,r.finalRange);t.pushActionsToUndoStack(o),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var r;t.rangeService&&t.gridOptionsService.get("enableRangeSelection")?r=new lB(t.cellValueChanges,void 0,void 0,CMe([],yMe(t.rangeService.getCellRanges()),!1)):r=new eE(t.cellValueChanges),t.pushActionsToUndoStack(r),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Pc([P("focusService")],e.prototype,"focusService",void 0),Pc([P("ctrlsService")],e.prototype,"ctrlsService",void 0),Pc([P("rowModel")],e.prototype,"rowModel",void 0),Pc([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Pc([P("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Pc([P("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Pc([P("columnModel")],e.prototype,"columnModel",void 0),Pc([Ot("rangeService")],e.prototype,"rangeService",void 0),Pc([se],e.prototype,"init",null),e=Pc([be("undoRedoService")],e),e}(re),SMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ure=function(n){SMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.findHeader=function(t,r){var o,i,a;if(t.column instanceof kr?(i="getDisplayedGroup".concat(r),o=this.columnModel[i](t.column)):(a="getDisplayedCol".concat(r),o=this.columnModel[a](t.column)),!!o){var s=t.headerRowIndex;if(this.getHeaderRowType(s)!==x.HeaderRowType.FLOATING_FILTER){for(var l=[o];o.getParent();)o=o.getParent(),l.push(o);o=l[l.length-1-s]}var u=this.getHeaderIndexToFocus(o,s),c=u.column,d=u.headerRowIndex;return{column:c,headerRowIndex:d}}},e.prototype.getHeaderIndexToFocus=function(t,r){var o;if(t instanceof kr&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){var i=t;o=i.getLeafColumns()[0];for(var a=o;a!==i;)r++,a=a.getParent()}return{column:o||t,headerRowIndex:r}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return t?t.getLeafColumns().some(function(r){return r.isSpanHeaderHeight()}):!1},e.prototype.getColumnVisibleParent=function(t,r){var o=this.getHeaderRowType(r),i=o===x.HeaderRowType.FLOATING_FILTER,a=o===x.HeaderRowType.COLUMN,s=i?t:t.getParent(),l=r-1,u=l;if(a&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;u=l,l<0&&(s=t,l=r,u=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:u}},e.prototype.getColumnVisibleChild=function(t,r,o){o===void 0&&(o="After");var i=this.getHeaderRowType(r),a=t,s=r+1,l=s;if(i===x.HeaderRowType.COLUMN_GROUP){for(var u=t.getDisplayedLeafColumns(),c=o==="After"?u[0]:Vt(u),d=[],f=c;f.getParent()!==t;)f=f.getParent(),d.push(f);if(a=c,c.isSpanHeaderHeight())for(var p=d.length-1;p>=0;p--){var h=d[p];if(!h.isPadding()){a=h;break}s++}else a=Vt(d),a||(a=c)}return{column:a,headerRowIndex:s,headerRowIndexWithoutSpan:l}},e.prototype.getHeaderRowType=function(t){var r=this.ctrlsService.getHeaderRowContainerCtrl();if(r)return r.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,r){var o=this.columnModel.getAllDisplayedColumns(),i=o[r==="start"?0:o.length-1];if(i){var a=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()),s=a.getRowType(t);if(s==x.HeaderRowType.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(i,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:s==null?-1:t,column:i}}},uB([P("columnModel")],e.prototype,"columnModel",void 0),uB([P("ctrlsService")],e.prototype,"ctrlsService",void 0),e=uB([be("headerPositionUtils")],e),e}(re),bMe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},_Me=function(){function n(){}return n.prototype.buildColumnDefs=function(e,t,r){var o=this,i=[],a={};return e.forEach(function(s){for(var l=o.createDefFromColumn(s,t,r),u=!0,c=l,d=s.getOriginalParent(),f=null;d;){var p=null;if(d.isPadding()){d=d.getOriginalParent();continue}var h=a[d.getGroupId()];if(h){h.children.push(c),u=!1;break}if(p=o.createDefFromGroup(d),p&&(p.children=[c],a[p.groupId]=p,c=p,d=d.getOriginalParent()),d!=null&&f===d){u=!1;break}f=d}u&&i.push(c)}),i},n.prototype.createDefFromGroup=function(e){var t=xI(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},n.prototype.createDefFromColumn=function(e,t,r){var o=xI(e.getColDef());return o.colId=e.getColId(),o.width=e.getActualWidth(),o.rowGroup=e.isRowGroupActive(),o.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,o.pivot=e.isPivotActive(),o.pivotIndex=e.isPivotActive()?r.indexOf(e):null,o.aggFunc=e.isValueActive()?e.getAggFunc():null,o.hide=e.isVisible()?void 0:!0,o.pinned=e.isPinned()?e.getPinned():null,o.sort=e.getSort()?e.getSort():null,o.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,o},n=bMe([be("columnDefFactory")],n),n}(),cB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},EMe=function(){function n(){}return n.prototype.getInitialRowClasses=function(e){var t=[];return te(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),xB(t,this.processClassesFromGridOptions(e.rowNode)),xB(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t},n.prototype.processClassesFromGridOptions=function(e){var t=[],r=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},o=this.gridOptionsService.get("rowClass");if(o){if(typeof o=="function")return[];r(o)}var i=this.gridOptionsService.getCallback("getRowClass");if(i){var a={data:e.data,node:e,rowIndex:e.rowIndex},s=i(a);r(s)}return t},n.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(r){t.push(r)},function(r){}),t},n.prototype.processRowClassRules=function(e,t,r){var o=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),o,t,r)},n.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},cB([P("stylingService")],n.prototype,"stylingService",void 0),cB([P("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n=cB([be("rowCssClassCalculator")],n),n}(),xMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},cre=function(n){xMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(r){return t.isAccentedSort=r.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()})},e.prototype.doFullSort=function(t,r){var o=function(a,s){return{currentPos:s,rowNode:a}},i=t.map(o);return i.sort(this.compareRowNodes.bind(this,r)),i.map(function(a){return a.rowNode})},e.prototype.compareRowNodes=function(t,r,o){for(var i=r.rowNode,a=o.rowNode,s=0,l=t.length;s<l;s++){var u=t[s],c=u.sort==="desc",d=this.getValue(i,u.column),f=this.getValue(a,u.column),p=void 0,h=this.getComparator(u,i);h?p=h(d,f,i,a,c):p=ut.defaultComparator(d,f,this.isAccentedSort);var m=!isNaN(p);if(m&&p!==0)return u.sort==="asc"?p:p*-1}return r.currentPos-o.currentPos},e.prototype.getComparator=function(t,r){var o=t.column,i=o.getColDef().comparator;if(i!=null)return i;if(o.getColDef().showRowGroup){var a=!r.group&&o.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},e.prototype.getValue=function(t,r){var o,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(r,t,!1,!1);var a=t.rowGroupColumn===r;if(a){var s=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(s){var l=(o=t.allLeafChildren)===null||o===void 0?void 0:o[0];return l?this.valueService.getValue(r,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(r.getId());return u?(i=t.groupData)===null||i===void 0?void 0:i[u.getId()]:void 0}if(!(t.group&&r.getColDef().showRowGroup))return this.valueService.getValue(r,t,!1,!1)},hI([P("valueService")],e.prototype,"valueService",void 0),hI([P("columnModel")],e.prototype,"columnModel",void 0),hI([se],e.prototype,"init",null),e=hI([be("rowNodeSorter")],e),e}(re),DMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RMe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},dre=function(n){DMe(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(o){return o(r)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(r){this.fakeHScrollComp=r,this.checkReady()},e.prototype.registerFakeVScrollComp=function(r){this.fakeVScrollComp=r,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(r){this.stickyTopCenterRowContainerCtrl=r,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(r){this.stickyTopLeftRowContainerCtrl=r,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(r){this.stickyTopRightRowContainerCtrl=r,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},e.prototype.registerHeaderContainer=function(r,o){switch(o){case"left":this.leftHeaderRowContainerCtrl=r;break;case"right":this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},e.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=RMe([be(t.NAME)],e),e}(re),TMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PMe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},OMe=function(n){TMe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var r=this.registry[t];if(r!=null)return new r},e=PMe([be("ctrlsFactory")],e),e}(re),IMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),z_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},fre=function(n){IMe(e,n);function e(t,r){var o=n.call(this,t)||this;return o.direction=r,o.hideTimeout=null,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",a3()||af())},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=l3(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,r=["mouseenter","mousedown","touchstart"],o=["mouseleave","touchend"],i=this.getGui();r.forEach(function(a){return t.addManagedListener(i,a,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),o.forEach(function(a){return t.addManagedListener(i,a,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.onScrollVisibilityChanged=function(){var t=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return t.setScrollVisible()})},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,function(r){r.direction===t.direction&&(t.hideTimeout!==null&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL_END,function(){t.hideTimeout=window.setTimeout(function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null},400)})},e.prototype.attemptSettingScrollPosition=function(t){var r=this,o=this.getViewport();BB(function(){return ls(o)},function(){return r.setScrollPosition(t)},100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},z_([he("eViewport")],e.prototype,"eViewport",void 0),z_([he("eContainer")],e.prototype,"eContainer",void 0),z_([P("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),z_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),z_([P("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(rt),FMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),U_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},LMe=function(n){FMe(e,n);function e(){return n.call(this,e.TEMPLATE,"horizontal")||this}return e.prototype.postConstruct=function(){var t=this;n.prototype.postConstruct.call(this);var r=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",r),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new k3(function(o){return t.eContainer.style.width="".concat(o,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),n.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(t,"px")}},e.prototype.onScrollVisibilityChanged=function(){n.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),r=this.columnModel.getDisplayedColumnsRightWidth(),o=!this.enableRtl&&t,i=this.gridOptionsService.getScrollbarWidth();o&&(r+=i),cl(this.eRightSpacer,r),this.eRightSpacer.classList.toggle("ag-scroller-corner",r<=i);var a=this.columnModel.getDisplayedColumnsLeftWidth(),s=this.enableRtl&&t;s&&(a+=i),cl(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=i)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,o=this.gridOptionsService.get("suppressHorizontalScroll"),i=t&&this.gridOptionsService.getScrollbarWidth()||0,a=i===0&&r?16:i,s=o?0:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),_g(this.getGui(),s),_g(this.eViewport,s),_g(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return lE(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){ls(this.getViewport())||this.attemptSettingScrollPosition(t),uE(this.getViewport(),t,this.enableRtl)},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,U_([he("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),U_([he("eRightSpacer")],e.prototype,"eRightSpacer",void 0),U_([P("columnModel")],e.prototype,"columnModel",void 0),U_([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),U_([se],e.prototype,"postConstruct",null),e}(fre),MMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},AMe=function(n){MMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),r=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),o=t?0:this.columnModel.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,this.eventService.dispatchEvent({type:I.EVENT_LEFT_PINNED_WIDTH_CHANGED})),o!=this.rightWidth&&(this.rightWidth=o,this.eventService.dispatchEvent({type:I.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},dB([P("columnModel")],e.prototype,"columnModel",void 0),dB([se],e.prototype,"postConstruct",null),e=dB([be("pinnedWidthService")],e),e}(re),NMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},kMe=function(n){NMe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var r=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var o=function(){r.clientSideRowModel&&r.clientSideRowModel.onRowGroupOpened(),r.events.forEach(function(i){return r.eventService.dispatchEvent(i)}),r.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(o)),this.dispatchExpandedDebounced()},mI([P("animationFrameService")],e.prototype,"animationFrameService",void 0),mI([P("rowModel")],e.prototype,"rowModel",void 0),mI([se],e.prototype,"postConstruct",null),e=mI([be("rowNodeEventThrottle")],e),e}(re),VMe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."}},Wp=function(n,e){var t;return((t=e.rowModelType)!==null&&t!==void 0?t:"clientSide")==="clientSide"?{module:x.ModuleNames.RowGroupingModule}:null},GMe={enableRowGroup:Wp,rowGroup:Wp,rowGroupIndex:Wp,enablePivot:Wp,enableValue:Wp,pivot:Wp,pivotIndex:Wp,aggFunc:Wp,cellEditor:function(n){return n.cellEditor==="agRichSelect"||n.cellEditor==="agRichSelectCellEditor"?{module:x.ModuleNames.RichSelectModule}:null},menuTabs:function(n){var e,t=["columnsMenuTab","generalMenuTab"];return!((e=n.menuTabs)===null||e===void 0)&&e.some(function(r){return t.includes(r)})?{module:x.ModuleNames.MenuModule}:null},columnsMenuParams:{module:[x.ModuleNames.MenuModule,x.ModuleNames.ColumnsToolPanelModule]},columnChooserParams:{module:[x.ModuleNames.MenuModule,x.ModuleNames.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(n,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(n,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return _C}},_C={objectName:"colDef",allProperties:qte.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:VMe,validations:GMe},JJ=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},eee=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},HMe={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"}},$Me={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1},BMe={sideBar:{module:x.ModuleNames.SideBarModule},statusBar:{module:x.ModuleNames.StatusBarModule},enableCharts:{module:x.ModuleNames.GridChartsModule},getMainMenuItems:{module:x.ModuleNames.MenuModule},getContextMenuItems:{module:x.ModuleNames.MenuModule},allowContextMenuWithControlKey:{module:x.ModuleNames.MenuModule},enableAdvancedFilter:{module:x.ModuleNames.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:x.ModuleNames.RowGroupingModule,dependencies:function(n){var e,t=(e=n.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":var r="treeData requires 'getDataPath' in the ".concat(t," row model.");return n.getDataPath?null:r;case"serverSide":var o="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(t," row model.");return n.isServerSideGroup&&n.getServerSideGroupKey?null:o}return null}},masterDetail:{module:x.ModuleNames.MasterDetailModule},enableRangeSelection:{module:x.ModuleNames.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n){var e,t=(e=n.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":return null;case"serverSide":var r="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return n.suppressServerSideInfiniteScroll?r:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:x.ModuleNames.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:x.ModuleNames.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:x.ModuleNames.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:x.ModuleNames.ClientSideRowModelModule},columnDefs:function(){return _C},defaultColDef:function(){return _C},defaultColGroupDef:function(){return _C},autoGroupColumnDef:function(){return _C}},WMe={objectName:"gridOptions",allProperties:eee(eee([],JJ(lu.ALL_PROPERTIES),!1),JJ(KB.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:HMe,validations:BMe},Oc=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},gI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},fB=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},B3=function(){function n(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new of,this.globalEventHandlerFactory=function(r){return function(o,i){if(!t.destroyed){var a=e.alwaysSyncGlobalEvents.has(o);if(!(a&&!r||!a&&r)){var s=KB.getCallbackForEvent(o),l=t.gridOptions[s];typeof l=="function"&&t.frameworkOverrides.wrapOutgoing(function(){l(i)})}}}}}e=n,Object.defineProperty(n.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.columnApi=new rF(this.api);var t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},n.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},n.prototype.get=function(t){var r;return(r=this.gridOptions[t])!==null&&r!==void 0?r:$Me[t]},n.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},n.prototype.exists=function(t){return te(this.gridOptions[t])},n.prototype.mergeGridCommonParams=function(t){var r=this;if(t){var o=function(i){var a=i;return a.api=r.api,a.columnApi=r.columnApi,a.context=r.context,t(a)};return o}return t},n.toBoolean=function(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1},n.toNumber=function(t){if(typeof t=="number")return t;if(typeof t=="string"){var r=parseInt(t);return isNaN(r)?void 0:r}},n.toConstrainedNum=function(t,r){return function(o){var i=e.toNumber(o);if(!(i==null||i<t||i>r))return i}},n.getCoercedValue=function(t,r){var o=e.PROPERTY_COERCIONS.get(t);return o?o(r):r},n.getCoercedGridOptions=function(t){var r={};return Object.entries(t).forEach(function(o){var i=gI(o,2),a=i[0],s=i[1],l=e.getCoercedValue(a,s);r[a]=l}),r},n.prototype.updateGridOptions=function(t){var r=this,o=t.options,i=t.source,a=i===void 0?"api":i,s={id:e.changeSetId++,properties:[]},l=[];Object.entries(o).forEach(function(u){var c=gI(u,2),d=c[0],f=c[1];a==="api"&&PRe[d]&&ze("".concat(d," is an initial property and cannot be updated."));var p=e.getCoercedValue(d,f),h=typeof p=="object"&&a==="api",m=r.gridOptions[d];if(h||m!==p){r.gridOptions[d]=p;var v={type:d,currentValue:p,previousValue:m,changeSet:s,source:a};l.push(v)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(u){return u.type}),l.forEach(function(u){r.gridOptions.debug,r.propertyEventService.dispatchEvent(u)})},n.prototype.addEventListener=function(t,r){this.propertyEventService.addEventListener(t,r)},n.prototype.removeEventListener=function(t,r){this.propertyEventService.removeEventListener(t,r)},n.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,r=t?this.gridOptions.scrollbarWidth:ete();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:I.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&Ke(this.gridOptions.rowModelType)},n.prototype.isDomLayout=function(t){var r,o=(r=this.gridOptions.domLayout)!==null&&r!==void 0?r:"normal";return o===t},n.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},n.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},n.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},n.prototype.getRowHeightForNode=function(t,r,o){if(r===void 0&&(r=!1),o==null&&(o=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:o,estimated:!0};var i={node:t,data:t.data},a=this.getCallback("getRowHeight")(i);if(this.isNumeric(a))return a===0&&ze("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:o;return{height:s,estimated:!1}},n.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||Ke(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return t!==-1?t:this.environment.getDefaultRowHeight()},n.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(t,r){var o=t[this.getDomDataKey()];return o?o[r]:void 0},n.prototype.setDomData=function(t,r,o){var i=this.getDomDataKey(),a=t[i];Ke(a)&&(a={},t[i]=a),a[r]=o},n.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&te(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&te(t)?t:document},n.prototype.getWindow=function(){var t=this.getDocument();return t.defaultView||window},n.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},n.prototype.getAsyncTransactionWaitMillis=function(){return te(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},n.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},n.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},n.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return!(t!=null&&t.comparator)&&!this.get("treeData")},n.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(t===!0)return function(){return!0}},n.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return t===!0||typeof t=="function"},n.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):t===!0?function(){return!0}:function(){return!1}},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},n.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType==="groupRows"},n.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},n.prototype.addGridCommonParams=function(t){var r=t;return r.api=this.api,r.columnApi=this.columnApi,r.context=this.context,r};var e;return n.alwaysSyncGlobalEvents=new Set([I.EVENT_GRID_PRE_DESTROYED]),n.PROPERTY_COERCIONS=new Map(fB(fB(fB([],gI(lu.BOOLEAN_PROPERTIES.map(function(t){return[t,e.toBoolean]})),!1),gI(lu.NUMBER_PROPERTIES.map(function(t){return[t,e.toNumber]})),!1),[["groupAggFiltering",function(t){return typeof t=="function"?t:e.toBoolean(t)}],["pageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",e.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",e.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",e.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),n.changeSetId=0,Oc([P("gridOptions")],n.prototype,"gridOptions",void 0),Oc([P("eventService")],n.prototype,"eventService",void 0),Oc([P("environment")],n.prototype,"environment",void 0),Oc([P("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Oc([P("eGridDiv")],n.prototype,"eGridDiv",void 0),Oc([P("validationService")],n.prototype,"validationService",void 0),Oc([P("gridApi")],n.prototype,"api",void 0),Oc([se],n.prototype,"init",null),Oc([_i],n.prototype,"destroy",null),n=e=Oc([be("gridOptionsService")],n),n}(),zMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UMe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},pre=function(n){zMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(o,i,a){var s={key:o,defaultValue:i,variableValues:a};return t(s)};var r=this.gridOptionsService.get("localeText");return function(o,i,a){var s=r&&r[o];if(s&&a&&a.length)for(var l=0;!(l>=a.length);){var u=s.indexOf("${variable}");if(u===-1)break;s=s.replace("${variable}",a[l++])}return s!=null?s:i}},e=UMe([be("localeService")],e),e}(re),jMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KMe=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},qMe=function(n){jMe(e,n);function e(){return n.call(this,e.TEMPLATE,"vertical")||this}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createManagedBean(new tne(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),r=this.invisibleScrollbar,o=t&&this.gridOptionsService.getScrollbarWidth()||0,i=o===0&&r?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),cl(this.getGui(),i),cl(this.eViewport,i),cl(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService,r=t.getGridBodyCtrl(),o=r.getBodyViewportElement(),i=this.getScrollPosition(),a=o.scrollTop;i!=a&&this.setScrollPosition(a,!0)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t,r){!r&&!ls(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,KMe([se],e.prototype,"postConstruct",null),e}(fre),YMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ya=function(){return ya=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ya.apply(this,arguments)},gg=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Ic=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},j_=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},tee={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},nee=["january","february","march","april","may","june","july","august","september","october","november","december"],hre=function(n){YMe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){t.groupHideOpenParents=t.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(r){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs(SC(r.source))})},e.prototype.processDataTypeDefinitions=function(){var t=this,r,o=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(o).forEach(function(a){var s=Ic(a,2),l=s[0],u=s[1];t.dataTypeDefinitions[l]=ya(ya({},u),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(u)})});var i=(r=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&r!==void 0?r:{};this.dataTypeMatchers={},Object.entries(i).forEach(function(a){var s=Ic(a,2),l=s[0],u=s[1],c=t.processDataTypeDefinition(u,i,[l],o);c&&(t.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(t.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(o),["dateString","text","number","boolean","date"].forEach(function(a){var s=t.dataTypeMatchers[a];s&&delete t.dataTypeMatchers[a],t.dataTypeMatchers[a]=s!=null?s:o[a].dataTypeMatcher})},e.prototype.mergeDataTypeDefinitions=function(t,r){var o=ya(ya({},t),r);return t.columnTypes&&r.columnTypes&&r.appendColumnTypes&&(o.columnTypes=j_(j_([],Ic(this.convertColumnTypes(t.columnTypes)),!1),Ic(this.convertColumnTypes(r.columnTypes)),!1)),o},e.prototype.processDataTypeDefinition=function(t,r,o,i){var a,s=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var l=i[s],u=r[s];if(l&&u&&(l=u),!this.validateDataTypeDefinition(t,l,s))return;a=this.mergeDataTypeDefinitions(l,t)}else{if(o.includes(s)){ze('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=r[s];if(!this.validateDataTypeDefinition(t,c,s))return;var d=this.processDataTypeDefinition(c,r,j_(j_([],Ic(o),!1),[s],!1),i);if(!d)return;a=this.mergeDataTypeDefinitions(d,t)}return ya(ya({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},e.prototype.validateDataTypeDefinition=function(t,r,o){return r?r.baseDataType!==t.baseDataType?(ze('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ze("The data type definition ".concat(o," does not exist.")),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var r=this;if(t.valueFormatter)return function(o){var i,a;if(!((i=o.node)===null||i===void 0)&&i.group){var s=o.column.getAggFunc();if(s){if(s==="first"||s==="last")return t.valueFormatter(o);if(t.baseDataType==="number"&&s!=="count"){if(typeof o.value=="number")return t.valueFormatter(o);if(typeof o.value=="object"){if(!o.value)return;if("toNumber"in o.value)return t.valueFormatter(ya(ya({},o),{value:o.value.toNumber()}));if("value"in o.value)return t.valueFormatter(ya(ya({},o),{value:o.value.value}))}}}if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(r.groupHideOpenParents&&o.column.isRowGroupActive()){if(typeof o.value!="string"||!((a=t.dataTypeMatcher)===null||a===void 0)&&a.call(t,o.value))return t.valueFormatter(o);if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(o)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,r,o){var i=r.cellDataType,a=r.field;if(i===void 0&&(i=t.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(t,r)?this.inferCellDataType(a,o):!1),!i){t.cellDataType=!1;return}var s=this.dataTypeDefinitions[i];if(!s){ze('Missing data type definition - "'.concat(i,'"'));return}return t.cellDataType=i,s.groupSafeValueFormatter&&(t.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(t.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,s,o),s.columnTypes},e.prototype.updateColDefAndGetColumnType=function(t,r,o){var i,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(t,r,o),l=(a=(i=r.type)!==null&&i!==void 0?i:s)!==null&&a!==void 0?a:t.type;return t.type=l,l?this.convertColumnTypes(l):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var r=this.columnStateUpdatesPendingInference[t.getColId()];if(r){var o=function(i){r.add(i.key)};t.addEventListener(on.EVENT_STATE_UPDATED,o),this.columnStateUpdateListenerDestroyFuncs.push(function(){return t.removeEventListener(on.EVENT_STATE_UPDATED,o)})}}},e.prototype.canInferCellDataType=function(t,r){var o=this,i;if(this.rowModel.getType()!=="clientSide")return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(r,a))return!1;var s=r.type===null?t.type:r.type;if(s){var l=(i=this.gridOptionsService.get("columnTypes"))!==null&&i!==void 0?i:{},u=this.convertColumnTypes(s).some(function(c){var d=l[c.trim()];return d&&o.doColDefPropsPreventInference(d,a)});if(u)return!1}return!this.doColDefPropsPreventInference(t,a)},e.prototype.doColDefPropsPreventInference=function(t,r){var o=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(i){var a=Ic(i,2),s=a[0],l=a[1];return o.doesColDefPropPreventInference(t,r,s,l)})},e.prototype.doesColDefPropPreventInference=function(t,r,o,i){if(!r[o])return!1;var a=t[o];return a===null?(r[o]=!1,!1):i===void 0?!!a:a===i},e.prototype.inferCellDataType=function(t,r){var o;if(t){var i,a=this.getInitialData();if(a){var s=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");i=EC(a,t,s)}else this.initWaitForRowData(r);if(i!=null){var l=Ic((o=Object.entries(this.dataTypeMatchers).find(function(c){var d=Ic(c,2),f=d[0],p=d[1];return p(i)}))!==null&&o!==void 0?o:["object"],1),u=l[0];return u}}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;var r=this.rowModel.getRootNode().allLeafChildren;return r!=null&&r.length?r[0].data:null},e.prototype.initWaitForRowData=function(t){var r=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var o=this.isColumnTypeOverrideInDataTypeDefinitions;o&&this.columnModel.queueResizeOperations();var i=this.addManagedListener(this.eventService,I.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;if(s){i==null||i(),r.isWaitingForRowData=!1,r.processColumnsPendingInference(s,o),r.columnStateUpdatesPendingInference={},o&&r.columnModel.processResizeOperations();var l={type:I.EVENT_DATA_TYPES_INFERRED};r.eventService.dispatchEvent(l)}})}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,r){var o=this;this.initialData=t;var i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=Ic(l,2),c=u[0],d=u[1],f=o.columnModel.getGridColumn(c);if(f){var p=f.getColDef();if(o.columnModel.resetColumnDefIntoColumn(f,"cellDataTypeInferred")){var h=f.getColDef();if(r&&h.type&&h.type!==p.type){var m=o.getUpdatedColumnState(f,d);m.rowGroup&&m.rowGroupIndex==null&&(a[c]=m),m.pivot&&m.pivotIndex==null&&(s[c]=m),i.push(m)}}}}),r&&i.push.apply(i,j_([],Ic(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,r){var o=this.columnModel.getColumnStateFromColDef(t);return r.forEach(function(i){delete o[i],i==="rowGroup"?delete o.rowGroupIndex:i==="pivot"&&delete o.pivotIndex}),o},e.prototype.checkObjectValueHandlers=function(t){var r=this.dataTypeDefinitions.object,o=t.object;this.hasObjectValueParser=r.valueParser!==o.valueParser,this.hasObjectValueFormatter=r.valueFormatter!==o.valueFormatter},e.prototype.convertColumnTypes=function(t){var r=[];if(t instanceof Array){var o=t.some(function(i){return typeof i!="string"});o||(r=t)}else typeof t=="string"&&(r=t.split(","));return r},e.prototype.getDateStringTypeDefinition=function(t){var r;return t?(r=this.getDataTypeDefinition(t))!==null&&r!==void 0?r:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(t){return this.getDateStringTypeDefinition(t).dateParser},e.prototype.getDateFormatterFunction=function(t){return this.getDateStringTypeDefinition(t).dateFormatter},e.prototype.getDataTypeDefinition=function(t){var r=t.getColDef();if(r.cellDataType)return this.dataTypeDefinitions[r.cellDataType]},e.prototype.getBaseDataType=function(t){var r;return(r=this.getDataTypeDefinition(t))===null||r===void 0?void 0:r.baseDataType},e.prototype.checkType=function(t,r){var o;if(r==null)return!0;var i=(o=this.getDataTypeDefinition(t))===null||o===void 0?void 0:o.dataTypeMatcher;return i?i(r):!0},e.prototype.validateColDef=function(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&ze('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&ze('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},e.prototype.setColDefPropertiesForBaseDataType=function(t,r,o){var i=this,a=function(d,f,p){var h=d.getColDef().valueFormatter;return h===r.groupSafeValueFormatter&&(h=r.valueFormatter),i.valueFormatterService.formatValue(d,f,p,h)},s=zt.__isRegistered(x.ModuleNames.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var f=t.filterParams;t.filterParams=typeof f=="object"?ya(ya({},f),d):d};switch(r.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",s&&u({comparator:function(d,f){var p=d==null?0:parseInt(d),h=f==null?0:parseInt(f);return p===h?0:p>h?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===j.SPACE},u(s?{valueFormatter:function(d){return te(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,f){return f},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,f){return f===!1},numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&u({valueFormatter:function(d){var f=a(d.column,d.node,d.value);return te(f)?f:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,f){if(f===1&&d!=null){var p=nee[Number(d)-1];return l(p,tee[p])}return d!=null?d:l("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=function(d){return a(d.column,d.node,d.value)};var c=r.dateParser;u(s?{valueFormatter:function(d){var f=a(d.column,d.node,d.value);return te(f)?f:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var f=c(d!=null?d:void 0);return f?[String(f.getFullYear()),String(f.getMonth()+1),String(f.getDate())]:null},treeListFormatter:function(d,f){if(f===1&&d!=null){var p=nee[Number(d)-1];return l(p,tee[p])}return d!=null?d:l("blanks","(Blanks)")}}:{comparator:function(d,f){var p=c(f);return f==null||p<d?-1:p>d?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=function(d,f){var p=i.columnModel.getPrimaryColumn(o),h=p==null?void 0:p.getColDef();if(!p||!h)return 0;var m=d==null?"":a(p,null,d),v=f==null?"":a(p,null,f);return m===v?0:m>v?1:-1},t.keyCreator=function(d){return a(d.column,d.node,d.value)},s?u({valueFormatter:function(d){var f=a(d.column,d.node,d.value);return te(f)?f:l("blanks","(Blanks)")}}):t.filterValueGetter=function(d){return a(d.column,d.node,i.valueService.getValue(d.column,d.node))};break}}},e.prototype.getDefaultDataTypes=function(){var t=function(o){return!!o.match("^\\d{4}-\\d{2}-\\d{2}$")},r=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(o){var i,a;return((a=(i=o.newValue)===null||i===void 0?void 0:i.trim)===null||a===void 0?void 0:a.call(i))===""?null:Number(o.newValue)},valueFormatter:function(o){return o.value==null?"":typeof o.value!="number"||isNaN(o.value)?r("invalidNumber","Invalid Number"):String(o.value)},dataTypeMatcher:function(o){return typeof o=="number"}},text:{baseDataType:"text",valueParser:function(o){return o.newValue===""?null:oE(o.newValue)},dataTypeMatcher:function(o){return typeof o=="string"}},boolean:{baseDataType:"boolean",valueParser:function(o){var i,a;return o.newValue==null?o.newValue:((a=(i=o.newValue)===null||i===void 0?void 0:i.trim)===null||a===void 0?void 0:a.call(i))===""?null:String(o.newValue).toLowerCase()==="true"},valueFormatter:function(o){return o.value==null?"":String(o.value)},dataTypeMatcher:function(o){return typeof o=="boolean"}},date:{baseDataType:"date",valueParser:function(o){return Sa(o.newValue==null?null:String(o.newValue))},valueFormatter:function(o){var i;return o.value==null?"":!(o.value instanceof Date)||isNaN(o.value.getTime())?r("invalidDate","Invalid Date"):(i=ul(o.value,!1))!==null&&i!==void 0?i:""},dataTypeMatcher:function(o){return o instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(o){var i;return(i=Sa(o))!==null&&i!==void 0?i:void 0},dateFormatter:function(o){var i;return(i=ul(o!=null?o:null,!1))!==null&&i!==void 0?i:void 0},valueParser:function(o){return t(String(o.newValue))?o.newValue:null},valueFormatter:function(o){return t(String(o.value))?o.value:""},dataTypeMatcher:function(o){return typeof o=="string"&&t(o)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(o){var i;return(i=oE(o.value))!==null&&i!==void 0?i:""}}}},gg([P("rowModel")],e.prototype,"rowModel",void 0),gg([P("columnModel")],e.prototype,"columnModel",void 0),gg([P("columnUtils")],e.prototype,"columnUtils",void 0),gg([P("valueService")],e.prototype,"valueService",void 0),gg([P("valueFormatterService")],e.prototype,"valueFormatterService",void 0),gg([se],e.prototype,"init",null),e=gg([be("dataTypeService")],e),e}(re),XMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ree=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},mre=function(n){XMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.parseValue=function(t,r,o,i){var a=t.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:r,data:r==null?void 0:r.data,oldValue:i,newValue:o,colDef:a,column:t}),l=a.valueParser;return te(l)?typeof l=="function"?l(s):this.expressionService.evaluate(l,s):o},ree([P("expressionService")],e.prototype,"expressionService",void 0),e=ree([be("valueParserService")],e),e}(re),ZMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),K_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},QMe=function(n){ZMe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.waitingForColumns=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedPropertyListener("columnDefs",function(r){return t.setColumnDefs(r)})},e.prototype.start=function(){var t=this;this.ctrlsService.whenReady(function(){var r=t.gridOptionsService.get("columnDefs");r?t.setColumnsAndData(r):t.waitingForColumns=!0,t.gridReady()})},e.prototype.setColumnsAndData=function(t){this.columnModel.setColumnDefs(t!=null?t:[],"gridInitializing"),this.rowModel.start()},e.prototype.gridReady=function(){var t=this;this.dispatchGridReadyEvent();var r=zt.__isRegistered(x.ModuleNames.EnterpriseCoreModule,this.context.getGridId()),o=new oF("AG Grid",function(){return t.gridOptionsService.get("debug")});o.log("initialised successfully, enterprise = ".concat(r))},e.prototype.dispatchGridReadyEvent=function(){var t={type:I.EVENT_GRID_READY};this.eventService.dispatchEvent(t)},e.prototype.setColumnDefs=function(t){var r=this.gridOptionsService.get("columnDefs");if(r){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(r);return}this.columnModel.setColumnDefs(r,SC(t.source))}},K_([P("ctrlsService")],e.prototype,"ctrlsService",void 0),K_([P("columnModel")],e.prototype,"columnModel",void 0),K_([P("rowModel")],e.prototype,"rowModel",void 0),K_([se],e.prototype,"postConstruct",null),e=K_([be("syncService")],e),e}(re),JMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HB=function(){return HB=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},HB.apply(this,arguments)},q_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},eAe=function(n){JMe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.manuallyDisplayed=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_ROW_DATA_UPDATED,function(){return t.onRowDataUpdated()}),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var t={},r=this.userComponentFactory.getLoadingOverlayCompDetails(t);this.showOverlay(r,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var t={},r=this.userComponentFactory.getNoRowsOverlayCompDetails(t);this.showOverlay(r,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},e.prototype.showOverlay=function(t,r,o){var i=this,a=t.newAgStackInstance(),s=this.addManagedPropertyListener(o,function(l){var u=l.currentValue;a.then(function(c){c.refresh&&c.refresh(i.gridOptionsService.addGridCommonParams(HB({},u!=null?u:{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(a,r,s)},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),r=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!r?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},q_([P("userComponentFactory")],e.prototype,"userComponentFactory",void 0),q_([P("paginationProxy")],e.prototype,"paginationProxy",void 0),q_([P("columnModel")],e.prototype,"columnModel",void 0),q_([se],e.prototype,"postConstruct",null),e=q_([be("overlayService")],e),e}(re),tAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qp=function(){return qp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},qp.apply(this,arguments)},rs=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},nAe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rAe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},oAe=function(n){tAe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.suppressEvents=!0,t.queuedUpdateSources=new Set,t.dispatchStateUpdateEventDebounced=as(function(){return t.dispatchQueuedStateUpdateEvents()},0),t}return e.prototype.postConstruct=function(){var t=this,r;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},this.ctrlsService.whenReady(function(){return t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnGridReady()})});var o=this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,function(s){var l=s.source;l==="gridInitializing"&&(o==null||o(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnColumnsInitialised()}))}),i=this.addManagedListener(this.eventService,I.EVENT_ROW_COUNT_READY,function(){i==null||i(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnRowCountReady()})}),a=this.addManagedListener(this.eventService,I.EVENT_FIRST_DATA_RENDERED,function(){a==null||a(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnFirstDataRendered()})})},e.prototype.getState=function(){return this.cachedState},e.prototype.setupStateOnGridReady=function(){var t=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,I.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return t.updateCachedState("sideBar",t.getSideBarState())}),this.addManagedListener(this.eventService,I.EVENT_SIDE_BAR_UPDATED,function(){return t.updateCachedState("sideBar",t.getSideBarState())})},e.prototype.setupStateOnColumnsInitialised=function(){var t=this,r,o=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{};this.setColumnState(o),this.setColumnGroupState(o),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VALUE_CHANGED,function(){return t.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,function(){return t.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PINNED,function(){return t.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_RESIZED,function(){return t.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,function(){return t.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,function(){return t.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,function(){return t.updateCachedState("columnGroup",t.getColumnGroupState())})},e.prototype.setupStateOnRowCountReady=function(){var t=this,r,o=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},i=o.filter,a=o.rowGroupExpansion,s=o.rowSelection,l=o.pagination,u=this.gridOptionsService.get("advancedFilterModel");(i||u)&&this.setFilterState(i,u),a&&this.setRowGroupExpansionState(a),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,I.EVENT_FILTER_CHANGED,function(){return t.updateCachedState("filter",t.getFilterState())}),this.addManagedListener(this.eventService,I.EVENT_ROW_GROUP_OPENED,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,I.EVENT_EXPAND_COLLAPSE_ALL,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,I.EVENT_SELECTION_CHANGED,function(){return t.updateCachedState("rowSelection",t.getRowSelectionState())}),this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,function(c){(c.newPage||c.newPageSize)&&t.updateCachedState("pagination",t.getPaginationState())})},e.prototype.setupStateOnFirstDataRendered=function(){var t=this,r,o=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},i=o.scroll,a=o.rangeSelection,s=o.focusedCell,l=o.columnOrder;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),i&&this.setScrollState(i),this.setColumnPivotState(!!(l!=null&&l.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,I.EVENT_CELL_FOCUSED,function(){return t.updateCachedState("focusedCell",t.getFocusedCellState())}),this.addManagedListener(this.eventService,I.EVENT_RANGE_SELECTION_CHANGED,function(u){u.finished&&t.updateCachedState("rangeSelection",t.getRangeSelectionState())}),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL_END,function(){return t.updateCachedState("scroll",t.getScrollState())})},e.prototype.getColumnState=function(){for(var t=this.columnModel.isPivotMode(),r=[],o=[],i=[],a=[],s=[],l=[],u=[],c=[],d=[],f=this.columnModel.getColumnState(),p=0;p<f.length;p++){var h=f[p],m=h.colId,v=h.sort,g=h.sortIndex,y=h.rowGroup,C=h.rowGroupIndex,w=h.aggFunc,b=h.pivot,E=h.pivotIndex,D=h.pinned,S=h.hide,T=h.width,O=h.flex;d.push(m),v&&(r[g!=null?g:0]={colId:m,sort:v}),y&&(o[C!=null?C:0]=m),typeof w=="string"&&i.push({colId:m,aggFunc:w}),b&&(a[E!=null?E:0]=m),D&&(D==="right"?l:s).push(m),S&&u.push(m),(O||T)&&c.push({colId:m,flex:O!=null?O:void 0,width:T})}return{sort:r.length?{sortModel:r}:void 0,rowGroup:o.length?{groupColIds:o}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:a.length||t?{pivotMode:t,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},e.prototype.setColumnState=function(t){var r=t.sort,o=t.rowGroup,i=t.aggregation,a=t.pivot,s=t.columnPinning,l=t.columnVisibility,u=t.columnSizing,c=t.columnOrder,d={},f=function(g){var y=d[g];return y||(y={colId:g},d[g]=y,y)};r&&r.sortModel.forEach(function(g,y){var C=g.colId,w=g.sort,b=f(C);b.sort=w,b.sortIndex=y}),o&&o.groupColIds.forEach(function(g,y){var C=f(g);C.rowGroup=!0,C.rowGroupIndex=y}),i&&i.aggregationModel.forEach(function(g){var y=g.colId,C=g.aggFunc;f(y).aggFunc=C}),a&&(a.pivotColIds.forEach(function(g,y){var C=f(g);C.pivot=!0,C.pivotIndex=y}),this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(g){f(g).pinned="left"}),s.rightColIds.forEach(function(g){f(g).pinned="right"})),l&&l.hiddenColIds.forEach(function(g){f(g).hide=!0}),u&&u.columnSizingModel.forEach(function(g){var y=g.colId,C=g.flex,w=g.width,b=f(y);b.flex=C!=null?C:null,b.width=w});var p=c==null?void 0:c.orderedColIds,h=!!(p!=null&&p.length),m=h?p.map(function(g){return f(g)}):Object.values(d);if(m.length){this.columnStates=m;var v={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:m,applyOrder:h,defaultState:v},"gridInitializing")}},e.prototype.setColumnPivotState=function(t){var r,o,i=this.columnStates;this.columnStates=void 0;var a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(i){var s=[];try{for(var l=nAe(i),u=l.next();!u.done;u=l.next()){var c=u.value;this.columnModel.getSecondaryColumn(c.colId)&&s.push(c)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}this.columnModel.applyColumnState({state:s,applyOrder:t},"gridInitializing")}a&&this.columnModel.setColumnGroupState(a,"gridInitializing")}},e.prototype.getColumnGroupState=function(){var t=this.columnModel.getColumnGroupState(),r=[];return t.forEach(function(o){var i=o.groupId,a=o.open;a&&r.push(i)}),r.length?{openColumnGroupIds:r}:void 0},e.prototype.setColumnGroupState=function(t){var r;if(t.hasOwnProperty("columnGroup")){var o=new Set((r=t.columnGroup)===null||r===void 0?void 0:r.openColumnGroupIds),i=this.columnModel.getColumnGroupState(),a=i.map(function(s){var l=s.groupId,u=o.has(l);return u&&o.delete(l),{groupId:l,open:u}});o.forEach(function(s){a.push({groupId:s,open:!0})}),a.length&&(this.columnGroupStates=a),this.columnModel.setColumnGroupState(a,"gridInitializing")}},e.prototype.getFilterState=function(){var t,r=this.filterManager.getFilterModel();r&&Object.keys(r).length===0&&(r=void 0);var o=(t=this.filterManager.getAdvancedFilterModel())!==null&&t!==void 0?t:void 0;return r||o?{filterModel:r,advancedFilterModel:o}:void 0},e.prototype.setFilterState=function(t,r){var o=t!=null?t:{advancedFilterModel:r},i=o.filterModel,a=o.advancedFilterModel;i&&this.filterManager.setFilterModel(i,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},e.prototype.getRangeSelectionState=function(){var t,r=(t=this.rangeService)===null||t===void 0?void 0:t.getCellRanges().map(function(o){var i=o.id,a=o.type,s=o.startRow,l=o.endRow,u=o.columns,c=o.startColumn;return{id:i,type:a,startRow:s,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return r!=null&&r.length?{cellRanges:r}:void 0},e.prototype.setRangeSelectionState=function(t){var r=this,o;if(this.gridOptionsService.get("enableRangeSelection")){var i=t.cellRanges.map(function(a){return qp(qp({},a),{columns:a.colIds.map(function(s){return r.columnModel.getGridColumn(s)}),startColumn:r.columnModel.getGridColumn(a.startColId)})});(o=this.rangeService)===null||o===void 0||o.setCellRanges(i)}},e.prototype.getScrollState=function(){var t,r,o;if(this.isClientSideRowModel){var i=(t=this.ctrlsService.getGridBodyCtrl())===null||t===void 0?void 0:t.getScrollFeature(),a=((r=i==null?void 0:i.getHScrollPosition())!==null&&r!==void 0?r:{left:0}).left,s=((o=i==null?void 0:i.getVScrollPosition())!==null&&o!==void 0?o:{top:0}).top;return s||a?{top:s,left:a}:void 0}},e.prototype.setScrollState=function(t){var r;if(this.isClientSideRowModel){var o=t.top,i=t.left;(r=this.ctrlsService.getGridBodyCtrl())===null||r===void 0||r.getScrollFeature().setScrollPosition(o,i)}},e.prototype.getSideBarState=function(){var t,r;return(r=(t=this.sideBarService)===null||t===void 0?void 0:t.getSideBarComp())===null||r===void 0?void 0:r.getState()},e.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var t=this.focusService.getFocusedCell();if(t){var r=t.column,o=t.rowIndex,i=t.rowPinned;return{colId:r.getColId(),rowIndex:o,rowPinned:i}}}},e.prototype.setFocusedCellState=function(t){if(this.isClientSideRowModel){var r=t.colId,o=t.rowIndex,i=t.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(r),rowIndex:o,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.getPaginationState=function(){var t=this.paginationProxy.getCurrentPage(),r=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!t&&!r))return{page:t,pageSize:r}},e.prototype.setPaginationState=function(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationProxy.setPage(t.page)},e.prototype.getRowSelectionState=function(){var t,r=this.selectionService.getSelectionState(),o=!r||!Array.isArray(r)&&(r.selectAll===!1||r.selectAllChildren===!1)&&!(!((t=r==null?void 0:r.toggledNodes)===null||t===void 0)&&t.length);return o?void 0:r},e.prototype.setRowSelectionState=function(t){this.selectionService.setSelectionState(t,"gridInitializing")},e.prototype.getRowGroupExpansionState=function(){var t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0},e.prototype.setRowGroupExpansionState=function(t){this.expansionService.expandRows(t.expandedRowGroupIds)},e.prototype.updateColumnState=function(t){var r=this,o=this.getColumnState(),i=!1;Object.entries(o).forEach(function(a){var s=rAe(a,2),l=s[0],u=s[1];wB(u,r.cachedState[l])||(i=!0)}),this.cachedState=qp(qp({},this.cachedState),o),i&&this.dispatchStateUpdateEvent(t)},e.prototype.updateCachedState=function(t,r){var o,i=this.cachedState[t];this.cachedState=qp(qp({},this.cachedState),(o={},o[t]=r,o)),wB(r,i)||this.dispatchStateUpdateEvent([t])},e.prototype.dispatchStateUpdateEvent=function(t){var r=this;this.suppressEvents||(t.forEach(function(o){return r.queuedUpdateSources.add(o)}),this.dispatchStateUpdateEventDebounced())},e.prototype.dispatchQueuedStateUpdateEvents=function(){var t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var r={type:I.EVENT_STATE_UPDATED,sources:t,state:this.cachedState};this.eventService.dispatchEvent(r)},e.prototype.suppressEventsAndDispatchInitEvent=function(t){var r=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(function(){r.suppressEvents=!1,r.queuedUpdateSources.clear(),r.isAlive()&&(r.columnAnimationService.setSuppressAnimation(!1),r.dispatchStateUpdateEvent(["gridInitializing"]))})},rs([P("filterManager")],e.prototype,"filterManager",void 0),rs([Ot("rangeService")],e.prototype,"rangeService",void 0),rs([P("ctrlsService")],e.prototype,"ctrlsService",void 0),rs([Ot("sideBarService")],e.prototype,"sideBarService",void 0),rs([P("focusService")],e.prototype,"focusService",void 0),rs([P("columnModel")],e.prototype,"columnModel",void 0),rs([P("paginationProxy")],e.prototype,"paginationProxy",void 0),rs([P("rowModel")],e.prototype,"rowModel",void 0),rs([P("selectionService")],e.prototype,"selectionService",void 0),rs([P("expansionService")],e.prototype,"expansionService",void 0),rs([P("columnAnimationService")],e.prototype,"columnAnimationService",void 0),rs([se],e.prototype,"postConstruct",null),e=rs([be("stateService")],e),e}(re),iAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},vg=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},Y_=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},aAe=function(n){iAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){this.processGridOptions(this.gridOptions)},e.prototype.processGridOptions=function(t){this.processOptions(t,WMe)},e.prototype.processColumnDefs=function(t){this.processOptions(t,_C)},e.prototype.processOptions=function(t,r){var o=this,i=r.validations,a=r.deprecations,s=r.allProperties,l=r.propertyExceptions,u=r.objectName,c=r.docsUrl;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,Y_(Y_([],vg(l!=null?l:[]),!1),vg(Object.keys(a)),!1),s,u,c);var d=new Set,f=Object.keys(t);f.forEach(function(p){var h,m=a[p];if(m)if("renamed"in m){var v=m.renamed,g=m.version;d.add("As of v".concat(g,", ").concat(String(p)," is deprecated. Please use ").concat(String(v)," instead.")),t[v]=t[p]}else{var y=m.message,g=m.version;d.add("As of v".concat(g,", ").concat(String(p)," is deprecated. ").concat(y!=null?y:""))}var C=t[p];if(!(C==null||C===!1)){var w=i[p],b;if(w)if(typeof w=="function"){var E=w(t,o.gridOptions);if(!E)return;if("objectName"in E){var D=t[p];if(Array.isArray(D)){D.forEach(function(G){o.processOptions(G,E)});return}o.processOptions(t[p],E);return}b=E}else b=w;else return;var S=b.module,T=b.dependencies,O=b.supportedRowModels;if(O){var L=(h=o.gridOptions.rowModelType)!==null&&h!==void 0?h:"clientSide";if(!O.includes(L)){d.add("".concat(String(p)," is not supported with the '").concat(L,"' row model."));return}}if(S){var k=Array.isArray(S)?S:[S],A=!0;if(k.forEach(function(G){zt.__assertRegistered(G,String(p),o.context.getGridId())||(A=!1,d.add("".concat(String(p)," is only available when ").concat(G," is loaded.")))}),!A)return}if(T){var $=o.checkForWarning(p,T,t);if($){d.add($);return}}}}),d.size>0&&d.forEach(function(p){ze(p)})},e.prototype.checkForWarning=function(t,r,o){if(typeof r=="function")return r(o,this.gridOptions);var i=Object.entries(r),a=i.find(function(c){var d=vg(c,2),f=d[0],p=d[1],h=o[f];return!p.includes(h)});if(!a)return null;var s=vg(a,2),l=s[0],u=s[1];return u.length>1?"'".concat(String(t),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(t),"' requires '").concat(l,"' to be ").concat(u[0],".")},e.prototype.checkProperties=function(t,r,o,i,a){var s=["__ob__","__v_skip","__metadata__"],l=cte(Object.getOwnPropertyNames(t),Y_(Y_(Y_([],vg(s),!1),vg(r),!1),vg(o),!1),o);if(bi(l,function(c,d){ze("invalid ".concat(i," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var u=this.getFrameworkOverrides().getDocLink(a);ze("to see all the valid ".concat(i," properties please check: ").concat(u))}},pB([P("gridOptions")],e.prototype,"gridOptions",void 0),pB([se],e.prototype,"init",null),e=pB([be("validationService")],e),e}(re),sAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oee=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},lAe=function(n){sAe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.syncEventListeners=new Map,t.asyncEventListeners=new Map,t.syncGlobalEventListeners=new Set,t.asyncGlobalEventListeners=new Set,t}return e.prototype.postConstruct=function(){this.frameworkEventWrappingService=new WB(this.getFrameworkOverrides())},e.prototype.addEventListener=function(t,r){var o=this.frameworkEventWrappingService.wrap(r),i=this.gridOptionsService.useAsyncEvents(),a=i?this.asyncEventListeners:this.syncEventListeners;a.has(t)||a.set(t,new Set),a.get(t).add(o),this.eventService.addEventListener(t,o,i)},e.prototype.addGlobalListener=function(t){var r=this.frameworkEventWrappingService.wrapGlobal(t),o=this.gridOptionsService.useAsyncEvents(),i=o?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;i.add(r),this.eventService.addGlobalListener(r,o)},e.prototype.removeEventListener=function(t,r){var o,i=this.frameworkEventWrappingService.unwrap(r),a=this.asyncEventListeners.get(t),s=!!(a!=null&&a.delete(i));s||(o=this.asyncEventListeners.get(t))===null||o===void 0||o.delete(i),this.eventService.removeEventListener(t,i,s)},e.prototype.removeGlobalListener=function(t){var r=this.frameworkEventWrappingService.unwrapGlobal(t),o=this.asyncGlobalEventListeners.delete(r);o||this.syncGlobalEventListeners.delete(r),this.eventService.removeGlobalListener(r,o)},e.prototype.destroyEventListeners=function(t,r){var o=this;t.forEach(function(i,a){i.forEach(function(s){return o.eventService.removeEventListener(a,s,r)}),i.clear()}),t.clear()},e.prototype.destroyGlobalListeners=function(t,r){var o=this;t.forEach(function(i){return o.eventService.removeGlobalListener(i,r)}),t.clear()},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},oee([se],e.prototype,"postConstruct",null),e=oee([be("apiEventService")],e),e}(re),uAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},cAe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},dAe=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},fAe=function(n){uAe(e,n);function e(){var t=n.call(this,'<span class="ag-paging-page-size"></span>')||this;return t.hasEmptyOption=!1,t.handlePageSizeItemSelected=function(){if(t.selectPageSizeComp){var r=t.selectPageSizeComp.getValue();if(r){var o=Number(r);isNaN(o)||o<1||o===t.paginationProxy.getPageSize()||(t.paginationProxy.setPageSize(o,"pageSizeSelector"),t.hasEmptyOption&&t.toggleSelectDisplay(!0),t.selectPageSizeComp.getFocusableElement().focus())}}},t}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){t.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,function(r){return t.handlePaginationChanged(r)})},e.prototype.handlePaginationChanged=function(t){if(!(!this.selectPageSizeComp||!(t!=null&&t.newPageSize))){var r=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(r)?this.selectPageSizeComp.setValue(r.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},e.prototype.toggleSelectDisplay=function(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},e.prototype.reset=function(){wo(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},e.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},e.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},e.prototype.reloadPageSizesSelector=function(){var t=this,r=this.getPageSizeSelectorValues(),o=this.paginationProxy.getPageSize(),i=!o||!r.includes(o);i&&(r.unshift(""),ze(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=r.map(function(c){return{value:String(c),text:String(c)}}),u=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new mE).addOptions(l).setValue(String(i?"":o)).setAriaLabel(u).setLabel(s).onValueChange(function(){return t.handlePageSizeItemSelected()}),this.hasEmptyOption=i},e.prototype.getPageSizeSelectorValues=function(){var t=[20,50,100],r=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(r)||!this.validateValues(r)?t:dAe([],cAe(r),!1).sort(function(o,i){return o-i})},e.prototype.validateValues=function(t){if(!t.length)return ze(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var r=0;r<t.length;r++){var o=t[r],i=typeof o=="number",a=o>0;if(!i)return ze(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!a)return ze(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},e.prototype.destroy=function(){this.toggleSelectDisplay(!1),n.prototype.destroy.call(this)},vI([P("localeService")],e.prototype,"localeService",void 0),vI([P("gridOptionsService")],e.prototype,"gridOptionsService",void 0),vI([P("paginationProxy")],e.prototype,"paginationProxy",void 0),vI([se],e.prototype,"init",null),e}(rt),pAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},hAe=function(n){pAe(e,n);function e(){var t=n.call(this)||this;return t.descriptionContainer=null,t.announceValue=as(t.announceValue.bind(t),200),t}return e.prototype.postConstruct=function(){var t=this.gridOptionsService.getDocument(),r=this.descriptionContainer=t.createElement("div");r.classList.add("ag-aria-description-container"),YB(r,"polite"),Bee(r,"additions text"),$ee(r,!0),this.eGridDiv.appendChild(r)},e.prototype.announceValue=function(t){var r=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(function(){r.descriptionContainer.textContent=t},50))},e.prototype.destroy=function(){n.prototype.destroy.call(this);var t=this.descriptionContainer;t&&(wo(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null},hB([P("eGridDiv")],e.prototype,"eGridDiv",void 0),hB([se],e.prototype,"postConstruct",null),e=hB([be("ariaAnnouncementService")],e),e}(re),iee=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},aee=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))};function mAe(n,e,t){if(!e)return uu("No gridOptions provided to createGrid"),{};var r=B3.getCoercedGridOptions(e),o=new W3().create(n,r,function(a){var s=new $3(n);a.createBean(s)},void 0,t);if(!Object.isFrozen(e)&&!(t!=null&&t.frameworkOverrides)){var i="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:function(){uu("gridOptions.api is no longer supported. See ".concat(i,"."))},configurable:!0}),Object.defineProperty(e,"columnApi",{get:function(){uu("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(i,"."))},configurable:!0})}return o}var gAe=function(){function n(e,t,r){var o=this;if(ze("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!t){uu("No gridOptions provided to the grid");return}this.gridOptions=t;var i=new W3().create(e,t,function(a){var s=new $3(e),l=a.createBean(s);l.addDestroyFunc(function(){o.destroy()})},void 0,r);this.gridOptions.api=i,this.gridOptions.columnApi=new rF(i)}return n.prototype.destroy=function(){var e;this.gridOptions&&((e=this.gridOptions.api)===null||e===void 0||e.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},n}(),vAe=1,W3=function(){function n(){}return n.prototype.create=function(e,t,r,o,i){var a,s=!!t.debug,l=(a=t.gridId)!==null&&a!==void 0?a:String(vAe++),u=this.getRegisteredModules(i,l),c=this.createBeansList(t.rowModelType,u,l),d=this.createProvidedBeans(e,t,i);if(!c){uu("Failed to create grid.");return}var f={providedBeanInstances:d,beanClasses:c,debug:s,gridId:l},p=new oF("Context",function(){return f.debug}),h=new Cee(f,p),m=h.getBean("beans");return this.registerModuleUserComponents(m,u),this.registerStackComponents(m,u),this.registerControllers(m,u),r(h),m.syncService.start(),o&&o(h),m.gridApi},n.prototype.registerControllers=function(e,t){t.forEach(function(r){r.controllers&&r.controllers.forEach(function(o){return e.ctrlsFactory.register(o)})})},n.prototype.registerStackComponents=function(e,t){var r=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(r)},n.prototype.getRegisteredModules=function(e,t){var r=e?e.modules:null,o=zt.__getRegisteredModules(t),i=[],a={},s=function(l,u,c){var d=function(f){a[f.moduleName]||(a[f.moduleName]=!0,i.push(f),zt.__register(f,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(f){return s(l,f,c)})};return r&&r.forEach(function(l){return s(!0,l,t)}),o&&o.forEach(function(l){return s(!zt.__isPackageBased(),l,void 0)}),i},n.prototype.registerModuleUserComponents=function(e,t){var r=this.extractModuleEntity(t,function(o){return o.userComponents?o.userComponents:[]});r.forEach(function(o){e.userComponentRegistry.registerDefaultComponent(o.componentName,o.componentClass)})},n.prototype.createProvidedBeans=function(e,t,r){var o=r?r.frameworkOverrides:null;Ke(o)&&(o=new Kne);var i={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:o};return r&&r.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i},n.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:gE},{componentName:"AgRadioButton",componentClass:R3},{componentName:"AgToggleButton",componentClass:Ane},{componentName:"AgInputTextField",componentClass:oh},{componentName:"AgInputTextArea",componentClass:Nne},{componentName:"AgInputNumberField",componentClass:ZI},{componentName:"AgInputDateField",componentClass:kne},{componentName:"AgInputRange",componentClass:Vne},{componentName:"AgRichSelect",componentClass:Gne},{componentName:"AgSelect",componentClass:mE},{componentName:"AgSlider",componentClass:Hne},{componentName:"AgGridBody",componentClass:rne},{componentName:"AgHeaderRoot",componentClass:wne},{componentName:"AgSortIndicator",componentClass:JI},{componentName:"AgPagination",componentClass:cMe},{componentName:"AgPageSizeSelector",componentClass:fAe},{componentName:"AgOverlayWrapper",componentClass:fMe},{componentName:"AgGroupComponent",componentClass:$ne},{componentName:"AgRowContainer",componentClass:une},{componentName:"AgFakeHorizontalScroll",componentClass:LMe},{componentName:"AgFakeVerticalScroll",componentClass:qMe},{componentName:"AgAutocomplete",componentClass:jne}],r=this.extractModuleEntity(e,function(o){return o.agStackComponents?o.agStackComponents:[]});return t=t.concat(r),t},n.prototype.createBeansList=function(e,t,r){e===void 0&&(e="clientSide");var o=t.filter(function(u){return!u.rowModel||u.rowModel===e}),i={clientSide:x.ModuleNames.ClientSideRowModelModule,infinite:x.ModuleNames.InfiniteRowModelModule,serverSide:x.ModuleNames.ServerSideRowModelModule,viewport:x.ModuleNames.ViewportRowModelModule};if(!i[e]){uu("Could not find row model for rowModelType = "+e);return}if(zt.__assertRegistered(i[e],"rowModelType = '".concat(e,"'"),r)){var a=[N3,sre,lre,ure,WLe,L3,Ute,YLe,ZLe,Ene,Kte,sMe,Sne,pre,aAe,Ine,Yte,Aee,of,B3,Une,Xne,Zte,Lee,yne,Lne,Pne,Qne,Oee,Jne,Yne,ane,ore,Zne,ere,Mee,Tne,bne,no,rF,rre,ine,ire,qne,One,Mne,one,nre,GLe,$Le,are,pRe,KLe,xne,wMe,Nee,_Me,EMe,Fne,cre,dre,AMe,kMe,OMe,hre,mre,Xte,QMe,eAe,oAe,Dne,lAe,hAe,Rne],s=this.extractModuleEntity(o,function(u){return u.beans?u.beans:[]});a.push.apply(a,aee([],iee(s),!1));var l=[];return a.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},n.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],aee([],iee(e.map(t)),!1))},n}(),yAe=function(){function n(){}return n.prototype.wrap=function(e,t,r,o){var i=this;r===void 0&&(r=[]);var a=this.createWrapper(e,o);return t.forEach(function(s){i.createMethod(a,s,!0)}),r.forEach(function(s){i.createMethod(a,s,!1)}),a},n.prototype.unwrap=function(e){return e},n.prototype.createMethod=function(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))},n.prototype.createMethodProxy=function(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):null}},n}(),CAe={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},wAe=["chartSettings","chartData","chartFormat"],SAe=["chartUnlink","chartLink","chartDownload"],bAe={settings:"chartSettings",data:"chartData",format:"chartFormat"},_Ae=0;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(x.BarColumnLabelPlacement||(x.BarColumnLabelPlacement={}));var IC=typeof global=="undefined"?{}:global;IC.HTMLElement=typeof HTMLElement=="undefined"?{}:HTMLElement;IC.HTMLButtonElement=typeof HTMLButtonElement=="undefined"?{}:HTMLButtonElement;IC.HTMLSelectElement=typeof HTMLSelectElement=="undefined"?{}:HTMLSelectElement;IC.HTMLInputElement=typeof HTMLInputElement=="undefined"?{}:HTMLInputElement;IC.Node=typeof Node=="undefined"?{}:Node;IC.MouseEvent=typeof MouseEvent=="undefined"?{}:MouseEvent;var X_=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},Z_=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},EAe=function(){function n(e,t,r,o,i,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=r,this.columnModel=o,this.beans=a,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return n.prototype.getCopyOfNodesMap=function(){return ut.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(e){return this.allNodesMap[e]},n.prototype.setRowData=function(e){var t=this;if(typeof e!="string"){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);var r=this.rootNode,o=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?r.allLeafChildren=e.map(function(i){return t.createNode(i,t.rootNode,n.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=r.childrenAfterFilter,o.childrenAfterGroup=r.childrenAfterGroup,o.childrenAfterAggFilter=r.childrenAfterAggFilter,o.childrenAfterSort=r.childrenAfterSort,o.childrenMapped=r.childrenMapped,o.allLeafChildren=r.allLeafChildren)}},n.prototype.updateRowData=function(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);var r={remove:[],update:[],add:[]},o=[];return this.executeRemove(e,r,o),this.executeUpdate(e,r,o),this.executeAdd(e,r),this.updateSelection(o,"rowDataChanged"),t&&ut.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),r},n.prototype.isRowCountReady=function(){return this.rowCountReady},n.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:I.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)},n.prototype.updateSelection=function(e,t){var r=e.length>0;if(r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),r){var o={type:I.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(o)}},n.prototype.executeAdd=function(e,t){var r=this,o,i=e.add,a=e.addIndex;if(!ut.missingOrEmpty(i)){var s=i.map(function(m){return r.createNode(m,r.rootNode,n.TOP_LEVEL)});if(typeof a=="number"&&a>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=a,d=this.gridOptionsService.get("treeData");if(d&&a>0&&u>0){for(var f=0;f<u;f++)if(((o=l[f])===null||o===void 0?void 0:o.rowIndex)==a-1){c=f+1;break}}var p=l.slice(0,c),h=l.slice(c,l.length);this.rootNode.allLeafChildren=Z_(Z_(Z_([],X_(p),!1),X_(s),!1),X_(h),!1)}else this.rootNode.allLeafChildren=Z_(Z_([],X_(this.rootNode.allLeafChildren),!1),X_(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=s}},n.prototype.executeRemove=function(e,t,r){var o=this,i=e.remove;if(!ut.missingOrEmpty(i)){var a={};i.forEach(function(s){var l=o.lookupRowNode(s);l&&(l.isSelected()&&r.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete o.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(e,t,r){var o=this,i=e.update;ut.missingOrEmpty(i)||i.forEach(function(a){var s=o.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&r.push(s),o.setMasterForRow(s,a,n.TOP_LEVEL,!1),t.update.push(s))})},n.prototype.lookupRowNode=function(e){var t=this.gridOptionsService.getCallback("getRowId"),r;if(t){var o=t({data:e,level:0});if(r=this.allNodesMap[o],!r)return null}else if(r=this.rootNode.allLeafChildren.find(function(i){return i.data===e}),!r)return null;return r||null},n.prototype.createNode=function(e,t,r){var o=new lt(this.beans);o.group=!1,this.setMasterForRow(o,e,r,!0);var i=this.gridOptionsService.get("suppressParentsInRowNodes");return t&&!i&&(o.parent=t),o.level=r,o.setDataAndId(e,this.nextId.toString()),this.allNodesMap[o.id],this.allNodesMap[o.id]=o,this.nextId++,o},n.prototype.setMasterForRow=function(e,t,r,o){var i=this.gridOptionsService.get("treeData");if(i)e.setMaster(!1),o&&(e.expanded=!1);else{var a=this.gridOptionsService.get("masterDetail");if(a){var s=this.gridOptionsService.get("isRowMaster");s?e.setMaster(s(t)):e.setMaster(!0)}else e.setMaster(!1);if(o){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=r+u;e.expanded=e.master?this.isExpanded(c):!1}}},n.prototype.isExpanded=function(e){var t=this.gridOptionsService.get("groupDefaultExpanded");return t===-1?!0:e<t},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),xAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ha=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},ma=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},ga=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},Mc;(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"})(Mc||(Mc={}));var DAe=function(n){xAe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=ut.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t.hasStarted=!1,t.shouldSkipSettingDataOnStart=!1,t.isRefreshingModel=!1,t.rowCountReady=!1,t}return e.prototype.init=function(){var t=this,r=this.refreshModel.bind(this,{step:x.ClientSideRowModelSteps.EVERYTHING}),o=!this.gridOptionsService.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:x.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:o});this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:x.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,I.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,I.EVENT_GRID_READY,function(){return t.onGridReady()}),this.addPropertyListeners(),this.rootNode=new lt(this.beans),this.nodeManager=new EAe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.addPropertyListeners=function(){var t=this,r=new Set(["treeData","masterDetail"]),o=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=ga(ga(ga(ga(ga(ga(ga(ga(ga([],ma(r),!1),ma(o),!1),ma(i),!1),ma(a),!1),ma(a),!1),ma(s),!1),ma(l),!1),ma(u),!1),ma(c),!1);this.addManagedPropertyListeners(d,function(f){var p,h=(p=f.changeSet)===null||p===void 0?void 0:p.properties;if(h){var m=function(v){return h.some(function(g){return v.has(g)})};if(m(r)){t.setRowData(t.rootNode.allLeafChildren.map(function(v){return v.data}));return}if(m(o)){t.refreshModel({step:x.ClientSideRowModelSteps.EVERYTHING});return}if(m(i)){t.refreshModel({step:x.ClientSideRowModelSteps.FILTER});return}if(m(a)){t.refreshModel({step:x.ClientSideRowModelSteps.PIVOT});return}if(m(s)){t.refreshModel({step:x.ClientSideRowModelSteps.AGGREGATE});return}if(m(l)){t.refreshModel({step:x.ClientSideRowModelSteps.SORT});return}if(m(u)){t.refreshModel({step:x.ClientSideRowModelSteps.FILTER_AGGREGATES});return}m(c)&&t.refreshModel({step:x.ClientSideRowModelSteps.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return t.resetRowHeights()})},e.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},e.prototype.setInitialData=function(){var t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))},e.prototype.ensureRowHeightsValid=function(t,r,o,i){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(r),c=Math.max(l,o),d=Math.min(u,i),f=c;f<=d;f++){var p=this.getRow(f);if(p.rowHeightEstimated){var h=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(h.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),r=0,o=new Set,i=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(s.id!=null&&o.add(s.id),s.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(s,i,t);s.setRowHeight(l.height,l.estimated)}s.setRowTop(r),s.setRowIndex(a),r+=s.rowHeight}return o},e.prototype.clearRowTopAndRowIndex=function(t,r){var o=t.isActive(),i=function(s){s&&s.id!=null&&!r.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){if(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup){var l=s.level==-1,u=o&&!l&&!s.expanded;u||s.childrenAfterGroup.forEach(a)}};a(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,r,o){var i=this;o===void 0&&(o=0);var a=this.getRowIndexAtPixel(r),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s===t[0]?!1:(t.forEach(function(u){ut.removeFromArray(i.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){ut.insertIntoArray(i.rootNode.allLeafChildren,u,Math.max(a+o,0)+c)}),this.refreshModel({step:x.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,r){var o=r!=null?this.getRowIndexAtPixel(r):null,i=o!=null?this.getRow(o):null;if(!i||!t||i===t||r==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var a=this.getHighlightPosition(r,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(a),this.lastHighlightedRow=i},e.prototype.getHighlightPosition=function(t,r){if(!r){var o=this.getRowIndexAtPixel(t);if(r=this.getRow(o||0),!r)return x.RowHighlightPosition.Below}var i=r.rowTop,a=r.rowHeight;return t-i<a/2?x.RowHighlightPosition.Above:x.RowHighlightPosition.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var r=this.rootNode.childrenAfterAggFilter;return r?r.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var r=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(r)return t;var o=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0;)o=o.childrenAfterSort[0];return o.rowIndex},e.prototype.getRowBounds=function(t){if(ut.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[t];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:x.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var r=this.gridOptionsService.isAnimateRows(),o=t.columns.length===0||t.columns.some(function(a){return a.isPrimary()}),i=o?x.ClientSideRowModelSteps.FILTER:x.ClientSideRowModelSteps.FILTER_AGGREGATES;this.refreshModel({step:i,keepRenderedRows:!0,animate:r})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:x.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:x.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:x.ClientSideRowModelSteps.AGGREGATE})},e.prototype.createChangePath=function(t){var r=ut.missingOrEmpty(t),o=new wE(!1,this.rootNode);return(r||this.gridOptionsService.get("treeData"))&&o.setInactive(),o},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;var r=t.rowNodeTransactions.filter(function(i){return i.add!=null&&i.add.length>0||i.remove!=null&&i.remove.length>0}),o=r==null||r.length==0;return o},e.prototype.buildRefreshModelParams=function(t){var r=x.ClientSideRowModelSteps.EVERYTHING,o={everything:x.ClientSideRowModelSteps.EVERYTHING,group:x.ClientSideRowModelSteps.EVERYTHING,filter:x.ClientSideRowModelSteps.FILTER,map:x.ClientSideRowModelSteps.MAP,aggregate:x.ClientSideRowModelSteps.AGGREGATE,sort:x.ClientSideRowModelSteps.SORT,pivot:x.ClientSideRowModelSteps.PIVOT};if(ut.exists(t)&&(r=o[t]),!ut.missing(r)){var i=!this.gridOptionsService.get("suppressAnimationFrame"),a={step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:i};return a}},e.prototype.refreshModel=function(t){if(!(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())){var r=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(r&&!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var o=this.createChangePath(r.rowNodeTransactions);switch(this.isRefreshingModel=!0,r.step){case x.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(r.rowNodeTransactions,r.rowNodeOrder,o,!!r.afterColumnsChanged);case x.ClientSideRowModelSteps.FILTER:this.doFilter(o);case x.ClientSideRowModelSteps.PIVOT:this.doPivot(o);case x.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(o);case x.ClientSideRowModelSteps.FILTER_AGGREGATES:this.doFilterAggregates(o);case x.ClientSideRowModelSteps.SORT:this.doSort(r.rowNodeTransactions,o);case x.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,i),this.isRefreshingModel=!1;var a={type:I.EVENT_MODEL_UPDATED,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1,keepUndoRedoStack:r.keepUndoRedoStack};this.eventService.dispatchEvent(a)}}},e.prototype.isEmpty=function(){var t=ut.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return ut.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return ut.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,r){var o=!r,i=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!i){if(o&&(l===r||l===t)&&(i=!0,l.group&&s)){a.push.apply(a,ga([],ma(l.allLeafChildren),!1));return}if(!o){if(l!==r&&l!==t)return;o=!0}var u=!l.group||!s;if(u){a.push(l);return}}}),a},e.prototype.setDatasource=function(t){},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var r=0,o=this.rowsToDisplay.length-1;if(t<=0)return 0;var i=ut.last(this.rowsToDisplay);if(i.rowTop<=t)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((r+o)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?r=l+1:u.rowTop>t&&(o=l-1);var c=a===r&&s===o;if(c)return l;a=r,s=o}},e.prototype.isRowInPixel=function(t,r){var o=t.rowTop,i=t.rowTop+t.rowHeight,a=o<=r&&i>r;return a},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,o){return t(r,o)})},e.prototype.forEachNode=function(t,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:ga([],ma(this.rootNode.childrenAfterGroup||[]),!1),callback:t,recursionType:Mc.Normal,index:0,includeFooterNodes:r})},e.prototype.forEachNodeAfterFilter=function(t,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:ga([],ma(this.rootNode.childrenAfterAggFilter||[]),!1),callback:t,recursionType:Mc.AfterFilter,index:0,includeFooterNodes:r})},e.prototype.forEachNodeAfterFilterAndSort=function(t,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:ga([],ma(this.rootNode.childrenAfterSort||[]),!1),callback:t,recursionType:Mc.AfterFilterAndSort,index:0,includeFooterNodes:r})},e.prototype.forEachPivotNode=function(t,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:Mc.PivotNodes,index:0,includeFooterNodes:r})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var r,o=t.nodes,i=t.callback,a=t.recursionType,s=t.includeFooterNodes,l=t.index,u=0;u<o.length;u++){var c=o[u];if(i(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(a){case Mc.Normal:d=c.childrenAfterGroup;break;case Mc.AfterFilter:d=c.childrenAfterAggFilter;break;case Mc.AfterFilterAndSort:d=c.childrenAfterSort;break;case Mc.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:ga([],ma(d),!1),callback:i,recursionType:a,index:l,includeFooterNodes:s}))}}var f=(r=o[0])===null||r===void 0?void 0:r.parent;if(!s||!f)return l;var p=f===this.rootNode;if(p){var h=this.gridOptionsService.get("groupIncludeTotalFooter");if(!h)return l}else{var m=this.gridOptionsService.getGroupIncludeFooter();if(!m({node:f}))return l}return f.createFooter(),i(f.sibling,l++),l},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var r=this.gridOptionsService.get("treeData"),o=this.columnModel.isPivotActive(),i=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=t,i(u.childrenAfterGroup)};if(r){var d=ut.exists(u.childrenAfterGroup);d&&c();return}if(o){var f=!u.leafGroup;f&&c();return}var p=u.group;p&&c()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:x.ClientSideRowModelSteps.MAP});var a=t?"expandAll":"collapseAll",s={type:I.EVENT_EXPAND_COLLAPSE_ALL,source:a};this.eventService.dispatchEvent(s)},e.prototype.doSort=function(t,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:r})},e.prototype.doRowGrouping=function(t,r,o,i){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:r,changedPath:o}):this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:i}),this.gridOptionsService.get("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o);if(a){var s={type:I.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:I.EVENT_ROW_COUNT_READY}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var r=typeof t=="string"&&t.indexOf(lt.ID_PREFIX_ROW_GROUP)==0;if(r){var o=void 0;return this.forEachNode(function(i){i.id===t&&(o=i)}),o}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},e.prototype.dispatchUpdateEventsAndRefresh=function(){var t={type:I.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.refreshModel({step:x.ClientSideRowModelSteps.EVERYTHING,newData:!0})},e.prototype.batchUpdateRowData=function(t,r){var o=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:r})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var r=[],o=[],i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=t.nodeManager.updateRowData(s.rowDataTransaction,void 0);o.push(l),s.callback&&r.push(s.callback.bind(null,l)),typeof s.rowDataTransaction.addIndex=="number"&&(i=!0)}),this.commonUpdateRowData(o,void 0,i),r.length>0&&window.setTimeout(function(){r.forEach(function(s){return s()})},0),o.length>0){var a={type:I.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,r){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(t,r),i=typeof t.addIndex=="number";return this.commonUpdateRowData([o],r,i),o},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!t){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var o=0;o<this.rootNode.allLeafChildren.length;o++){var i=this.rootNode.allLeafChildren[o];r[i.id]=o}return r}},e.prototype.commonUpdateRowData=function(t,r,o){if(this.hasStarted){var i=!this.gridOptionsService.get("suppressAnimationFrame");o&&(r=this.createRowNodeOrder());var a={type:I.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(a),this.refreshModel({step:x.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:x.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var o=r.detailNode;o&&o.setRowHeight(o.rowHeight,!0),r.sibling&&r.sibling.setRowHeight(r.sibling.rowHeight,!0),t=!0}),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},e.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},e.prototype.isRowDataLoaded=function(){return this.rowCountReady},ha([P("columnModel")],e.prototype,"columnModel",void 0),ha([P("selectionService")],e.prototype,"selectionService",void 0),ha([P("filterManager")],e.prototype,"filterManager",void 0),ha([P("valueCache")],e.prototype,"valueCache",void 0),ha([P("beans")],e.prototype,"beans",void 0),ha([P("filterStage")],e.prototype,"filterStage",void 0),ha([P("sortStage")],e.prototype,"sortStage",void 0),ha([P("flattenStage")],e.prototype,"flattenStage",void 0),ha([Ot("groupStage")],e.prototype,"groupStage",void 0),ha([Ot("aggregationStage")],e.prototype,"aggregationStage",void 0),ha([Ot("pivotStage")],e.prototype,"pivotStage",void 0),ha([Ot("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),ha([se],e.prototype,"init",null),e=ha([be("rowModel")],e),e}(re),RAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),see=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},TAe=function(n){RAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execute=function(t){var r=t.changedPath;this.filterService.filter(r)},see([P("filterService")],e.prototype,"filterService",void 0),e=see([be("filterStage")],e),e}(re),PAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},OAe=function(n){PAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execute=function(t){var r=this,o=this.sortController.getSortOptions(),i=ut.exists(o)&&o.length>0,a=i&&ut.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=o.some(function(l){var u=r.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(o,i,a,t.rowNodeTransactions,t.changedPath,s)},mB([P("sortService")],e.prototype,"sortService",void 0),mB([P("sortController")],e.prototype,"sortController",void 0),e=mB([be("sortStage")],e),e}(re),IAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},FAe=function(n){IAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execute=function(t){var r=t.rowNode,o=[],i=this.columnModel.isPivotMode(),a=i&&r.leafGroup,s=a?[r]:r.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,o,i,0);var u=o.length>0,c=!a&&u&&l.groupIncludeTotalFooter;return c&&(r.createFooter(),this.addRowNodeToRowsToDisplay(l,r.sibling,o,0)),o},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren"),r=!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:r,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,r,o,i,a){if(!ut.missingOrEmpty(r))for(var s=0;s<r.length;s++){var l=r[s],u=l.hasChildren(),c=i&&!u,d=t.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,f=t.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,p=i&&l.leafGroup,h=t.hideOpenParents&&l.expanded&&!l.master&&!p,m=!c&&!h&&!d&&!f;if(m&&this.addRowNodeToRowsToDisplay(t,l,o,a),!(i&&l.leafGroup)){if(u){var v=d||f;if(l.expanded||v){var g=v?a:a+1;this.recursivelyAddToRowsToDisplay(t,l.childrenAfterSort,o,i,g);var y=t.getGroupIncludeFooter({node:l});y?(l.createFooter(),this.addRowNodeToRowsToDisplay(t,l.sibling,o,g)):l.destroyFooter()}}else if(l.master&&l.expanded){var C=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(t,C,o,a)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,r,o,i){o.push(r),r.setUiLevel(t.isGroupMultiAutoColumn?0:i)},e.prototype.createDetailNode=function(t){if(ut.exists(t.detailNode))return t.detailNode;var r=new lt(this.beans);return r.detail=!0,r.selectable=!1,r.parent=t,ut.exists(t.id)&&(r.id="detail_"+t.id),r.data=t.data,r.level=t.level+1,t.detailNode=r,r},gB([P("columnModel")],e.prototype,"columnModel",void 0),gB([P("beans")],e.prototype,"beans",void 0),e=gB([be("flattenStage")],e),e}(re),LAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},MAe=function(n){LAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sort=function(t,r,o,i,a,s){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(m){return m.isRowGroupActive()}),d={};o&&i&&(d=this.calculateDirtyNodes(i));var f=this.columnModel.isPivotMode(),p=this.gridOptionsService.getCallback("postSortRows"),h=function(m){var v;l.pullDownGroupDataForHideOpenParents(m.childrenAfterAggFilter,!0);var g=f&&m.leafGroup,y=u&&c&&!m.leafGroup&&!s;if(y){var C=(v=l.columnModel.getRowGroupColumns())===null||v===void 0?void 0:v[m.level+1],w=(C==null?void 0:C.getSort())===null,b=m.childrenAfterAggFilter.slice(0);if(m.childrenAfterSort&&!w){var E={};m.childrenAfterSort.forEach(function(S,T){E[S.id]=T}),b.sort(function(S,T){var O,L;return((O=E[S.id])!==null&&O!==void 0?O:0)-((L=E[T.id])!==null&&L!==void 0?L:0)})}m.childrenAfterSort=b}else!r||g?m.childrenAfterSort=m.childrenAfterAggFilter.slice(0):o?m.childrenAfterSort=l.doDeltaSort(m,d,a,t):m.childrenAfterSort=l.rowNodeSorter.doFullSort(m.childrenAfterAggFilter,t);if(m.sibling&&(m.sibling.childrenAfterSort=m.childrenAfterSort),l.updateChildIndexes(m),p){var D={nodes:m.childrenAfterSort};p(D)}};a&&a.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(a)},e.prototype.calculateDirtyNodes=function(t){var r={},o=function(i){i&&i.forEach(function(a){return r[a.id]=!0})};return t&&t.forEach(function(i){o(i.add),o(i.update),o(i.remove)}),r},e.prototype.doDeltaSort=function(t,r,o,i){var a=this,s=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,i);var u={},c=[];s.forEach(function(h){r[h.id]||!o.canSkip(h)?c.push(h):u[h.id]=!0});var d=l.filter(function(h){return u[h.id]}),f=function(h,m){return{currentPos:m,rowNode:h}},p=c.map(f).sort(function(h,m){return a.rowNodeSorter.compareRowNodes(i,h,m)});return this.mergeSortedArrays(i,p,d.map(f)).map(function(h){var m=h.rowNode;return m})},e.prototype.mergeSortedArrays=function(t,r,o){for(var i=[],a=0,s=0;a<r.length&&s<o.length;){var l=this.rowNodeSorter.compareRowNodes(t,r[a],o[s]);l<0?i.push(r[a++]):i.push(o[s++])}for(;a<r.length;)i.push(r[a++]);for(;s<o.length;)i.push(o[s++]);return i},e.prototype.updateChildIndexes=function(t){if(!ut.missing(t.childrenAfterSort))for(var r=t.childrenAfterSort,o=0;o<r.length;o++){var i=r[o],a=o===0,s=o===t.childrenAfterSort.length-1;i.setFirstChild(a),i.setLastChild(s),i.setChildIndex(o)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var r=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return ut.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var o=function(i){r.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(function(a){a.hasChildren()&&o(a)})};t&&t.executeFromRootNode(function(i){return o(i)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,r){var o=this;!this.gridOptionsService.get("groupHideOpenParents")||ut.missing(t)||t.forEach(function(i){var a=o.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=s.getColDef().showRowGroup;if(typeof l=="string"){var u=l,c=o.columnModel.getPrimaryColumn(u),d=c===i.rowGroupColumn;if(!d)if(r)i.setGroupValue(s.getId(),void 0);else{var f=i.getFirstChildOfFirstChild(c);f&&i.setGroupValue(s.getId(),f.key)}}})})},vB([P("columnModel")],e.prototype,"columnModel",void 0),vB([P("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),e=vB([be("sortService")],e),e}(re),AAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lee=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},NAe=function(n){AAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.filter=function(t){var r=this.filterManager.isChildFilterPresent();this.filterNodes(r,t)},e.prototype.filterNodes=function(t,r){var o=this,i=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var f=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&o.filterManager.doesRowPassFilter({rowNode:d});return f||p}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var f=u.childrenAfterGroup[d],p=c||o.filterManager.doesRowPassFilter({rowNode:f});f.childrenAfterGroup?a(u.childrenAfterGroup[d],p):i(f,p)}i(u,c)},s=function(u){return a(u,!1)};r.executeFromRootNode(s)}else{var l=function(u){return i(u,!1)};r.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},lee([P("filterManager")],e.prototype,"filterManager",void 0),e=lee([be("filterService")],e),e}(re),kAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Q_=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},VAe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},GAe=function(n){kAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return t.onRowDataUpdated()}))},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),r=this.gridOptionsService.get("resetRowDataOnUpdate");return r?!1:t},e.prototype.setRowData=function(t){var r=this.createTransactionForRowData(t);if(r){var o=VAe(r,2),i=o[0],a=o[1];this.clientSideRowModel.updateRowData(i,a)}},e.prototype.createTransactionForRowData=function(t){if(!ut.missing(this.clientSideRowModel)){var r=this.gridOptionsService.getCallback("getRowId");if(r!=null){var o={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),s=a?void 0:{};return ut.exists(t)&&t.forEach(function(l,u){var c=r({data:l,level:0}),d=i[c];if(s&&(s[c]=u),d){var f=d.data!==l;f&&o.update.push(l),i[c]=void 0}else o.add.push(l)}),ut.iterateObject(i,function(l,u){u&&o.remove.push(u.data)}),[o,s]}}},e.prototype.onRowDataUpdated=function(){var t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))},Q_([P("rowModel")],e.prototype,"rowModel",void 0),Q_([P("rowRenderer")],e.prototype,"rowRenderer",void 0),Q_([P("selectionService")],e.prototype,"selectionService",void 0),Q_([se],e.prototype,"postConstruct",null),e=Q_([be("immutableService")],e),e}(re),HAe="31.1.1",$Ae={version:HAe,moduleName:x.ModuleNames.ClientSideRowModelModule,rowModel:"clientSide",beans:[DAe,TAe,OAe,FAe,MAe,NAe,GAe]},BAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yB=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},uee=function(n){BAe(e,n);function e(t,r,o){var i=n.call(this,t)||this;return i.parentCache=r,i.params=o,i.startRow=t*o.blockSize,i.endRow=i.startRow+o.blockSize,i}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,r,o){ut.exists(r)?t.setDataAndId(r,o.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,r=this.createLoadParams();ut.missing(this.params.datasource.getRows)||window.setTimeout(function(){t.params.datasource.getRows(r)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context};return t},e.prototype.forEachNode=function(t,r,o){var i=this;this.rowNodes.forEach(function(a,s){var l=i.startRow+s;l<o&&t(a,r.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,r){r===void 0&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next());var o=t-this.startRow;return this.rowNodes[o]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var r=this.startRow+t,o=new lt(this.beans);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(r),o.setRowTop(this.params.rowHeight*r),this.rowNodes.push(o)}},e.prototype.processServerResult=function(t){var r=this;this.rowNodes.forEach(function(i,a){var s=t.rowData?t.rowData[a]:void 0;!i.id&&i.alreadyRendered&&s&&(r.rowNodes[a]=new lt(r.beans),r.rowNodes[a].setRowIndex(i.rowIndex),r.rowNodes[a].setRowTop(i.rowTop),r.rowNodes[a].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),r.setDataAndId(r.rowNodes[a],s,r.startRow+a)});var o=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,o)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},yB([P("beans")],e.prototype,"beans",void 0),yB([se],e.prototype,"postConstruct",null),yB([_i],e.prototype,"destroyRowNodes",null),e}(HI),WAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yI=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},zAe=function(n,e){return function(t,r){e(t,r,n)}},UAe=function(n){WAe(e,n);function e(t){var r=n.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=t.initialRowCount,r.params=t,r}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,r){r===void 0&&(r=!1);var o=Math.floor(t/this.params.blockSize),i=this.blocks[o];if(!i){if(r)return;i=this.createBlock(o)}return i.getRow(t)},e.prototype.createBlock=function(t){var r=this.createBean(new uee(t,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(r){return t.destroyBlock(r)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,r){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(t.getId(),", lastRow = ").concat(r)),this.checkRowCount(t,r),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var r=this,o=this.getBlocksInOrder().filter(function(u){return u!=t}),i=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};o.sort(i);var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(u,c){var d=u.getState()===uee.STATE_WAITING_TO_LOAD&&c>=l,f=a?c>=s:!1;if(d||f){if(r.isBlockCurrentlyDisplayed(u)||r.isBlockFocused(u))return;r.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var o=t.getStartRow(),i=t.getEndRow(),a=r.rowIndex>=o&&r.rowIndex<i;return a},e.prototype.isBlockCurrentlyDisplayed=function(t){var r=t.getStartRow(),o=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,o)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,r){if(typeof r=="number"&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(t.getId()+1)*this.params.blockSize,i=o+this.params.overflowSize;this.rowCount<i&&(this.rowCount=i)}},e.prototype.setRowCount=function(t,r){this.rowCount=t,ut.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var r=this,o=new Rg;this.getBlocksInOrder().forEach(function(i){return i.forEachNode(t,o,r.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(o,i){return o.getId()-i.getId()},r=ut.getAllValuesInObject(this.blocks).sort(t);return r},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:I.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,r=[];this.getBlocksInOrder().forEach(function(o){var i=o.getId()*t.params.blockSize;i>=t.rowCount&&r.push(o)}),r.length>0&&r.forEach(function(o){return t.destroyBlock(o)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(r){return t.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,r){var o=this,i=[],a=-1,s=!1,l=new Rg;ut.missing(t)&&(s=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(s&&a+1!==d.getId()){u=!0;return}a=d.getId(),d.forEachNode(function(f){var p=f===t||f===r;(s||p)&&i.push(f),p&&(s=!s)},l,o.rowCount)}});var c=u||s;return c?[]:i},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,yI([P("rowRenderer")],e.prototype,"rowRenderer",void 0),yI([P("focusService")],e.prototype,"focusService",void 0),yI([zAe(0,ss("loggerFactory"))],e.prototype,"setBeans",null),yI([_i],e.prototype,"destroyAllBlocks",null),e}(re),jAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zp=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},KAe=function(n){jAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,r,o,i){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&ut.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,I.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,I.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return t.setDatasource(t.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return t.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){t.rowHeight=t.gridOptionsService.getRowHeightAsNumber(),t.cacheParams.rowHeight=t.rowHeight,t.updateRowHeights()})},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!ut.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,r):[]},e.prototype.reset=function(){if(this.datasource){var t=this.gridOptionsService.getCallback("getRowId"),r=t!=null;r||this.selectionService.reset("rowDataChanged"),this.resetCache()}},e.prototype.createModelUpdatedEvent=function(){return{type:I.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Rg},this.infiniteCache=this.createBean(new UAe(this.cacheParams)),this.eventService.dispatchEventOnce({type:I.EVENT_ROW_COUNT_READY});var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.updateRowHeights=function(){var t=this;this.forEachNode(function(o){o.setRowHeight(t.rowHeight),o.setRowTop(t.rowHeight*o.rowIndex)});var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var r;return this.forEachNode(function(o){o.id===t&&(r=o)}),r},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var r=Math.floor(t/this.rowHeight),o=this.getRowCount()-1;return r>o?o:r}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var r=this.getRowNode(t.id);return!!r},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,r){this.infiniteCache&&this.infiniteCache.setRowCount(t,r)},zp([P("filterManager")],e.prototype,"filterManager",void 0),zp([P("sortController")],e.prototype,"sortController",void 0),zp([P("selectionService")],e.prototype,"selectionService",void 0),zp([P("rowRenderer")],e.prototype,"rowRenderer",void 0),zp([P("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),zp([se],e.prototype,"init",null),zp([_i],e.prototype,"destroyDatasource",null),e=zp([be("rowModel")],e),e}(re),qAe="31.1.1",YAe={version:qAe,moduleName:x.ModuleNames.InfiniteRowModelModule,rowModel:"infinite",beans:[KAe]},gre=function(){function n(){}return n.prototype.setBeans=function(e){this.beans=e},n.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?"".concat(e,".").concat(t):e},n.prototype.getData=function(e){var t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)},n.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},n}(),vre=function(){function n(e){this.groupColumns=[];var t=e.columnModel,r=e.valueService,o=e.gridOptionsService,i=e.valueFormatterService,a=e.valueParserService,s=e.processCellCallback,l=e.processHeaderCallback,u=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=r,this.gridOptionsService=o,this.valueFormatterService=i,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return n.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t!=null?t:""},n.prototype.extractRowCellValue=function(e,t,r,o,i){var a=this.gridOptionsService.get("groupHideOpenParents"),s=(!a||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueService.getValue(e,i),l=this.processCell({accumulatedRowIndex:r,rowNode:i,column:e,value:s,processCellCallback:this.processCellCallback,type:o});return l},n.prototype.shouldRenderGroupSummaryCell=function(e,t,r){var o,i=e&&e.group;if(!i)return!1;var a=this.groupColumns.indexOf(t);if(a!==-1){if(((o=e.groupData)===null||o===void 0?void 0:o[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){var s=t.getColDef(),l=s==null||s.showRowGroup===!0;return l||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&u},n.prototype.getHeaderName=function(e,t){return e?e(this.gridOptionsService.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},n.prototype.createValueForGroupNode=function(e,t){var r=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:t}));var o=this.gridOptionsService.get("treeData"),i=this.gridOptionsService.get("suppressGroupMaintainValueType"),a=function(c){var d,f;if(o||i)return c.key;var p=(d=c.groupData)===null||d===void 0?void 0:d[e.getId()];return!p||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?p:(f=r.valueFormatterService.formatValue(c.rowGroupColumn,c,p))!==null&&f!==void 0?f:p},s=t.footer,l=[a(t)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,l.push(a(t));var u=l.reverse().join(" -> ");return s?"Total ".concat(u):u},n.prototype.processCell=function(e){var t=this,r,o=e.accumulatedRowIndex,i=e.rowNode,a=e.column,s=e.value,l=e.processCellCallback,u=e.type;return l?{value:(r=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:o,column:a,node:i,value:s,type:u,parseValue:function(c){return t.valueParserService.parseValue(a,i,c,t.valueService.getValue(a,i))},formatValue:function(c){var d;return(d=t.valueFormatterService.formatValue(a,i,c))!==null&&d!==void 0?d:c}})))!==null&&r!==void 0?r:""}:a.getColDef().useValueFormatterForExport!==!1?{value:s!=null?s:"",valueFormatted:this.valueFormatterService.formatValue(a,i,s)}:{value:s!=null?s:""}},n}(),yre=function(){function n(){}return n.download=function(e,t){var r=document.defaultView||window;if(r){var o=document.createElement("a"),i=r.URL.createObjectURL(t);o.setAttribute("href",i),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(o),r.setTimeout(function(){r.URL.revokeObjectURL(i)},0)}},n}(),XAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cee=`\r
`,ZAe=function(n){XAe(e,n);function e(t){var r=n.call(this,t)||this;r.isFirstLine=!0,r.result="";var o=t.suppressQuotes,i=t.columnSeparator;return r.suppressQuotes=o,r.columnSeparator=i,r}return e.prototype.addCustomContent=function(t){var r=this;t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,cee),this.result+=t):t.forEach(function(o){r.beginNewLine(),o.forEach(function(i,a){a!==0&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(i.data.value||""),i.mergeAcross&&r.appendEmptyCells(i.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,r,o,i){o!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(i)},e.prototype.appendEmptyCells=function(t){for(var r=1;r<=t;r++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,r){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,r,o){var i;r!=0&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(t,r,r,"csv",o);this.result+=this.putInQuotes((i=a.valueFormatted)!==null&&i!==void 0?i:a.value)},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var r;typeof t=="string"?r=t:typeof t.toString=="function"?r=t.toString():r="";var o=r.replace(/"/g,'""');return'"'+o+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=cee),this.isFirstLine=!1},e}(vre),QAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Up=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Cre=function(n){QAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var r=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},r,t)},e.prototype.export=function(t){if(!this.isExportSuppressed()){var r=this.getMergedParams(t),o=this.getData(r),i=new Blob(["\uFEFF",o],{type:"text/plain"}),a=typeof r.fileName=="function"?r.fileName(this.gridOptionsService.getGridCommonParams()):r.fileName;yre.download(this.getFileName(a),i)}},e.prototype.exportDataAsCsv=function(t){this.export(t)},e.prototype.getDataAsCsv=function(t,r){r===void 0&&(r=!1);var o=r?Object.assign({},t):this.getMergedParams(t);return this.getData(o)},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var r=this,o=r.columnModel,i=r.valueService,a=r.gridOptionsService,s=r.valueFormatterService,l=r.valueParserService,u=t,c=u.processCellCallback,d=u.processHeaderCallback,f=u.processGroupHeaderCallback,p=u.processRowGroupCallback,h=u.suppressQuotes,m=u.columnSeparator;return new ZAe({columnModel:o,valueService:i,gridOptionsService:a,valueFormatterService:s,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:f||void 0,processRowGroupCallback:p||void 0,suppressQuotes:h||!1,columnSeparator:m||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Up([P("columnModel")],e.prototype,"columnModel",void 0),Up([P("valueService")],e.prototype,"valueService",void 0),Up([P("gridSerializer")],e.prototype,"gridSerializer",void 0),Up([P("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Up([P("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Up([P("valueParserService")],e.prototype,"valueParserService",void 0),Up([se],e.prototype,"postConstruct",null),e=Up([be("csvCreator")],e),e}(gre),JAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jp=function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};(function(n){n[n.HEADER_GROUPING=0]="HEADER_GROUPING",n[n.HEADER=1]="HEADER",n[n.BODY=2]="BODY"})(x.RowType||(x.RowType={}));var wre=function(n){JAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.serialize=function(t,r){r===void 0&&(r={});var o=r.allColumns,i=r.columnKeys,a=r.skipRowGroups,s=this.getColumnsToExport(o,a,i),l=ut.compose(this.prepareSession(s),this.prependContent(r),this.exportColumnGroups(r,s),this.exportHeaders(r,s),this.processPinnedTopRows(r,s),this.processRows(r,s),this.processPinnedBottomRows(r,s),this.appendContent(r));return l(t).parse()},e.prototype.processRow=function(t,r,o,i){var a=r.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=r.rowPositions!=null,c=u||!!r.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,f=this.columnModel.isPivotMode()?i.leafGroup:!i.group,p=!!i.footer,h=r.skipRowGroups,m=l&&i.leafGroup,v=i.allChildrenCount===1&&(s||m);if(!(!f&&!p&&(r.skipRowGroups||v||d)||r.onlySelected&&!i.isSelected()||r.skipPinnedTop&&i.rowPinned==="top"||r.skipPinnedBottom&&i.rowPinned==="bottom")){var g=i.level===-1;if(!(g&&!f&&!p)){var y=a(this.gridOptionsService.addGridCommonParams({node:i}));if(!y){var C=t.onNewBodyRow(i);if(o.forEach(function(b,E){C.onColumn(b,E,i)}),r.getCustomContentBelowRow){var w=r.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:i}));w&&t.addCustomContent(w)}}}}},e.prototype.appendContent=function(t){return function(r){var o=t.appendContent;return o&&r.addCustomContent(o),r}},e.prototype.prependContent=function(t){return function(r){var o=t.prependContent;return o&&r.addCustomContent(o),r}},e.prototype.prepareSession=function(t){return function(r){return r.prepare(t),r}},e.prototype.exportColumnGroups=function(t,r){var o=this;return function(i){if(!t.skipColumnGroupHeaders){var a=new jB,s=o.displayedGroupCreator.createDisplayedGroups(r,a,null);o.recursivelyAddHeaderGroups(s,i,t.processGroupHeaderCallback)}return i}},e.prototype.exportHeaders=function(t,r){return function(o){if(!t.skipColumnHeaders){var i=o.onNewHeaderRow();r.forEach(function(a,s){i.onColumn(a,s,void 0)})}return o}},e.prototype.processPinnedTopRows=function(t,r){var o=this;return function(i){var a=o.processRow.bind(o,i,t,r);return t.rowPositions?t.rowPositions.filter(function(s){return s.rowPinned==="top"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return o.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):o.pinnedRowModel.forEachPinnedTopRow(a),i}},e.prototype.processRows=function(t,r){var o=this;return function(i){var a=o.rowModel,s=a.getType(),l=s==="clientSide",u=s==="serverSide",c=!l&&t.onlySelected,d=o.processRow.bind(o,i,t,r),f=t.exportedRows,p=f===void 0?"filteredAndSorted":f;if(t.rowPositions)t.rowPositions.filter(function(m){return m.rowPinned==null}).sort(function(m,v){return m.rowIndex-v.rowIndex}).map(function(m){return a.getRow(m.rowIndex)}).forEach(d);else if(o.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(t.onlySelectedAllPages||c){var h=o.selectionService.getSelectedNodes();o.replicateSortedOrder(h),h.forEach(d)}else p==="all"?a.forEachNode(d):l||u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return i}},e.prototype.replicateSortedOrder=function(t){var r=this,o=this.sortController.getSortOptions(),i=function(a,s){var l,u,c,d;return a.rowIndex!=null&&s.rowIndex!=null?a.rowIndex-s.rowIndex:a.level===s.level?((l=a.parent)===null||l===void 0?void 0:l.id)===((u=s.parent)===null||u===void 0?void 0:u.id)?r.rowNodeSorter.compareRowNodes(o,{rowNode:a,currentPos:(c=a.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:s,currentPos:(d=s.rowIndex)!==null&&d!==void 0?d:-1}):i(a.parent,s.parent):a.level>s.level?i(a.parent,s):i(a,s.parent)};t.sort(i)},e.prototype.processPinnedBottomRows=function(t,r){var o=this;return function(i){var a=o.processRow.bind(o,i,t,r);return t.rowPositions?t.rowPositions.filter(function(s){return s.rowPinned==="bottom"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return o.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):o.pinnedRowModel.forEachPinnedBottomRow(a),i}},e.prototype.getColumnsToExport=function(t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=this.columnModel.isPivotMode();if(o&&o.length)return this.columnModel.getGridColumns(o);var a=this.gridOptionsService.get("treeData"),s=[];return t&&!i?s=this.columnModel.getAllGridColumns():s=this.columnModel.getAllDisplayedColumns(),r&&!a&&(s=s.filter(function(l){return l.getColId()!==Dg})),s},e.prototype.recursivelyAddHeaderGroups=function(t,r,o){var i=[];t.forEach(function(a){var s=a;s.getChildren&&s.getChildren().forEach(function(l){return i.push(l)})}),t.length>0&&t[0]instanceof kr&&this.doAddHeaderHeader(r,t,o),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,r,o)},e.prototype.doAddHeaderHeader=function(t,r,o){var i=this,a=t.onNewHeaderGroupingRow(),s=0;r.forEach(function(l){var u=l,c;o?c=o(i.gridOptionsService.addGridCommonParams({columnGroup:u})):c=i.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(f,p,h,m){var v=ut.last(f),g=p.getColumnGroupShow()==="open";return g?(!v||v[1]!=null)&&(v=[h],f.push(v)):v&&v[1]==null&&(v[1]=h-1),h===m.length-1&&v&&v[1]==null&&(v[1]=h),f},[]);a.onColumn(u,c||"",s++,u.getLeafColumns().length-1,d)})},jp([P("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),jp([P("columnModel")],e.prototype,"columnModel",void 0),jp([P("rowModel")],e.prototype,"rowModel",void 0),jp([P("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),jp([P("selectionService")],e.prototype,"selectionService",void 0),jp([P("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),jp([P("sortController")],e.prototype,"sortController",void 0),e=jp([be("gridSerializer")],e),e}(re),eNe="31.1.1",Sre={version:eNe,moduleName:x.ModuleNames.CsvExportModule,beans:[Cre,wre]},CI=`\r
`,tNe=function(){function n(){}return n.createHeader=function(e){e===void 0&&(e={});var t="<?",r="?>",o=["version"];e.version||(e.version="1.0"),e.encoding&&o.push("encoding"),e.standalone&&o.push("standalone");var i=o.map(function(a){return"".concat(a,'="').concat(e[a],'"')}).join(" ");return"".concat(t,"xml ").concat(i," ").concat(r)},n.createXml=function(e,t){var r=this,o="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){o+=r.returnAttributeIfPopulated(a.prefix+s,a.map[s],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(a){o+=r.returnAttributeIfPopulated(a,e.properties.rawMap[a],t)}));var i="<"+e.name+o;return!e.children&&e.textNode==null?i+"/>"+CI:e.textNode!=null?i+">"+e.textNode+"</"+e.name+">"+CI:(i+=">"+CI,e.children&&e.children.forEach(function(a){i+=r.createXml(a,t)}),i+"</"+e.name+">"+CI)},n.returnAttributeIfPopulated=function(e,t,r){if(!t&&t!==""&&t!==0)return"";var o=t;return typeof t=="boolean"&&r&&(o=r(t))," ".concat(e,'="').concat(o,'"')},n}(),nNe=function(n){var e=n.getHours();return e<<=6,e=e|n.getMinutes(),e<<=5,e=e|n.getSeconds()/2,e},rNe=function(n){var e=n.getFullYear()-1980;return e<<=4,e=e|n.getMonth()+1,e<<=5,e=e|n.getDate(),e};function Si(n,e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(n&255),n>>>=8;return t}var dee=function(n){if(!n.length)return 0;for(var e=-1,t=0,r=0,o=0,i=0;i<n.length;i++)t=n[i],r=(e^t)&255,o=oNe[r],e=e>>>8^o;return e^-1},fee=function(n){return n.length?dee(typeof n=="string"?new TextEncoder().encode(n):n):0},oNe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),bre=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})},_re=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},iNe=function(n){return bre(void 0,void 0,void 0,function(){var e,t,r,o,i;return _re(this,function(a){switch(a.label){case 0:return e=0,t=[],r=new WritableStream({write:function(s){t.push(s),e+=s.length}}),o=new ReadableStream({start:function(s){var l=new FileReader;l.onload=function(u){var c;!((c=u.target)===null||c===void 0)&&c.result&&s.enqueue(u.target.result),s.close()},l.readAsArrayBuffer(n)}}),i=new window.CompressionStream("deflate-raw"),[4,o.pipeThrough(i).pipeTo(r)];case 1:return a.sent(),[2,{size:e,content:new Blob(t)}]}})})},aNe=function(n){return bre(void 0,void 0,void 0,function(){var e,t,r,o,i,a;return _re(this,function(s){switch(s.label){case 0:return e=new Blob([n]),[4,iNe(e)];case 1:return t=s.sent(),r=t.size,o=t.content,a=Uint8Array.bind,[4,o.arrayBuffer()];case 2:return i=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,{size:r,content:i}]}})})},PC=function(){return PC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},PC.apply(this,arguments)},sNe=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})},lNe=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uNe=ut.utf8_encode,cNe=function(n,e){return sNe(void 0,void 0,void 0,function(){var t,r,o,i,a,s,l,u,c,d;return lNe(this,function(f){switch(f.label){case 0:return t=n.content,r=t?xre(t):{size:0,content:Uint8Array.from([])},o=r.size,i=r.content,a=void 0,s=void 0,l=!1,u=n.type==="file"&&i&&o>0,u?[4,aNe(i)]:[3,2];case 1:c=f.sent(),a=c.content,s=c.size,l=!0,f.label=2;case 2:return d=Ere(n,l,e,o,i,s),[2,PC(PC({},d),{content:a||i,isCompressed:l})]}})})},dNe=function(n,e){var t=n.content,r=(t?xre(t):{content:Uint8Array.from([])}).content,o=Ere(n,!1,e,r.length,r,void 0);return PC(PC({},o),{content:r,isCompressed:!1})},Ere=function(n,e,t,r,o,i){var a=n.content,s=n.path,l=n.created,u=nNe(l),c=rNe(l),d=fee(o),f=i!==void 0?i:r,p=uNe(s),h=p!==s,m="";if(h){var v=Si(1,1)+Si(fee(p),4)+p;m="up"+Si(v.length,2)+v}var g="\0"+(h?"\0\b":"\0\0")+Si(e?8:0,2)+Si(u,2)+Si(c,2)+Si(f?d:0,4)+Si(i!=null?i:r,4)+Si(r,4)+Si(p.length,2)+Si(m.length,2),y="PK"+g+p+m,C="PK\0"+g+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\0\0\0")+Si(t,4)+p+m;return{localFileHeader:Uint8Array.from(y,function(w){return w.charCodeAt(0)}),centralDirectoryHeader:Uint8Array.from(C,function(w){return w.charCodeAt(0)})}},fNe=function(n,e,t){var r="PK\0\0\0\0"+Si(n,2)+Si(n,2)+Si(e,4)+Si(t,4)+"\0\0";return Uint8Array.from(r,function(o){return o.charCodeAt(0)})},pNe=function(n){for(var e=new Uint8Array(n.length),t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e},xre=function(n){var e;if(typeof n=="string"){var t=atob(n.split(";base64,")[1]);e=pNe(t)}else e=n;return{size:e.length,content:e}},pee=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})},hee=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},CB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i},SI=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},hNe=function(){function n(){}return n.addFolders=function(e){e.forEach(this.addFolder.bind(this))},n.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})},n.addFile=function(e,t,r){r===void 0&&(r=!1),this.files.push({path:e,created:new Date,content:r?t:new TextEncoder().encode(t),isBase64:r,type:"file"})},n.getZipFile=function(e){return e===void 0&&(e="application/zip"),pee(this,void 0,void 0,function(){var t;return hee(this,function(r){switch(r.label){case 0:return[4,this.buildCompressedFileStream()];case 1:return t=r.sent(),this.clearStream(),[2,new Blob([t],{type:e})]}})})},n.getUncompressedZipFile=function(e){e===void 0&&(e="application/zip");var t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})},n.clearStream=function(){this.folders=[],this.files=[]},n.packageFiles=function(e){var t,r,o=new Uint8Array(0),i=new Uint8Array(0),a=0,s=0;try{for(var l=CB(e),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.localFileHeader,f=c.centralDirectoryHeader,p=c.content,h=new Uint8Array(o.length+d.length);h.set(o),h.set(d,o.length),o=h;var m=new Uint8Array(o.length+p.length);m.set(o),m.set(p,o.length),o=m;var v=new Uint8Array(i.length+f.length);v.set(i),v.set(f,i.length),i=v,a+=d.length+p.length,s+=f.length}}catch(C){t={error:C}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}var g=fNe(e.length,s,a),y=new Uint8Array(o.length+i.length+g.length);return y.set(o),y.set(i,o.length),y.set(g,o.length+i.length),y},n.buildCompressedFileStream=function(){return pee(this,void 0,void 0,function(){var e,t,r,o,i,a,s,l,u,c,d,f;return hee(this,function(p){switch(p.label){case 0:e=SI(SI([],wI(this.folders),!1),wI(this.files),!1),t=[],r=0,p.label=1;case 1:p.trys.push([1,6,7,8]),o=CB(e),i=o.next(),p.label=2;case 2:return i.done?[3,5]:(a=i.value,[4,cNe(a,r)]);case 3:s=p.sent(),l=s.localFileHeader,u=s.content,t.push(s),r+=l.length+u.length,p.label=4;case 4:return i=o.next(),[3,2];case 5:return[3,8];case 6:return c=p.sent(),d={error:c},[3,8];case 7:try{i&&!i.done&&(f=o.return)&&f.call(o)}finally{if(d)throw d.error}return[7];case 8:return[2,this.packageFiles(t)]}})})},n.buildFileStream=function(){var e,t,r=SI(SI([],wI(this.folders),!1),wI(this.files),!1),o=[],i=0;try{for(var a=CB(r),s=a.next();!s.done;s=a.next()){var l=s.value,u=dNe(l,i),c=u.localFileHeader,d=u.content;o.push(u),i+=c.length+d.length}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.packageFiles(o)},n.folders=[],n.files=[],n}();zt.__registerModules([$Ae,YAe,Sre],!1,void 0);x.AbstractHeaderCellCtrl=CE;x.AgAbstractField=x3;x.AgAbstractLabel=E3;x.AgAutocomplete=jne;x.AgCheckbox=gE;x.AgDialog=uLe;x.AgGroupComponent=$ne;x.AgInputDateField=kne;x.AgInputNumberField=ZI;x.AgInputRange=Vne;x.AgInputTextArea=Nne;x.AgInputTextField=oh;x.AgMenuItemComponent=J_;x.AgMenuItemRenderer=zte;x.AgMenuList=Bne;x.AgMenuPanel=Wne;x.AgPanel=zne;x.AgPickerField=D3;x.AgPromise=wa;x.AgRadioButton=R3;x.AgRichSelect=Gne;x.AgSelect=mE;x.AgSlider=Hne;x.AgStackComponentsRegistry=Nee;x.AgToggleButton=Ane;x.AlignedGridsService=Yne;x.AnimateShowChangeCellRenderer=Ate;x.AnimateSlideCellRenderer=Nte;x.AnimationFrameService=xne;x.AutoScrollService=F3;x.AutoWidthCalculator=Tne;x.Autowired=P;x.BaseComponentWrapper=yAe;x.BaseCreator=gre;x.BaseGridSerializingSession=vre;x.Bean=be;x.BeanStub=re;x.Beans=N3;x.BodyDropPivotTarget=cne;x.BodyDropTarget=fne;x.CHART_TOOLBAR_ALLOW_LIST=SAe;x.CHART_TOOL_PANEL_ALLOW_LIST=wAe;x.CHART_TOOL_PANEL_MENU_OPTIONS=bAe;x.CellComp=lne;x.CellCtrl=Qp;x.CellNavigationService=qne;x.CellPositionUtils=lre;x.ChangedPath=wE;x.CheckboxCellEditor=Wte;x.CheckboxCellRenderer=Bte;x.CheckboxSelectionComponent=I3;x.ColDefUtil=qte;x.Column=on;x.ColumnApi=rF;x.ColumnFactory=Oee;x.ColumnGroup=kr;x.ColumnKeyCreator=mee;x.ColumnModel=Lee;x.ColumnUtils=Mee;x.Component=rt;x.ComponentUtil=KB;x.Context=Cee;x.CssClassApplier=yE;x.CssClassManager=mte;x.CsvCreator=Cre;x.CsvExportModule=Sre;x.CtrlsService=dre;x.CustomTooltipFeature=b3;x.DEFAULT_CHART_GROUPS=CAe;x.DataTypeService=hre;x.DateCellEditor=Hte;x.DateFilter=P3;x.DateStringCellEditor=$te;x.DisplayedGroupCreator=Aee;x.Downloader=yre;x.DragAndDropService=no;x.DragService=Yte;x.Environment=ire;x.EventService=of;x.Events=I;x.ExpansionService=Dne;x.ExpressionService=Qne;x.FilterManager=Zte;x.FloatingFilterMapper=jte;x.FocusService=rre;x.GROUP_AUTO_COLUMN_ID=Dg;x.Grid=gAe;x.GridApi=L3;x.GridBodyComp=rne;x.GridBodyCtrl=ene;x.GridComp=$3;x.GridCoreCreator=W3;x.GridCtrl=tre;x.GridHeaderComp=wne;x.GridHeaderCtrl=Cne;x.GridOptionsService=B3;x.GridSerializer=wre;x.GroupCellRenderer=NB;x.GroupCellRendererCtrl=Vte;x.GroupInstanceIdCreator=jB;x.HeaderCellCtrl=mne;x.HeaderFilterCellComp=Qte;x.HeaderFilterCellCtrl=hne;x.HeaderGroupCellCtrl=gne;x.HeaderNavigationService=yne;x.HeaderPositionUtils=ure;x.HeaderRowComp=pne;x.HeaderRowContainerComp=_I;x.HeaderRowContainerCtrl=vne;x.HeaderRowCtrl=bI;x.HorizontalResizeService=Sne;x.KeyCode=j;x.LargeTextCellEditor=Lte;x.LocaleService=pre;x.Logger=oF;x.LoggerFactory=ere;x.ManagedFocusFeature=rh;x.MenuService=Rne;x.ModuleRegistry=zt;x.MouseEventService=ine;x.MoveColumnFeature=dne;x.NavigationService=ane;x.NumberCellEditor=Gte;x.NumberFilter=O3;x.NumberSequence=Rg;x.Optional=Ot;x.PaginationProxy=Lne;x.PinnedRowModel=Ine;x.PopupComponent=ih;x.PopupEditorWrapper=sne;x.PopupService=Une;x.PositionableFeature=_3;x.PostConstruct=se;x.PreConstruct=_B;x.PreDestroy=_i;x.PropertyKeys=lu;x.ProvidedColumnGroup=yr;x.ProvidedFilter=dE;x.Qualifier=ss;x.QuerySelector=pTe;x.RefSelector=he;x.ResizeObserverService=Ene;x.RowContainerComp=une;x.RowContainerCtrl=V3;x.RowCtrl=Jp;x.RowNode=lt;x.RowNodeBlock=HI;x.RowNodeBlockLoader=Fne;x.RowNodeSorter=cre;x.RowPositionUtils=sre;x.RowRenderer=Pne;x.ScalarFilter=Nr;x.ScrollVisibleService=one;x.SelectCellEditor=Mte;x.SelectableService=are;x.SetLeftFeature=nF;x.SimpleFilter=qn;x.SortController=nre;x.SortIndicatorComp=JI;x.StandardMenuFactory=bne;x.StylingService=Mne;x.TabGuardComp=OC;x.TabGuardCtrl=_ne;x.TabbedLayout=bFe;x.TemplateService=Jne;x.TextCellEditor=AB;x.TextFilter=QI;x.TextFloatingFilter=Fte;x.Timer=uTe;x.TooltipFeature=vE;x.TouchListener=ei;x.UserComponentFactory=Kte;x.UserComponentRegistry=Ute;x.ValueCache=ore;x.ValueFormatterService=One;x.ValueParserService=mre;x.ValueService=Zne;x.VanillaFrameworkOverrides=Kne;x.VirtualList=H3;x.VirtualListDragFeature=iOe;x.XmlFactory=tNe;x.ZipContainer=hNe;x._=ut;x.__FORCE_MODULE_DETECTION=_Ae;x.createGrid=mAe;x.getRowContainerTypeForName=nne});var SE=$e(iF=>{"use strict";Object.defineProperty(iF,"__esModule",{value:!0});iF.CustomContext=void 0;var mNe=z();iF.CustomContext=mNe.createContext({setMethods:function(){}})});var Dre=$e(pu=>{"use strict";var z3=pu&&pu.__assign||function(){return z3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},z3.apply(this,arguments)},gNe=pu&&pu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),vNe=pu&&pu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),yNe=pu&&pu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&gNe(e,n,t);return vNe(e,n),e};Object.defineProperty(pu,"__esModule",{value:!0});var bE=yNe(z()),CNe=SE(),wNe=function(n){var e=n.initialProps,t=n.addUpdateCallback,r=n.CustomComponentClass,o=n.setMethods,i=bE.useState(e),a=i[0],s=i[1];return bE.useEffect(function(){t(function(l){return s(l)})},[]),bE.default.createElement(CNe.CustomContext.Provider,{value:{setMethods:o}},bE.default.createElement(r,z3({},a)))};pu.default=bE.memo(wNe)});var Rre=$e(U3=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});var SNe=0;function bNe(){return"agPortalKey_"+ ++SNe}U3.default=bNe});var yoe=$e(FC=>{"use strict";var qre=z();function mt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _a=Object.prototype.hasOwnProperty,_Ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tre={},Pre={};function Yre(n){return _a.call(Pre,n)?!0:_a.call(Tre,n)?!1:_Ne.test(n)?Pre[n]=!0:(Tre[n]=!0,!1)}function Ui(n,e,t,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ti[n]=new Ui(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ti[e]=new Ui(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ti[n]=new Ui(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ti[n]=new Ui(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ti[n]=new Ui(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ti[n]=new Ui(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ti[n]=new Ui(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ti[n]=new Ui(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ti[n]=new Ui(n,5,!1,n.toLowerCase(),null,!1,!1)});var eW=/[\-:]([a-z])/g;function tW(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(eW,tW);ti[e]=new Ui(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(eW,tW);ti[e]=new Ui(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(eW,tW);ti[e]=new Ui(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ti[n]=new Ui(n,1,!1,n.toLowerCase(),null,!1,!1)});ti.xlinkHref=new Ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ti[n]=new Ui(n,1,!1,n.toLowerCase(),null,!0,!0)});var lF={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ENe=["Webkit","ms","Moz","O"];Object.keys(lF).forEach(function(n){ENe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),lF[e]=lF[n]})});var xNe=/["'&<>]/;function zi(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=xNe.exec(n);if(e){var t="",r,o=0;for(r=e.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==r&&(t+=n.substring(o,r)),o=r+1,t+=e}n=o!==r?t+n.substring(o,r):t}return n}var DNe=/([A-Z])/g,RNe=/^ms-/,Y3=Array.isArray;function sf(n,e){return{insertionMode:n,selectedValue:e}}function TNe(n,e,t){switch(e){case"select":return sf(1,t.value!=null?t.value:t.defaultValue);case"svg":return sf(2,null);case"math":return sf(3,null);case"foreignObject":return sf(1,null);case"table":return sf(4,null);case"thead":case"tbody":case"tfoot":return sf(5,null);case"colgroup":return sf(7,null);case"tr":return sf(6,null)}return 4<=n.insertionMode||n.insertionMode===0?sf(1,null):n}var Ore=new Map;function Xre(n,e,t){if(typeof t!="object")throw Error(mt(62));e=!0;for(var r in t)if(_a.call(t,r)){var o=t[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=zi(r);o=zi((""+o).trim())}else{i=r;var a=Ore.get(i);a!==void 0||(a=zi(i.replace(DNe,"-$1").toLowerCase().replace(RNe,"-ms-")),Ore.set(i,a)),i=a,o=typeof o=="number"?o===0||_a.call(lF,r)?""+o:o+"px":zi((""+o).trim())}e?(e=!1,n.push(' style="',i,":",o)):n.push(";",i,":",o)}}e||n.push('"')}function us(n,e,t,r){switch(t){case"style":Xre(n,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=ti.hasOwnProperty(t)?ti[t]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=e.attributeName,e.type){case 3:r&&n.push(" ",t,'=""');break;case 4:r===!0?n.push(" ",t,'=""'):r!==!1&&n.push(" ",t,'="',zi(r),'"');break;case 5:isNaN(r)||n.push(" ",t,'="',zi(r),'"');break;case 6:!isNaN(r)&&1<=r&&n.push(" ",t,'="',zi(r),'"');break;default:e.sanitizeURL&&(r=""+r),n.push(" ",t,'="',zi(r),'"')}}else if(Yre(t)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(" ",t,'="',zi(r),'"')}}}function uF(n,e,t){if(e!=null){if(t!=null)throw Error(mt(60));if(typeof e!="object"||!("__html"in e))throw Error(mt(61));e=e.__html,e!=null&&n.push(""+e)}}function PNe(n){var e="";return qre.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function j3(n,e,t,r){n.push(Gc(t));var o=t=null,i;for(i in e)if(_a.call(e,i)){var a=e[i];if(a!=null)switch(i){case"children":t=a;break;case"dangerouslySetInnerHTML":o=a;break;default:us(n,r,i,a)}}return n.push(">"),uF(n,o,t),typeof t=="string"?(n.push(zi(t)),null):t}var ONe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ire=new Map;function Gc(n){var e=Ire.get(n);if(e===void 0){if(!ONe.test(n))throw Error(mt(65,n));e="<"+n,Ire.set(n,e)}return e}function INe(n,e,t,r,o){switch(e){case"select":n.push(Gc("select"));var i=null,a=null;for(c in t)if(_a.call(t,c)){var s=t[c];if(s!=null)switch(c){case"children":i=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:us(n,r,c,s)}}return n.push(">"),uF(n,a,i),i;case"option":a=o.selectedValue,n.push(Gc("option"));var l=s=null,u=null,c=null;for(i in t)if(_a.call(t,i)){var d=t[i];if(d!=null)switch(i){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:us(n,r,i,d)}}if(a!=null)if(t=l!==null?""+l:PNe(s),Y3(a)){for(r=0;r<a.length;r++)if(""+a[r]===t){n.push(' selected=""');break}}else""+a===t&&n.push(' selected=""');else u&&n.push(' selected=""');return n.push(">"),uF(n,c,s),s;case"textarea":n.push(Gc("textarea")),c=a=i=null;for(s in t)if(_a.call(t,s)&&(l=t[s],l!=null))switch(s){case"children":c=l;break;case"value":i=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(mt(91));default:us(n,r,s,l)}if(i===null&&a!==null&&(i=a),n.push(">"),c!=null){if(i!=null)throw Error(mt(92));if(Y3(c)&&1<c.length)throw Error(mt(93));i=""+c}return typeof i=="string"&&i[0]===`
`&&n.push(`
`),i!==null&&n.push(zi(""+i)),null;case"input":n.push(Gc("input")),l=c=s=i=null;for(a in t)if(_a.call(t,a)&&(u=t[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(mt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":i=u;break;default:us(n,r,a,u)}return c!==null?us(n,r,"checked",c):l!==null&&us(n,r,"checked",l),i!==null?us(n,r,"value",i):s!==null&&us(n,r,"value",s),n.push("/>"),null;case"menuitem":n.push(Gc("menuitem"));for(var f in t)if(_a.call(t,f)&&(i=t[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(mt(400));default:us(n,r,f,i)}return n.push(">"),null;case"title":n.push(Gc("title")),i=null;for(d in t)if(_a.call(t,d)&&(a=t[d],a!=null))switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":throw Error(mt(434));default:us(n,r,d,a)}return n.push(">"),i;case"listing":case"pre":n.push(Gc(e)),a=i=null;for(l in t)if(_a.call(t,l)&&(s=t[l],s!=null))switch(l){case"children":i=s;break;case"dangerouslySetInnerHTML":a=s;break;default:us(n,r,l,s)}if(n.push(">"),a!=null){if(i!=null)throw Error(mt(60));if(typeof a!="object"||!("__html"in a))throw Error(mt(61));t=a.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?n.push(`
`,t):n.push(""+t))}return typeof i=="string"&&i[0]===`
`&&n.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Gc(e));for(var p in t)if(_a.call(t,p)&&(i=t[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(mt(399,e));default:us(n,r,p,i)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return j3(n,t,e,r);case"html":return o.insertionMode===0&&n.push("<!DOCTYPE html>"),j3(n,t,e,r);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return j3(n,t,e,r);n.push(Gc(e)),a=i=null;for(u in t)if(_a.call(t,u)&&(s=t[u],s!=null))switch(u){case"children":i=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":Xre(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Yre(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(" ",u,'="',zi(s),'"')}return n.push(">"),uF(n,a,i),i}}function Fre(n,e,t){if(n.push('<!--$?--><template id="'),t===null)throw Error(mt(395));return n.push(t),n.push('"></template>')}function FNe(n,e,t,r){switch(t.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(e.segmentPrefix),e=r.toString(16),n.push(e),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=r.toString(16),n.push(e),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=r.toString(16),n.push(e),n.push('">');case 4:return n.push('<table hidden id="'),n.push(e.segmentPrefix),e=r.toString(16),n.push(e),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(e.segmentPrefix),e=r.toString(16),n.push(e),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(e.segmentPrefix),e=r.toString(16),n.push(e),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(e.segmentPrefix),e=r.toString(16),n.push(e),n.push('">');default:throw Error(mt(397))}}function LNe(n,e){switch(e.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error(mt(397))}}var MNe=/[<\u2028\u2029]/g;function K3(n){return JSON.stringify(n).replace(MNe,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function ANe(n,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function Lre(n,e,t,r){return t.generateStaticMarkup?(n.push(zi(e)),!1):(e===""?n=r:(r&&n.push("<!-- -->"),n.push(zi(e)),n=!0),n)}var xE=Object.assign,NNe=Symbol.for("react.element"),Zre=Symbol.for("react.portal"),Qre=Symbol.for("react.fragment"),Jre=Symbol.for("react.strict_mode"),eoe=Symbol.for("react.profiler"),toe=Symbol.for("react.provider"),noe=Symbol.for("react.context"),roe=Symbol.for("react.forward_ref"),ooe=Symbol.for("react.suspense"),ioe=Symbol.for("react.suspense_list"),aoe=Symbol.for("react.memo"),nW=Symbol.for("react.lazy"),kNe=Symbol.for("react.scope"),VNe=Symbol.for("react.debug_trace_mode"),GNe=Symbol.for("react.legacy_hidden"),HNe=Symbol.for("react.default_value"),Mre=Symbol.iterator;function X3(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Qre:return"Fragment";case Zre:return"Portal";case eoe:return"Profiler";case Jre:return"StrictMode";case ooe:return"Suspense";case ioe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case noe:return(n.displayName||"Context")+".Consumer";case toe:return(n._context.displayName||"Context")+".Provider";case roe:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case aoe:return e=n.displayName||null,e!==null?e:X3(n.type)||"Memo";case nW:e=n._payload,n=n._init;try{return X3(n(e))}catch(t){}}return null}var soe={};function Are(n,e){if(n=n.contextTypes,!n)return soe;var t={},r;for(r in n)t[r]=e[r];return t}var Og=null;function yF(n,e){if(n!==e){n.context._currentValue2=n.parentValue,n=n.parent;var t=e.parent;if(n===null){if(t!==null)throw Error(mt(401))}else{if(t===null)throw Error(mt(401));yF(n,t)}e.context._currentValue2=e.value}}function loe(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&loe(n)}function uoe(n){var e=n.parent;e!==null&&uoe(e),n.context._currentValue2=n.value}function coe(n,e){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error(mt(402));n.depth===e.depth?yF(n,e):coe(n,e)}function doe(n,e){var t=e.parent;if(t===null)throw Error(mt(402));n.depth===t.depth?yF(n,t):doe(n,t),e.context._currentValue2=e.value}function pF(n){var e=Og;e!==n&&(e===null?uoe(n):n===null?loe(e):e.depth===n.depth?yF(e,n):e.depth>n.depth?coe(e,n):doe(e,n),Og=n)}var Nre={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function kre(n,e,t,r){var o=n.state!==void 0?n.state:null;n.updater=Nre,n.props=t,n.state=o;var i={queue:[],replace:!1};n._reactInternals=i;var a=e.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue2:r,a=e.getDerivedStateFromProps,typeof a=="function"&&(a=a(t,o),o=a==null?o:xE({},o,a),n.state=o),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Nre.enqueueReplaceState(n,n.state,null),i.queue!==null&&0<i.queue.length)if(e=i.queue,a=i.replace,i.queue=null,i.replace=!1,a&&e.length===1)n.state=e[0];else{for(i=a?e[0]:n.state,o=!0,a=a?1:0;a<e.length;a++){var s=e[a];s=typeof s=="function"?s.call(n,i,t,r):s,s!=null&&(o?(o=!1,i=xE({},i,s)):xE(i,s))}n.state=i}else i.queue=null}var $Ne={id:1,overflow:""};function Z3(n,e,t){var r=n.id;n=n.overflow;var o=32-cF(r)-1;r&=~(1<<o),t+=1;var i=32-cF(e)+o;if(30<i){var a=o-o%5;return i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,{id:1<<32-cF(e)+o|t<<o|r,overflow:i+n}}return{id:1<<i|t<<o|r,overflow:n}}var cF=Math.clz32?Math.clz32:zNe,BNe=Math.log,WNe=Math.LN2;function zNe(n){return n>>>=0,n===0?32:31-(BNe(n)/WNe|0)|0}function UNe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var jNe=typeof Object.is=="function"?Object.is:UNe,lf=null,rW=null,dF=null,kn=null,_E=!1,hF=!1,DE=0,ah=null,CF=0;function Pg(){if(lf===null)throw Error(mt(321));return lf}function Vre(){if(0<CF)throw Error(mt(312));return{memoizedState:null,queue:null,next:null}}function oW(){return kn===null?dF===null?(_E=!1,dF=kn=Vre()):(_E=!0,kn=dF):kn.next===null?(_E=!1,kn=kn.next=Vre()):(_E=!0,kn=kn.next),kn}function iW(){rW=lf=null,hF=!1,dF=null,CF=0,kn=ah=null}function foe(n,e){return typeof e=="function"?e(n):e}function Gre(n,e,t){if(lf=Pg(),kn=oW(),_E){var r=kn.queue;if(e=r.dispatch,ah!==null&&(t=ah.get(r),t!==void 0)){ah.delete(r),r=kn.memoizedState;do r=n(r,t.action),t=t.next;while(t!==null);return kn.memoizedState=r,[r,e]}return[kn.memoizedState,e]}return n=n===foe?typeof e=="function"?e():e:t!==void 0?t(e):e,kn.memoizedState=n,n=kn.queue={last:null,dispatch:null},n=n.dispatch=KNe.bind(null,lf,n),[kn.memoizedState,n]}function Hre(n,e){if(lf=Pg(),kn=oW(),e=e===void 0?null:e,kn!==null){var t=kn.memoizedState;if(t!==null&&e!==null){var r=t[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<e.length;o++)if(!jNe(e[o],r[o])){r=!1;break e}r=!0}if(r)return t[0]}}return n=n(),kn.memoizedState=[n,e],n}function KNe(n,e,t){if(25<=CF)throw Error(mt(301));if(n===lf)if(hF=!0,n={action:t,next:null},ah===null&&(ah=new Map),t=ah.get(e),t===void 0)ah.set(e,n);else{for(e=t;e.next!==null;)e=e.next;e.next=n}}function qNe(){throw Error(mt(394))}function aF(){}var $re={readContext:function(n){return n._currentValue2},useContext:function(n){return Pg(),n._currentValue2},useMemo:Hre,useReducer:Gre,useRef:function(n){lf=Pg(),kn=oW();var e=kn.memoizedState;return e===null?(n={current:n},kn.memoizedState=n):e},useState:function(n){return Gre(foe,n)},useInsertionEffect:aF,useLayoutEffect:function(){},useCallback:function(n,e){return Hre(function(){return n},e)},useImperativeHandle:aF,useEffect:aF,useDebugValue:aF,useDeferredValue:function(n){return Pg(),n},useTransition:function(){return Pg(),[!1,qNe]},useId:function(){var n=rW.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-cF(n)-1)).toString(32)+e;var t=fF;if(t===null)throw Error(mt(404));return e=DE++,n=":"+t.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return Pg(),e(n._source)},useSyncExternalStore:function(n,e,t){if(t===void 0)throw Error(mt(407));return t()}},fF=null,q3=qre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function YNe(n){return null}function EE(){}function XNe(n,e,t,r,o,i,a,s,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?YNe:o,onAllReady:i===void 0?EE:i,onShellReady:a===void 0?EE:a,onShellError:s===void 0?EE:s,onFatalError:l===void 0?EE:l},t=mF(e,0,null,t,!1,!1),t.parentFlushed=!0,n=aW(e,n,null,t,c,soe,null,$Ne),u.push(n),e}function aW(n,e,t,r,o,i,a,s){n.allPendingTasks++,t===null?n.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&moe(n)},blockedBoundary:t,blockedSegment:r,abortSet:o,legacyContext:i,context:a,treeContext:s};return o.add(l),l}function mF(n,e,t,r,o,i){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:t,lastPushedText:o,textEmbedded:i}}function RE(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function gF(n,e){var t=n.onShellError;t(e),t=n.onFatalError,t(e),n.destination!==null?(n.status=2,n.destination.destroy(e)):(n.status=1,n.fatalError=e)}function Bre(n,e,t,r,o){for(lf={},rW=e,DE=0,n=t(r,o);hF;)hF=!1,DE=0,CF+=1,kn=null,n=t(r,o);return iW(),n}function Wre(n,e,t,r){var o=t.render(),i=r.childContextTypes;if(i!=null){var a=e.legacyContext;if(typeof t.getChildContext!="function")r=a;else{t=t.getChildContext();for(var s in t)if(!(s in i))throw Error(mt(108,X3(r)||"Unknown",s));r=xE({},a,t)}e.legacyContext=r,cs(n,e,o),e.legacyContext=a}else cs(n,e,o)}function zre(n,e){if(n&&n.defaultProps){e=xE({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Q3(n,e,t,r,o){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){o=Are(t,e.legacyContext);var i=t.contextType;i=new t(r,typeof i=="object"&&i!==null?i._currentValue2:o),kre(i,t,r,o),Wre(n,e,i,t)}else{i=Are(t,e.legacyContext),o=Bre(n,e,t,r,i);var a=DE!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)kre(o,t,r,i),Wre(n,e,o,t);else if(a){r=e.treeContext,e.treeContext=Z3(r,1,0);try{cs(n,e,o)}finally{e.treeContext=r}}else cs(n,e,o)}else if(typeof t=="string"){switch(o=e.blockedSegment,i=INe(o.chunks,t,r,n.responseState,o.formatContext),o.lastPushedText=!1,a=o.formatContext,o.formatContext=TNe(a,t,r),J3(n,e,i),o.formatContext=a,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",t,">")}o.lastPushedText=!1}else{switch(t){case GNe:case VNe:case Jre:case eoe:case Qre:cs(n,e,r.children);return;case ioe:cs(n,e,r.children);return;case kNe:throw Error(mt(343));case ooe:e:{t=e.blockedBoundary,o=e.blockedSegment,i=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=mF(n,o.chunks.length,s,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=mF(n,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=s,e.blockedSegment=u;try{if(J3(n,e,r),n.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,vF(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=RE(n,c)}finally{e.blockedBoundary=t,e.blockedSegment=o}e=aW(n,i,t,l,a,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case roe:if(r=Bre(n,e,t.render,r,o),DE!==0){t=e.treeContext,e.treeContext=Z3(t,1,0);try{cs(n,e,r)}finally{e.treeContext=t}}else cs(n,e,r);return;case aoe:t=t.type,r=zre(t,r),Q3(n,e,t,r,o);return;case toe:if(o=r.children,t=t._context,r=r.value,i=t._currentValue2,t._currentValue2=r,a=Og,Og=r={parent:a,depth:a===null?0:a.depth+1,context:t,parentValue:i,value:r},e.context=r,cs(n,e,o),n=Og,n===null)throw Error(mt(403));r=n.parentValue,n.context._currentValue2=r===HNe?n.context._defaultValue:r,n=Og=n.parent,e.context=n;return;case noe:r=r.children,r=r(t._currentValue2),cs(n,e,r);return;case nW:o=t._init,t=o(t._payload),r=zre(t,r),Q3(n,e,t,r,void 0);return}throw Error(mt(130,t==null?t:typeof t,""))}}function cs(n,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case NNe:Q3(n,e,t.type,t.props,t.ref);return;case Zre:throw Error(mt(257));case nW:var r=t._init;t=r(t._payload),cs(n,e,t);return}if(Y3(t)){Ure(n,e,t);return}if(t===null||typeof t!="object"?r=null:(r=Mre&&t[Mre]||t["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(t))){if(t=r.next(),!t.done){var o=[];do o.push(t.value),t=r.next();while(!t.done);Ure(n,e,o)}return}throw n=Object.prototype.toString.call(t),Error(mt(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}typeof t=="string"?(r=e.blockedSegment,r.lastPushedText=Lre(e.blockedSegment.chunks,t,n.responseState,r.lastPushedText)):typeof t=="number"&&(r=e.blockedSegment,r.lastPushedText=Lre(e.blockedSegment.chunks,""+t,n.responseState,r.lastPushedText))}function Ure(n,e,t){for(var r=t.length,o=0;o<r;o++){var i=e.treeContext;e.treeContext=Z3(i,r,o);try{J3(n,e,t[o])}finally{e.treeContext=i}}}function J3(n,e,t){var r=e.blockedSegment.formatContext,o=e.legacyContext,i=e.context;try{return cs(n,e,t)}catch(l){if(iW(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var a=e.blockedSegment,s=mF(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=aW(n,e.node,e.blockedBoundary,s,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(n,n),e.blockedSegment.formatContext=r,e.legacyContext=o,e.context=i,pF(i)}else throw e.blockedSegment.formatContext=r,e.legacyContext=o,e.context=i,pF(i),l}}function ZNe(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,hoe(this,e,n)}function poe(n,e,t){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=t===void 0?Error(mt(432)):t,r.errorDigest=e.onError(n),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return poe(o,e,t)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function vF(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&vF(n,t)}else n.completedSegments.push(e)}function hoe(n,e,t){if(e===null){if(t.parentFlushed){if(n.completedRootSegment!==null)throw Error(mt(389));n.completedRootSegment=t}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=EE,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&vF(e,t),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(ZNe,n),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(vF(e,t),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function moe(n){if(n.status!==2){var e=Og,t=q3.current;q3.current=$re;var r=fF;fF=n.responseState;try{var o=n.pingedTasks,i;for(i=0;i<o.length;i++){var a=o[i],s=n,l=a.blockedSegment;if(l.status===0){pF(a.context);try{cs(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,hoe(s,a.blockedBoundary,l)}catch(h){if(iW(),typeof h=="object"&&h!==null&&typeof h.then=="function"){var u=a.ping;h.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=h,f=RE(s,d);if(c===null?gF(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var p=s.onAllReady;p()}}}finally{}}}o.splice(0,i),n.destination!==null&&sW(n,n.destination)}catch(h){RE(n,h),gF(n,h)}finally{fF=r,q3.current=t,t===$re&&pF(e)}}}function sF(n,e,t){switch(t.parentFlushed=!0,t.status){case 0:var r=t.id=n.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,n=n.responseState,e.push('<template id="'),e.push(n.placeholderPrefix),n=r.toString(16),e.push(n),e.push('"></template>');case 1:t.status=2;var o=!0;r=t.chunks;var i=0;t=t.children;for(var a=0;a<t.length;a++){for(o=t[a];i<o.index;i++)e.push(r[i]);o=wF(n,e,o)}for(;i<r.length-1;i++)e.push(r[i]);return i<r.length&&(o=e.push(r[i])),o;default:throw Error(mt(390))}}function wF(n,e,t){var r=t.boundary;if(r===null)return sF(n,e,t);if(r.parentFlushed=!0,r.forceClientRender)return n.responseState.generateStaticMarkup||(r=r.errorDigest,e.push("<!--$!-->"),e.push("<template"),r&&(e.push(' data-dgst="'),r=zi(r),e.push(r),e.push('"')),e.push("></template>")),sF(n,e,t),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n;if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var o=n.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,Fre(e,n.responseState,r),sF(n,e,t),e.push("<!--/$-->")}if(r.byteSize>n.progressiveChunkSize)return r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),Fre(e,n.responseState,r.id),sF(n,e,t),e.push("<!--/$-->");if(n.responseState.generateStaticMarkup||e.push("<!--$-->"),t=r.completedSegments,t.length!==1)throw Error(mt(391));return wF(n,e,t[0]),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n}function jre(n,e,t){return FNe(e,n.responseState,t.formatContext,t.id),wF(n,e,t),LNe(e,t.formatContext)}function Kre(n,e,t){for(var r=t.completedSegments,o=0;o<r.length;o++)goe(n,e,t,r[o]);if(r.length=0,n=n.responseState,r=t.id,t=t.rootSegmentID,e.push(n.startInlineScript),n.sentCompleteBoundaryFunction?e.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(mt(395));return t=t.toString(16),e.push(r),e.push('","'),e.push(n.segmentPrefix),e.push(t),e.push('")<\/script>')}function goe(n,e,t,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=t.rootSegmentID)===-1)throw Error(mt(392));return jre(n,e,r)}return jre(n,e,r),n=n.responseState,e.push(n.startInlineScript),n.sentCompleteSegmentFunction?e.push('$RS("'):(n.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(n.segmentPrefix),o=o.toString(16),e.push(o),e.push('","'),e.push(n.placeholderPrefix),e.push(o),e.push('")<\/script>')}function sW(n,e){try{var t=n.completedRootSegment;if(t!==null&&n.pendingRootTasks===0){wF(n,e,t),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(t=0;t<r.length-1;t++)e.push(r[t]);t<r.length&&e.push(r[t])}var o=n.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var a=o[i];r=e;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(mt(395));if(r.push(l),r.push('"'),u||c||d){r.push(",");var f=K3(u||"");r.push(f)}if(c||d){r.push(",");var p=K3(c||"");r.push(p)}if(d){r.push(",");var h=K3(d);r.push(h)}if(!r.push(")<\/script>")){n.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var m=n.completedBoundaries;for(i=0;i<m.length;i++)if(!Kre(n,e,m[i])){n.destination=null,i++,m.splice(0,i);return}m.splice(0,i);var v=n.partialBoundaries;for(i=0;i<v.length;i++){var g=v[i];e:{o=n,a=e;var y=g.completedSegments;for(s=0;s<y.length;s++)if(!goe(o,a,g,y[s])){s++,y.splice(0,s);var C=!1;break e}y.splice(0,s),C=!0}if(!C){n.destination=null,i++,v.splice(0,i);return}}v.splice(0,i);var w=n.completedBoundaries;for(i=0;i<w.length;i++)if(!Kre(n,e,w[i])){n.destination=null,i++,w.splice(0,i);return}w.splice(0,i)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.push(null)}}function QNe(n,e){try{var t=n.abortableTasks;t.forEach(function(r){return poe(r,n,e)}),t.clear(),n.destination!==null&&sW(n,n.destination)}catch(r){RE(n,r),gF(n,r)}}function JNe(){}function voe(n,e,t,r){var o=!1,i=null,a="",s={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){o=!0,i=u}},l=!1;if(n=XNe(n,ANe(t,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,JNe,void 0,function(){l=!0},void 0,void 0),moe(n),QNe(n,r),n.status===1)n.status=2,s.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=s;try{sW(n,s)}catch(u){RE(n,u),gF(n,u)}}if(o)throw i;if(!l)throw Error(mt(426));return a}FC.renderToNodeStream=function(){throw Error(mt(207))};FC.renderToStaticMarkup=function(n,e){return voe(n,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};FC.renderToStaticNodeStream=function(){throw Error(mt(208))};FC.renderToString=function(n,e){return voe(n,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};FC.version="18.2.0"});var gie=$e(TW=>{"use strict";var Uoe=z();function Ct(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fs=null,ps=0;function Be(n,e){if(e.length!==0)if(512<e.length)0<ps&&(n.enqueue(new Uint8Array(fs.buffer,0,ps)),fs=new Uint8Array(512),ps=0),n.enqueue(e);else{var t=fs.length-ps;t<e.length&&(t===0?n.enqueue(fs):(fs.set(e.subarray(0,t),ps),n.enqueue(fs),e=e.subarray(t)),fs=new Uint8Array(512),ps=0),fs.set(e,ps),ps+=e.length}}function Yn(n,e){return Be(n,e),!0}function Coe(n){fs&&0<ps&&(n.enqueue(new Uint8Array(fs.buffer,0,ps)),fs=null,ps=0)}var joe=new TextEncoder;function Dt(n){return joe.encode(n)}function Re(n){return joe.encode(n)}function Koe(n,e){typeof n.error=="function"?n.error(e):n.close()}var Ea=Object.prototype.hasOwnProperty,e1e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,woe={},Soe={};function qoe(n){return Ea.call(Soe,n)?!0:Ea.call(woe,n)?!1:e1e.test(n)?Soe[n]=!0:(woe[n]=!0,!1)}function ji(n,e,t,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ri[n]=new ji(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ri[e]=new ji(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ri[n]=new ji(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ri[n]=new ji(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ri[n]=new ji(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ri[n]=new ji(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ri[n]=new ji(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ri[n]=new ji(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ri[n]=new ji(n,5,!1,n.toLowerCase(),null,!1,!1)});var CW=/[\-:]([a-z])/g;function wW(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(CW,wW);ri[e]=new ji(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(CW,wW);ri[e]=new ji(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(CW,wW);ri[e]=new ji(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ri[n]=new ji(n,1,!1,n.toLowerCase(),null,!1,!1)});ri.xlinkHref=new ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ri[n]=new ji(n,1,!1,n.toLowerCase(),null,!0,!0)});var _F={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t1e=["Webkit","ms","Moz","O"];Object.keys(_F).forEach(function(n){t1e.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),_F[e]=_F[n]})});var n1e=/["'&<>]/;function ni(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=n1e.exec(n);if(e){var t="",r,o=0;for(r=e.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==r&&(t+=n.substring(o,r)),o=r+1,t+=e}n=o!==r?t+n.substring(o,r):t}return n}var r1e=/([A-Z])/g,o1e=/^ms-/,hW=Array.isArray,i1e=Re("<script>"),a1e=Re("<\/script>"),s1e=Re('<script src="'),l1e=Re('<script type="module" src="'),boe=Re('" async=""><\/script>'),u1e=/(<\/|<)(s)(cript)/gi;function c1e(n,e,t,r){return""+e+(t==="s"?"\\u0073":"\\u0053")+r}function d1e(n,e,t,r,o){n=n===void 0?"":n,e=e===void 0?i1e:Re('<script nonce="'+ni(e)+'">');var i=[];if(t!==void 0&&i.push(e,Dt((""+t).replace(u1e,c1e)),a1e),r!==void 0)for(t=0;t<r.length;t++)i.push(s1e,Dt(ni(r[t])),boe);if(o!==void 0)for(r=0;r<o.length;r++)i.push(l1e,Dt(ni(o[r])),boe);return{bootstrapChunks:i,startInlineScript:e,placeholderPrefix:Re(n+"P:"),segmentPrefix:Re(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Hc(n,e){return{insertionMode:n,selectedValue:e}}function f1e(n){return Hc(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function p1e(n,e,t){switch(e){case"select":return Hc(1,t.value!=null?t.value:t.defaultValue);case"svg":return Hc(2,null);case"math":return Hc(3,null);case"foreignObject":return Hc(1,null);case"table":return Hc(4,null);case"thead":case"tbody":case"tfoot":return Hc(5,null);case"colgroup":return Hc(7,null);case"tr":return Hc(6,null)}return 4<=n.insertionMode||n.insertionMode===0?Hc(1,null):n}var SW=Re("<!-- -->");function _oe(n,e,t,r){return e===""?r:(r&&n.push(SW),n.push(Dt(ni(e))),!0)}var Eoe=new Map,h1e=Re(' style="'),xoe=Re(":"),m1e=Re(";");function Yoe(n,e,t){if(typeof t!="object")throw Error(Ct(62));e=!0;for(var r in t)if(Ea.call(t,r)){var o=t[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Dt(ni(r));o=Dt(ni((""+o).trim()))}else{i=r;var a=Eoe.get(i);a!==void 0||(a=Re(ni(i.replace(r1e,"-$1").toLowerCase().replace(o1e,"-ms-"))),Eoe.set(i,a)),i=a,o=typeof o=="number"?o===0||Ea.call(_F,r)?Dt(""+o):Dt(o+"px"):Dt(ni((""+o).trim()))}e?(e=!1,n.push(h1e,i,xoe,o)):n.push(m1e,i,xoe,o)}}e||n.push(Ig)}var sh=Re(" "),LC=Re('="'),Ig=Re('"'),Doe=Re('=""');function ds(n,e,t,r){switch(t){case"style":Yoe(n,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=ri.hasOwnProperty(t)?ri[t]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=Dt(e.attributeName),e.type){case 3:r&&n.push(sh,t,Doe);break;case 4:r===!0?n.push(sh,t,Doe):r!==!1&&n.push(sh,t,LC,Dt(ni(r)),Ig);break;case 5:isNaN(r)||n.push(sh,t,LC,Dt(ni(r)),Ig);break;case 6:!isNaN(r)&&1<=r&&n.push(sh,t,LC,Dt(ni(r)),Ig);break;default:e.sanitizeURL&&(r=""+r),n.push(sh,t,LC,Dt(ni(r)),Ig)}}else if(qoe(t)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(sh,Dt(t),LC,Dt(ni(r)),Ig)}}}var lh=Re(">"),Roe=Re("/>");function EF(n,e,t){if(e!=null){if(t!=null)throw Error(Ct(60));if(typeof e!="object"||!("__html"in e))throw Error(Ct(61));e=e.__html,e!=null&&n.push(Dt(""+e))}}function g1e(n){var e="";return Uoe.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}var lW=Re(' selected=""');function uW(n,e,t,r){n.push($c(t));var o=t=null,i;for(i in e)if(Ea.call(e,i)){var a=e[i];if(a!=null)switch(i){case"children":t=a;break;case"dangerouslySetInnerHTML":o=a;break;default:ds(n,r,i,a)}}return n.push(lh),EF(n,o,t),typeof t=="string"?(n.push(Dt(ni(t))),null):t}var cW=Re(`
`),v1e=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Toe=new Map;function $c(n){var e=Toe.get(n);if(e===void 0){if(!v1e.test(n))throw Error(Ct(65,n));e=Re("<"+n),Toe.set(n,e)}return e}var y1e=Re("<!DOCTYPE html>");function C1e(n,e,t,r,o){switch(e){case"select":n.push($c("select"));var i=null,a=null;for(c in t)if(Ea.call(t,c)){var s=t[c];if(s!=null)switch(c){case"children":i=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:ds(n,r,c,s)}}return n.push(lh),EF(n,a,i),i;case"option":a=o.selectedValue,n.push($c("option"));var l=s=null,u=null,c=null;for(i in t)if(Ea.call(t,i)){var d=t[i];if(d!=null)switch(i){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:ds(n,r,i,d)}}if(a!=null)if(t=l!==null?""+l:g1e(s),hW(a)){for(r=0;r<a.length;r++)if(""+a[r]===t){n.push(lW);break}}else""+a===t&&n.push(lW);else u&&n.push(lW);return n.push(lh),EF(n,c,s),s;case"textarea":n.push($c("textarea")),c=a=i=null;for(s in t)if(Ea.call(t,s)&&(l=t[s],l!=null))switch(s){case"children":c=l;break;case"value":i=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Ct(91));default:ds(n,r,s,l)}if(i===null&&a!==null&&(i=a),n.push(lh),c!=null){if(i!=null)throw Error(Ct(92));if(hW(c)&&1<c.length)throw Error(Ct(93));i=""+c}return typeof i=="string"&&i[0]===`
`&&n.push(cW),i!==null&&n.push(Dt(ni(""+i))),null;case"input":n.push($c("input")),l=c=s=i=null;for(a in t)if(Ea.call(t,a)&&(u=t[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Ct(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":i=u;break;default:ds(n,r,a,u)}return c!==null?ds(n,r,"checked",c):l!==null&&ds(n,r,"checked",l),i!==null?ds(n,r,"value",i):s!==null&&ds(n,r,"value",s),n.push(Roe),null;case"menuitem":n.push($c("menuitem"));for(var f in t)if(Ea.call(t,f)&&(i=t[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Ct(400));default:ds(n,r,f,i)}return n.push(lh),null;case"title":n.push($c("title")),i=null;for(d in t)if(Ea.call(t,d)&&(a=t[d],a!=null))switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":throw Error(Ct(434));default:ds(n,r,d,a)}return n.push(lh),i;case"listing":case"pre":n.push($c(e)),a=i=null;for(l in t)if(Ea.call(t,l)&&(s=t[l],s!=null))switch(l){case"children":i=s;break;case"dangerouslySetInnerHTML":a=s;break;default:ds(n,r,l,s)}if(n.push(lh),a!=null){if(i!=null)throw Error(Ct(60));if(typeof a!="object"||!("__html"in a))throw Error(Ct(61));t=a.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?n.push(cW,Dt(t)):n.push(Dt(""+t)))}return typeof i=="string"&&i[0]===`
`&&n.push(cW),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push($c(e));for(var p in t)if(Ea.call(t,p)&&(i=t[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ct(399,e));default:ds(n,r,p,i)}return n.push(Roe),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return uW(n,t,e,r);case"html":return o.insertionMode===0&&n.push(y1e),uW(n,t,e,r);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return uW(n,t,e,r);n.push($c(e)),a=i=null;for(u in t)if(Ea.call(t,u)&&(s=t[u],s!=null))switch(u){case"children":i=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":Yoe(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:qoe(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(sh,Dt(u),LC,Dt(ni(s)),Ig)}return n.push(lh),EF(n,a,i),i}}var w1e=Re("</"),S1e=Re(">"),b1e=Re('<template id="'),_1e=Re('"></template>'),E1e=Re("<!--$-->"),x1e=Re('<!--$?--><template id="'),D1e=Re('"></template>'),R1e=Re("<!--$!-->"),T1e=Re("<!--/$-->"),P1e=Re("<template"),O1e=Re('"'),I1e=Re(' data-dgst="');Re(' data-msg="');Re(' data-stck="');var F1e=Re("></template>");function Poe(n,e,t){if(Be(n,x1e),t===null)throw Error(Ct(395));return Be(n,t),Yn(n,D1e)}var L1e=Re('<div hidden id="'),M1e=Re('">'),A1e=Re("</div>"),N1e=Re('<svg aria-hidden="true" style="display:none" id="'),k1e=Re('">'),V1e=Re("</svg>"),G1e=Re('<math aria-hidden="true" style="display:none" id="'),H1e=Re('">'),$1e=Re("</math>"),B1e=Re('<table hidden id="'),W1e=Re('">'),z1e=Re("</table>"),U1e=Re('<table hidden><tbody id="'),j1e=Re('">'),K1e=Re("</tbody></table>"),q1e=Re('<table hidden><tr id="'),Y1e=Re('">'),X1e=Re("</tr></table>"),Z1e=Re('<table hidden><colgroup id="'),Q1e=Re('">'),J1e=Re("</colgroup></table>");function eke(n,e,t,r){switch(t.insertionMode){case 0:case 1:return Be(n,L1e),Be(n,e.segmentPrefix),Be(n,Dt(r.toString(16))),Yn(n,M1e);case 2:return Be(n,N1e),Be(n,e.segmentPrefix),Be(n,Dt(r.toString(16))),Yn(n,k1e);case 3:return Be(n,G1e),Be(n,e.segmentPrefix),Be(n,Dt(r.toString(16))),Yn(n,H1e);case 4:return Be(n,B1e),Be(n,e.segmentPrefix),Be(n,Dt(r.toString(16))),Yn(n,W1e);case 5:return Be(n,U1e),Be(n,e.segmentPrefix),Be(n,Dt(r.toString(16))),Yn(n,j1e);case 6:return Be(n,q1e),Be(n,e.segmentPrefix),Be(n,Dt(r.toString(16))),Yn(n,Y1e);case 7:return Be(n,Z1e),Be(n,e.segmentPrefix),Be(n,Dt(r.toString(16))),Yn(n,Q1e);default:throw Error(Ct(397))}}function tke(n,e){switch(e.insertionMode){case 0:case 1:return Yn(n,A1e);case 2:return Yn(n,V1e);case 3:return Yn(n,$1e);case 4:return Yn(n,z1e);case 5:return Yn(n,K1e);case 6:return Yn(n,X1e);case 7:return Yn(n,J1e);default:throw Error(Ct(397))}}var nke=Re('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),rke=Re('$RS("'),oke=Re('","'),ike=Re('")<\/script>'),ake=Re('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),ske=Re('$RC("'),lke=Re('","'),uke=Re('")<\/script>'),cke=Re('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),dke=Re('$RX("'),fke=Re('"'),pke=Re(")<\/script>"),dW=Re(","),hke=/[<\u2028\u2029]/g;function fW(n){return JSON.stringify(n).replace(hke,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var OE=Object.assign,mke=Symbol.for("react.element"),Xoe=Symbol.for("react.portal"),Zoe=Symbol.for("react.fragment"),Qoe=Symbol.for("react.strict_mode"),Joe=Symbol.for("react.profiler"),eie=Symbol.for("react.provider"),tie=Symbol.for("react.context"),nie=Symbol.for("react.forward_ref"),rie=Symbol.for("react.suspense"),oie=Symbol.for("react.suspense_list"),iie=Symbol.for("react.memo"),bW=Symbol.for("react.lazy"),gke=Symbol.for("react.scope"),vke=Symbol.for("react.debug_trace_mode"),yke=Symbol.for("react.legacy_hidden"),Cke=Symbol.for("react.default_value"),Ooe=Symbol.iterator;function mW(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Zoe:return"Fragment";case Xoe:return"Portal";case Joe:return"Profiler";case Qoe:return"StrictMode";case rie:return"Suspense";case oie:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case tie:return(n.displayName||"Context")+".Consumer";case eie:return(n._context.displayName||"Context")+".Provider";case nie:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case iie:return e=n.displayName||null,e!==null?e:mW(n.type)||"Memo";case bW:e=n._payload,n=n._init;try{return mW(n(e))}catch(t){}}return null}var aie={};function Ioe(n,e){if(n=n.contextTypes,!n)return aie;var t={},r;for(r in n)t[r]=e[r];return t}var Lg=null;function LF(n,e){if(n!==e){n.context._currentValue=n.parentValue,n=n.parent;var t=e.parent;if(n===null){if(t!==null)throw Error(Ct(401))}else{if(t===null)throw Error(Ct(401));LF(n,t)}e.context._currentValue=e.value}}function sie(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&sie(n)}function lie(n){var e=n.parent;e!==null&&lie(e),n.context._currentValue=n.value}function uie(n,e){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(Ct(402));n.depth===e.depth?LF(n,e):uie(n,e)}function cie(n,e){var t=e.parent;if(t===null)throw Error(Ct(402));n.depth===t.depth?LF(n,t):cie(n,t),e.context._currentValue=e.value}function TF(n){var e=Lg;e!==n&&(e===null?lie(n):n===null?sie(e):e.depth===n.depth?LF(e,n):e.depth>n.depth?uie(e,n):cie(e,n),Lg=n)}var Foe={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function Loe(n,e,t,r){var o=n.state!==void 0?n.state:null;n.updater=Foe,n.props=t,n.state=o;var i={queue:[],replace:!1};n._reactInternals=i;var a=e.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue:r,a=e.getDerivedStateFromProps,typeof a=="function"&&(a=a(t,o),o=a==null?o:OE({},o,a),n.state=o),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Foe.enqueueReplaceState(n,n.state,null),i.queue!==null&&0<i.queue.length)if(e=i.queue,a=i.replace,i.queue=null,i.replace=!1,a&&e.length===1)n.state=e[0];else{for(i=a?e[0]:n.state,o=!0,a=a?1:0;a<e.length;a++){var s=e[a];s=typeof s=="function"?s.call(n,i,t,r):s,s!=null&&(o?(o=!1,i=OE({},i,s)):OE(i,s))}n.state=i}else i.queue=null}var wke={id:1,overflow:""};function gW(n,e,t){var r=n.id;n=n.overflow;var o=32-xF(r)-1;r&=~(1<<o),t+=1;var i=32-xF(e)+o;if(30<i){var a=o-o%5;return i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,{id:1<<32-xF(e)+o|t<<o|r,overflow:i+n}}return{id:1<<i|t<<o|r,overflow:n}}var xF=Math.clz32?Math.clz32:_ke,Ske=Math.log,bke=Math.LN2;function _ke(n){return n>>>=0,n===0?32:31-(Ske(n)/bke|0)|0}function Eke(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var xke=typeof Object.is=="function"?Object.is:Eke,uf=null,_W=null,DF=null,Vn=null,TE=!1,PF=!1,IE=0,uh=null,MF=0;function Fg(){if(uf===null)throw Error(Ct(321));return uf}function Moe(){if(0<MF)throw Error(Ct(312));return{memoizedState:null,queue:null,next:null}}function EW(){return Vn===null?DF===null?(TE=!1,DF=Vn=Moe()):(TE=!0,Vn=DF):Vn.next===null?(TE=!1,Vn=Vn.next=Moe()):(TE=!0,Vn=Vn.next),Vn}function xW(){_W=uf=null,PF=!1,DF=null,MF=0,Vn=uh=null}function die(n,e){return typeof e=="function"?e(n):e}function Aoe(n,e,t){if(uf=Fg(),Vn=EW(),TE){var r=Vn.queue;if(e=r.dispatch,uh!==null&&(t=uh.get(r),t!==void 0)){uh.delete(r),r=Vn.memoizedState;do r=n(r,t.action),t=t.next;while(t!==null);return Vn.memoizedState=r,[r,e]}return[Vn.memoizedState,e]}return n=n===die?typeof e=="function"?e():e:t!==void 0?t(e):e,Vn.memoizedState=n,n=Vn.queue={last:null,dispatch:null},n=n.dispatch=Dke.bind(null,uf,n),[Vn.memoizedState,n]}function Noe(n,e){if(uf=Fg(),Vn=EW(),e=e===void 0?null:e,Vn!==null){var t=Vn.memoizedState;if(t!==null&&e!==null){var r=t[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<e.length;o++)if(!xke(e[o],r[o])){r=!1;break e}r=!0}if(r)return t[0]}}return n=n(),Vn.memoizedState=[n,e],n}function Dke(n,e,t){if(25<=MF)throw Error(Ct(301));if(n===uf)if(PF=!0,n={action:t,next:null},uh===null&&(uh=new Map),t=uh.get(e),t===void 0)uh.set(e,n);else{for(e=t;e.next!==null;)e=e.next;e.next=n}}function Rke(){throw Error(Ct(394))}function SF(){}var koe={readContext:function(n){return n._currentValue},useContext:function(n){return Fg(),n._currentValue},useMemo:Noe,useReducer:Aoe,useRef:function(n){uf=Fg(),Vn=EW();var e=Vn.memoizedState;return e===null?(n={current:n},Vn.memoizedState=n):e},useState:function(n){return Aoe(die,n)},useInsertionEffect:SF,useLayoutEffect:function(){},useCallback:function(n,e){return Noe(function(){return n},e)},useImperativeHandle:SF,useEffect:SF,useDebugValue:SF,useDeferredValue:function(n){return Fg(),n},useTransition:function(){return Fg(),[!1,Rke]},useId:function(){var n=_W.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-xF(n)-1)).toString(32)+e;var t=RF;if(t===null)throw Error(Ct(404));return e=IE++,n=":"+t.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return Fg(),e(n._source)},useSyncExternalStore:function(n,e,t){if(t===void 0)throw Error(Ct(407));return t()}},RF=null,pW=Uoe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Tke(n){return null}function PE(){}function Pke(n,e,t,r,o,i,a,s,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?Tke:o,onAllReady:i===void 0?PE:i,onShellReady:a===void 0?PE:a,onShellError:s===void 0?PE:s,onFatalError:l===void 0?PE:l},t=OF(e,0,null,t,!1,!1),t.parentFlushed=!0,n=DW(e,n,null,t,c,aie,null,wke),u.push(n),e}function DW(n,e,t,r,o,i,a,s){n.allPendingTasks++,t===null?n.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&hie(n)},blockedBoundary:t,blockedSegment:r,abortSet:o,legacyContext:i,context:a,treeContext:s};return o.add(l),l}function OF(n,e,t,r,o,i){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:t,lastPushedText:o,textEmbedded:i}}function FE(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function IF(n,e){var t=n.onShellError;t(e),t=n.onFatalError,t(e),n.destination!==null?(n.status=2,Koe(n.destination,e)):(n.status=1,n.fatalError=e)}function Voe(n,e,t,r,o){for(uf={},_W=e,IE=0,n=t(r,o);PF;)PF=!1,IE=0,MF+=1,Vn=null,n=t(r,o);return xW(),n}function Goe(n,e,t,r){var o=t.render(),i=r.childContextTypes;if(i!=null){var a=e.legacyContext;if(typeof t.getChildContext!="function")r=a;else{t=t.getChildContext();for(var s in t)if(!(s in i))throw Error(Ct(108,mW(r)||"Unknown",s));r=OE({},a,t)}e.legacyContext=r,hs(n,e,o),e.legacyContext=a}else hs(n,e,o)}function Hoe(n,e){if(n&&n.defaultProps){e=OE({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function vW(n,e,t,r,o){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){o=Ioe(t,e.legacyContext);var i=t.contextType;i=new t(r,typeof i=="object"&&i!==null?i._currentValue:o),Loe(i,t,r,o),Goe(n,e,i,t)}else{i=Ioe(t,e.legacyContext),o=Voe(n,e,t,r,i);var a=IE!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Loe(o,t,r,i),Goe(n,e,o,t);else if(a){r=e.treeContext,e.treeContext=gW(r,1,0);try{hs(n,e,o)}finally{e.treeContext=r}}else hs(n,e,o)}else if(typeof t=="string"){switch(o=e.blockedSegment,i=C1e(o.chunks,t,r,n.responseState,o.formatContext),o.lastPushedText=!1,a=o.formatContext,o.formatContext=p1e(a,t,r),yW(n,e,i),o.formatContext=a,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(w1e,Dt(t),S1e)}o.lastPushedText=!1}else{switch(t){case yke:case vke:case Qoe:case Joe:case Zoe:hs(n,e,r.children);return;case oie:hs(n,e,r.children);return;case gke:throw Error(Ct(343));case rie:e:{t=e.blockedBoundary,o=e.blockedSegment,i=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=OF(n,o.chunks.length,s,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=OF(n,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=s,e.blockedSegment=u;try{if(yW(n,e,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(SW),u.status=1,FF(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=FE(n,c)}finally{e.blockedBoundary=t,e.blockedSegment=o}e=DW(n,i,t,l,a,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nie:if(r=Voe(n,e,t.render,r,o),IE!==0){t=e.treeContext,e.treeContext=gW(t,1,0);try{hs(n,e,r)}finally{e.treeContext=t}}else hs(n,e,r);return;case iie:t=t.type,r=Hoe(t,r),vW(n,e,t,r,o);return;case eie:if(o=r.children,t=t._context,r=r.value,i=t._currentValue,t._currentValue=r,a=Lg,Lg=r={parent:a,depth:a===null?0:a.depth+1,context:t,parentValue:i,value:r},e.context=r,hs(n,e,o),n=Lg,n===null)throw Error(Ct(403));r=n.parentValue,n.context._currentValue=r===Cke?n.context._defaultValue:r,n=Lg=n.parent,e.context=n;return;case tie:r=r.children,r=r(t._currentValue),hs(n,e,r);return;case bW:o=t._init,t=o(t._payload),r=Hoe(t,r),vW(n,e,t,r,void 0);return}throw Error(Ct(130,t==null?t:typeof t,""))}}function hs(n,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case mke:vW(n,e,t.type,t.props,t.ref);return;case Xoe:throw Error(Ct(257));case bW:var r=t._init;t=r(t._payload),hs(n,e,t);return}if(hW(t)){$oe(n,e,t);return}if(t===null||typeof t!="object"?r=null:(r=Ooe&&t[Ooe]||t["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(t))){if(t=r.next(),!t.done){var o=[];do o.push(t.value),t=r.next();while(!t.done);$oe(n,e,o)}return}throw n=Object.prototype.toString.call(t),Error(Ct(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}typeof t=="string"?(r=e.blockedSegment,r.lastPushedText=_oe(e.blockedSegment.chunks,t,n.responseState,r.lastPushedText)):typeof t=="number"&&(r=e.blockedSegment,r.lastPushedText=_oe(e.blockedSegment.chunks,""+t,n.responseState,r.lastPushedText))}function $oe(n,e,t){for(var r=t.length,o=0;o<r;o++){var i=e.treeContext;e.treeContext=gW(i,r,o);try{yW(n,e,t[o])}finally{e.treeContext=i}}}function yW(n,e,t){var r=e.blockedSegment.formatContext,o=e.legacyContext,i=e.context;try{return hs(n,e,t)}catch(l){if(xW(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var a=e.blockedSegment,s=OF(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=DW(n,e.node,e.blockedBoundary,s,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(n,n),e.blockedSegment.formatContext=r,e.legacyContext=o,e.context=i,TF(i)}else throw e.blockedSegment.formatContext=r,e.legacyContext=o,e.context=i,TF(i),l}}function Oke(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,pie(this,e,n)}function fie(n,e,t){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=t===void 0?Error(Ct(432)):t,r.errorDigest=e.onError(n),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return fie(o,e,t)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function FF(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&FF(n,t)}else n.completedSegments.push(e)}function pie(n,e,t){if(e===null){if(t.parentFlushed){if(n.completedRootSegment!==null)throw Error(Ct(389));n.completedRootSegment=t}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=PE,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&FF(e,t),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(Oke,n),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(FF(e,t),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function hie(n){if(n.status!==2){var e=Lg,t=pW.current;pW.current=koe;var r=RF;RF=n.responseState;try{var o=n.pingedTasks,i;for(i=0;i<o.length;i++){var a=o[i],s=n,l=a.blockedSegment;if(l.status===0){TF(a.context);try{hs(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(SW),a.abortSet.delete(a),l.status=1,pie(s,a.blockedBoundary,l)}catch(h){if(xW(),typeof h=="object"&&h!==null&&typeof h.then=="function"){var u=a.ping;h.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=h,f=FE(s,d);if(c===null?IF(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var p=s.onAllReady;p()}}}finally{}}}o.splice(0,i),n.destination!==null&&RW(n,n.destination)}catch(h){FE(n,h),IF(n,h)}finally{RF=r,pW.current=t,t===koe&&TF(e)}}}function bF(n,e,t){switch(t.parentFlushed=!0,t.status){case 0:var r=t.id=n.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,n=n.responseState,Be(e,b1e),Be(e,n.placeholderPrefix),n=Dt(r.toString(16)),Be(e,n),Yn(e,_1e);case 1:t.status=2;var o=!0;r=t.chunks;var i=0;t=t.children;for(var a=0;a<t.length;a++){for(o=t[a];i<o.index;i++)Be(e,r[i]);o=AF(n,e,o)}for(;i<r.length-1;i++)Be(e,r[i]);return i<r.length&&(o=Yn(e,r[i])),o;default:throw Error(Ct(390))}}function AF(n,e,t){var r=t.boundary;if(r===null)return bF(n,e,t);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Yn(e,R1e),Be(e,P1e),r&&(Be(e,I1e),Be(e,Dt(ni(r))),Be(e,O1e)),Yn(e,F1e),bF(n,e,t);else if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var o=n.responseState,i=o.nextSuspenseID++;o=Re(o.boundaryPrefix+i.toString(16)),r=r.id=o,Poe(e,n.responseState,r),bF(n,e,t)}else if(r.byteSize>n.progressiveChunkSize)r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),Poe(e,n.responseState,r.id),bF(n,e,t);else{if(Yn(e,E1e),t=r.completedSegments,t.length!==1)throw Error(Ct(391));AF(n,e,t[0])}return Yn(e,T1e)}function Boe(n,e,t){return eke(e,n.responseState,t.formatContext,t.id),AF(n,e,t),tke(e,t.formatContext)}function Woe(n,e,t){for(var r=t.completedSegments,o=0;o<r.length;o++)mie(n,e,t,r[o]);if(r.length=0,n=n.responseState,r=t.id,t=t.rootSegmentID,Be(e,n.startInlineScript),n.sentCompleteBoundaryFunction?Be(e,ske):(n.sentCompleteBoundaryFunction=!0,Be(e,ake)),r===null)throw Error(Ct(395));return t=Dt(t.toString(16)),Be(e,r),Be(e,lke),Be(e,n.segmentPrefix),Be(e,t),Yn(e,uke)}function mie(n,e,t,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=t.rootSegmentID)===-1)throw Error(Ct(392));return Boe(n,e,r)}return Boe(n,e,r),n=n.responseState,Be(e,n.startInlineScript),n.sentCompleteSegmentFunction?Be(e,rke):(n.sentCompleteSegmentFunction=!0,Be(e,nke)),Be(e,n.segmentPrefix),o=Dt(o.toString(16)),Be(e,o),Be(e,oke),Be(e,n.placeholderPrefix),Be(e,o),Yn(e,ike)}function RW(n,e){fs=new Uint8Array(512),ps=0;try{var t=n.completedRootSegment;if(t!==null&&n.pendingRootTasks===0){AF(n,e,t),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(t=0;t<r.length-1;t++)Be(e,r[t]);t<r.length&&Yn(e,r[t])}var o=n.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var a=o[i];r=e;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(Be(r,s.startInlineScript),s.sentClientRenderFunction?Be(r,dke):(s.sentClientRenderFunction=!0,Be(r,cke)),l===null)throw Error(Ct(395));if(Be(r,l),Be(r,fke),(u||c||d)&&(Be(r,dW),Be(r,Dt(fW(u||"")))),(c||d)&&(Be(r,dW),Be(r,Dt(fW(c||"")))),d&&(Be(r,dW),Be(r,Dt(fW(d)))),!Yn(r,pke)){n.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var f=n.completedBoundaries;for(i=0;i<f.length;i++)if(!Woe(n,e,f[i])){n.destination=null,i++,f.splice(0,i);return}f.splice(0,i),Coe(e),fs=new Uint8Array(512),ps=0;var p=n.partialBoundaries;for(i=0;i<p.length;i++){var h=p[i];e:{o=n,a=e;var m=h.completedSegments;for(s=0;s<m.length;s++)if(!mie(o,a,h,m[s])){s++,m.splice(0,s);var v=!1;break e}m.splice(0,s),v=!0}if(!v){n.destination=null,i++,p.splice(0,i);return}}p.splice(0,i);var g=n.completedBoundaries;for(i=0;i<g.length;i++)if(!Woe(n,e,g[i])){n.destination=null,i++,g.splice(0,i);return}g.splice(0,i)}finally{Coe(e),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.close()}}function zoe(n,e){try{var t=n.abortableTasks;t.forEach(function(r){return fie(r,n,e)}),t.clear(),n.destination!==null&&RW(n,n.destination)}catch(r){FE(n,r),IF(n,r)}}TW.renderToReadableStream=function(n,e){return new Promise(function(t,r){var o,i,a=new Promise(function(c,d){i=c,o=d}),s=Pke(n,d1e(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),f1e(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,i,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(s.status===1)s.status=2,Koe(d,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=d;try{RW(s,d)}catch(f){FE(s,f),IF(s,f)}}},cancel:function(){zoe(s)}},{highWaterMark:0});c.allReady=a,t(c)},function(c){a.catch(function(){}),r(c)},o);if(e&&e.signal){var l=e.signal,u=function(){zoe(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}hie(s)})};TW.version="18.2.0"});var yie=$e(Mg=>{"use strict";var MC,vie;MC=yoe(),vie=gie();Mg.version=MC.version;Mg.renderToString=MC.renderToString;Mg.renderToStaticMarkup=MC.renderToStaticMarkup;Mg.renderToNodeStream=MC.renderToNodeStream;Mg.renderToStaticNodeStream=MC.renderToStaticNodeStream;Mg.renderToReadableStream=vie.renderToReadableStream});var PW=$e(ch=>{"use strict";var NF=ch&&ch.__assign||function(){return NF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},NF.apply(this,arguments)},Ike=ch&&ch.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ch,"__esModule",{value:!0});ch.ReactComponent=void 0;var Cie=z(),LE=io(),wie=Ike(Rre()),Fke=ka(),Lke=yie(),Mke=function(){function n(e,t,r,o){var i=this;this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!o,this.statelessComponent=this.isStateless(this.reactComponent),this.key=wie.default(),this.portalKey=wie.default(),this.instanceCreated=this.isStatelessComponent()?LE.AgPromise.resolve(!1):new LE.AgPromise(function(a){i.resolveInstanceCreated=a})}return n.prototype.getGui=function(){return this.eParentElement},n.prototype.getRootElement=function(){var e=this.eParentElement.firstChild;return e},n.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},n.prototype.createParentElement=function(e){var t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r},n.prototype.addParentContainerStyleAndClasses=function(){var e=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(LE._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){LE._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');var t=this.componentInstance.getReactContainerClasses();t.forEach(function(r){return e.eParentElement.classList.add(r)})}},n.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},n.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},n.prototype.isStatelessComponent=function(){return this.statelessComponent},n.prototype.getReactComponentName=function(){return this.reactComponent.name},n.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},n.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},n.prototype.isStateless=function(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()},n.prototype.hasMethod=function(e){var t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)},n.prototype.callMethod=function(e,t){var r=this,o=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!o){setTimeout(function(){return r.callMethod(e,t)});return}var i=o[e];if(i)return i.apply(o,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})},n.prototype.addMethod=function(e,t){this[e]=t},n.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new LE.AgPromise(function(r){return t.createReactComponent(r)})},n.prototype.createOrUpdatePortal=function(e){var t=this;this.isStatelessComponent()||(this.ref=function(r){var o;t.componentInstance=r,t.addParentContainerStyleAndClasses(),(o=t.resolveInstanceCreated)===null||o===void 0||o.call(t,!0),t.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,NF(NF({},e),{key:this.key})),this.portal=Fke.createPortal(this.reactElement,this.eParentElement,this.portalKey)},n.prototype.createElement=function(e,t){return Cie.createElement(e,t)},n.prototype.createReactComponent=function(e){this.portalManager.mountReactPortal(this.portal,this,function(t){e(t)})},n.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},n.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},n.prototype.valueRenderedIsNull=function(e){if(!this.componentType.cellRenderer)return!1;var t=console.error;try{console.error=function(){};var r=Lke.renderToStaticMarkup(Cie.createElement(this.reactComponent,e));return r===""}catch(o){}finally{console.error=t}return!1},n.prototype.refreshComponent=function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},n.prototype.fallbackMethod=function(e,t){var r=this[e+"Component"];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)},n.prototype.fallbackMethodAvailable=function(e){if(this.suppressFallbackMethods)return!1;var t=this[e+"Component"];return!!t},n}();ch.ReactComponent=Mke});var hu=$e(pl=>{"use strict";var Ake=pl&&pl.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kF=pl&&pl.__assign||function(){return kF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},kF.apply(this,arguments)},Nke=pl&&pl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pl,"__esModule",{value:!0});pl.CustomComponentWrapper=pl.addOptionalMethods=void 0;var OW=io(),kke=Nke(Dre()),Vke=PW();function Sie(n,e,t){n.forEach(function(r){var o=e[r];o&&(t[r]=o)})}pl.addOptionalMethods=Sie;var Gke=function(n){Ake(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.awaitUpdateCallback=new OW.AgPromise(function(r){t.resolveUpdateCallback=r}),t.wrapperComponent=kke.default,t}return e.prototype.init=function(t){return this.sourceParams=t,n.prototype.init.call(this,this.getProps())},e.prototype.addMethod=function(){},e.prototype.getInstance=function(){var t=this;return this.instanceCreated.then(function(){return t.componentInstance})},e.prototype.getFrameworkComponentInstance=function(){return this},e.prototype.createElement=function(t,r){var o=this;return n.prototype.createElement.call(this,this.wrapperComponent,{initialProps:r,CustomComponentClass:t,setMethods:function(i){return o.setMethods(i)},addUpdateCallback:function(i){o.updateCallback=function(){return i(o.getProps()),new OW.AgPromise(function(a){setTimeout(function(){a()})})},o.resolveUpdateCallback()}})},e.prototype.setMethods=function(t){this.providedMethods=t,Sie(this.getOptionalMethods(),this.providedMethods,this)},e.prototype.getOptionalMethods=function(){return[]},e.prototype.getProps=function(){return kF(kF({},this.sourceParams),{key:this.key,ref:this.ref})},e.prototype.refreshProps=function(){var t=this;return this.updateCallback?this.updateCallback():new OW.AgPromise(function(r){return t.awaitUpdateCallback.then(function(){t.updateCallback().then(function(){return r()})})})},e}(Vke.ReactComponent);pl.CustomComponentWrapper=Gke});var bie=$e(AC=>{"use strict";var Hke=AC&&AC.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(AC,"__esModule",{value:!0});AC.DateComponentWrapper=void 0;var $ke=hu(),Bke=function(n){Hke(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.date=null,t.onDateChange=function(r){return t.updateDate(r)},t}return e.prototype.getDate=function(){return this.date},e.prototype.setDate=function(t){this.date=t,this.refreshProps()},e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e.prototype.getOptionalMethods=function(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]},e.prototype.updateDate=function(t){this.setDate(t),this.sourceParams.onDateChanged()},e.prototype.getProps=function(){var t=n.prototype.getProps.call(this);return t.date=this.date,t.onDateChange=this.onDateChange,delete t.onDateChanged,t},e}($ke.CustomComponentWrapper);AC.DateComponentWrapper=Bke});var _ie=$e(NC=>{"use strict";var Wke=NC&&NC.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(NC,"__esModule",{value:!0});NC.FilterComponentWrapper=void 0;var zke=hu(),Uke=function(n){Wke(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.model=null,t.onModelChange=function(r){return t.updateModel(r)},t.onUiChange=function(){return t.sourceParams.filterChangedCallback()},t}return e.prototype.isFilterActive=function(){return this.model!=null},e.prototype.doesFilterPass=function(t){return this.providedMethods.doesFilterPass(t)},e.prototype.getModel=function(){return this.model},e.prototype.setModel=function(t){return this.model=t,this.refreshProps()},e.prototype.refresh=function(t){return this.sourceParams=t,this.refreshProps(),!0},e.prototype.getOptionalMethods=function(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]},e.prototype.updateModel=function(t){var r=this;this.setModel(t).then(function(){return r.sourceParams.filterChangedCallback()})},e.prototype.getProps=function(){var t=n.prototype.getProps.call(this);return t.model=this.model,t.onModelChange=this.onModelChange,t.onUiChange=this.onUiChange,delete t.filterChangedCallback,delete t.filterModifiedCallback,delete t.valueGetter,t},e}(zke.CustomComponentWrapper);NC.FilterComponentWrapper=Uke});var IW=$e(dh=>{"use strict";var VF=dh&&dh.__assign||function(){return VF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},VF.apply(this,arguments)};Object.defineProperty(dh,"__esModule",{value:!0});dh.FloatingFilterComponentProxy=dh.updateFloatingFilterParent=void 0;var jke=io(),Kke=hu();function Eie(n,e){n.parentFilterInstance(function(t){(t.setModel(e)||jke.AgPromise.resolve()).then(function(){n.filterParams.filterChangedCallback()})})}dh.updateFloatingFilterParent=Eie;var qke=function(){function n(e,t){var r=this;this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=function(o){return r.updateModel(o)}}return n.prototype.getProps=function(){return VF(VF({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})},n.prototype.onParentModelChanged=function(e){this.model=e,this.refreshProps()},n.prototype.refresh=function(e){this.floatingFilterParams=e,this.refreshProps()},n.prototype.setMethods=function(e){Kke.addOptionalMethods(this.getOptionalMethods(),e,this)},n.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},n.prototype.updateModel=function(e){this.model=e,this.refreshProps(),Eie(this.floatingFilterParams,e)},n}();dh.FloatingFilterComponentProxy=qke});var xie=$e(kC=>{"use strict";var Yke=kC&&kC.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(kC,"__esModule",{value:!0});kC.FloatingFilterComponentWrapper=void 0;var Xke=hu(),Zke=IW(),Qke=function(n){Yke(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.model=null,t.onModelChange=function(r){return t.updateModel(r)},t}return e.prototype.onParentModelChanged=function(t){this.model=t,this.refreshProps()},e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},e.prototype.updateModel=function(t){this.model=t,this.refreshProps(),Zke.updateFloatingFilterParent(this.sourceParams,t)},e.prototype.getProps=function(){var t=n.prototype.getProps.call(this);return t.model=this.model,t.onModelChange=this.onModelChange,t},e}(Xke.CustomComponentWrapper);kC.FloatingFilterComponentWrapper=Qke});var Die=$e(VC=>{"use strict";var Jke=VC&&VC.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(VC,"__esModule",{value:!0});VC.LoadingOverlayComponentWrapper=void 0;var eVe=hu(),tVe=function(n){Jke(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e}(eVe.CustomComponentWrapper);VC.LoadingOverlayComponentWrapper=tVe});var Rie=$e(GC=>{"use strict";var nVe=GC&&GC.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(GC,"__esModule",{value:!0});GC.MenuItemComponentWrapper=void 0;var rVe=hu(),oVe=function(n){nVe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.active=!1,t.expanded=!1,t.onActiveChange=function(r){return t.updateActive(r)},t}return e.prototype.setActive=function(t){this.awaitSetActive(t)},e.prototype.setExpanded=function(t){this.expanded=t,this.refreshProps()},e.prototype.getOptionalMethods=function(){return["select","configureDefaults"]},e.prototype.awaitSetActive=function(t){return this.active=t,this.refreshProps()},e.prototype.updateActive=function(t){var r=this,o=this.awaitSetActive(t);t&&o.then(function(){return r.sourceParams.onItemActivated()})},e.prototype.getProps=function(){var t=n.prototype.getProps.call(this);return t.active=this.active,t.expanded=this.expanded,t.onActiveChange=this.onActiveChange,delete t.onItemActivated,t},e}(rVe.CustomComponentWrapper);GC.MenuItemComponentWrapper=oVe});var Tie=$e(HC=>{"use strict";var iVe=HC&&HC.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(HC,"__esModule",{value:!0});HC.NoRowsOverlayComponentWrapper=void 0;var aVe=hu(),sVe=function(n){iVe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e}(aVe.CustomComponentWrapper);HC.NoRowsOverlayComponentWrapper=sVe});var Pie=$e($C=>{"use strict";var lVe=$C&&$C.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty($C,"__esModule",{value:!0});$C.StatusPanelComponentWrapper=void 0;var uVe=hu(),cVe=function(n){lVe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.refresh=function(t){return this.sourceParams=t,this.refreshProps(),!0},e}(uVe.CustomComponentWrapper);$C.StatusPanelComponentWrapper=cVe});var Oie=$e(BC=>{"use strict";var dVe=BC&&BC.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(BC,"__esModule",{value:!0});BC.ToolPanelComponentWrapper=void 0;var fVe=hu(),pVe=function(n){dVe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.onStateChange=function(r){return t.updateState(r)},t}return e.prototype.refresh=function(t){return this.sourceParams=t,this.refreshProps(),!0},e.prototype.getState=function(){return this.state},e.prototype.updateState=function(t){this.state=t,this.refreshProps(),this.sourceParams.onStateUpdated()},e.prototype.getProps=function(){var t=n.prototype.getProps.call(this);return t.state=this.state,t.onStateChange=this.onStateChange,t},e}(fVe.CustomComponentWrapper);BC.ToolPanelComponentWrapper=pVe});var Fie=$e(WC=>{"use strict";var Iie=WC&&WC.__spreadArray||function(n,e){for(var t=0,r=e.length,o=n.length;t<r;t++,o++)n[o]=e[t];return n};Object.defineProperty(WC,"__esModule",{value:!0});WC.PortalManager=void 0;var hVe=function(){function n(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||n.MAX_COMPONENT_CREATION_TIME_IN_MS}return n.prototype.getPortals=function(){return this.portals},n.prototype.destroy=function(){this.destroyed=!0},n.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(t){return t!==e}),this.batchUpdate()},n.prototype.getComponentWrappingElement=function(){return this.wrappingElement},n.prototype.mountReactPortal=function(e,t,r){this.portals=Iie(Iie([],this.portals),[e]),this.waitForInstance(t,r),this.batchUpdate()},n.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},n.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||(e.refresher(),e.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},n.prototype.waitForInstance=function(e,t,r){var o=this;if(r===void 0&&(r=Date.now()),this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){t(e);return}return}window.setTimeout(function(){o.waitForInstance(e,t,r)})}},n.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,n}();WC.PortalManager=hVe});var Ei=$e(zC=>{"use strict";var mVe=zC&&zC.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zC,"__esModule",{value:!0});zC.BeansContext=void 0;var gVe=mVe(z());zC.BeansContext=gVe.default.createContext({})});var ms=$e(ao=>{"use strict";var FW=ao&&ao.__assign||function(){return FW=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},FW.apply(this,arguments)},Lie=ao&&ao.__spreadArray||function(n,e){for(var t=0,r=e.length,o=n.length;t<r;t++,o++)n[o]=e[t];return n},vVe=ao&&ao.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ao,"__esModule",{value:!0});ao.getNextValueIfDifferent=ao.agFlushSync=ao.runWithoutFlushSync=ao.isComponentStateless=ao.CssClasses=ao.classesList=void 0;var LW=vVe(ka()),yVe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(function(r){return r!=null&&r!==""});return t.join(" ")};ao.classesList=yVe;var CVe=function(){function n(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.classesMap={},t.forEach(function(o){e.classesMap[o]=!0})}return n.prototype.setClass=function(e,t){var r=!!this.classesMap[e]==t;if(r)return this;var o=new n;return o.classesMap=FW({},this.classesMap),o.classesMap[e]=t,o},n.prototype.toString=function(){var e=this,t=Object.keys(this.classesMap).filter(function(r){return e.classesMap[r]}).join(" ");return t},n}();ao.CssClasses=CVe;var wVe=function(n){var e=function(){return typeof Symbol=="function"&&Symbol.for},t=function(){return e()?Symbol.for("react.memo"):60115};return typeof n=="function"&&!(n.prototype&&n.prototype.isReactComponent)||typeof n=="object"&&n.$$typeof===t()};ao.isComponentStateless=wVe;var SVe=LW.default.createRoot!=null&&LW.default.flushSync!=null,GF=!1;function bVe(n){return GF||setTimeout(function(){return GF=!1},0),GF=!0,n()}ao.runWithoutFlushSync=bVe;var _Ve=function(n,e){SVe&&n&&!GF?LW.default.flushSync(e):e()};ao.agFlushSync=_Ve;function EVe(n,e,t){if(e==null||n==null)return e;if(n===e||e.length===0&&n.length===0)return n;if(t||n.length===0&&e.length>0||n.length>0&&e.length===0)return e;for(var r=[],o=[],i=new Map,a=new Map,s=0;s<e.length;s++){var l=e[s];a.set(l.getInstanceId(),l)}for(var s=0;s<n.length;s++){var l=n[s];i.set(l.getInstanceId(),l),a.has(l.getInstanceId())&&r.push(l)}for(var s=0;s<e.length;s++){var l=e[s],u=l.getInstanceId();i.has(u)||o.push(l)}return r.length===n.length&&o.length===0?n:r.length===0&&o.length===e.length?e:Lie(Lie([],r),o)}ao.getNextValueIfDifferent=EVe});var Ag=$e(UC=>{"use strict";Object.defineProperty(UC,"__esModule",{value:!0});UC.createSyncJsComp=UC.showJsComp=void 0;var xVe=function(n,e,t,r){var o=!n||n.componentFromFramework||e.isDestroyed();if(!o){var i=n.newAgStackInstance();if(i){var a,s,l=!1;return i.then(function(u){if(l){e.destroyBean(u);return}a=u,s=a.getGui(),t.appendChild(s),Mie(r,a)}),function(){l=!0,a&&(s&&s.parentElement&&s.parentElement.removeChild(s),e.destroyBean(a),r&&Mie(r,void 0))}}}};UC.showJsComp=xVe;var Mie=function(n,e){if(n)if(n instanceof Function){var t=n;t(e)}else{var r=n;r.current=e}},DVe=function(n){var e=n.newAgStackInstance();if(e)return e.resolveNow(null,function(t){return t})};UC.createSyncJsComp=DVe});var kie=$e(mu=>{"use strict";var $F=mu&&mu.__assign||function(){return $F=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},$F.apply(this,arguments)},RVe=mu&&mu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),TVe=mu&&mu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),PVe=mu&&mu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&RVe(e,n,t);return TVe(e,n),e};Object.defineProperty(mu,"__esModule",{value:!0});var Aie=io(),an=PVe(z()),OVe=Ei(),IVe=Ag(),HF=ms(),Nie=an.forwardRef(function(n,e){var t,r=an.useContext(OVe.BeansContext).context,o=an.useRef(null),i=an.useRef(null),a=an.useRef(null),s=an.useRef(null),l=an.useRef(null),u=an.useRef(),c=an.useState(),d=c[0],f=c[1],p=an.useState(),h=p[0],m=p[1],v=an.useState(),g=v[0],y=v[1],C=an.useState(function(){return new HF.CssClasses}),w=C[0],b=C[1],E=an.useState(function(){return new HF.CssClasses("ag-hidden")}),D=E[0],S=E[1],T=an.useState(function(){return new HF.CssClasses("ag-hidden")}),O=T[0],L=T[1],k=an.useState(function(){return new HF.CssClasses("ag-invisible")}),A=k[0],$=k[1];an.useImperativeHandle(e,function(){return{refresh:function(){return!1}}}),an.useLayoutEffect(function(){return IVe.showJsComp(d,r,i.current)},[d]);var G=an.useCallback(function(de){if(o.current=de,!o.current){r.destroyBean(u.current),u.current=null;return}var Ce={setInnerRenderer:function(ge,He){f(ge),y(He)},setChildCount:function(ge){return m(ge)},addOrRemoveCssClass:function(ge,He){return b(function(dt){return dt.setClass(ge,He)})},setContractedDisplayed:function(ge){return L(function(He){return He.setClass("ag-hidden",!ge)})},setExpandedDisplayed:function(ge){return S(function(He){return He.setClass("ag-hidden",!ge)})},setCheckboxVisible:function(ge){return $(function(He){return He.setClass("ag-invisible",!ge)})}};u.current=r.createBean(new Aie.GroupCellRendererCtrl),u.current.init(Ce,o.current,a.current,s.current,l.current,Nie,n)},[]),K=an.useMemo(function(){return"ag-cell-wrapper "+w.toString()},[w]),V=an.useMemo(function(){return"ag-group-expanded "+D.toString()},[D]),Y=an.useMemo(function(){return"ag-group-contracted "+O.toString()},[O]),Q=an.useMemo(function(){return"ag-group-checkbox "+A.toString()},[A]),X=d&&d.componentFromFramework,fe=X?d.componentClass:void 0,ne=d==null&&g!=null,me=Aie._.escapeString(g,!0);return an.default.createElement("span",$F({className:K,ref:G},n.colDef?{}:{role:(t=u.current)===null||t===void 0?void 0:t.getCellAriaRole()}),an.default.createElement("span",{className:V,ref:s}),an.default.createElement("span",{className:Y,ref:l}),an.default.createElement("span",{className:Q,ref:a}),an.default.createElement("span",{className:"ag-group-value",ref:i},ne&&an.default.createElement(an.default.Fragment,null,me),X&&an.default.createElement(fe,$F({},d.params))),an.default.createElement("span",{className:"ag-group-child-count"},h))});mu.default=Nie});var Vie=$e(gu=>{"use strict";var BF=gu&&gu.__assign||function(){return BF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},BF.apply(this,arguments)},FVe=gu&&gu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),LVe=gu&&gu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),MVe=gu&&gu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&FVe(e,n,t);return LVe(e,n),e};Object.defineProperty(gu,"__esModule",{value:!0});var oi=MVe(z()),AVe=Ei(),MW=io(),NVe=ms(),kVe=Ag(),VVe=function(n){var e=n.ctrl,t=e.isAlive(),r=oi.useContext(AVe.BeansContext).context,o=t?e.getColId():void 0,i=oi.useState(),a=i[0],s=i[1],l=oi.useRef(null),u=oi.useRef(null),c=oi.useRef(null),d=oi.useRef(),f=oi.useRef();t&&!f.current&&(f.current=new MW.CssClassManager(function(){return l.current}));var p=oi.useCallback(function(g){var y;if(l.current=g,!(!l.current||!t)){var C={setWidth:function(b){l.current&&(l.current.style.width=b)},addOrRemoveCssClass:function(b,E){return f.current.addOrRemoveCssClass(b,E)},setAriaSort:function(b){l.current&&(b?MW._.setAriaSort(l.current,b):MW._.removeAriaSort(l.current))},setUserCompDetails:function(b){return s(b)},getUserCompInstance:function(){return d.current||void 0}};e.setComp(C,l.current,u.current,c.current);var w=e.getSelectAllGui();(y=u.current)===null||y===void 0||y.insertAdjacentElement("afterend",w)}},[]);oi.useLayoutEffect(function(){return kVe.showJsComp(a,r,c.current,d)},[a]),oi.useEffect(function(){e.setDragSource(l.current)},[a]);var h=oi.useMemo(function(){var g=(a==null?void 0:a.componentFromFramework)&&NVe.isComponentStateless(a.componentClass);return!!g},[a]),m=a&&a.componentFromFramework,v=a&&a.componentClass;return oi.default.createElement("div",{ref:p,className:"ag-header-cell","col-id":o,role:"columnheader"},oi.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),oi.default.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},m&&h&&oi.default.createElement(v,BF({},a.params)),m&&!h&&oi.default.createElement(v,BF({},a.params,{ref:d}))))};gu.default=oi.memo(VVe)});var Gie=$e(vu=>{"use strict";var WF=vu&&vu.__assign||function(){return WF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},WF.apply(this,arguments)},GVe=vu&&vu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),HVe=vu&&vu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),$Ve=vu&&vu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&GVe(e,n,t);return HVe(e,n),e};Object.defineProperty(vu,"__esModule",{value:!0});var Gr=$Ve(z()),BVe=Ei(),WVe=Ag(),AW=ms(),zVe=function(n){var e=Gr.useContext(BVe.BeansContext).context,t=n.ctrl,r=Gr.useState(function(){return new AW.CssClasses}),o=r[0],i=r[1],a=Gr.useState(function(){return new AW.CssClasses}),s=a[0],l=a[1],u=Gr.useState("false"),c=u[0],d=u[1],f=Gr.useState(),p=f[0],h=f[1],m=Gr.useState(),v=m[0],g=m[1],y=Gr.useMemo(function(){return t.getColId()},[]),C=Gr.useRef(null),w=Gr.useRef(null),b=Gr.useRef(),E=Gr.useCallback(function(k){if(C.current=k,!!C.current){var A={setWidth:function($){C.current&&(C.current.style.width=$)},addOrRemoveCssClass:function($,G){return i(function(K){return K.setClass($,G)})},setUserCompDetails:function($){return g($)},setResizableDisplayed:function($){l(function(G){return G.setClass("ag-hidden",!$)}),d($?"false":"true")},setAriaExpanded:function($){return h($)},getUserCompInstance:function(){return b.current||void 0}};t.setComp(A,C.current,w.current)}},[]);Gr.useLayoutEffect(function(){return WVe.showJsComp(v,e,C.current)},[v]),Gr.useEffect(function(){C.current&&t.setDragSource(C.current)},[v]);var D=Gr.useMemo(function(){var k=(v==null?void 0:v.componentFromFramework)&&AW.isComponentStateless(v.componentClass);return!!k},[v]),S=Gr.useMemo(function(){return"ag-header-group-cell "+o.toString()},[o]),T=Gr.useMemo(function(){return"ag-header-cell-resize "+s.toString()},[s]),O=v&&v.componentFromFramework,L=v&&v.componentClass;return Gr.default.createElement("div",{ref:E,className:S,"col-id":y,role:"columnheader","aria-expanded":p},O&&D&&Gr.default.createElement(L,WF({},v.params)),O&&!D&&Gr.default.createElement(L,WF({},v.params,{ref:b})),Gr.default.createElement("div",{ref:w,"aria-hidden":c,className:T}))};vu.default=Gr.memo(zVe)});var ME=$e(jC=>{"use strict";Object.defineProperty(jC,"__esModule",{value:!0});jC.warnReactiveCustomComponents=jC.getInstance=void 0;var Hie=io();function UVe(n,e){var t,r,o,i=(o=(r=(t=n)===null||t===void 0?void 0:t.getInstance)===null||r===void 0?void 0:r.call(t))!==null&&o!==void 0?o:Hie.AgPromise.resolve(void 0);i.then(function(a){return e(a)})}jC.getInstance=UVe;function jVe(){Hie._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}jC.warnReactiveCustomComponents=jVe});var $ie=$e(yu=>{"use strict";var UF=yu&&yu.__assign||function(){return UF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},UF.apply(this,arguments)},KVe=yu&&yu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),qVe=yu&&yu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),YVe=yu&&yu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&KVe(e,n,t);return qVe(e,n),e};Object.defineProperty(yu,"__esModule",{value:!0});var dn=YVe(z()),XVe=Ei(),ZVe=io(),zF=ms(),QVe=Ag(),JVe=IW(),e2e=SE(),t2e=ME(),n2e=function(n){var e=dn.useContext(XVe.BeansContext),t=e.context,r=e.gridOptionsService,o=dn.useState(function(){return new zF.CssClasses("ag-header-cell","ag-floating-filter")}),i=o[0],a=o[1],s=dn.useState(function(){return new zF.CssClasses}),l=s[0],u=s[1],c=dn.useState(function(){return new zF.CssClasses("ag-floating-filter-button","ag-hidden")}),d=c[0],f=c[1],p=dn.useState("false"),h=p[0],m=p[1],v=dn.useState(),g=v[0],y=v[1],C=dn.useState(1),w=C[0],b=C[1],E=dn.useRef(null),D=dn.useRef(null),S=dn.useRef(null),T=dn.useRef(null),O=dn.useRef(),L=dn.useRef(),k=function(de){de!=null&&O.current&&O.current(de)},A=n.ctrl,$=dn.useCallback(function(de){if(E.current=de,!!E.current){L.current=new ZVe.AgPromise(function(ge){O.current=ge});var Ce={addOrRemoveCssClass:function(ge,He){return a(function(dt){return dt.setClass(ge,He)})},addOrRemoveBodyCssClass:function(ge,He){return u(function(dt){return dt.setClass(ge,He)})},setButtonWrapperDisplayed:function(ge){f(function(He){return He.setClass("ag-hidden",!ge)}),m(ge?"false":"true")},setWidth:function(ge){E.current&&(E.current.style.width=ge)},setCompDetails:function(ge){return y(ge)},getFloatingFilterComp:function(){return L.current?L.current:null},setMenuIcon:function(ge){var He;return(He=T.current)===null||He===void 0?void 0:He.appendChild(ge)}};A.setComp(Ce,E.current,T.current,D.current)}},[]);dn.useLayoutEffect(function(){return QVe.showJsComp(g,t,D.current,k)},[g]);var G=dn.useMemo(function(){return i.toString()},[i]),K=dn.useMemo(function(){return l.toString()},[l]),V=dn.useMemo(function(){return d.toString()},[d]),Y=dn.useMemo(function(){var de=g&&g.componentFromFramework&&zF.isComponentStateless(g.componentClass);return!!de},[g]),Q=dn.useMemo(function(){return r.get("reactiveCustomComponents")},[]),X=dn.useMemo(function(){if(g)if(Q){var de=new JVe.FloatingFilterComponentProxy(g.params,function(){return b(function(Ce){return Ce+1})});return k(de),de}else g.componentFromFramework&&t2e.warnReactiveCustomComponents()},[g]),fe=X==null?void 0:X.getProps(),ne=g&&g.componentFromFramework,me=g&&g.componentClass;return dn.default.createElement("div",{ref:$,className:G,role:"gridcell"},dn.default.createElement("div",{ref:D,className:K,role:"presentation"},ne&&!Q&&dn.default.createElement(me,UF({},g.params,{ref:Y?function(){}:k})),ne&&Q&&dn.default.createElement(e2e.CustomContext.Provider,{value:{setMethods:function(de){return X.setMethods(de)}}},dn.default.createElement(me,UF({},fe)))),dn.default.createElement("div",{ref:S,"aria-hidden":h,className:V,role:"presentation"},dn.default.createElement("button",{ref:T,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))};yu.default=dn.memo(n2e)});var zie=$e(Cu=>{"use strict";var r2e=Cu&&Cu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),o2e=Cu&&Cu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),i2e=Cu&&Cu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&r2e(e,n,t);return o2e(e,n),e},NW=Cu&&Cu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cu,"__esModule",{value:!0});var Bie=io(),gs=i2e(z()),a2e=NW(Vie()),s2e=NW(Gie()),l2e=NW($ie()),Wie=ms(),u2e=function(n){var e=n.ctrl,t=gs.useMemo(function(){return e.getTopAndHeight()},[]),r=t.topOffset,o=t.rowHeight,i=e.getAriaRowIndex(),a=e.getHeaderRowClass(),s=gs.useState(function(){return o+"px"}),l=s[0],u=s[1],c=gs.useState(function(){return r+"px"}),d=c[0],f=c[1],p=gs.useState(function(){return e.getHeaderCtrls()}),h=p[0],m=p[1],v=gs.useRef(null),g=gs.useCallback(function(w){if(v.current=w,!!w){var b={setHeight:function(E){return u(E)},setTop:function(E){return f(E)},setHeaderCtrls:function(E,D,S){Wie.agFlushSync(S,function(){m(function(T){return Wie.getNextValueIfDifferent(T,E,D)})})},setWidth:function(E){v.current&&(v.current.style.width=E)}};e.setComp(b,!1)}},[]),y=gs.useMemo(function(){return{height:l,top:d}},[l,d]),C=gs.useCallback(function(w){switch(e.getType()){case Bie.HeaderRowType.COLUMN_GROUP:return gs.default.createElement(s2e.default,{ctrl:w,key:w.getInstanceId()});case Bie.HeaderRowType.FLOATING_FILTER:return gs.default.createElement(l2e.default,{ctrl:w,key:w.getInstanceId()});default:return gs.default.createElement(a2e.default,{ctrl:w,key:w.getInstanceId()})}},[]);return gs.default.createElement("div",{ref:g,className:a,role:"row",style:y,"aria-rowindex":i},h.map(C))};Cu.default=gs.memo(u2e)});var Uie=$e(wu=>{"use strict";var c2e=wu&&wu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),d2e=wu&&wu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),f2e=wu&&wu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&c2e(e,n,t);return d2e(e,n),e},p2e=wu&&wu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wu,"__esModule",{value:!0});var Ki=f2e(z()),h2e=Ei(),m2e=io(),g2e=p2e(zie()),v2e=function(n){var e=Ki.useState(!0),t=e[0],r=e[1],o=Ki.useState([]),i=o[0],a=o[1],s=Ki.useContext(h2e.BeansContext).context,l=Ki.useRef(null),u=Ki.useRef(null),c=Ki.useRef(null),d=n.pinned==="left",f=n.pinned==="right",p=!d&&!f,h=Ki.useCallback(function(g){if(l.current=g,!l.current){s.destroyBean(c.current),c.current=null;return}var y={setDisplayed:r,setCtrls:function(C){return a(C)},setCenterWidth:function(C){u.current&&(u.current.style.width=C)},setViewportScrollLeft:function(C){l.current&&(l.current.scrollLeft=C)},setPinnedContainerWidth:function(C){l.current&&(l.current.style.width=C,l.current.style.minWidth=C,l.current.style.maxWidth=C)}};c.current=s.createBean(new m2e.HeaderRowContainerCtrl(n.pinned)),c.current.setComp(y,l.current)},[]),m=t?"":"ag-hidden",v=function(){return i.map(function(g){return Ki.default.createElement(g2e.default,{ctrl:g,key:g.getInstanceId()})})};return Ki.default.createElement(Ki.default.Fragment,null,d&&Ki.default.createElement("div",{ref:h,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},v()),f&&Ki.default.createElement("div",{ref:h,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},v()),p&&Ki.default.createElement("div",{ref:h,className:"ag-header-viewport "+m,role:"presentation"},Ki.default.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},v())))};wu.default=Ki.memo(v2e)});var jie=$e(Su=>{"use strict";var y2e=Su&&Su.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),C2e=Su&&Su.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),w2e=Su&&Su.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&y2e(e,n,t);return C2e(e,n),e},S2e=Su&&Su.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Su,"__esModule",{value:!0});var vs=w2e(z()),b2e=Ei(),_2e=io(),E2e=ms(),kW=S2e(Uie()),x2e=function(){var n=vs.useState(function(){return new E2e.CssClasses}),e=n[0],t=n[1],r=vs.useState(),o=r[0],i=r[1],a=vs.useContext(b2e.BeansContext).context,s=vs.useRef(null),l=vs.useRef(null),u=vs.useCallback(function(f){if(s.current=f,!f){a.destroyBean(l.current),l.current=null;return}var p={addOrRemoveCssClass:function(h,m){return t(function(v){return v.setClass(h,m)})},setHeightAndMinHeight:function(h){return i(h)}};l.current=a.createBean(new _2e.GridHeaderCtrl),l.current.setComp(p,s.current,s.current)},[]),c=vs.useMemo(function(){var f=e.toString();return"ag-header "+f},[e]),d=vs.useMemo(function(){return{height:o,minHeight:o}},[o]);return vs.default.createElement("div",{ref:u,className:c,style:d,role:"presentation"},vs.default.createElement(kW.default,{pinned:"left"}),vs.default.createElement(kW.default,{pinned:null}),vs.default.createElement(kW.default,{pinned:"right"}))};Su.default=vs.memo(x2e)});var jF=$e(VW=>{"use strict";Object.defineProperty(VW,"__esModule",{value:!0});var D2e=z(),R2e=function(n,e){D2e.useEffect(function(){var t=e.current;if(t){var r=t.parentElement;if(r){var o=document.createComment(n);return r.insertBefore(o,t),function(){r.removeChild(o)}}}},[n])};VW.default=R2e});var Kie=$e(KF=>{"use strict";Object.defineProperty(KF,"__esModule",{value:!0});KF.useEffectOnce=void 0;var KC=z(),T2e=function(n){var e=KC.useRef(n),t=KC.useRef(),r=KC.useRef(!1),o=KC.useRef(!1),i=KC.useState(0),a=i[1];r.current&&(o.current=!0),KC.useEffect(function(){return r.current||(t.current=e.current(),r.current=!0),a(function(s){return s+1}),function(){o.current&&t.current&&t.current()}},[])};KF.useEffectOnce=T2e});var qie=$e(cf=>{"use strict";var P2e=cf&&cf.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),O2e=cf&&cf.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),I2e=cf&&cf.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&P2e(e,n,t);return O2e(e,n),e};Object.defineProperty(cf,"__esModule",{value:!0});var F2e=io(),AE=I2e(z()),L2e=ka(),M2e=Ei(),A2e=Kie(),N2e=function(n){var e=AE.useState(),t=e[0],r=e[1],o=AE.useContext(M2e.BeansContext),i=o.context,a=o.popupService,s=o.localeService,l=o.gridOptionsService;return A2e.useEffectOnce(function(){var u=n.editDetails,c=n.cellCtrl,d=n.eParentCell,f=u.compDetails,p=l.get("stopEditingWhenCellsLoseFocus"),h=i.createBean(new F2e.PopupEditorWrapper(f.params)),m=h.getGui();if(n.jsChildComp){var v=n.jsChildComp.getGui();v&&m.appendChild(v)}var g={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:m,position:u.popupPosition,keepWithinBounds:!0},y=a.positionPopupByComponent.bind(a,g),C=s.getLocaleTextFunc(),w=a.addPopup({modal:p,eChild:m,closeOnEsc:!0,closedCallback:function(){c.onPopupEditorClosed()},anchorToElement:d,positionCallback:y,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),b=w?w.hideFunc:void 0;return r(h),n.jsChildComp&&n.jsChildComp.afterGuiAttached&&n.jsChildComp.afterGuiAttached(),function(){b!=null&&b(),i.destroyBean(h)}}),AE.default.createElement(AE.default.Fragment,null,t&&n.wrappedContent&&L2e.createPortal(n.wrappedContent,t.getGui()))};cf.default=AE.memo(N2e)});var Yie=$e(GW=>{"use strict";Object.defineProperty(GW,"__esModule",{value:!0});var qF=z(),k2e=Ei(),V2e=function(n,e,t,r,o,i){var a=qF.useContext(k2e.BeansContext).context,s=qF.useCallback(function(){var l=o.current;if(l){var u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),a.destroyBean(l),o.current=void 0}},[]);qF.useEffect(function(){var l=n!=null,u=n&&n.compDetails&&!n.compDetails.componentFromFramework,c=e&&t==null,d=l&&u&&!c;if(!d){s();return}var f=n.compDetails;if(o.current){var p=o.current,h=p.refresh!=null&&n.force==!1,m=h?p.refresh(f.params):!1,v=m===!0||m===void 0;if(v)return;s()}var g=f.newAgStackInstance();if(g){var y=g.resolveNow(null,function(b){return b});if(y){var C=y.getGui();if(C){var w=e?t:i.current;w.appendChild(C),o.current=y}}}},[n,e,r]),qF.useEffect(function(){return s},[])};GW.default=V2e});var Xie=$e(qC=>{"use strict";var YF=qC&&qC.__assign||function(){return YF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},YF.apply(this,arguments)};Object.defineProperty(qC,"__esModule",{value:!0});qC.CellEditorComponentProxy=void 0;var G2e=io(),H2e=hu(),$2e=function(){function n(e,t){var r=this;this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new G2e.AgPromise(function(o){r.resolveInstanceCreated=o}),this.onValueChange=function(o){return r.updateValue(o)},this.value=e.value}return n.prototype.getProps=function(){return YF(YF({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})},n.prototype.getValue=function(){return this.value},n.prototype.refresh=function(e){this.cellEditorParams=e,this.refreshProps()},n.prototype.setMethods=function(e){H2e.addOptionalMethods(this.getOptionalMethods(),e,this)},n.prototype.getInstance=function(){var e=this;return this.instanceCreated.then(function(){return e.componentInstance})},n.prototype.setRef=function(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)===null||t===void 0||t.call(this),this.resolveInstanceCreated=void 0},n.prototype.getOptionalMethods=function(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},n.prototype.updateValue=function(e){this.value=e,this.refreshProps()},n}();qC.CellEditorComponentProxy=$2e});var tae=$e(xi=>{"use strict";var Ng=xi&&xi.__assign||function(){return Ng=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ng.apply(this,arguments)},B2e=xi&&xi.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),W2e=xi&&xi.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),z2e=xi&&xi.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&B2e(e,n,t);return W2e(e,n),e},Jie=xi&&xi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xi,"__esModule",{value:!0});xi.CellCompState=void 0;var XF=io(),qe=z2e(z()),eae=ms(),Zie=Jie(qie()),U2e=Jie(Yie()),j2e=Ei(),K2e=Ag(),q2e=Xie(),Y2e=SE(),X2e=ME(),Z2e;(function(n){n[n.ShowValue=0]="ShowValue",n[n.EditValue=1]="EditValue"})(Z2e=xi.CellCompState||(xi.CellCompState={}));var Q2e=function(n,e,t){var r=t.getColumn();if(!n&&e.isPopup&&e.isPopup()){var o="AG Grid: Found an issue in column "+r.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";XF._.doOnce(function(){},"jsEditorComp-isPopup-"+t.getColumn().getColId())}if(n&&e.getPopupPosition&&e.getPopupPosition()!=null){var i="AG Grid: Found an issue in column "+r.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";XF._.doOnce(function(){},"jsEditorComp-getPopupPosition-"+t.getColumn().getColId())}},J2e=function(n,e,t){var r=n.compProxy;t(r);var o=r.getProps(),i=eae.isComponentStateless(e);return qe.default.createElement(Y2e.CustomContext.Provider,{value:{setMethods:function(a){return r.setMethods(a)}}},i&&qe.default.createElement(e,Ng({},o)),!i&&qe.default.createElement(e,Ng({},o,{ref:function(a){return r.setRef(a)}})))},Qie=function(n,e,t){var r=n.compProxy;return qe.default.createElement(qe.default.Fragment,null,!r&&qe.default.createElement(e,Ng({},n.compDetails.params,{ref:t})),r&&J2e(n,e,t))},eGe=function(n,e,t,r,o,i){var a=n.compDetails,s=a.componentClass,l=a.componentFromFramework&&!n.popup,u=a.componentFromFramework&&n.popup,c=!a.componentFromFramework&&n.popup;return qe.default.createElement(qe.default.Fragment,null,l&&Qie(n,s,e),u&&qe.default.createElement(Zie.default,{editDetails:n,cellCtrl:o,eParentCell:r,wrappedContent:Qie(n,s,t)}),c&&i&&qe.default.createElement(Zie.default,{editDetails:n,cellCtrl:o,eParentCell:r,jsChildComp:i}))},tGe=function(n,e,t,r,o,i,a){var s=n.compDetails,l=n.value,u=!s,c=s&&s.componentFromFramework,d=s&&s.componentClass,f=l!=null&&l.toString?l.toString():l,p=function(){return qe.default.createElement(qe.default.Fragment,null,u&&qe.default.createElement(qe.default.Fragment,null,f),c&&!i&&qe.default.createElement(d,Ng({},s.params,{key:e,ref:r})),c&&i&&qe.default.createElement(d,Ng({},s.params,{key:e})))};return qe.default.createElement(qe.default.Fragment,null,o?qe.default.createElement("span",{role:"presentation",id:"cell-"+t,className:"ag-cell-value",ref:a},p()):p())},nGe=function(n){var e=qe.useContext(j2e.BeansContext).context,t=n.cellCtrl,r=n.printLayout,o=n.editingRow,i=t.getTabIndex(),a=t.getColumnIdSanitised(),s=t.getInstanceId(),l=qe.useState(function(){return t.isCellRenderer()?void 0:{compDetails:void 0,value:t.getValueToDisplay(),force:!1}}),u=l[0],c=l[1],d=qe.useState(),f=d[0],p=d[1],h=qe.useState(1),m=h[0],v=h[1],g=qe.useState(),y=g[0],C=g[1],w=qe.useState(!1),b=w[0],E=w[1],D=qe.useState(!1),S=D[0],T=D[1],O=qe.useState(!1),L=O[0],k=O[1],A=qe.useState(),$=A[0],G=A[1],K=qe.useMemo(function(){return t.isForceWrapper()},[t]),V=qe.useMemo(function(){return t.getCellAriaRole()},[t]),Y=qe.useRef(null),Q=qe.useRef(null),X=qe.useRef(),fe=qe.useRef(),ne=qe.useRef(),me=qe.useRef([]),de=qe.useRef(),Ce=qe.useState(0),ge=Ce[0],He=Ce[1],dt=qe.useCallback(function(Xe){de.current=Xe,He(function(at){return at+1})},[]),ot=u!=null&&(b||L||S),ke=K||ot,it=qe.useCallback(function(Xe,at){if(fe.current=at,at){Q2e(Xe,at,t);var Bt=at.isCancelBeforeStart&&at.isCancelBeforeStart();Bt&&setTimeout(function(){t.stopEditing(!0),t.focusCell(!0)})}},[t]),De=qe.useCallback(function(Xe){return it(!0,Xe)},[it]),Ye=qe.useCallback(function(Xe){return it(!1,Xe)},[it]),je=qe.useRef();je.current||(je.current=new XF.CssClassManager(function(){return Y.current})),U2e.default(u,ke,de.current,ge,X,Y);var Pe=qe.useRef();qe.useLayoutEffect(function(){var Xe=Pe.current,at=u;if(Pe.current=u,!(Xe==null||Xe.compDetails==null||at==null||at.compDetails==null)){var Bt=Xe.compDetails,We=at.compDetails;if(Bt.componentClass==We.componentClass&&!(Q.current==null||Q.current.refresh==null)){var ft=Q.current.refresh(We.params);ft!=!0&&v(function(St){return St+1})}}},[u]),qe.useLayoutEffect(function(){var Xe=f&&!f.compDetails.componentFromFramework;if(Xe){var at=f.compDetails,Bt=f.popup===!0,We=K2e.createSyncJsComp(at);if(We){var ft=We.getGui();if(it(Bt,We),!Bt){var St=(K?ne:Y).current;St==null||St.appendChild(ft),We.afterGuiAttached&&We.afterGuiAttached()}return G(We),function(){e.destroyBean(We),it(Bt,void 0),G(void 0),ft&&ft.parentElement&&ft.parentElement.removeChild(ft)}}}},[f]);var wt=qe.useCallback(function(Xe){if(ne.current=Xe,!ne.current){me.current.forEach(function(We){return We()}),me.current=[];return}var at=function(We){var ft;if(We){var St=We.getGui();(ft=ne.current)===null||ft===void 0||ft.insertAdjacentElement("afterbegin",St),me.current.push(function(){e.destroyBean(We),XF._.removeFromParent(St)})}return We};if(b){var Bt=t.createSelectionCheckbox();at(Bt)}L&&at(t.createDndSource()),S&&at(t.createRowDragComp())},[t,e,L,S,b]),On=qe.useCallback(function(Xe){if(Y.current=Xe,!!Y.current&&t){var at={addOrRemoveCssClass:function(We,ft){return je.current.addOrRemoveCssClass(We,ft)},setUserStyles:function(We){return C(We)},getFocusableElement:function(){return Y.current},setIncludeSelection:function(We){return E(We)},setIncludeRowDrag:function(We){return T(We)},setIncludeDndSource:function(We){return k(We)},getCellEditor:function(){return fe.current||null},getCellRenderer:function(){return Q.current?Q.current:X.current},getParentOfValue:function(){return de.current?de.current:ne.current?ne.current:Y.current},setRenderDetails:function(We,ft,St){c(function(bt){return(bt==null?void 0:bt.compDetails)!==We||(bt==null?void 0:bt.value)!==ft||(bt==null?void 0:bt.force)!==St?{value:ft,compDetails:We,force:St}:bt})},setEditDetails:function(We,ft,St,bt){if(We){var Yt=void 0;bt?Yt=new q2e.CellEditorComponentProxy(We.params,function(){return v(function(Xt){return Xt+1})}):We.componentFromFramework&&X2e.warnReactiveCustomComponents(),p({compDetails:We,popup:ft,popupPosition:St,compProxy:Yt}),ft||c(void 0)}else p(function(Xt){Xt!=null&&Xt.compProxy&&(fe.current=void 0)})}},Bt=ne.current||void 0;t.setComp(at,Y.current,Bt,r,o)}},[]),Ve=qe.useMemo(function(){var Xe=u&&u.compDetails&&u.compDetails.componentFromFramework&&eae.isComponentStateless(u.compDetails.componentClass);return!!Xe},[u]);qe.useLayoutEffect(function(){var Xe;Y.current&&(je.current.addOrRemoveCssClass("ag-cell-value",!ke),je.current.addOrRemoveCssClass("ag-cell-inline-editing",!!f&&!f.popup),je.current.addOrRemoveCssClass("ag-cell-popup-editing",!!f&&!!f.popup),je.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!f||!!f.popup),(Xe=t.getRowCtrl())===null||Xe===void 0||Xe.setInlineEditingCss(!!f),t.shouldRestoreFocus()&&!t.isEditing()&&Y.current.focus({preventScroll:!0}))});var $n=function(){return qe.default.createElement(qe.default.Fragment,null,u!=null&&tGe(u,m,s,Q,ke,Ve,dt),f!=null&&eGe(f,Ye,De,Y.current,t,$))};return qe.default.createElement("div",{ref:On,style:y,tabIndex:i,role:V,"col-id":a},ke?qe.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:wt},$n()):$n())};xi.default=qe.memo(nGe)});var nae=$e(ys=>{"use strict";var YC=ys&&ys.__assign||function(){return YC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},YC.apply(this,arguments)},rGe=ys&&ys.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),oGe=ys&&ys.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),iGe=ys&&ys.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&rGe(e,n,t);return oGe(e,n),e},aGe=ys&&ys.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ys,"__esModule",{value:!0});var fn=iGe(z()),sGe=io(),lGe=Ag(),HW=ms(),uGe=Ei(),cGe=aGe(tae()),dGe=function(n){var e=fn.useContext(uGe.BeansContext),t=e.context,r=e.gridOptionsService,o=n.rowCtrl,i=n.containerType,a=o.getTabIndex(),s=fn.useRef(o.getDomOrder()),l=o.isFullWidth(),u=o.getRowNode().displayed,c=fn.useState(function(){return u?o.getRowIndex():null}),d=c[0],f=c[1],p=fn.useState(function(){return o.getRowId()}),h=p[0],m=p[1],v=fn.useState(function(){return o.getBusinessKey()}),g=v[0],y=v[1],C=fn.useState(function(){return o.getRowStyles()}),w=C[0],b=C[1],E=fn.useState(function(){return null}),D=E[0],S=E[1],T=fn.useState(),O=T[0],L=T[1],k=fn.useState(function(){return u?o.getInitialRowTop(i):void 0}),A=k[0],$=k[1],G=fn.useState(function(){return u?o.getInitialTransform(i):void 0}),K=G[0],V=G[1],Y=fn.useRef(null),Q=fn.useRef(),X=fn.useRef(!1),fe=fn.useState(0),ne=fe[0],me=fe[1];fn.useEffect(function(){var Ye;if(!X.current&&O&&!(ne>10)){var je=(Ye=Y.current)===null||Ye===void 0?void 0:Ye.firstChild;je?(o.setupDetailRowAutoHeight(je),X.current=!0):me(function(Pe){return Pe+1})}},[O,ne]);var de=fn.useRef();de.current||(de.current=new sGe.CssClassManager(function(){return Y.current}));var Ce=fn.useCallback(function(Ye){if(Y.current=Ye,!Y.current){o.unsetComp(i);return}if(o.isAlive()){var je={setTop:$,setTransform:V,addOrRemoveCssClass:function(Pe,wt){return de.current.addOrRemoveCssClass(Pe,wt)},setDomOrder:function(Pe){return s.current=Pe},setRowIndex:f,setRowId:m,setRowBusinessKey:y,setUserStyles:b,setCellCtrls:function(Pe,wt){HW.agFlushSync(wt,function(){S(function(On){return HW.getNextValueIfDifferent(On,Pe,s.current)})})},showFullWidth:function(Pe){return L(Pe)},getFullWidthCellRenderer:function(){return Q.current},refreshFullWidth:function(Pe){return ke.current?(L(function(wt){return YC(YC({},wt),{params:Pe()})}),!0):!Q.current||!Q.current.refresh?!1:Q.current.refresh(Pe())}};o.setComp(je,Y.current,i)}},[]);fn.useLayoutEffect(function(){return lGe.showJsComp(O,t,Y.current,Q)},[O]);var ge=fn.useMemo(function(){var Ye={top:A,transform:K};return Object.assign(Ye,w),Ye},[A,K,w]),He=l&&O&&O.componentFromFramework,dt=!l&&D!=null,ot=fn.useMemo(function(){var Ye=(O==null?void 0:O.componentFromFramework)&&HW.isComponentStateless(O.componentClass);return!!Ye},[O]),ke=fn.useRef(!1);fn.useEffect(function(){ke.current=ot&&!!O&&!!r.get("reactiveCustomComponents")},[ot,O]);var it=function(){return D==null?void 0:D.map(function(Ye){return fn.default.createElement(cGe.default,{cellCtrl:Ye,editingRow:o.isEditing(),printLayout:o.isPrintLayout(),key:Ye.getInstanceId()})})},De=function(){var Ye=O.componentClass;return fn.default.createElement(fn.default.Fragment,null,ot&&fn.default.createElement(Ye,YC({},O.params)),!ot&&fn.default.createElement(Ye,YC({},O.params,{ref:Q})))};return fn.default.createElement("div",{ref:Ce,role:"row",style:ge,"row-index":d,"row-id":h,"row-business-key":g,tabIndex:a},dt&&it(),He&&De())};ys.default=fn.memo(dGe)});var oae=$e(bu=>{"use strict";var fGe=bu&&bu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),pGe=bu&&bu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),hGe=bu&&bu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&fGe(e,n,t);return pGe(e,n),e},rae=bu&&bu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bu,"__esModule",{value:!0});var kg=io(),Or=hGe(z()),ZF=ms(),mGe=rae(jF()),gGe=rae(nae()),vGe=Ei(),yGe=function(n){var e=Or.useContext(vGe.BeansContext).context,t=n.name,r=Or.useMemo(function(){return kg.getRowContainerTypeForName(t)},[t]),o=Or.useRef(null),i=Or.useRef(null),a=Or.useRef([]),s=Or.useState(function(){return[]}),l=s[0],u=s[1],c=Or.useRef(!1),d=Or.useRef(),f=Or.useMemo(function(){return kg.RowContainerCtrl.getRowContainerCssClasses(t)},[t]),p=Or.useMemo(function(){return ZF.classesList(f.viewport)},[f]),h=Or.useMemo(function(){return ZF.classesList(f.container)},[f]),m=t===kg.RowContainerName.CENTER||t===kg.RowContainerName.TOP_CENTER||t===kg.RowContainerName.BOTTOM_CENTER||t===kg.RowContainerName.STICKY_TOP_CENTER,v=m?o:i;mGe.default(" AG Row Container "+t+" ",v);var g=Or.useCallback(function(){return m?o.current!=null&&i.current!=null:i.current!=null},[]),y=Or.useCallback(function(){return m?o.current==null&&i.current==null:i.current==null},[]),C=Or.useCallback(function(){if(y()&&(e.destroyBean(d.current),d.current=null),g()){var D=function(T){ZF.agFlushSync(T,function(){u(function(O){return ZF.getNextValueIfDifferent(O,a.current,c.current)})})},S={setViewportHeight:function(T){o.current&&(o.current.style.height=T)},setRowCtrls:function(T){var O=T.rowCtrls,L=T.useFlushSync,k=!!L&&a.current.length>0&&O.length>0;a.current=O,D(k)},setDomOrder:function(T){c.current!=T&&(c.current=T,D(!1))},setContainerWidth:function(T){i.current&&(i.current.style.width=T)}};d.current=e.createBean(new kg.RowContainerCtrl(t)),d.current.setComp(S,i.current,o.current)}},[g,y]),w=Or.useCallback(function(D){i.current=D,C()},[C]),b=Or.useCallback(function(D){o.current=D,C()},[C]),E=function(){return Or.default.createElement("div",{className:h,ref:w,role:"rowgroup"},l.map(function(D){return Or.default.createElement(gGe.default,{rowCtrl:D,containerType:r,key:D.getInstanceId()})}))};return Or.default.createElement(Or.default.Fragment,null,m?Or.default.createElement("div",{className:p,ref:b,role:"presentation"},E()):E())};bu.default=Or.memo(yGe)});var iae=$e(_u=>{"use strict";var CGe=_u&&_u.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),wGe=_u&&_u.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),SGe=_u&&_u.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&CGe(e,n,t);return wGe(e,n),e},$W=_u&&_u.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_u,"__esModule",{value:!0});var so=io(),Rt=SGe(z()),bGe=Ei(),_Ge=$W(jie()),NE=$W(jF()),EGe=$W(oae()),XC=ms(),xGe=function(){var n=Rt.useContext(bGe.BeansContext),e=n.context,t=n.agStackComponentsRegistry,r=n.resizeObserverService,o=Rt.useState(""),i=o[0],a=o[1],s=Rt.useState(0),l=s[0],u=s[1],c=Rt.useState(0),d=c[0],f=c[1],p=Rt.useState("0px"),h=p[0],m=p[1],v=Rt.useState("0px"),g=v[0],y=v[1],C=Rt.useState("100%"),w=C[0],b=C[1],E=Rt.useState(""),D=E[0],S=E[1],T=Rt.useState(""),O=T[0],L=T[1],k=Rt.useState(null),A=k[0],$=k[1],G=Rt.useState(""),K=G[0],V=G[1],Y=Rt.useState(null),Q=Y[0],X=Y[1],fe=Rt.useState("ag-layout-normal"),ne=fe[0],me=fe[1],de=Rt.useRef();de.current||(de.current=new so.CssClassManager(function(){return Ce.current}));var Ce=Rt.useRef(null),ge=Rt.useRef(null),He=Rt.useRef(null),dt=Rt.useRef(null),ot=Rt.useRef(null),ke=Rt.useRef(null),it=Rt.useRef([]),De=Rt.useRef([]);NE.default(" AG Grid Body ",Ce),NE.default(" AG Pinned Top ",ge),NE.default(" AG Sticky Top ",He),NE.default(" AG Middle ",ot),NE.default(" AG Pinned Bottom ",ke);var Ye=Rt.useCallback(function(St){if(Ce.current=St,!Ce.current){e.destroyBeans(it.current),De.current.forEach(function(pn){return pn()}),it.current=[],De.current=[];return}if(e){var bt=function(pn){var bn=t.getComponentClass(pn),Nu=e.createBean(new bn);return it.current.push(Nu),Nu},Yt=function(pn,bn){pn.appendChild(bn),De.current.push(function(){return pn.removeChild(bn)})};Yt(Ce.current,document.createComment(" AG Fake Horizontal Scroll ")),Yt(Ce.current,bt("AG-FAKE-HORIZONTAL-SCROLL").getGui()),Yt(Ce.current,document.createComment(" AG Overlay Wrapper ")),Yt(Ce.current,bt("AG-OVERLAY-WRAPPER").getGui()),dt.current&&(Yt(dt.current,document.createComment(" AG Fake Vertical Scroll ")),Yt(dt.current,bt("AG-FAKE-VERTICAL-SCROLL").getGui()));var Xt={setRowAnimationCssOnBodyViewport:a,setColumnCount:function(pn){Ce.current&&so._.setAriaColCount(Ce.current,pn)},setRowCount:function(pn){Ce.current&&so._.setAriaRowCount(Ce.current,pn)},setTopHeight:u,setBottomHeight:f,setStickyTopHeight:m,setStickyTopTop:y,setStickyTopWidth:b,setTopDisplay:S,setBottomDisplay:L,setColumnMovingCss:function(pn,bn){return de.current.addOrRemoveCssClass(pn,bn)},updateLayoutClasses:me,setAlwaysVerticalScrollClass:$,setPinnedTopBottomOverflowY:V,setCellSelectableCss:function(pn,bn){return X(bn?pn:null)},setBodyViewportWidth:function(pn){ot.current&&(ot.current.style.width=pn)},registerBodyViewportResizeListener:function(pn){if(ot.current){var bn=r.observeResize(ot.current,pn);De.current.push(function(){return bn()})}}},In=e.createBean(new so.GridBodyCtrl);it.current.push(In),In.setComp(Xt,Ce.current,ot.current,ge.current,ke.current,He.current)}},[]),je=Rt.useMemo(function(){return XC.classesList("ag-root","ag-unselectable",ne)},[ne]),Pe=Rt.useMemo(function(){return XC.classesList("ag-body-viewport",i,ne,A,Q)},[i,ne,A,Q]),wt=Rt.useMemo(function(){return XC.classesList("ag-body",ne)},[ne]),On=Rt.useMemo(function(){return XC.classesList("ag-floating-top",Q)},[Q]),Ve=Rt.useMemo(function(){return XC.classesList("ag-sticky-top",Q)},[Q]),$n=Rt.useMemo(function(){return XC.classesList("ag-floating-bottom",Q)},[Q]),Xe=Rt.useMemo(function(){return{height:l,minHeight:l,display:D,overflowY:K}},[l,D,K]),at=Rt.useMemo(function(){return{height:h,top:g,width:w}},[h,g,w]),Bt=Rt.useMemo(function(){return{height:d,minHeight:d,display:O,overflowY:K}},[d,O,K]),We=function(St){return Rt.default.createElement(EGe.default,{name:St,key:St+"-container"})},ft=function(St){var bt=St.section,Yt=St.children,Xt=St.className,In=St.style;return Rt.default.createElement("div",{ref:bt,className:Xt,role:"presentation",style:In},Yt.map(We))};return Rt.default.createElement("div",{ref:Ye,className:je,role:"treegrid"},Rt.default.createElement(_Ge.default,null),ft({section:ge,className:On,style:Xe,children:[so.RowContainerName.TOP_LEFT,so.RowContainerName.TOP_CENTER,so.RowContainerName.TOP_RIGHT,so.RowContainerName.TOP_FULL_WIDTH]}),Rt.default.createElement("div",{className:wt,ref:dt,role:"presentation"},ft({section:ot,className:Pe,children:[so.RowContainerName.LEFT,so.RowContainerName.CENTER,so.RowContainerName.RIGHT,so.RowContainerName.FULL_WIDTH]})),ft({section:He,className:Ve,style:at,children:[so.RowContainerName.STICKY_TOP_LEFT,so.RowContainerName.STICKY_TOP_CENTER,so.RowContainerName.STICKY_TOP_RIGHT,so.RowContainerName.STICKY_TOP_FULL_WIDTH]}),ft({section:ke,className:$n,style:Bt,children:[so.RowContainerName.BOTTOM_LEFT,so.RowContainerName.BOTTOM_CENTER,so.RowContainerName.BOTTOM_RIGHT,so.RowContainerName.BOTTOM_FULL_WIDTH]}))};_u.default=Rt.memo(xGe)});var aae=$e(df=>{"use strict";var DGe=df&&df.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),RGe=df&&df.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),TGe=df&&df.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&DGe(e,n,t);return RGe(e,n),e};Object.defineProperty(df,"__esModule",{value:!0});var Cs=TGe(z()),QF=io(),PGe=Ei(),OGe=function(n,e){var t=n.children,r=n.eFocusableElement,o=n.onTabKeyDown,i=n.gridCtrl,a=n.forceFocusOutWhenTabGuardsAreEmpty,s=Cs.useContext(PGe.BeansContext).context,l=Cs.useRef(null),u=Cs.useRef(null),c=Cs.useRef(),d=function(v){var g=v==null?void 0:parseInt(v,10).toString();[l,u].forEach(function(y){var C,w;g===void 0?(C=y.current)===null||C===void 0||C.removeAttribute("tabindex"):(w=y.current)===null||w===void 0||w.setAttribute("tabindex",g)})};Cs.useImperativeHandle(e,function(){return{forceFocusOutOfContainer:function(v){var g;(g=c.current)===null||g===void 0||g.forceFocusOutOfContainer(v)}}});var f=Cs.useCallback(function(){if(!l.current&&!u.current){s.destroyBean(c.current),c.current=null;return}if(l.current&&u.current){var v={setTabIndex:d};c.current=s.createBean(new QF.TabGuardCtrl({comp:v,eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:r,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:function(g){return i.focusInnerElement(g)}}))}},[]),p=Cs.useCallback(function(v){l.current=v,f()},[f]),h=Cs.useCallback(function(v){u.current=v,f()},[f]),m=function(v){var g=v==="top"?QF.TabGuardClassNames.TAB_GUARD_TOP:QF.TabGuardClassNames.TAB_GUARD_BOTTOM;return Cs.default.createElement("div",{className:QF.TabGuardClassNames.TAB_GUARD+" "+g,role:"presentation",ref:v==="top"?p:h})};return Cs.default.createElement(Cs.default.Fragment,null,m("top"),t,m("bottom"))},IGe=Cs.forwardRef(OGe);df.default=Cs.memo(IGe)});var lae=$e(Eu=>{"use strict";var FGe=Eu&&Eu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),LGe=Eu&&Eu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),MGe=Eu&&Eu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&FGe(e,n,t);return LGe(e,n),e},BW=Eu&&Eu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Eu,"__esModule",{value:!0});var AGe=io(),Gn=MGe(z()),NGe=Ei(),kGe=BW(iae()),VGe=BW(jF()),GGe=BW(aae()),sae=ms(),HGe=function(n){var e=n.context,t=Gn.useState(""),r=t[0],o=t[1],i=Gn.useState(""),a=i[0],s=i[1],l=Gn.useState(""),u=l[0],c=l[1],d=Gn.useState(null),f=d[0],p=d[1],h=Gn.useState(null),m=h[0],v=h[1],g=Gn.useState(!1),y=g[0],C=g[1],w=Gn.useState(),b=w[0],E=w[1],D=Gn.useRef(null),S=Gn.useRef(null),T=Gn.useRef(),O=Gn.useState(null),L=O[0],k=O[1],A=Gn.useRef(function(){}),$=Gn.useCallback(function(){},[]),G=Gn.useMemo(function(){return e.isDestroyed()?null:e.getBean("beans")},[e]);VGe.default(" AG Grid ",S);var K=Gn.useCallback(function(fe){if(S.current=fe,!S.current){e.destroyBean(D.current),D.current=null;return}if(!e.isDestroyed()){D.current=e.createBean(new AGe.GridCtrl);var ne=D.current;A.current=ne.focusInnerElement.bind(ne);var me={destroyGridUi:function(){},setRtlClass:o,forceFocusOutOfContainer:function(de){var Ce;(Ce=T.current)===null||Ce===void 0||Ce.forceFocusOutOfContainer(de)},updateLayoutClasses:c,getFocusableContainers:function(){var de,Ce,ge=[],He=(de=S.current)===null||de===void 0?void 0:de.querySelector(".ag-root"),dt=(Ce=S.current)===null||Ce===void 0?void 0:Ce.querySelector(".ag-side-bar:not(.ag-hidden)");return He&&ge.push(He),dt&&ge.push(dt),ge},setCursor:p,setUserSelect:v};ne.setComp(me,S.current,S.current),C(!0)}},[]);Gn.useEffect(function(){if(!(!b||!G||!D.current||!L||!S.current)){var fe=D.current,ne=[],me=G.agStackComponentsRegistry,de=me.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),Ce=me.getComponentClass("AG-SIDE-BAR"),ge=me.getComponentClass("AG-STATUS-BAR"),He=me.getComponentClass("AG-WATERMARK"),dt=me.getComponentClass("AG-PAGINATION"),ot=[],ke=S.current;if(fe.showDropZones()&&de){var it=e.createBean(new de),De=it.getGui();ke.insertAdjacentElement("afterbegin",De),ot.push(De),ne.push(it)}if(fe.showSideBar()&&Ce){var Ye=e.createBean(new Ce),De=Ye.getGui(),je=L.querySelector(".ag-tab-guard-bottom");je&&(je.insertAdjacentElement("beforebegin",De),ot.push(De)),ne.push(Ye)}if(fe.showStatusBar()&&ge){var Pe=e.createBean(new ge),De=Pe.getGui();ke.insertAdjacentElement("beforeend",De),ot.push(De),ne.push(Pe)}if(dt){var wt=e.createBean(new dt),De=wt.getGui();ke.insertAdjacentElement("beforeend",De),ot.push(De),ne.push(wt)}if(fe.showWatermark()&&He){var On=e.createBean(new He),De=On.getGui();ke.insertAdjacentElement("beforeend",De),ot.push(De),ne.push(On)}return function(){e.destroyBeans(ne),ot.forEach(function(Ve){Ve.parentElement&&Ve.parentElement.removeChild(Ve)})}}},[b,L,G]);var V=Gn.useMemo(function(){return sae.classesList("ag-root-wrapper",r,a,u)},[r,a,u]),Y=Gn.useMemo(function(){return sae.classesList("ag-root-wrapper-body","ag-focus-managed",u)},[u]),Q=Gn.useMemo(function(){return{userSelect:m!=null?m:"",WebkitUserSelect:m!=null?m:"",cursor:f!=null?f:""}},[m,f]),X=Gn.useCallback(function(fe){T.current=fe,E(fe!==null)},[]);return Gn.default.createElement("div",{ref:K,className:V,style:Q,role:"presentation"},Gn.default.createElement("div",{className:Y,ref:k,role:"presentation"},y&&L&&G&&Gn.default.createElement(NGe.BeansContext.Provider,{value:G},Gn.default.createElement(GGe.default,{ref:X,eFocusableElement:L,onTabKeyDown:$,gridCtrl:D.current,forceFocusOutWhenTabGuardsAreEmpty:!0},Gn.default.createElement(kGe.default,null)))))};Eu.default=Gn.memo(HGe)});var fae=$e(ii=>{"use strict";var cae=ii&&ii.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JF=ii&&ii.__assign||function(){return JF=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},JF.apply(this,arguments)},$Ge=ii&&ii.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),BGe=ii&&ii.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),WGe=ii&&ii.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&$Ge(e,n,t);return BGe(e,n),e},dae=ii&&ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ii,"__esModule",{value:!0});ii.AgGridReactUi=void 0;var Bc=io(),Kt=WGe(z()),zGe=bie(),UGe=_ie(),jGe=xie(),KGe=Die(),qGe=Rie(),YGe=Tie(),XGe=Pie(),ZGe=Oie(),QGe=PW(),JGe=Fie(),eHe=Ei(),WW=ms(),uae=dae(kie()),tHe=dae(lae()),nHe=ME(),rHe=function(n){var e,t,r=Kt.useRef(),o=Kt.useRef(null),i=Kt.useRef(null),a=Kt.useRef([]),s=Kt.useRef([]),l=Kt.useRef(n),u=Kt.useRef(!1),c=Kt.useState(void 0),d=c[0],f=c[1],p=Kt.useState(0),h=p[1],m=Kt.useCallback(function(y){if(o.current=y,!o.current){a.current.forEach(function(T){return T()}),a.current.length=0;return}var C=n.modules||[];i.current||(i.current=new JGe.PortalManager(function(){return h(function(T){return T+1})},n.componentWrappingElement,n.maxComponentCreationTimeMs),a.current.push(function(){var T;(T=i.current)===null||T===void 0||T.destroy(),i.current=null}));var w=Bc.ComponentUtil.combineAttributesAndGridOptions(n.gridOptions,n),b={providedBeanInstances:{frameworkComponentWrapper:new iHe(i.current,!!w.reactiveCustomComponents)},modules:C,frameworkOverrides:new sHe},E=function(T){f(T),a.current.push(function(){T.destroy()});var O=T.getBean(Bc.CtrlsService.NAME);O.whenReady(function(){if(!T.isDestroyed()){var L=r.current;L&&n.setGridApi&&n.setGridApi(L,new Bc.ColumnApi(L))}})},D=function(T){var O=T.getBean(Bc.CtrlsService.NAME);O.whenReady(function(){s.current.forEach(function(L){return L()}),s.current.length=0,u.current=!0})},S=new Bc.GridCoreCreator;r.current=S.create(o.current,w,E,D,b)},[]),v=Kt.useMemo(function(){return JF({height:"100%"},n.containerStyle||{})},[n.containerStyle]),g=Kt.useCallback(function(y){u.current?y():s.current.push(y)},[]);return Kt.useEffect(function(){var y=oHe(l.current,n);l.current=n,g(function(){r.current&&Bc.ComponentUtil.processOnChange(y,r.current)})},[n]),Kt.default.createElement("div",{style:v,className:n.className,ref:m},d&&!d.isDestroyed()?Kt.default.createElement(tHe.default,{context:d}):null,(t=(e=i.current)===null||e===void 0?void 0:e.getPortals())!==null&&t!==void 0?t:null)};ii.AgGridReactUi=rHe;function oHe(n,e){var t={};return Object.keys(e).forEach(function(r){var o=e[r];n[r]!==o&&(t[r]=o)}),t}var iHe=function(n){cae(e,n);function e(t,r){var o=n.call(this)||this;return o.parent=t,o.reactiveCustomComponents=r,o}return e.prototype.createWrapper=function(t,r){if(this.reactiveCustomComponents){var o=function(s){switch(s){case"filter":return UGe.FilterComponentWrapper;case"floatingFilterComponent":return jGe.FloatingFilterComponentWrapper;case"dateComponent":return zGe.DateComponentWrapper;case"loadingOverlayComponent":return KGe.LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return YGe.NoRowsOverlayComponentWrapper;case"statusPanel":return XGe.StatusPanelComponentWrapper;case"toolPanel":return ZGe.ToolPanelComponentWrapper;case"menuItem":return qGe.MenuItemComponentWrapper}},i=o(r.propertyName);if(i)return new i(t,this.parent,r)}else switch(r.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":nHe.warnReactiveCustomComponents();break}var a=!r.cellRenderer&&r.propertyName!=="toolPanel";return new QGe.ReactComponent(t,this.parent,r,a)},e}(Bc.BaseComponentWrapper),aHe=Kt.forwardRef(function(n,e){var t=Kt.useContext(eHe.BeansContext),r=t.ctrlsFactory,o=t.context,i=t.gridOptionsService,a=t.resizeObserverService,s=t.clientSideRowModel,l=t.serverSideRowModel,u=Kt.useState(function(){return new WW.CssClasses}),c=u[0],d=u[1],f=Kt.useState(function(){return new WW.CssClasses}),p=f[0],h=f[1],m=Kt.useState(),v=m[0],g=m[1],y=Kt.useState(),C=y[0],w=y[1],b=Kt.useRef(),E=Kt.useRef(null),D=Kt.useRef(),S=Kt.useMemo(function(){return Bc.ModuleRegistry.__getGridRegisteredModules(n.api.getGridId())},[n]),T=Kt.useMemo(function(){return c.toString()+" ag-details-row"},[c]),O=Kt.useMemo(function(){return p.toString()+" ag-details-grid"},[p]);e&&Kt.useImperativeHandle(e,function(){return{refresh:function(){var A,$;return($=(A=b.current)===null||A===void 0?void 0:A.refresh())!==null&&$!==void 0?$:!1}}}),n.template&&Bc._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");var L=Kt.useCallback(function(A){if(E.current=A,!E.current){o.destroyBean(b.current),D.current&&D.current();return}var $={addOrRemoveCssClass:function(V,Y){return d(function(Q){return Q.setClass(V,Y)})},addOrRemoveDetailGridCssClass:function(V,Y){return h(function(Q){return Q.setClass(V,Y)})},setDetailGrid:function(V){return g(V)},setRowData:function(V){return w(V)},getGui:function(){return E.current}},G=r.getInstance("detailCellRenderer");if(G&&(o.createBean(G),G.init($,n),b.current=G,i.get("detailRowAutoHeight"))){var K=function(){if(E.current!=null){var V=E.current.clientHeight;if(V!=null&&V>0){var Y=function(){n.node.setRowHeight(V),s?s.onRowHeightChanged():l&&l.onRowHeightChanged()};setTimeout(Y,0)}}};D.current=a.observeResize(E.current,K),K()}},[]),k=Kt.useCallback(function(A,$){var G;(G=b.current)===null||G===void 0||G.registerDetailWithMaster(A,$)},[]);return Kt.default.createElement("div",{className:T,ref:L},v&&Kt.default.createElement(ii.AgGridReactUi,JF({className:O},v,{modules:S,rowData:C,setGridApi:k})))}),sHe=function(n){cae(e,n);function e(){var t=n.call(this,"react")||this;return t.frameworkComponents={agGroupCellRenderer:uae.default,agGroupRowRenderer:uae.default,agDetailCellRenderer:aHe},t.wrapIncoming=function(r,o){return o==="ensureVisible"?WW.runWithoutFlushSync(r):r()},t.renderingEngine="react",t}return e.prototype.frameworkComponent=function(t){return this.frameworkComponents[t]},e.prototype.isFrameworkComponent=function(t){if(!t)return!1;var r=t.prototype,o=r&&"getGui"in r;return!o},e}(Bc.VanillaFrameworkOverrides)});var hae=$e(xa=>{"use strict";var lHe=xa&&xa.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zW=xa&&xa.__assign||function(){return zW=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},zW.apply(this,arguments)},uHe=xa&&xa.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),cHe=xa&&xa.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),dHe=xa&&xa.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&uHe(e,n,t);return cHe(e,n),e};Object.defineProperty(xa,"__esModule",{value:!0});xa.AgGridReact=void 0;var pae=dHe(z()),fHe=fae(),pHe=function(n){lHe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.apiListeners=[],t.setGridApi=function(r,o){t.api=r,t.columnApi=o,t.apiListeners.forEach(function(i){return i(r)})},t}return e.prototype.registerApiListener=function(t){this.apiListeners.push(t)},e.prototype.componentWillUnmount=function(){this.apiListeners.length=0},e.prototype.render=function(){return pae.default.createElement(fHe.AgGridReactUi,zW({},this.props,{setGridApi:this.setGridApi}))},e}(pae.Component);xa.AgGridReact=pHe});var mae=$e(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.ChangeDetectionStrategyType=void 0;var hHe;(function(n){n.IdentityCheck="IdentityCheck",n.DeepValueCheck="DeepValueCheck",n.NoCheck="NoCheck"})(hHe=kE.ChangeDetectionStrategyType||(kE.ChangeDetectionStrategyType={}))});var gae=$e(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.useGridMenuItem=hl.useGridFloatingFilter=hl.useGridFilter=hl.useGridDate=hl.useGridCellEditor=void 0;var mHe=z(),gHe=SE();function VE(n){var e=mHe.useContext(gHe.CustomContext).setMethods;e(n)}function vHe(n){VE(n)}hl.useGridCellEditor=vHe;function yHe(n){return VE(n)}hl.useGridDate=yHe;function CHe(n){return VE(n)}hl.useGridFilter=CHe;function wHe(n){VE(n)}hl.useGridFloatingFilter=wHe;function SHe(n){VE(n)}hl.useGridMenuItem=SHe});var vae=$e(xu=>{"use strict";var bHe=xu&&xu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),UW=xu&&xu.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bHe(e,n,t)};Object.defineProperty(xu,"__esModule",{value:!0});xu.AgGridReact=void 0;var _He=hae();Object.defineProperty(xu,"AgGridReact",{enumerable:!0,get:function(){return _He.AgGridReact}});UW(mae(),xu);UW(gae(),xu);UW(ME(),xu)});var Mle=$e(Lle=>{"use strict";var tx=z();function J$e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var eBe=typeof Object.is=="function"?Object.is:J$e,tBe=tx.useSyncExternalStore,nBe=tx.useRef,rBe=tx.useEffect,oBe=tx.useMemo,iBe=tx.useDebugValue;Lle.useSyncExternalStoreWithSelector=function(n,e,t,r,o){var i=nBe(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=oBe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),o!==void 0&&a.hasValue){var h=a.value;if(o(h,p))return d=h}return d=p}if(h=d,eBe(c,p))return h;var m=r(p);return o!==void 0&&o(h,m)?h:(c=p,d=m)}var u=!1,c,d,f=t===void 0?null:t;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,t,r,o]);var s=tBe(n,i[0],i[1]);return rBe(function(){a.hasValue=!0,a.value=s},[s]),iBe(s),s}});var Nle=$e((sCt,Ale)=>{"use strict";Ale.exports=Mle()});var $fe={};t6($fe,{default:()=>u4e});function u4e(n){let e=_e(),[t,r]=(0,oA.useState)(null),o=async()=>{let i=0,a=e.vault.getMarkdownFiles().map(async s=>{(await e.vault.cachedRead(s)).includes(n.id)&&i++});return await Promise.all(a),i};return(0,oA.useEffect)(()=>{o().then(i=>{r(i)})},[]),(0,iA.jsx)("div",{children:(0,iA.jsxs)(Et,{children:[R.linked_notes+": ",t==null?"\u52A0\u8F7D\u4E2D...":t]})})}var oA,iA,Bfe=Gh(()=>{ue();Mo();ht();oA=_(z()),iA=_(F())});var d4e={};t6(d4e,{default:()=>uA});module.exports=ape(d4e);var Nw=require("obsidian");var r6="contributionWidget",Gu="components",po="yyyy-MM-dd HH:mm:ss";var Vw="contribution-widget-database-view",gv="contribution-widget-view-item",Hh="layout-template",$h="contribution-widget:ref-widget:update",Px="yyyy/MM/dd HH:mm";var Tf=require("obsidian"),Ffe=_(IS());var Z4=_(z());ht();var Q4=_(z());var FS=_(z());var k5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var _me=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(n,e)=>{let t=(0,FS.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>(0,FS.createElement)("svg",{ref:c,...k5,width:o,height:o,stroke:r,strokeWidth:a?Number(i)*24/Number(o):i,className:["lucide",`lucide-${_me(n)}`,s].join(" "),...u},[...e.map(([d,f])=>(0,FS.createElement)(d,f)),...Array.isArray(l)?l:[l]]));return t.displayName=`${n}`,t};var rm=ee("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);var LS=ee("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);var MS=ee("ArrowLeftToLine",[["path",{d:"M3 19V5",key:"rwsyhb"}],["path",{d:"m13 6-6 6 6 6",key:"1yhaz7"}],["path",{d:"M7 12h14",key:"uoisry"}]]);var AS=ee("ArrowRightToLine",[["path",{d:"M17 12H3",key:"8awo09"}],["path",{d:"m11 18 6-6-6-6",key:"8c2y43"}],["path",{d:"M21 5v14",key:"nzette"}]]);var ep=ee("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);var om=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var NS=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var kS=ee("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);var gd=ee("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var VS=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var im=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var am=ee("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);var GS=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var HS=ee("Clock1",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 14.5 8",key:"12zbmj"}]]);var $S=ee("Clock10",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 8 10",key:"atfzqc"}]]);var BS=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var qo=ee("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);var tp=ee("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var vd=ee("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);var WS=ee("CopyPlus",[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var zS=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var US=ee("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);var jS=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var sm=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var KS=ee("FileDigit",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["rect",{width:"4",height:"6",x:"2",y:"12",rx:"2",key:"jm304g"}],["path",{d:"M10 12h2v6",key:"12zw74"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var qS=ee("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);var lm=ee("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var um=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var YS=ee("FunctionSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);var np=ee("Grid2x2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var Ll=ee("Grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);var ju=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var XS=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var ZS=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var QS=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var JS=ee("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);var e0=ee("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var t0=ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var n0=ee("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var yd=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var cm=ee("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var r0=ee("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);var rp=ee("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);var o0=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var i0=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var a0=ee("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);var s0=ee("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);var dm=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l0=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var u0=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var c0=ee("Sheet",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]]);var d0=ee("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var Do=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var fm=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var f0=ee("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);var pm=ee("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var p0=ee("TextQuote",[["path",{d:"M17 6H3",key:"16j9eg"}],["path",{d:"M21 12H8",key:"scolzb"}],["path",{d:"M21 18H8",key:"1wfozv"}],["path",{d:"M3 12v6",key:"fv4c87"}]]);var h0=ee("TextSearch",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 18H3",key:"13769t"}],["circle",{cx:"17",cy:"15",r:"3",key:"1upz2a"}],["path",{d:"m21 19-1.9-1.9",key:"dwi7p8"}]]);var m0=ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var Cd=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var g0=ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var v0=ee("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var ra=ee("Wand",[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h0",key:"kg5t1u"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]]);var hm=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var qa=_(z());var $5=_(z()),B5=_(F());function br(n){let e=(0,$5.useMemo)(()=>{if(!n.widgetContainerWidth)return{};let t=16,r=Math.floor(n.widgetContainerWidth/t),o=n.minFontSize==null?16:n.minFontSize,i=n.maxFontSize==null?20:n.maxFontSize,a=Math.min(Math.max(o,r),i),s=Math.floor(a*1.5);return{fontSize:`${a}px`,lineHeight:`${s}px`,textAlign:n.align||"center"}},[n.widgetContainerWidth,n.align]);return(0,B5.jsx)("div",{className:"title",style:e,children:n.title})}var op=class{constructor(){this.conditions=[]}};var hn=class{constructor(e,t){this.id=e,this.type=t,this.titleAlign="center",this.tabTitle="",this.maxWidthRatio=-1}};ue();var K5=_(F()),nR=class extends hn{constructor(t){super(t,"chart");this.chartType="bar",this.backgroundStyle="card",this.maxHeight=300,this.labelProperty="",this.labelFormat="$none",this.valueProperty=y0,this.filter=new op,this.chartColorSet=[],this.chartLabelPosition="top"}},y0="$file_count",U5={key:y0,value:{name:y0,sampleValue:"10"},label:R.file_count,icon:(0,K5.jsx)(qo,{size:14})},j5=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];function w0(n){return n+.5|0}var ap=(n,e,t)=>Math.max(Math.min(n,t),e);function C0(n){return ap(w0(n*2.55),0,255)}function sp(n){return ap(w0(n*255),0,255)}function wd(n){return ap(w0(n/2.55)/100,0,1)}function q5(n){return ap(w0(n*100),0,100)}var ks={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},M1=[..."0123456789ABCDEF"],Ome=n=>M1[n&15],Ime=n=>M1[(n&240)>>4]+M1[n&15],rR=n=>(n&240)>>4===(n&15),Fme=n=>rR(n.r)&&rR(n.g)&&rR(n.b)&&rR(n.a);function Lme(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ks[n[1]]*17,g:255&ks[n[2]]*17,b:255&ks[n[3]]*17,a:e===5?ks[n[4]]*17:255}:(e===7||e===9)&&(t={r:ks[n[1]]<<4|ks[n[2]],g:ks[n[3]]<<4|ks[n[4]],b:ks[n[5]]<<4|ks[n[6]],a:e===9?ks[n[7]]<<4|ks[n[8]]:255})),t}var Mme=(n,e)=>n<255?e(n):"";function Ame(n){var e=Fme(n)?Ome:Ime;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Mme(n.a,e):void 0}var Nme=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Q5(n,e,t){let r=e*Math.min(t,1-t),o=(i,a=(i+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function kme(n,e,t){let r=(o,i=(o+n/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Vme(n,e,t){let r=Q5(n,1,.5),o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)r[o]*=1-e-t,r[o]+=e;return r}function Gme(n,e,t,r,o){return n===o?(e-t)/r+(e<t?6:0):e===o?(t-n)/r+2:(n-e)/r+4}function A1(n){let t=n.r/255,r=n.g/255,o=n.b/255,i=Math.max(t,r,o),a=Math.min(t,r,o),s=(i+a)/2,l,u,c;return i!==a&&(c=i-a,u=s>.5?c/(2-i-a):c/(i+a),l=Gme(t,r,o,c,i),l=l*60+.5),[l|0,u||0,s]}function N1(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(sp)}function k1(n,e,t){return N1(Q5,n,e,t)}function Hme(n,e,t){return N1(Vme,n,e,t)}function $me(n,e,t){return N1(kme,n,e,t)}function J5(n){return(n%360+360)%360}function Bme(n){let e=Nme.exec(n),t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?C0(+e[5]):sp(+e[5]));let o=J5(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Hme(o,i,a):e[1]==="hsv"?r=$me(o,i,a):r=k1(o,i,a),{r:r[0],g:r[1],b:r[2],a:t}}function Wme(n,e){var t=A1(n);t[0]=J5(t[0]+e),t=k1(t),n.r=t[0],n.g=t[1],n.b=t[2]}function zme(n){if(!n)return;let e=A1(n),t=e[0],r=q5(e[1]),o=q5(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${o}%, ${wd(n.a)})`:`hsl(${t}, ${r}%, ${o}%)`}var Y5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},X5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ume(){let n={},e=Object.keys(X5),t=Object.keys(Y5),r,o,i,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],o=0;o<t.length;o++)i=t[o],s=s.replace(i,Y5[i]);i=parseInt(X5[a],16),n[s]=[i>>16&255,i>>8&255,i&255]}return n}var oR;function jme(n){oR||(oR=Ume(),oR.transparent=[0,0,0,0]);let e=oR[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var Kme=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qme(n){let e=Kme.exec(n),t=255,r,o,i;if(e){if(e[7]!==r){let a=+e[7];t=e[8]?C0(a):ap(a*255,0,255)}return r=+e[1],o=+e[3],i=+e[5],r=255&(e[2]?C0(r):ap(r,0,255)),o=255&(e[4]?C0(o):ap(o,0,255)),i=255&(e[6]?C0(i):ap(i,0,255)),{r,g:o,b:i,a:t}}}function Yme(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${wd(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var L1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Kv=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Xme(n,e,t){let r=Kv(wd(n.r)),o=Kv(wd(n.g)),i=Kv(wd(n.b));return{r:sp(L1(r+t*(Kv(wd(e.r))-r))),g:sp(L1(o+t*(Kv(wd(e.g))-o))),b:sp(L1(i+t*(Kv(wd(e.b))-i))),a:n.a+t*(e.a-n.a)}}function iR(n,e,t){if(n){let r=A1(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=k1(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function e8(n,e){return n&&Object.assign(e||{},n)}function Z5(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=sp(n[3]))):(e=e8(n,{r:0,g:0,b:0,a:1}),e.a=sp(e.a)),e}function Zme(n){return n.charAt(0)==="r"?qme(n):Bme(n)}var lp=class{constructor(e){if(e instanceof lp)return e;let t=typeof e,r;t==="object"?r=Z5(e):t==="string"&&(r=Lme(e)||jme(e)||Zme(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=e8(this._rgb);return e&&(e.a=wd(e.a)),e}set rgb(e){this._rgb=Z5(e)}rgbString(){return this._valid?Yme(this._rgb):void 0}hexString(){return this._valid?Ame(this._rgb):void 0}hslString(){return this._valid?zme(this._rgb):void 0}mix(e,t){if(e){let r=this.rgb,o=e.rgb,i,a=t===i?.5:t,s=2*a-1,l=r.a-o.a,u=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;i=1-u,r.r=255&u*r.r+i*o.r+.5,r.g=255&u*r.g+i*o.g+.5,r.b=255&u*r.b+i*o.b+.5,r.a=a*r.a+(1-a)*o.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=Xme(this._rgb,e._rgb,t)),this}clone(){return new lp(this.rgb)}alpha(e){return this._rgb.a=sp(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=w0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return iR(this._rgb,2,e),this}darken(e){return iR(this._rgb,2,-e),this}saturate(e){return iR(this._rgb,1,e),this}desaturate(e){return iR(this._rgb,1,-e),this}rotate(e){return Wme(this._rgb,e),this}};function Nl(){}var $1=(()=>{let n=0;return()=>n++})();function At(n){return n===null||typeof n=="undefined"}function En(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _t(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function nr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Mi(n,e){return nr(n)?n:e}function st(n,e){return typeof n=="undefined"?e:n}var B1=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,dR=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function mn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Zt(n,e,t,r){let o,i,a;if(En(n))if(i=n.length,r)for(o=i-1;o>=0;o--)e.call(t,n[o],o);else for(o=0;o<i;o++)e.call(t,n[o],o);else if(_t(n))for(a=Object.keys(n),i=a.length,o=0;o<i;o++)e.call(t,n[a[o]],a[o])}function Xv(n,e){let t,r,o,i;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(o=n[t],i=e[t],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function b0(n){if(En(n))return n.map(b0);if(_t(n)){let e=Object.create(null),t=Object.keys(n),r=t.length,o=0;for(;o<r;++o)e[t[o]]=b0(n[t[o]]);return e}return n}function c8(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function d8(n,e,t,r){if(!c8(n))return;let o=e[n],i=t[n];_t(o)&&_t(i)?vm(o,i,r):e[n]=b0(i)}function vm(n,e,t){let r=En(e)?e:[e],o=r.length;if(!_t(n))return n;t=t||{};let i=t.merger||d8,a;for(let s=0;s<o;++s){if(a=r[s],!_t(a))continue;let l=Object.keys(a);for(let u=0,c=l.length;u<c;++u)i(l[u],n,a,t)}return n}function ym(n,e){return vm(n,e,{merger:f8})}function f8(n,e,t){if(!c8(n))return;let r=e[n],o=t[n];_t(r)&&_t(o)?ym(r,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=b0(o))}var t8={"":n=>n,x:n=>n.x,y:n=>n.y};function p8(n){let e=n.split("."),t=[],r="";for(let o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function Qme(n){let e=p8(n);return t=>{for(let r of e){if(r==="")break;t=t&&t[r]}return t}}function Yu(n,e){return(t8[e]||(t8[e]=Qme(e)))(n)}function x0(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Cm=n=>typeof n!="undefined",Ku=n=>typeof n=="function",fR=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function W1(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var xn=Math.PI,Dn=2*xn,h8=Dn+xn,_0=Number.POSITIVE_INFINITY,m8=xn/180,cr=xn/2,up=xn/4,G1=xn*2/3,qu=Math.log10,Vs=Math.sign;function wm(n,e,t){return Math.abs(n-e)<t}function pR(n){let e=Math.round(n);n=wm(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(qu(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function z1(n){let e=[],t=Math.sqrt(n),r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((o,i)=>o-i).pop(),e}function dp(n){return!isNaN(parseFloat(n))&&isFinite(n)}function U1(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function hR(n,e,t){let r,o,i;for(r=0,o=n.length;r<o;r++)i=n[r][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Va(n){return n*(xn/180)}function D0(n){return n*(180/xn)}function mR(n){if(!nr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function gR(n,e){let t=e.x-n.x,r=e.y-n.y,o=Math.sqrt(t*t+r*r),i=Math.atan2(r,t);return i<-.5*xn&&(i+=Dn),{angle:i,distance:o}}function E0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function g8(n,e){return(n-e+h8)%Dn-xn}function Li(n){return(n%Dn+Dn)%Dn}function Sm(n,e,t,r){let o=Li(n),i=Li(e),a=Li(t),s=Li(i-o),l=Li(a-o),u=Li(o-i),c=Li(o-a);return o===i||o===a||r&&i===a||s>l&&u<c}function qr(n,e,t){return Math.max(e,Math.min(t,n))}function j1(n){return qr(n,-32768,32767)}function kl(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function R0(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,o=0,i;for(;r-o>1;)i=o+r>>1,t(i)?o=i:r=i;return{lo:o,hi:r}}var Ml=(n,e,t,r)=>R0(n,t,r?o=>{let i=n[o][e];return i<t||i===t&&n[o+1][e]===t}:o=>n[o][e]<t),K1=(n,e,t)=>R0(n,t,r=>n[r][e]>=t);function q1(n,e,t){let r=0,o=n.length;for(;r<o&&n[r]<e;)r++;for(;o>r&&n[o-1]>t;)o--;return r>0||o<n.length?n.slice(r,o):n}var v8=["push","pop","shift","splice","unshift"];function Y1(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),v8.forEach(t=>{let r="_onData"+x0(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...i){let a=o.apply(this,i);return n._chartjs.listeners.forEach(s=>{typeof s[r]=="function"&&s[r](...i)}),a}})})}function vR(n,e){let t=n._chartjs;if(!t)return;let r=t.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(v8.forEach(i=>{delete n[i]}),delete n._chartjs)}function yR(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var CR=function(){return typeof window=="undefined"?function(n){return n()}:window.requestAnimationFrame}();function wR(n,e){let t=[],r=!1;return function(...o){t=o,r||(r=!0,CR.call(window,()=>{r=!1,n.apply(e,t)}))}}function X1(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}var T0=n=>n==="start"?"left":n==="end"?"right":"center",Ro=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Z1=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function SR(n,e,t){let r=e.length,o=0,i=r;if(n._sorted){let{iScale:a,_parsed:s}=n,l=a.axis,{min:u,max:c,minDefined:d,maxDefined:f}=a.getUserBounds();d&&(o=qr(Math.min(Ml(s,l,u).lo,t?r:Ml(e,l,a.getPixelForValue(u)).lo),0,r-1)),f?i=qr(Math.max(Ml(s,a.axis,c,!0).hi+1,t?0:Ml(e,l,a.getPixelForValue(c),!0).hi+1),o,r)-o:i=r-o}return{start:o,count:i}}function bR(n){let{xScale:e,yScale:t,_scaleRanges:r}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=o,!0;let i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,o),i}var aR=n=>n===0||n===1,n8=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Dn/t)),r8=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Dn/t)+1,mm={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*cr)+1,easeOutSine:n=>Math.sin(n*cr),easeInOutSine:n=>-.5*(Math.cos(xn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>aR(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>aR(n)?n:n8(n,.075,.3),easeOutElastic:n=>aR(n)?n:r8(n,.075,.3),easeInOutElastic(n){return aR(n)?n:n<.5?.5*n8(n*2,.1125,.45):.5+.5*r8(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-mm.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?mm.easeInBounce(n*2)*.5:mm.easeOutBounce(n*2-1)*.5+.5};function _R(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ER(n){return _R(n)?n:new lp(n)}function uR(n){return _R(n)?n:new lp(n).saturate(.5).darken(.1).hexString()}var Jme=["x","y","borderWidth","radius","tension"],ege=["color","borderColor","backgroundColor"];function tge(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:ege},numbers:{type:"number",properties:Jme}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function nge(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var o8=new Map;function rge(n,e){e=e||{};let t=n+JSON.stringify(e),r=o8.get(t);return r||(r=new Intl.NumberFormat(n,e),o8.set(t,r)),r}function bm(n,e,t){return rge(e,t).format(n)}var y8={values(n){return En(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let r=this.chart.options.locale,o,i=n;if(t.length>1){let u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(o="scientific"),i=oge(n,t)}let a=qu(Math.abs(i)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),bm(n,r,l)},logarithmic(n,e,t){if(n===0)return"0";let r=t[e].significand||n/Math.pow(10,Math.floor(qu(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?y8.numeric.call(this,n,e,t):""}};function oge(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var P0={formatters:y8};function ige(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:P0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var fp=Object.create(null),xR=Object.create(null);function S0(n,e){if(!e)return n;let t=e.split(".");for(let r=0,o=t.length;r<o;++r){let i=t[r];n=n[i]||(n[i]=Object.create(null))}return n}function V1(n,e,t){return typeof e=="string"?vm(S0(n,e),t):vm(S0(n,""),e)}var H1=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>uR(o.backgroundColor),this.hoverBorderColor=(r,o)=>uR(o.borderColor),this.hoverColor=(r,o)=>uR(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return V1(this,e,t)}get(e){return S0(this,e)}describe(e,t){return V1(xR,e,t)}override(e,t){return V1(fp,e,t)}route(e,t,r,o){let i=S0(this,e),a=S0(this,r),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[s],u=a[o];return _t(l)?Object.assign({},u,l):st(l,u)},set(l){this[s]=l}}})}apply(e){e.forEach(t=>t(this))}},dr=new H1({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tge,nge,ige]);function C8(n){return!n||At(n.size)||At(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function qv(n,e,t,r,o){let i=e[o];return i||(i=e[o]=n.measureText(o).width,t.push(o)),i>r&&(r=i),r}function Q1(n,e,t,r){r=r||{};let o=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(o=r.data={},i=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let a=0,s=t.length,l,u,c,d,f;for(l=0;l<s;l++)if(d=t[l],d!=null&&!En(d))a=qv(n,o,i,a,d);else if(En(d))for(u=0,c=d.length;u<c;u++)f=d[u],f!=null&&!En(f)&&(a=qv(n,o,i,a,f));n.restore();let p=i.length/2;if(p>t.length){for(l=0;l<p;l++)delete o[i[l]];i.splice(0,p)}return a}function bd(n,e,t){let r=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*r)/r+o}function DR(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function O0(n,e,t,r){RR(n,e,t,r,null)}function RR(n,e,t,r,o){let i,a,s,l,u,c,d,f,p=e.pointStyle,h=e.rotation,m=e.radius,v=(h||0)*m8;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(v),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(m)||m<=0)){switch(n.beginPath(),p){default:o?n.ellipse(t,r,o/2,m,0,0,Dn):n.arc(t,r,m,0,Dn),n.closePath();break;case"triangle":c=o?o/2:m,n.moveTo(t+Math.sin(v)*c,r-Math.cos(v)*m),v+=G1,n.lineTo(t+Math.sin(v)*c,r-Math.cos(v)*m),v+=G1,n.lineTo(t+Math.sin(v)*c,r-Math.cos(v)*m),n.closePath();break;case"rectRounded":u=m*.516,l=m-u,a=Math.cos(v+up)*l,d=Math.cos(v+up)*(o?o/2-u:l),s=Math.sin(v+up)*l,f=Math.sin(v+up)*(o?o/2-u:l),n.arc(t-d,r-s,u,v-xn,v-cr),n.arc(t+f,r-a,u,v-cr,v),n.arc(t+d,r+s,u,v,v+cr),n.arc(t-f,r+a,u,v+cr,v+xn),n.closePath();break;case"rect":if(!h){l=Math.SQRT1_2*m,c=o?o/2:l,n.rect(t-c,r-l,2*c,2*l);break}v+=up;case"rectRot":d=Math.cos(v)*(o?o/2:m),a=Math.cos(v)*m,s=Math.sin(v)*m,f=Math.sin(v)*(o?o/2:m),n.moveTo(t-d,r-s),n.lineTo(t+f,r-a),n.lineTo(t+d,r+s),n.lineTo(t-f,r+a),n.closePath();break;case"crossRot":v+=up;case"cross":d=Math.cos(v)*(o?o/2:m),a=Math.cos(v)*m,s=Math.sin(v)*m,f=Math.sin(v)*(o?o/2:m),n.moveTo(t-d,r-s),n.lineTo(t+d,r+s),n.moveTo(t+f,r-a),n.lineTo(t-f,r+a);break;case"star":d=Math.cos(v)*(o?o/2:m),a=Math.cos(v)*m,s=Math.sin(v)*m,f=Math.sin(v)*(o?o/2:m),n.moveTo(t-d,r-s),n.lineTo(t+d,r+s),n.moveTo(t+f,r-a),n.lineTo(t-f,r+a),v+=up,d=Math.cos(v)*(o?o/2:m),a=Math.cos(v)*m,s=Math.sin(v)*m,f=Math.sin(v)*(o?o/2:m),n.moveTo(t-d,r-s),n.lineTo(t+d,r+s),n.moveTo(t+f,r-a),n.lineTo(t-f,r+a);break;case"line":a=o?o/2:Math.cos(v)*m,s=Math.sin(v)*m,n.moveTo(t-a,r-s),n.lineTo(t+a,r+s);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(v)*(o?o/2:m),r+Math.sin(v)*m);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Al(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Zv(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Qv(n){n.restore()}function J1(n,e,t,r,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){let i=(e.x+t.x)/2;n.lineTo(i,e.y),n.lineTo(i,t.y)}else o==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function ek(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function age(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),At(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function sge(n,e,t,r,o){if(o.strikethrough||o.underline){let i=n.measureText(r),a=e-i.actualBoundingBoxLeft,s=e+i.actualBoundingBoxRight,l=t-i.actualBoundingBoxAscent,u=t+i.actualBoundingBoxDescent,c=o.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(a,c),n.lineTo(s,c),n.stroke()}}function lge(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function _d(n,e,t,r,o,i={}){let a=En(e)?e:[e],s=i.strokeWidth>0&&i.strokeColor!=="",l,u;for(n.save(),n.font=o.string,age(n,i),l=0;l<a.length;++l)u=a[l],i.backdrop&&lge(n,i.backdrop),s&&(i.strokeColor&&(n.strokeStyle=i.strokeColor),At(i.strokeWidth)||(n.lineWidth=i.strokeWidth),n.strokeText(u,t,r,i.maxWidth)),n.fillText(u,t,r,i.maxWidth),sge(n,t,r,u,i),r+=Number(o.lineHeight);n.restore()}function _m(n,e){let{x:t,y:r,w:o,h:i,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*xn,xn,!0),n.lineTo(t,r+i-a.bottomLeft),n.arc(t+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,xn,cr,!0),n.lineTo(t+o-a.bottomRight,r+i),n.arc(t+o-a.bottomRight,r+i-a.bottomRight,a.bottomRight,cr,0,!0),n.lineTo(t+o,r+a.topRight),n.arc(t+o-a.topRight,r+a.topRight,a.topRight,0,-cr,!0),n.lineTo(t+a.topLeft,r)}var uge=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cge=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function w8(n,e){let t=(""+n).match(uge);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var dge=n=>+n||0;function I0(n,e){let t={},r=_t(e),o=r?Object.keys(e):e,i=_t(n)?r?a=>st(n[a],n[e[a]]):a=>n[a]:()=>n;for(let a of o)t[a]=dge(i(a));return t}function TR(n){return I0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ed(n){return I0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function To(n){let e=TR(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ar(n,e){n=n||{},e=e||dr.font;let t=st(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=st(n.style,e.style);r&&!(""+r).match(cge)&&(r=void 0);let o={family:st(n.family,e.family),lineHeight:w8(st(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:st(n.weight,e.weight),string:""};return o.string=C8(o),o}function Em(n,e,t,r){let o=!0,i,a,s;for(i=0,a=n.length;i<a;++i)if(s=n[i],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),o=!1),t!==void 0&&En(s)&&(s=s[t%s.length],o=!1),s!==void 0))return r&&!o&&(r.cacheable=!1),s}function tk(n,e,t){let{min:r,max:o}=n,i=dR(e,(o-r)/2),a=(s,l)=>t&&s===0?0:s+l;return{min:a(r,-Math.abs(i)),max:a(o,i)}}function Xu(n,e){return Object.assign(Object.create(n),e)}function F0(n,e=[""],t,r,o=()=>n[0]){let i=t||n;typeof r=="undefined"&&(r=_8("_fallback",n));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:i,_fallback:r,_getTarget:o,override:s=>F0([s,...n],e,i,r)};return new Proxy(a,{deleteProperty(s,l){return delete s[l],delete s._keys,delete n[0][l],!0},get(s,l){return S8(s,l,()=>Cge(l,e,n,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(s,l){return a8(s).includes(l)},ownKeys(s){return a8(s)},set(s,l,u){let c=s._storage||(s._storage=o());return s[l]=c[l]=u,delete s._keys,!0}})}function cp(n,e,t,r){let o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:PR(n,r),setContext:i=>cp(n,i,t,r),override:i=>cp(n.override(i),e,t,r)};return new Proxy(o,{deleteProperty(i,a){return delete i[a],delete n[a],!0},get(i,a,s){return S8(i,a,()=>pge(i,a,s))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(i,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(i,a,s){return n[a]=s,delete i[a],!0}})}function PR(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:r,isScriptable:Ku(t)?t:()=>t,isIndexable:Ku(r)?r:()=>r}}var fge=(n,e)=>n?n+x0(e):e,nk=(n,e)=>_t(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function S8(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];let r=t();return n[e]=r,r}function pge(n,e,t){let{_proxy:r,_context:o,_subProxy:i,_descriptors:a}=n,s=r[e];return Ku(s)&&a.isScriptable(e)&&(s=hge(e,s,n,t)),En(s)&&s.length&&(s=mge(e,s,n,a.isIndexable)),nk(e,s)&&(s=cp(s,o,i&&i[e],a)),s}function hge(n,e,t,r){let{_proxy:o,_context:i,_subProxy:a,_stack:s}=t;if(s.has(n))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+n);s.add(n);let l=e(i,a||r);return s.delete(n),nk(n,l)&&(l=rk(o._scopes,o,n,l)),l}function mge(n,e,t,r){let{_proxy:o,_context:i,_subProxy:a,_descriptors:s}=t;if(typeof i.index!="undefined"&&r(n))return e[i.index%e.length];if(_t(e[0])){let l=e,u=o._scopes.filter(c=>c!==l);e=[];for(let c of l){let d=rk(u,o,n,c);e.push(cp(d,i,a&&a[n],s))}}return e}function b8(n,e,t){return Ku(n)?n(e,t):n}var gge=(n,e)=>n===!0?e:typeof n=="string"?Yu(e,n):void 0;function vge(n,e,t,r,o){for(let i of e){let a=gge(t,i);if(a){n.add(a);let s=b8(a._fallback,t,o);if(typeof s!="undefined"&&s!==t&&s!==r)return s}else if(a===!1&&typeof r!="undefined"&&t!==r)return null}return!1}function rk(n,e,t,r){let o=e._rootScopes,i=b8(e._fallback,t,r),a=[...n,...o],s=new Set;s.add(r);let l=i8(s,a,t,i||t,r);return l===null||typeof i!="undefined"&&i!==t&&(l=i8(s,a,i,l,r),l===null)?!1:F0(Array.from(s),[""],o,i,()=>yge(e,t,r))}function i8(n,e,t,r,o){for(;t;)t=vge(n,e,t,r,o);return t}function yge(n,e,t){let r=n._getTarget();e in r||(r[e]={});let o=r[e];return En(o)&&_t(t)?t:o||{}}function Cge(n,e,t,r){let o;for(let i of e)if(o=_8(fge(i,n),t),typeof o!="undefined")return nk(n,o)?rk(t,r,n,o):o}function _8(n,e){for(let t of e){if(!t)continue;let r=t[n];if(typeof r!="undefined")return r}}function a8(n){let e=n._keys;return e||(e=n._keys=wge(n._scopes)),e}function wge(n){let e=new Set;for(let t of n)for(let r of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}function OR(n,e,t,r){let{iScale:o}=n,{key:i="r"}=this._parsing,a=new Array(r),s,l,u,c;for(s=0,l=r;s<l;++s)u=s+t,c=e[u],a[s]={r:o.parse(Yu(c,i),u)};return a}var Sge=Number.EPSILON||1e-14,Yv=(n,e)=>e<n.length&&!n[e].skip&&n[e],E8=n=>n==="x"?"y":"x";function x8(n,e,t,r){let o=n.skip?e:n,i=e,a=t.skip?e:t,s=E0(i,o),l=E0(a,i),u=s/(s+l),c=l/(s+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;let d=r*u,f=r*c;return{previous:{x:i.x-d*(a.x-o.x),y:i.y-d*(a.y-o.y)},next:{x:i.x+f*(a.x-o.x),y:i.y+f*(a.y-o.y)}}}function bge(n,e,t){let r=n.length,o,i,a,s,l,u=Yv(n,0);for(let c=0;c<r-1;++c)if(l=u,u=Yv(n,c+1),!(!l||!u)){if(wm(e[c],0,Sge)){t[c]=t[c+1]=0;continue}o=t[c]/e[c],i=t[c+1]/e[c],s=Math.pow(o,2)+Math.pow(i,2),!(s<=9)&&(a=3/Math.sqrt(s),t[c]=o*a*e[c],t[c+1]=i*a*e[c])}}function _ge(n,e,t="x"){let r=E8(t),o=n.length,i,a,s,l=Yv(n,0);for(let u=0;u<o;++u){if(a=s,s=l,l=Yv(n,u+1),!s)continue;let c=s[t],d=s[r];a&&(i=(c-a[t])/3,s[`cp1${t}`]=c-i,s[`cp1${r}`]=d-i*e[u]),l&&(i=(l[t]-c)/3,s[`cp2${t}`]=c+i,s[`cp2${r}`]=d+i*e[u])}}function D8(n,e="x"){let t=E8(e),r=n.length,o=Array(r).fill(0),i=Array(r),a,s,l,u=Yv(n,0);for(a=0;a<r;++a)if(s=l,l=u,u=Yv(n,a+1),!!l){if(u){let c=u[e]-l[e];o[a]=c!==0?(u[t]-l[t])/c:0}i[a]=s?u?Vs(o[a-1])!==Vs(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}bge(n,o,i),_ge(n,i,e)}function sR(n,e,t){return Math.max(Math.min(n,t),e)}function Ege(n,e){let t,r,o,i,a,s=Al(n[0],e);for(t=0,r=n.length;t<r;++t)a=i,i=s,s=t<r-1&&Al(n[t+1],e),i&&(o=n[t],a&&(o.cp1x=sR(o.cp1x,e.left,e.right),o.cp1y=sR(o.cp1y,e.top,e.bottom)),s&&(o.cp2x=sR(o.cp2x,e.left,e.right),o.cp2y=sR(o.cp2y,e.top,e.bottom)))}function ok(n,e,t,r,o){let i,a,s,l;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")D8(n,o);else{let u=r?n[n.length-1]:n[0];for(i=0,a=n.length;i<a;++i)s=n[i],l=x8(u,s,n[Math.min(i+1,a-(r?0:1))%a],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,u=s}e.capBezierPoints&&Ege(n,t)}function L0(){return typeof window!="undefined"&&typeof document!="undefined"}function M0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function cR(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}var IR=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function R8(n,e){return IR(n).getPropertyValue(e)}var xge=["top","right","bottom","left"];function gm(n,e,t){let r={};t=t?"-"+t:"";for(let o=0;o<4;o++){let i=xge[o];r[i]=parseFloat(n[e+"-"+i+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var Dge=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Rge(n,e){let t=n.touches,r=t&&t.length?t[0]:n,{offsetX:o,offsetY:i}=r,a=!1,s,l;if(Dge(o,i,n.target))s=o,l=i;else{let u=e.getBoundingClientRect();s=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:s,y:l,box:a}}function Vl(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:r}=e,o=IR(t),i=o.boxSizing==="border-box",a=gm(o,"padding"),s=gm(o,"border","width"),{x:l,y:u,box:c}=Rge(n,t),d=a.left+(c&&s.left),f=a.top+(c&&s.top),{width:p,height:h}=e;return i&&(p-=a.width+s.width,h-=a.height+s.height),{x:Math.round((l-d)/p*t.width/r),y:Math.round((u-f)/h*t.height/r)}}function Tge(n,e,t){let r,o;if(e===void 0||t===void 0){let i=M0(n);if(!i)e=n.clientWidth,t=n.clientHeight;else{let a=i.getBoundingClientRect(),s=IR(i),l=gm(s,"border","width"),u=gm(s,"padding");e=a.width-u.width-l.width,t=a.height-u.height-l.height,r=cR(s.maxWidth,i,"clientWidth"),o=cR(s.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:r||_0,maxHeight:o||_0}}var lR=n=>Math.round(n*10)/10;function ik(n,e,t,r){let o=IR(n),i=gm(o,"margin"),a=cR(o.maxWidth,n,"clientWidth")||_0,s=cR(o.maxHeight,n,"clientHeight")||_0,l=Tge(n,e,t),{width:u,height:c}=l;if(o.boxSizing==="content-box"){let f=gm(o,"border","width"),p=gm(o,"padding");u-=p.width+f.width,c-=p.height+f.height}return u=Math.max(0,u-i.width),c=Math.max(0,r?u/r:c-i.height),u=lR(Math.min(u,a,l.maxWidth)),c=lR(Math.min(c,s,l.maxHeight)),u&&!c&&(c=lR(u/2)),(e!==void 0||t!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=lR(Math.floor(c*r))),{width:u,height:c}}function FR(n,e,t){let r=e||1,o=Math.floor(n.height*r),i=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==o||a.width!==i?(n.currentDevicePixelRatio=r,a.height=o,a.width=i,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var ak=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};L0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return n}();function LR(n,e){let t=R8(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Sd(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function sk(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function lk(n,e,t,r){let o={x:n.cp2x,y:n.cp2y},i={x:e.cp1x,y:e.cp1y},a=Sd(n,o,t),s=Sd(o,i,t),l=Sd(i,e,t),u=Sd(a,s,t),c=Sd(s,l,t);return Sd(u,c,t)}var Pge=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Oge=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function pp(n,e,t){return n?Pge(e,t):Oge()}function MR(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function AR(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function T8(n){return n==="angle"?{between:Sm,compare:g8,normalize:Li}:{between:kl,compare:(e,t)=>e-t,normalize:e=>e}}function s8({start:n,end:e,count:t,loop:r,style:o}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:o}}function Ige(n,e,t){let{property:r,start:o,end:i}=t,{between:a,normalize:s}=T8(r),l=e.length,{start:u,end:c,loop:d}=n,f,p;if(d){for(u+=l,c+=l,f=0,p=l;f<p&&a(s(e[u%l][r]),o,i);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:n.style}}function NR(n,e,t){if(!t)return[n];let{property:r,start:o,end:i}=t,a=e.length,{compare:s,between:l,normalize:u}=T8(r),{start:c,end:d,loop:f,style:p}=Ige(n,e,t),h=[],m=!1,v=null,g,y,C,w=()=>l(o,C,g)&&s(o,C)!==0,b=()=>s(i,g)===0||l(i,C,g),E=()=>m||w(),D=()=>!m||b();for(let S=c,T=c;S<=d;++S)y=e[S%a],!y.skip&&(g=u(y[r]),g!==C&&(m=l(g,o,i),v===null&&E()&&(v=s(g,o)===0?S:T),v!==null&&D()&&(h.push(s8({start:v,end:S,loop:f,count:a,style:p})),v=null),T=S,C=g));return v!==null&&h.push(s8({start:v,end:d,loop:f,count:a,style:p})),h}function kR(n,e){let t=[],r=n.segments;for(let o=0;o<r.length;o++){let i=NR(r[o],n.points,e);i.length&&t.push(...i)}return t}function Fge(n,e,t,r){let o=0,i=e-1;if(t&&!r)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(i+=o);i>o&&n[i%e].skip;)i--;return i%=e,{start:o,end:i}}function Lge(n,e,t,r){let o=n.length,i=[],a=e,s=n[e],l;for(l=e+1;l<=t;++l){let u=n[l%o];u.skip||u.stop?s.skip||(r=!1,i.push({start:e%o,end:(l-1)%o,loop:r}),e=a=u.stop?l:null):(a=l,s.skip&&(e=l)),s=u}return a!==null&&i.push({start:e%o,end:a%o,loop:r}),i}function uk(n,e){let t=n.points,r=n.options.spanGaps,o=t.length;if(!o)return[];let i=!!n._loop,{start:a,end:s}=Fge(t,o,i,r);if(r===!0)return l8(n,[{start:a,end:s,loop:i}],t,e);let l=s<a?s+o:s,u=!!n._fullLoop&&a===0&&s===o-1;return l8(n,Lge(t,a,l,u),t,e)}function l8(n,e,t,r){return!r||!r.setContext||!t?e:Mge(n,e,t,r)}function Mge(n,e,t,r){let o=n._chart.getContext(),i=u8(n.options),{_datasetIndex:a,options:{spanGaps:s}}=n,l=t.length,u=[],c=i,d=e[0].start,f=d;function p(h,m,v,g){let y=s?-1:1;if(h!==m){for(h+=l;t[h%l].skip;)h-=y;for(;t[m%l].skip;)m+=y;h%l!==m%l&&(u.push({start:h%l,end:m%l,loop:v,style:g}),c=g,d=m%l)}}for(let h of e){d=s?d:h.start;let m=t[d%l],v;for(f=d+1;f<=h.end;f++){let g=t[f%l];v=u8(r.setContext(Xu(o,{type:"segment",p0:m,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),Age(v,c)&&p(d,f-1,h.loop,c),m=g,c=v}d<f-1&&p(d,f-1,h.loop,c)}return u}function u8(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Age(n,e){if(!e)return!1;let t=[],r=function(o,i){return _R(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(n,r)!==JSON.stringify(e,r)}var Ck=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,o){let i=t.listeners[o],a=t.duration;i.forEach(s=>s({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=CR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;let i=r.items,a=i.length-1,s=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),s=!0):(i[a]=i[i.length-1],i.pop());s&&(o.draw(),this._notify(o,r,e,"progress")),i.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,o=r.length-1;for(;o>=0;--o)r[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},xd=new Ck,P8="transparent",Nge={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let r=ER(n||P8),o=r.valid&&ER(e||P8);return o&&o.valid?o.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}},wk=class{constructor(e,t,r,o){let i=t[r];o=Em([e.to,o,i,e.from]);let a=Em([e.from,i,o]);this._active=!0,this._fn=e.fn||Nge[e.type||typeof a],this._easing=mm[e.easing]||mm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let o=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Em([e.to,t,o,e.from]),this._from=Em([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,r=this._duration,o=this._prop,i=this._from,a=this._loop,s=this._to,l;if(this._active=i!==s&&(a||t<r),!this._active){this._target[o]=s,this._notify(!0);return}if(t<0){this._target[o]=i;return}l=t/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(i,s,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][t]()}},KR=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_t(e))return;let t=Object.keys(dr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{let i=e[o];if(!_t(i))return;let a={};for(let s of t)a[s]=i[s];(En(i.properties)&&i.properties||[o]).forEach(s=>{(s===o||!r.has(s))&&r.set(s,a)})})}_animateOptions(e,t){let r=t.options,o=Vge(e,r);if(!o)return[];let i=this._createAnimations(o,r);return r.$shared&&kge(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,t){let r=this._properties,o=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),s=Date.now(),l;for(l=a.length-1;l>=0;--l){let u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){o.push(...this._animateOptions(e,t));continue}let c=t[u],d=i[u],f=r.get(u);if(d)if(f&&d.active()){d.update(f,c,s);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}i[u]=d=new wk(f,e,u,c),o.push(d)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return xd.add(this._chart,r),!0}};function kge(n,e){let t=[],r=Object.keys(e);for(let o=0;o<r.length;o++){let i=n[r[o]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function Vge(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function O8(n,e){let t=n&&n.options||{},r=t.reverse,o=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:r?i:o,end:r?o:i}}function Gge(n,e,t){if(t===!1)return!1;let r=O8(n,t),o=O8(e,t);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function Hge(n){let e,t,r,o;return _t(n)?(e=n.top,t=n.right,r=n.bottom,o=n.left):e=t=r=o=n,{top:e,right:t,bottom:r,left:o,disabled:n===!1}}function P7(n,e){let t=[],r=n._getSortedDatasetMetas(e),o,i;for(o=0,i=r.length;o<i;++o)t.push(r[o].index);return t}function I8(n,e,t,r={}){let o=n.keys,i=r.mode==="single",a,s,l,u;if(e!==null){for(a=0,s=o.length;a<s;++a){if(l=+o[a],l===t){if(r.all)continue;break}u=n.values[l],nr(u)&&(i||e===0||Vs(e)===Vs(u))&&(e+=u)}return e}}function $ge(n){let e=Object.keys(n),t=new Array(e.length),r,o,i;for(r=0,o=e.length;r<o;++r)i=e[r],t[r]={x:i,y:n[i]};return t}function F8(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Bge(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Wge(n){let{min:e,max:t,minDefined:r,maxDefined:o}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function zge(n,e,t){let r=n[e]||(n[e]={});return r[t]||(r[t]={})}function L8(n,e,t,r){for(let o of e.getMatchingVisibleMetas(r).reverse()){let i=n[o.index];if(t&&i>0||!t&&i<0)return o.index}return null}function M8(n,e){let{chart:t,_cachedMeta:r}=n,o=t._stacks||(t._stacks={}),{iScale:i,vScale:a,index:s}=r,l=i.axis,u=a.axis,c=Bge(i,a,r),d=e.length,f;for(let p=0;p<d;++p){let h=e[p],{[l]:m,[u]:v}=h,g=h._stacks||(h._stacks={});f=g[u]=zge(o,c,m),f[s]=v,f._top=L8(f,a,!0,r.type),f._bottom=L8(f,a,!1,r.type);let y=f._visualValues||(f._visualValues={});y[s]=v}}function ck(n,e){let t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function Uge(n,e){return Xu(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jge(n,e,t){return Xu(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function A0(n,e){let t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(let o of e){let i=o._stacks;if(!i||i[r]===void 0||i[r][t]===void 0)return;delete i[r][t],i[r]._visualValues!==void 0&&i[r]._visualValues[t]!==void 0&&delete i[r]._visualValues[t]}}}var dk=n=>n==="reset"||n==="none",A8=(n,e)=>e?n:Object.assign({},n),Kge=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:P7(t,!0),values:null},Ga=class{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=F8(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&A0(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(d,f,p,h)=>d==="x"?f:d==="r"?h:p,i=t.xAxisID=st(r.xAxisID,ck(e,"x")),a=t.yAxisID=st(r.yAxisID,ck(e,"y")),s=t.rAxisID=st(r.rAxisID,ck(e,"r")),l=t.indexAxis,u=t.iAxisID=o(l,i,a,s),c=t.vAxisID=o(l,a,i,s);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&vR(this._data,this),e._stacked&&A0(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(_t(t))this._data=$ge(t);else if(r!==t){if(r){vR(r,this);let o=this._cachedMeta;A0(o),o._parsed=[]}t&&Object.isExtensible(t)&&Y1(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let i=t._stacked;t._stacked=F8(t.vScale,t),t.stack!==r.stack&&(o=!0,A0(t),t.stack=r.stack),this._resyncElements(e),(o||i!==t._stacked)&&M8(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:r,_data:o}=this,{iScale:i,_stacked:a}=r,s=i.axis,l=e===0&&t===o.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,d,f;if(this._parsing===!1)r._parsed=o,r._sorted=!0,f=o;else{En(o[e])?f=this.parseArrayData(r,o,e,t):_t(o[e])?f=this.parseObjectData(r,o,e,t):f=this.parsePrimitiveData(r,o,e,t);let p=()=>d[s]===null||u&&d[s]<u[s];for(c=0;c<t;++c)r._parsed[c+e]=d=f[c],l&&(p()&&(l=!1),u=d);r._sorted=l}a&&M8(this,f)}parsePrimitiveData(e,t,r,o){let{iScale:i,vScale:a}=e,s=i.axis,l=a.axis,u=i.getLabels(),c=i===a,d=new Array(o),f,p,h;for(f=0,p=o;f<p;++f)h=f+r,d[f]={[s]:c||i.parse(u[h],h),[l]:a.parse(t[h],h)};return d}parseArrayData(e,t,r,o){let{xScale:i,yScale:a}=e,s=new Array(o),l,u,c,d;for(l=0,u=o;l<u;++l)c=l+r,d=t[c],s[l]={x:i.parse(d[0],c),y:a.parse(d[1],c)};return s}parseObjectData(e,t,r,o){let{xScale:i,yScale:a}=e,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=new Array(o),c,d,f,p;for(c=0,d=o;c<d;++c)f=c+r,p=t[f],u[c]={x:i.parse(Yu(p,s),f),y:a.parse(Yu(p,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){let o=this.chart,i=this._cachedMeta,a=t[e.axis],s={keys:P7(o,!0),values:t._stacks[e.axis]._visualValues};return I8(s,a,i.index,{mode:r})}updateRangeFromParsed(e,t,r,o){let i=r[t.axis],a=i===null?NaN:i,s=o&&r._stacks[t.axis];o&&s&&(o.values=s,a=I8(o,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let r=this._cachedMeta,o=r._parsed,i=r._sorted&&e===r.iScale,a=o.length,s=this._getOtherScale(e),l=Kge(t,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=Wge(s),f,p;function h(){p=o[f];let m=p[s.axis];return!nr(p[e.axis])||c>m||d<m}for(f=0;f<a&&!(!h()&&(this.updateRangeFromParsed(u,e,p,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!h()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){let t=this._cachedMeta._parsed,r=[],o,i,a;for(o=0,i=t.length;o<i;++o)a=t[o][e.axis],nr(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,r=t.iScale,o=t.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:o?""+o.getLabelForValue(i[o.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=Hge(st(this.options.clip,Gge(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,r=this._cachedMeta,o=r.data||[],i=t.chartArea,a=[],s=this._drawStart||0,l=this._drawCount||o.length-s,u=this.options.drawActiveElementsOnTop,c;for(r.dataset&&r.dataset.draw(e,i,s,l),c=s;c<s+l;++c){let d=o[c];d.hidden||(d.active&&u?a.push(d):d.draw(e,i))}for(c=0;c<a.length;++c)a[c].draw(e,i)}getStyle(e,t){let r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){let o=this.getDataset(),i;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];i=a.$context||(a.$context=jge(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=o.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Uge(this.chart.getContext(),this.index)),i.dataset=o,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){let o=t==="active",i=this._cachedDataOpts,a=e+"-"+t,s=i[a],l=this.enableOptionSharing&&Cm(r);if(s)return A8(s,l);let u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=o?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),c),p=Object.keys(dr.elements[e]),h=()=>this.getContext(r,o,t),m=u.resolveNamedOptions(f,p,h,d);return m.$shared&&(m.$shared=l,i[a]=Object.freeze(A8(m,l))),m}_resolveAnimations(e,t,r){let o=this.chart,i=this._cachedDataOpts,a=`animation-${t}`,s=i[a];if(s)return s;let l;if(o.options.animation!==!1){let c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,t),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(e,r,t))}let u=new KR(o,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||dk(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let r=this.resolveDataElementOptions(e,t),o=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(t,i)||i!==o;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:a}}updateElement(e,t,r,o){dk(o)?Object.assign(e,r):this._resolveAnimations(t,o).update(e,r)}updateSharedOptions(e,t,r){e&&!dk(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,o){e.active=o;let i=this.getStyle(t,o);this._resolveAnimations(t,r,o).update(e,{options:!o&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,r=this._cachedMeta.data;for(let[s,l,u]of this._syncList)this[s](l,u);this._syncList=[];let o=r.length,i=t.length,a=Math.min(i,o);a&&this.parse(0,a),i>o?this._insertElements(o,i-o,e):i<o&&this._removeElements(i,o-i)}_insertElements(e,t,r=!0){let o=this._cachedMeta,i=o.data,a=e+t,s,l=u=>{for(u.length+=t,s=u.length-1;s>=a;s--)u[s]=u[s-t]};for(l(i),s=e;s<a;++s)i[s]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,t),r&&this.updateElements(i,e,t,"reset")}updateElements(e,t,r,o){}_removeElements(e,t){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(e,t);r._stacked&&A0(r,o)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,r,o]=e;this[t](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};Se(Ga,"defaults",{}),Se(Ga,"datasetElementType",null),Se(Ga,"dataElementType",null);function qge(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),r=[];for(let o=0,i=t.length;o<i;o++)r=r.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=yR(r.sort((o,i)=>o-i))}return n._cache.$bar}function Yge(n){let e=n.iScale,t=qge(e,n.type),r=e._length,o,i,a,s,l=()=>{a===32767||a===-32768||(Cm(s)&&(r=Math.min(r,Math.abs(a-s)||r)),s=a)};for(o=0,i=t.length;o<i;++o)a=e.getPixelForValue(t[o]),l();for(s=void 0,o=0,i=e.ticks.length;o<i;++o)a=e.getPixelForTick(o),l();return r}function Xge(n,e,t,r){let o=t.barThickness,i,a;return At(o)?(i=e.min*t.categoryPercentage,a=t.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[n]-i/2}}function Zge(n,e,t,r){let o=e.pixels,i=o[n],a=n>0?o[n-1]:null,s=n<o.length-1?o[n+1]:null,l=t.categoryPercentage;a===null&&(a=i-(s===null?e.end-e.start:s-i)),s===null&&(s=i+i-a);let u=i-(i-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:t.barPercentage,start:u}}function Qge(n,e,t,r){let o=t.parse(n[0],r),i=t.parse(n[1],r),a=Math.min(o,i),s=Math.max(o,i),l=a,u=s;Math.abs(a)>Math.abs(s)&&(l=s,u=a),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:o,end:i,min:a,max:s}}function O7(n,e,t,r){return En(n)?Qge(n,e,t,r):e[t.axis]=t.parse(n,r),e}function N8(n,e,t,r){let o=n.iScale,i=n.vScale,a=o.getLabels(),s=o===i,l=[],u,c,d,f;for(u=t,c=t+r;u<c;++u)f=e[u],d={},d[o.axis]=s||o.parse(a[u],u),l.push(O7(f,d,i,u));return l}function fk(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Jge(n,e,t){return n!==0?Vs(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function eve(n){let e,t,r,o,i;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(o="end",i="start"):(o="start",i="end"),{start:t,end:r,reverse:e,top:o,bottom:i}}function tve(n,e,t,r){let o=e.borderSkipped,i={};if(!o){n.borderSkipped=i;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:a,end:s,reverse:l,top:u,bottom:c}=eve(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?o=u:(t._bottom||0)===r?o=c:(i[k8(c,a,s,l)]=!0,o=u)),i[k8(o,a,s,l)]=!0,n.borderSkipped=i}function k8(n,e,t,r){return r?(n=nve(n,e,t),n=V8(n,t,e)):n=V8(n,e,t),n}function nve(n,e,t){return n===e?t:n===t?e:n}function V8(n,e,t){return n==="start"?e:n==="end"?t:n}function rve(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var ey=class extends Ga{parsePrimitiveData(e,t,r,o){return N8(e,t,r,o)}parseArrayData(e,t,r,o){return N8(e,t,r,o)}parseObjectData(e,t,r,o){let{iScale:i,vScale:a}=e,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?s:l,c=a.axis==="x"?s:l,d=[],f,p,h,m;for(f=r,p=r+o;f<p;++f)m=t[f],h={},h[i.axis]=i.parse(Yu(m,u),f),d.push(O7(Yu(m,c),h,a,f));return d}updateRangeFromParsed(e,t,r,o){super.updateRangeFromParsed(e,t,r,o);let i=r._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:r,vScale:o}=t,i=this.getParsed(e),a=i._custom,s=fk(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(i[o.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,o){let i=o==="reset",{index:a,_cachedMeta:{vScale:s}}=this,l=s.getBasePixel(),u=s.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(t,o);for(let p=t;p<t+r;p++){let h=this.getParsed(p),m=i||At(h[s.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,c),g=(h._stacks||{})[s.axis],y={horizontal:u,base:m.base,enableBorderRadius:!g||fk(h._custom)||a===g._top||a===g._bottom,x:u?m.head:v.center,y:u?v.center:m.head,height:u?v.size:Math.abs(m.size),width:u?Math.abs(m.size):v.size};f&&(y.options=d||this.resolveDataElementOptions(p,e[p].active?"active":o));let C=y.options||e[p].options;tve(y,C,g,a),rve(y,C,c.ratio),this.updateElement(e[p],p,y,o)}}_getStacks(e,t){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),i=r.options.stacked,a=[],s=l=>{let u=l.controller.getParsed(t),c=u&&u[l.vScale.axis];if(At(c)||isNaN(c))return!0};for(let l of o)if(!(t!==void 0&&s(l))&&((i===!1||a.indexOf(l.stack)===-1||i===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){let o=this._getStacks(e,r),i=t!==void 0?o.indexOf(t):-1;return i===-1?o.length-1:i}_getRuler(){let e=this.options,t=this._cachedMeta,r=t.iScale,o=[],i,a;for(i=0,a=t.data.length;i<a;++i)o.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));let s=e.barThickness;return{min:s||Yge(t),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:r,index:o},options:{base:i,minBarLength:a}}=this,s=i||0,l=this.getParsed(e),u=l._custom,c=fk(u),d=l[t.axis],f=0,p=r?this.applyStack(t,l,r):d,h,m;p!==d&&(f=p-d,p=d),c&&(d=u.barStart,p=u.barEnd-u.barStart,d!==0&&Vs(d)!==Vs(u.barEnd)&&(f=0),f+=d);let v=!At(i)&&!c?i:f,g=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?h=t.getPixelForValue(f+p):h=g,m=h-g,Math.abs(m)<a){m=Jge(m,t,s)*a,d===s&&(g-=m/2);let y=t.getPixelForDecimal(0),C=t.getPixelForDecimal(1),w=Math.min(y,C),b=Math.max(y,C);g=Math.max(Math.min(g,b),w),h=g+m,r&&!c&&(l._stacks[t.axis]._visualValues[o]=t.getValueForPixel(h)-t.getValueForPixel(g))}if(g===t.getPixelForValue(s)){let y=Vs(m)*t.getLineWidthForValue(s)/2;g+=y,m-=y}return{size:m,base:g,head:h,center:h+m/2}}_calculateBarIndexPixels(e,t){let r=t.scale,o=this.options,i=o.skipNull,a=st(o.maxBarThickness,1/0),s,l;if(t.grouped){let u=i?this._getStackCount(e):t.stackCount,c=o.barThickness==="flex"?Zge(e,t,o,u):Xge(e,t,o,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);s=c.start+c.chunk*d+c.chunk/2,l=Math.min(a,c.chunk*c.ratio)}else s=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,t.min*t.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}}draw(){let e=this._cachedMeta,t=e.vScale,r=e.data,o=r.length,i=0;for(;i<o;++i)this.getParsed(i)[t.axis]!==null&&r[i].draw(this._ctx)}};Se(ey,"id","bar"),Se(ey,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Se(ey,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var ty=class extends Ga{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,o){let i=super.parsePrimitiveData(e,t,r,o);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,t,r,o){let i=super.parseArrayData(e,t,r,o);for(let a=0;a<i.length;a++){let s=t[r+a];i[a]._custom=st(s[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,t,r,o){let i=super.parseObjectData(e,t,r,o);for(let a=0;a<i.length;a++){let s=t[r+a];i[a]._custom=st(s&&s.r&&+s.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:i}=t,a=this.getParsed(e),s=o.getLabelForValue(a.x),l=i.getLabelForValue(a.y),u=a._custom;return{label:r[e]||"",value:"("+s+", "+l+(u?", "+u:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,o){let i=o==="reset",{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,o),c=a.axis,d=s.axis;for(let f=t;f<t+r;f++){let p=e[f],h=!i&&this.getParsed(f),m={},v=m[c]=i?a.getPixelForDecimal(.5):a.getPixelForValue(h[c]),g=m[d]=i?s.getBasePixel():s.getPixelForValue(h[d]);m.skip=isNaN(v)||isNaN(g),u&&(m.options=l||this.resolveDataElementOptions(f,p.active?"active":o),i&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(e,t){let r=this.getParsed(e),o=super.resolveDataElementOptions(e,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let i=o.radius;return t!=="active"&&(o.radius=0),o.radius+=st(r&&r._custom,i),o}};Se(ty,"id","bubble"),Se(ty,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Se(ty,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function ove(n,e,t){let r=1,o=1,i=0,a=0;if(e<Dn){let s=n,l=s+e,u=Math.cos(s),c=Math.sin(s),d=Math.cos(l),f=Math.sin(l),p=(C,w,b)=>Sm(C,s,l,!0)?1:Math.max(w,w*t,b,b*t),h=(C,w,b)=>Sm(C,s,l,!0)?-1:Math.min(w,w*t,b,b*t),m=p(0,u,d),v=p(cr,c,f),g=h(xn,u,d),y=h(xn+cr,c,f);r=(m-g)/2,o=(v-y)/2,i=-(m+g)/2,a=-(v+y)/2}return{ratioX:r,ratioY:o,offsetX:i,offsetY:a}}var Rd=class extends Ga{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let i=l=>+r[l];if(_t(r[e])){let{key:l="value"}=this._parsing;i=u=>+Yu(r[u],l)}let a,s;for(a=e,s=e+t;a<s;++a)o._parsed[a]=i(a)}}_getRotation(){return Va(this.options.rotation-90)}_getCircumference(){return Va(this.options.circumference)}_getRotationExtents(){let e=Dn,t=-Dn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,i=o._getRotation(),a=o._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:r}=t,o=this._cachedMeta,i=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(B1(this.options.cutout,s),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:h,offsetY:m}=ove(d,c,l),v=(r.width-a)/f,g=(r.height-a)/p,y=Math.max(Math.min(v,g)/2,0),C=dR(this.options.radius,y),w=Math.max(C*l,0),b=(C-w)/this._getVisibleDatasetWeightTotal();this.offsetX=h*C,this.offsetY=m*C,o.total=this.calculateTotal(),this.outerRadius=C-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){let r=this.options,o=this._cachedMeta,i=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*i/Dn)}updateElements(e,t,r,o){let i=o==="reset",a=this.chart,s=a.chartArea,u=a.options.animation,c=(s.left+s.right)/2,d=(s.top+s.bottom)/2,f=i&&u.animateScale,p=f?0:this.innerRadius,h=f?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,o),g=this._getRotation(),y;for(y=0;y<t;++y)g+=this._circumference(y,i);for(y=t;y<t+r;++y){let C=this._circumference(y,i),w=e[y],b={x:c+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+C,circumference:C,outerRadius:h,innerRadius:p};v&&(b.options=m||this.resolveDataElementOptions(y,w.active?"active":o)),g+=C,this.updateElement(w,y,b,o)}}calculateTotal(){let e=this._cachedMeta,t=e.data,r=0,o;for(o=0;o<t.length;o++){let i=e._parsed[o];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Dn*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,o=r.data.labels||[],i=bm(t._parsed[e],r.options.locale);return{label:o[e]||"",value:i}}getMaxBorderWidth(e){let t=0,r=this.chart,o,i,a,s,l;if(!e){for(o=0,i=r.data.datasets.length;o<i;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,s=a.controller;break}}if(!e)return 0;for(o=0,i=e.length;o<i;++o)l=s.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,o=e.length;r<o;++r){let i=this.resolveDataElementOptions(r);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(st(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};Se(Rd,"id","doughnut"),Se(Rd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Se(Rd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Se(Rd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return t.labels.map((i,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});var ny=class extends Ga{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:r,data:o=[],_dataset:i}=t,a=this.chart._animationsDisabled,{start:s,count:l}=SR(t,o,a);this._drawStart=s,this._drawCount=l,bR(t)&&(s=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=o;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(o,s,l,e)}updateElements(e,t,r,o){let i=o==="reset",{iScale:a,vScale:s,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,o),f=a.axis,p=s.axis,{spanGaps:h,segment:m}=this.options,v=dp(h)?h:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||o==="none",y=t+r,C=e.length,w=t>0&&this.getParsed(t-1);for(let b=0;b<C;++b){let E=e[b],D=g?E:{};if(b<t||b>=y){D.skip=!0;continue}let S=this.getParsed(b),T=At(S[p]),O=D[f]=a.getPixelForValue(S[f],b),L=D[p]=i||T?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,S,l):S[p],b);D.skip=isNaN(O)||isNaN(L)||T,D.stop=b>0&&Math.abs(S[f]-w[f])>v,m&&(D.parsed=S,D.raw=u.data[b]),d&&(D.options=c||this.resolveDataElementOptions(b,E.active?"active":o)),g||this.updateElement(E,b,D,o),w=S}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return r;let i=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,i,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}};Se(ny,"id","line"),Se(ny,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Se(ny,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var Pm=class extends Ga{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,o=r.data.labels||[],i=bm(t._parsed[e].r,r.options.locale);return{label:o[e]||"",value:i}}parseObjectData(e,t,r,o){return OR.bind(this)(e,t,r,o)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,o)=>{let i=this.getParsed(o).r;!isNaN(i)&&this.chart.getDataVisibility(o)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,r=e.options,o=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),s=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,r,o){let i=o==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,d=u.yCenter,f=u.getIndexAngle(0)-.5*xn,p=f,h,m=360/this.countVisibleElements();for(h=0;h<t;++h)p+=this._computeAngle(h,o,m);for(h=t;h<t+r;h++){let v=e[h],g=p,y=p+this._computeAngle(h,o,m),C=a.getDataVisibility(h)?u.getDistanceFromCenterForValue(this.getParsed(h).r):0;p=y,i&&(l.animateScale&&(C=0),l.animateRotate&&(g=y=f));let w={x:c,y:d,innerRadius:0,outerRadius:C,startAngle:g,endAngle:y,options:this.resolveDataElementOptions(h,v.active?"active":o)};this.updateElement(v,h,w,o)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?Va(this.resolveDataElementOptions(e,t).angle||r):0}};Se(Pm,"id","polarArea"),Se(Pm,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Se(Pm,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return t.labels.map((i,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var H0=class extends Rd{};Se(H0,"id","pie"),Se(H0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var ry=class extends Ga{getLabelAndValue(e){let t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,o){return OR.bind(this)(e,t,r,o)}update(e){let t=this._cachedMeta,r=t.dataset,o=t.data||[],i=t.iScale.getLabels();if(r.points=o,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let s={_loop:!0,_fullLoop:i.length===o.length,options:a};this.updateElement(r,void 0,s,e)}this.updateElements(o,0,o.length,e)}updateElements(e,t,r,o){let i=this._cachedMeta.rScale,a=o==="reset";for(let s=t;s<t+r;s++){let l=e[s],u=this.resolveDataElementOptions(s,l.active?"active":o),c=i.getPointPositionForValue(s,this.getParsed(s).r),d=a?i.xCenter:c.x,f=a?i.yCenter:c.y,p={x:d,y:f,angle:c.angle,skip:isNaN(d)||isNaN(f),options:u};this.updateElement(l,s,p,o)}}};Se(ry,"id","radar"),Se(ry,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Se(ry,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var oy=class extends Ga{getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:i}=t,a=this.getParsed(e),s=o.getLabelForValue(a.x),l=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+s+", "+l+")"}}update(e){let t=this._cachedMeta,{data:r=[]}=t,o=this.chart._animationsDisabled,{start:i,count:a}=SR(t,r,o);if(this._drawStart=i,this._drawCount=a,bR(t)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:s,_dataset:l}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=r;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,o){let i=o==="reset",{iScale:a,vScale:s,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(t,o),d=this.getSharedOptions(c),f=this.includeOptions(o,d),p=a.axis,h=s.axis,{spanGaps:m,segment:v}=this.options,g=dp(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||o==="none",C=t>0&&this.getParsed(t-1);for(let w=t;w<t+r;++w){let b=e[w],E=this.getParsed(w),D=y?b:{},S=At(E[h]),T=D[p]=a.getPixelForValue(E[p],w),O=D[h]=i||S?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,E,l):E[h],w);D.skip=isNaN(T)||isNaN(O)||S,D.stop=w>0&&Math.abs(E[p]-C[p])>g,v&&(D.parsed=E,D.raw=u.data[w]),f&&(D.options=d||this.resolveDataElementOptions(w,b.active?"active":o)),y||this.updateElement(b,w,D,o),C=E}this.updateSharedOptions(d,o,c)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let s=0;for(let l=t.length-1;l>=0;--l)s=Math.max(s,t[l].size(this.resolveDataElementOptions(l))/2);return s>0&&s}let r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!t.length)return o;let i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,i,a)/2}};Se(oy,"id","scatter"),Se(oy,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Se(oy,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var ive=Object.freeze({__proto__:null,BarController:ey,BubbleController:ty,DoughnutController:Rd,LineController:ny,PieController:H0,PolarAreaController:Pm,RadarController:ry,ScatterController:oy});function xm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var q0=class{constructor(e){Se(this,"options");this.options=e||{}}static override(e){Object.assign(q0.prototype,e)}init(){}formats(){return xm()}parse(){return xm()}format(){return xm()}add(){return xm()}diff(){return xm()}startOf(){return xm()}endOf(){return xm()}},ave={_date:q0};function sve(n,e,t,r){let{controller:o,data:i,_sorted:a}=n,s=o._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&a&&i.length){let l=s._reversePixels?K1:Ml;if(r){if(o._sharedOptions){let u=i[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){let d=l(i,e,t-c),f=l(i,e,t+c);return{lo:d.lo,hi:f.hi}}}}else return l(i,e,t)}return{lo:0,hi:i.length-1}}function Q0(n,e,t,r,o){let i=n.getSortedVisibleDatasetMetas(),a=t[e];for(let s=0,l=i.length;s<l;++s){let{index:u,data:c}=i[s],{lo:d,hi:f}=sve(i[s],e,a,o);for(let p=d;p<=f;++p){let h=c[p];h.skip||r(h,u,p)}}}function lve(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,o){let i=e?Math.abs(r.x-o.x):0,a=t?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function pk(n,e,t,r,o){let i=[];return!o&&!n.isPointInArea(e)||Q0(n,t,e,function(s,l,u){!o&&!Al(s,n.chartArea,0)||s.inRange(e.x,e.y,r)&&i.push({element:s,datasetIndex:l,index:u})},!0),i}function uve(n,e,t,r){let o=[];function i(a,s,l){let{startAngle:u,endAngle:c}=a.getProps(["startAngle","endAngle"],r),{angle:d}=gR(a,{x:e.x,y:e.y});Sm(d,u,c)&&o.push({element:a,datasetIndex:s,index:l})}return Q0(n,t,e,i),o}function cve(n,e,t,r,o,i){let a=[],s=lve(t),l=Number.POSITIVE_INFINITY;function u(c,d,f){let p=c.inRange(e.x,e.y,o);if(r&&!p)return;let h=c.getCenterPoint(o);if(!(!!i||n.isPointInArea(h))&&!p)return;let v=s(e,h);v<l?(a=[{element:c,datasetIndex:d,index:f}],l=v):v===l&&a.push({element:c,datasetIndex:d,index:f})}return Q0(n,t,e,u),a}function hk(n,e,t,r,o,i){return!i&&!n.isPointInArea(e)?[]:t==="r"&&!r?uve(n,e,t,o):cve(n,e,t,r,o,i)}function G8(n,e,t,r,o){let i=[],a=t==="x"?"inXRange":"inYRange",s=!1;return Q0(n,t,e,(l,u,c)=>{l[a](e[t],o)&&(i.push({element:l,datasetIndex:u,index:c}),s=s||l.inRange(e.x,e.y,o))}),r&&!s?[]:i}var dve={evaluateInteractionItems:Q0,modes:{index(n,e,t,r){let o=Vl(e,n),i=t.axis||"x",a=t.includeInvisible||!1,s=t.intersect?pk(n,o,i,r,a):hk(n,o,i,!1,r,a),l=[];return s.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{let c=s[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(n,e,t,r){let o=Vl(e,n),i=t.axis||"xy",a=t.includeInvisible||!1,s=t.intersect?pk(n,o,i,r,a):hk(n,o,i,!1,r,a);if(s.length>0){let l=s[0].datasetIndex,u=n.getDatasetMeta(l).data;s=[];for(let c=0;c<u.length;++c)s.push({element:u[c],datasetIndex:l,index:c})}return s},point(n,e,t,r){let o=Vl(e,n),i=t.axis||"xy",a=t.includeInvisible||!1;return pk(n,o,i,r,a)},nearest(n,e,t,r){let o=Vl(e,n),i=t.axis||"xy",a=t.includeInvisible||!1;return hk(n,o,i,t.intersect,r,a)},x(n,e,t,r){let o=Vl(e,n);return G8(n,o,"x",t.intersect,r)},y(n,e,t,r){let o=Vl(e,n);return G8(n,o,"y",t.intersect,r)}}},I7=["left","top","right","bottom"];function N0(n,e){return n.filter(t=>t.pos===e)}function H8(n,e){return n.filter(t=>I7.indexOf(t.pos)===-1&&t.box.axis===e)}function k0(n,e){return n.sort((t,r)=>{let o=e?r:t,i=e?t:r;return o.weight===i.weight?o.index-i.index:o.weight-i.weight})}function fve(n){let e=[],t,r,o,i,a,s;for(t=0,r=(n||[]).length;t<r;++t)o=n[t],{position:i,options:{stack:a,stackWeight:s=1}}=o,e.push({index:t,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&i+a,stackWeight:s});return e}function pve(n){let e={};for(let t of n){let{stack:r,pos:o,stackWeight:i}=t;if(!r||!I7.includes(o))continue;let a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function hve(n,e){let t=pve(n),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e,i,a,s;for(i=0,a=n.length;i<a;++i){s=n[i];let{fullSize:l}=s.box,u=t[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*r:l&&e.availableWidth,s.height=o):(s.width=r,s.height=c?c*o:l&&e.availableHeight)}return t}function mve(n){let e=fve(n),t=k0(e.filter(u=>u.box.fullSize),!0),r=k0(N0(e,"left"),!0),o=k0(N0(e,"right")),i=k0(N0(e,"top"),!0),a=k0(N0(e,"bottom")),s=H8(e,"x"),l=H8(e,"y");return{fullSize:t,leftAndTop:r.concat(i),rightAndBottom:o.concat(l).concat(a).concat(s),chartArea:N0(e,"chartArea"),vertical:r.concat(o).concat(l),horizontal:i.concat(a).concat(s)}}function $8(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function F7(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function gve(n,e,t,r){let{pos:o,box:i}=t,a=n.maxPadding;if(!_t(o)){t.size&&(n[o]-=t.size);let d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?i.height:i.width),t.size=d.size/d.count,n[o]+=t.size}i.getPadding&&F7(a,i.getPadding());let s=Math.max(0,e.outerWidth-$8(a,n,"left","right")),l=Math.max(0,e.outerHeight-$8(a,n,"top","bottom")),u=s!==n.w,c=l!==n.h;return n.w=s,n.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function vve(n){let e=n.maxPadding;function t(r){let o=Math.max(e[r]-n[r],0);return n[r]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function yve(n,e){let t=e.maxPadding;function r(o){let i={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{i[a]=Math.max(e[a],t[a])}),i}return r(n?["left","right"]:["top","bottom"])}function $0(n,e,t,r){let o=[],i,a,s,l,u,c;for(i=0,a=n.length,u=0;i<a;++i){s=n[i],l=s.box,l.update(s.width||e.w,s.height||e.h,yve(s.horizontal,e));let{same:d,other:f}=gve(e,t,s,r);u|=d&&o.length,c=c||f,l.fullSize||o.push(s)}return u&&$0(o,e,t,r)||c}function VR(n,e,t,r,o){n.top=t,n.left=e,n.right=e+r,n.bottom=t+o,n.width=r,n.height=o}function B8(n,e,t,r){let o=t.padding,{x:i,y:a}=e;for(let s of n){let l=s.box,u=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/u.weight||1;if(s.horizontal){let d=e.w*c,f=u.size||l.height;Cm(u.start)&&(a=u.start),l.fullSize?VR(l,o.left,a,t.outerWidth-o.right-o.left,f):VR(l,e.left+u.placed,a,d,f),u.start=a,u.placed+=d,a=l.bottom}else{let d=e.h*c,f=u.size||l.width;Cm(u.start)&&(i=u.start),l.fullSize?VR(l,i,o.top,f,t.outerHeight-o.bottom-o.top):VR(l,i,e.top+u.placed,f,d),u.start=i,u.placed+=d,i=l.right}}e.x=i,e.y=a}var mi={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;let o=To(n.options.layout.padding),i=Math.max(e-o.width,0),a=Math.max(t-o.height,0),s=mve(n.boxes),l=s.vertical,u=s.horizontal;Zt(n.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});let c=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},o);F7(f,To(r));let p=Object.assign({maxPadding:f,w:i,h:a,x:o.left,y:o.top},o),h=hve(l.concat(u),d);$0(s.fullSize,p,d,h),$0(l,p,d,h),$0(u,p,d,h)&&$0(l,p,d,h),vve(p),B8(s.leftAndTop,p,d,h),p.x+=p.w,p.y+=p.h,B8(s.rightAndBottom,p,d,h),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Zt(s.chartArea,m=>{let v=m.box;Object.assign(v,n.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},qR=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,o){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):r)}}isAttached(e){return!0}updateConfig(e){}},Sk=class extends qR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},UR="$chartjs",Cve={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},W8=n=>n===null||n==="";function wve(n,e){let t=n.style,r=n.getAttribute("height"),o=n.getAttribute("width");if(n[UR]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",W8(o)){let i=LR(n,"width");i!==void 0&&(n.width=i)}if(W8(r))if(n.style.height==="")n.height=n.width/(e||2);else{let i=LR(n,"height");i!==void 0&&(n.height=i)}return n}var L7=ak?{passive:!0}:!1;function Sve(n,e,t){n.addEventListener(e,t,L7)}function bve(n,e,t){n.canvas.removeEventListener(e,t,L7)}function _ve(n,e){let t=Cve[n.type]||n.type,{x:r,y:o}=Vl(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:o!==void 0?o:null}}function YR(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function Eve(n,e,t){let r=n.canvas,o=new MutationObserver(i=>{let a=!1;for(let s of i)a=a||YR(s.addedNodes,r),a=a&&!YR(s.removedNodes,r);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function xve(n,e,t){let r=n.canvas,o=new MutationObserver(i=>{let a=!1;for(let s of i)a=a||YR(s.removedNodes,r),a=a&&!YR(s.addedNodes,r);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}var Y0=new Map,z8=0;function M7(){let n=window.devicePixelRatio;n!==z8&&(z8=n,Y0.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Dve(n,e){Y0.size||window.addEventListener("resize",M7),Y0.set(n,e)}function Rve(n){Y0.delete(n),Y0.size||window.removeEventListener("resize",M7)}function Tve(n,e,t){let r=n.canvas,o=r&&M0(r);if(!o)return;let i=wR((s,l)=>{let u=o.clientWidth;t(s,l),u<o.clientWidth&&t()},window),a=new ResizeObserver(s=>{let l=s[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||i(u,c)});return a.observe(o),Dve(n,i),a}function mk(n,e,t){t&&t.disconnect(),e==="resize"&&Rve(n)}function Pve(n,e,t){let r=n.canvas,o=wR(i=>{n.ctx!==null&&t(_ve(i,n))},n);return Sve(r,e,o),o}var bk=class extends qR{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(wve(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[UR])return!1;let r=t[UR].initial;["height","width"].forEach(i=>{let a=r[i];At(a)?t.removeAttribute(i):t.setAttribute(i,a)});let o=r.style||{};return Object.keys(o).forEach(i=>{t.style[i]=o[i]}),t.width=t.width,delete t[UR],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let o=e.$proxies||(e.$proxies={}),a={attach:Eve,detach:xve,resize:Tve}[t]||Pve;o[t]=a(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),o=r[t];if(!o)return;({attach:mk,detach:mk,resize:mk}[t]||bve)(e,t,o),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,o){return ik(e,t,r,o)}isAttached(e){let t=M0(e);return!!(t&&t.isConnected)}};function Ove(n){return!L0()||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas?Sk:bk}var Ha=class{constructor(){Se(this,"x");Se(this,"y");Se(this,"active",!1);Se(this,"options");Se(this,"$animations")}tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return dp(this.x)&&dp(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let o={};return e.forEach(i=>{o[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),o}};Se(Ha,"defaults",{}),Se(Ha,"defaultRoutes");function Ive(n,e){let t=n.options.ticks,r=Fve(n),o=Math.min(t.maxTicksLimit||r,r),i=t.major.enabled?Mve(e):[],a=i.length,s=i[0],l=i[a-1],u=[];if(a>o)return Ave(e,u,i,a/o),u;let c=Lve(i,e,o);if(a>0){let d,f,p=a>1?Math.round((l-s)/(a-1)):null;for(GR(e,u,c,At(p)?0:s-p,s),d=0,f=a-1;d<f;d++)GR(e,u,c,i[d],i[d+1]);return GR(e,u,c,l,At(p)?e.length:l+p),u}return GR(e,u,c),u}function Fve(n){let e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(r,o))}function Lve(n,e,t){let r=Nve(n),o=e.length/t;if(!r)return Math.max(o,1);let i=z1(r);for(let a=0,s=i.length-1;a<s;a++){let l=i[a];if(l>o)return l}return Math.max(o,1)}function Mve(n){let e=[],t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function Ave(n,e,t,r){let o=0,i=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===i&&(e.push(n[a]),o++,i=t[o*r])}function GR(n,e,t,r,o){let i=st(r,0),a=Math.min(st(o,n.length),n.length),s=0,l,u,c;for(t=Math.ceil(t),o&&(l=o-r,t=l/Math.floor(l/t)),c=i;c<0;)s++,c=Math.round(i+s*t);for(u=Math.max(i,0);u<a;u++)u===c&&(e.push(n[u]),s++,c=Math.round(i+s*t))}function Nve(n){let e=n.length,t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}var kve=n=>n==="left"?"right":n==="right"?"left":n,U8=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,j8=(n,e)=>Math.min(e||n,n);function K8(n,e){let t=[],r=n.length/e,o=n.length,i=0;for(;i<o;i+=r)t.push(n[Math.floor(i)]);return t}function Vve(n,e,t){let r=n.ticks.length,o=Math.min(e,r-1),i=n._startPixel,a=n._endPixel,s=1e-6,l=n.getPixelForTick(o),u;if(!(t&&(r===1?u=Math.max(l-i,a-l):e===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(o-1))/2,l+=o<e?u:-u,l<i-s||l>a+s)))return l}function Gve(n,e){Zt(n,t=>{let r=t.gc,o=r.length/2,i;if(o>e){for(i=0;i<o;++i)delete t.data[r[i]];r.splice(0,o)}})}function V0(n){return n.drawTicks?n.tickLength:0}function q8(n,e){if(!n.display)return 0;let t=Ar(n.font,e),r=To(n.padding);return(En(n.text)?n.text.length:1)*t.lineHeight+r.height}function Hve(n,e){return Xu(n,{scale:e,type:"scale"})}function $ve(n,e,t){return Xu(n,{tick:t,index:e,type:"tick"})}function Bve(n,e,t){let r=T0(n);return(t&&e!=="right"||!t&&e==="right")&&(r=kve(r)),r}function Wve(n,e,t,r){let{top:o,left:i,bottom:a,right:s,chart:l}=n,{chartArea:u,scales:c}=l,d=0,f,p,h,m=a-o,v=s-i;if(n.isHorizontal()){if(p=Ro(r,i,s),_t(t)){let g=Object.keys(t)[0],y=t[g];h=c[g].getPixelForValue(y)+m-e}else t==="center"?h=(u.bottom+u.top)/2+m-e:h=U8(n,t,e);f=s-i}else{if(_t(t)){let g=Object.keys(t)[0],y=t[g];p=c[g].getPixelForValue(y)-v+e}else t==="center"?p=(u.left+u.right)/2-v+e:p=U8(n,t,e);h=Ro(r,a,o),d=t==="left"?-cr:cr}return{titleX:p,titleY:h,maxWidth:f,rotation:d}}var Td=class extends Ha{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return e=Mi(e,Number.POSITIVE_INFINITY),t=Mi(t,Number.NEGATIVE_INFINITY),r=Mi(r,Number.POSITIVE_INFINITY),o=Mi(o,Number.NEGATIVE_INFINITY),{min:Mi(e,r),max:Mi(t,o),minDefined:nr(e),maxDefined:nr(t)}}getMinMax(e){let{min:t,max:r,minDefined:o,maxDefined:i}=this.getUserBounds(),a;if(o&&i)return{min:t,max:r};let s=this.getMatchingVisibleMetas();for(let l=0,u=s.length;l<u;++l)a=s[l].controller.getMinMax(this,e),o||(t=Math.min(t,a.min)),i||(r=Math.max(r,a.max));return t=i&&t>r?r:t,r=o&&t>r?t:r,{min:Mi(t,Mi(r,t)),max:Mi(r,Mi(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mn(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:o,grace:i,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tk(this,i,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?K8(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Ive(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mn(this.options.afterUpdate,[this])}beforeSetDimensions(){mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r],i.label=mn(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,r=j8(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,i=t.maxRotation,a=o,s,l,u;if(!this._isVisible()||!t.display||o>=i||r<=1||!this.isHorizontal()){this.labelRotation=o;return}let c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,p=qr(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/r:p/(r-1),d+6>s&&(s=p/(r-(e.offset?.5:1)),l=this.maxHeight-V0(e.grid)-t.padding-q8(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),a=D0(Math.min(Math.asin(qr((c.highest.height+6)/s,-1,1)),Math.asin(qr(l/u,-1,1))-Math.asin(qr(f/u,-1,1)))),a=Math.max(o,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mn(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:i}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let l=q8(o,t.options.font);if(s?(e.width=this.maxWidth,e.height=V0(i)+l):(e.height=this.maxHeight,e.width=V0(i)+l),r.display&&this.ticks.length){let{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,h=Va(this.labelRotation),m=Math.cos(h),v=Math.sin(h);if(s){let g=r.mirror?0:v*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{let g=r.mirror?0:m*d.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(u,c,v,m)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,o){let{ticks:{align:i,padding:a},position:s}=this.options,l=this.labelRotation!==0,u=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;l?u?(f=o*e.width,p=r*t.height):(f=r*e.height,p=o*t.width):i==="start"?p=t.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-d+a)*this.width/(this.width-d),0)}else{let c=t.height/2,d=e.height/2;i==="start"?(c=0,d=e.height):i==="end"&&(c=t.height,d=0),this.paddingTop=c+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mn(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)At(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=K8(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let{ctx:o,_longestTextCache:i}=this,a=[],s=[],l=Math.floor(t/j8(t,r)),u=0,c=0,d,f,p,h,m,v,g,y,C,w,b;for(d=0;d<t;d+=l){if(h=e[d].label,m=this._resolveTickFontOptions(d),o.font=v=m.string,g=i[v]=i[v]||{data:{},gc:[]},y=m.lineHeight,C=w=0,!At(h)&&!En(h))C=qv(o,g.data,g.gc,C,h),w=y;else if(En(h))for(f=0,p=h.length;f<p;++f)b=h[f],!At(b)&&!En(b)&&(C=qv(o,g.data,g.gc,C,b),w+=y);a.push(C),s.push(w),u=Math.max(C,u),c=Math.max(w,c)}Gve(i,t);let E=a.indexOf(u),D=s.indexOf(c),S=T=>({width:a[T]||0,height:s[T]||0});return{first:S(0),last:S(t-1),widest:S(E),highest:S(D),widths:a,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return j1(this._alignToPixels?bd(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=$ve(this.getContext(),e,r))}return this.$context||(this.$context=Hve(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=Va(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,s=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>s*o?s/r:l/o:l*o<s*r?l/r:s/o}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,r=this.chart,o=this.options,{grid:i,position:a,border:s}=o,l=i.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=V0(i),p=[],h=s.setContext(this.getContext()),m=h.display?h.width:0,v=m/2,g=function(K){return bd(r,K,m)},y,C,w,b,E,D,S,T,O,L,k,A;if(a==="top")y=g(this.bottom),D=this.bottom-f,T=y-v,L=g(e.top)+v,A=e.bottom;else if(a==="bottom")y=g(this.top),L=e.top,A=g(e.bottom)-v,D=y+v,T=this.top+f;else if(a==="left")y=g(this.right),E=this.right-f,S=y-v,O=g(e.left)+v,k=e.right;else if(a==="right")y=g(this.left),O=e.left,k=g(e.right)-v,E=y+v,S=this.left+f;else if(t==="x"){if(a==="center")y=g((e.top+e.bottom)/2+.5);else if(_t(a)){let K=Object.keys(a)[0],V=a[K];y=g(this.chart.scales[K].getPixelForValue(V))}L=e.top,A=e.bottom,D=y+v,T=D+f}else if(t==="y"){if(a==="center")y=g((e.left+e.right)/2);else if(_t(a)){let K=Object.keys(a)[0],V=a[K];y=g(this.chart.scales[K].getPixelForValue(V))}E=y-v,S=E-f,O=e.left,k=e.right}let $=st(o.ticks.maxTicksLimit,d),G=Math.max(1,Math.ceil(d/$));for(C=0;C<d;C+=G){let K=this.getContext(C),V=i.setContext(K),Y=s.setContext(K),Q=V.lineWidth,X=V.color,fe=Y.dash||[],ne=Y.dashOffset,me=V.tickWidth,de=V.tickColor,Ce=V.tickBorderDash||[],ge=V.tickBorderDashOffset;w=Vve(this,C,l),w!==void 0&&(b=bd(r,w,Q),u?E=S=O=k=b:D=T=L=A=b,p.push({tx1:E,ty1:D,tx2:S,ty2:T,x1:O,y1:L,x2:k,y2:A,width:Q,color:X,borderDash:fe,borderDashOffset:ne,tickWidth:me,tickColor:de,tickBorderDash:Ce,tickBorderDashOffset:ge}))}return this._ticksLength=d,this._borderValue=y,p}_computeLabelItems(e){let t=this.axis,r=this.options,{position:o,ticks:i}=r,a=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=i,f=V0(r.grid),p=f+c,h=d?-c:p,m=-Va(this.labelRotation),v=[],g,y,C,w,b,E,D,S,T,O,L,k,A="middle";if(o==="top")E=this.bottom-h,D=this._getXAxisLabelAlignment();else if(o==="bottom")E=this.top+h,D=this._getXAxisLabelAlignment();else if(o==="left"){let G=this._getYAxisLabelAlignment(f);D=G.textAlign,b=G.x}else if(o==="right"){let G=this._getYAxisLabelAlignment(f);D=G.textAlign,b=G.x}else if(t==="x"){if(o==="center")E=(e.top+e.bottom)/2+p;else if(_t(o)){let G=Object.keys(o)[0],K=o[G];E=this.chart.scales[G].getPixelForValue(K)+p}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")b=(e.left+e.right)/2-p;else if(_t(o)){let G=Object.keys(o)[0],K=o[G];b=this.chart.scales[G].getPixelForValue(K)}D=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));let $=this._getLabelSizes();for(g=0,y=s.length;g<y;++g){C=s[g],w=C.label;let G=i.setContext(this.getContext(g));S=this.getPixelForTick(g)+i.labelOffset,T=this._resolveTickFontOptions(g),O=T.lineHeight,L=En(w)?w.length:1;let K=L/2,V=G.color,Y=G.textStrokeColor,Q=G.textStrokeWidth,X=D;a?(b=S,D==="inner"&&(g===y-1?X=this.options.reverse?"left":"right":g===0?X=this.options.reverse?"right":"left":X="center"),o==="top"?u==="near"||m!==0?k=-L*O+O/2:u==="center"?k=-$.highest.height/2-K*O+O:k=-$.highest.height+O/2:u==="near"||m!==0?k=O/2:u==="center"?k=$.highest.height/2-K*O:k=$.highest.height-L*O,d&&(k*=-1),m!==0&&!G.showLabelBackdrop&&(b+=O/2*Math.sin(m))):(E=S,k=(1-L)*O/2);let fe;if(G.showLabelBackdrop){let ne=To(G.backdropPadding),me=$.heights[g],de=$.widths[g],Ce=k-ne.top,ge=0-ne.left;switch(A){case"middle":Ce-=me/2;break;case"bottom":Ce-=me;break}switch(D){case"center":ge-=de/2;break;case"right":ge-=de;break;case"inner":g===y-1?ge-=de:g>0&&(ge-=de/2);break}fe={left:ge,top:Ce,width:de+ne.width,height:me+ne.height,color:G.backdropColor}}v.push({label:w,font:T,textOffset:k,options:{rotation:m,color:V,strokeColor:Y,strokeWidth:Q,textAlign:X,textBaseline:A,translation:[b,E],backdrop:fe}})}return v}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-Va(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:r,mirror:o,padding:i}}=this.options,a=this._getLabelSizes(),s=e+i,l=a.widest.width,u,c;return t==="left"?o?(c=this.right+i,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?o?(c=this.left+i,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:o,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,o,i,a),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let o=this.ticks.findIndex(i=>i.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){let t=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),i,a,s=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(t.display)for(i=0,a=o.length;i<a;++i){let l=o[i];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:r,grid:o}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;let s=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,u,c,d,f;this.isHorizontal()?(u=bd(e,this.left,a)-a/2,c=bd(e,this.right,s)+s/2,d=f=l):(d=bd(e,this.top,a)-a/2,f=bd(e,this.bottom,s)+s/2,u=c=l),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(u,d),t.lineTo(c,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,o=this._computeLabelArea();o&&Zv(r,o);let i=this.getLabelItems(e);for(let a of i){let s=a.options,l=a.font,u=a.label,c=a.textOffset;_d(r,u,0,c,l,s)}o&&Qv(r)}drawTitle(){let{ctx:e,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;let i=Ar(r.font),a=To(r.padding),s=r.align,l=i.lineHeight/2;t==="bottom"||t==="center"||_t(t)?(l+=a.bottom,En(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;let{titleX:u,titleY:c,maxWidth:d,rotation:f}=Wve(this,l,t,s);_d(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:Bve(s,t,o),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=st(e.grid&&e.grid.z,-1),o=st(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Td.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[],i,a;for(i=0,a=t.length;i<a;++i){let s=t[i];s[r]===this.id&&(!e||s.type===e)&&o.push(s)}return o}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Ar(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},sy=class{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),r;jve(t)&&(r=this.register(t));let o=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in o||(o[i]=e,zve(e,a,r),this.override&&dr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,o=this.scope;r in t&&delete t[r],o&&r in dr[o]&&(delete dr[o][r],this.override&&delete fp[r])}};function zve(n,e,t){let r=vm(Object.create(null),[t?dr.get(t):{},dr.get(e),n.defaults]);dr.set(e,r),n.defaultRoutes&&Uve(e,n.defaultRoutes),n.descriptors&&dr.describe(e,n.descriptors)}function Uve(n,e){Object.keys(e).forEach(t=>{let r=t.split("."),o=r.pop(),i=[n].concat(r).join("."),a=e[t].split("."),s=a.pop(),l=a.join(".");dr.route(i,o,l,s)})}function jve(n){return"id"in n&&"defaults"in n}var _k=class{constructor(){this.controllers=new sy(Ga,"datasets",!0),this.elements=new sy(Ha,"elements"),this.plugins=new sy(Object,"plugins"),this.scales=new sy(Td,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(o=>{let i=r||this._getRegistryForType(o);r||i.isForType(o)||i===this.plugins&&o.id?this._exec(e,i,o):Zt(o,a=>{let s=r||this._getRegistryForType(a);this._exec(e,s,a)})})}_exec(e,t,r){let o=x0(e);mn(r["before"+o],[],r),t[e](r),mn(r["after"+o],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}},Qu=new _k,Ek=class{constructor(){this._init=[]}notify(e,t,r,o){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let i=o?this._descriptors(e).filter(o):this._descriptors(e),a=this._notify(i,e,t,r);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,o){o=o||{};for(let i of e){let a=i.plugin,s=a[r],l=[t,o,i.options];if(mn(s,l,a)===!1&&o.cancelable)return!1}return!0}invalidate(){At(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,o=st(r.options&&r.options.plugins,{}),i=Kve(r);return o===!1&&!t?[]:Yve(e,i,o,t)}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,o=(i,a)=>i.filter(s=>!a.some(l=>s.plugin.id===l.plugin.id));this._notify(o(t,r),e,"stop"),this._notify(o(r,t),e,"start")}};function Kve(n){let e={},t=[],r=Object.keys(Qu.plugins.items);for(let i=0;i<r.length;i++)t.push(Qu.getPlugin(r[i]));let o=n.plugins||[];for(let i=0;i<o.length;i++){let a=o[i];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function qve(n,e){return!e&&n===!1?null:n===!0?{}:n}function Yve(n,{plugins:e,localIds:t},r,o){let i=[],a=n.getContext();for(let s of e){let l=s.id,u=qve(r[l],o);u!==null&&i.push({plugin:s,options:Xve(n.config,{plugin:s,local:t[l]},u,a)})}return i}function Xve(n,{plugin:e,local:t},r,o){let i=n.pluginScopeKeys(e),a=n.getOptionScopes(r,i);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xk(n,e){let t=dr.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Zve(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Qve(n,e){return n===e?"_index_":"_value_"}function Y8(n){if(n==="x"||n==="y"||n==="r")return n}function Jve(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Dk(n,...e){if(Y8(n))return n;for(let t of e){let r=t.axis||Jve(t.position)||n.length>1&&Y8(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function X8(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function eye(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return X8(n,"x",t[0])||X8(n,"y",t[0])}return{}}function tye(n,e){let t=fp[n.type]||{scales:{}},r=e.scales||{},o=xk(n.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{let s=r[a];if(!_t(s)||s._proxy)return;let l=Dk(a,s,eye(a,n),dr.scales[s.type]),u=Qve(l,o),c=t.scales||{};i[a]=ym(Object.create(null),[{axis:l},s,c[l],c[u]])}),n.data.datasets.forEach(a=>{let s=a.type||n.type,l=a.indexAxis||xk(s,e),c=(fp[s]||{}).scales||{};Object.keys(c).forEach(d=>{let f=Zve(d,l),p=a[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),ym(i[p],[{axis:f},r[p],c[d]])})}),Object.keys(i).forEach(a=>{let s=i[a];ym(s,[dr.scales[s.type],dr.scale])}),i}function A7(n){let e=n.options||(n.options={});e.plugins=st(e.plugins,{}),e.scales=tye(n,e)}function N7(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function nye(n){return n=n||{},n.data=N7(n.data),A7(n),n}var Z8=new Map,k7=new Set;function HR(n,e){let t=Z8.get(n);return t||(t=e(),Z8.set(n,t),k7.add(t)),t}var G0=(n,e,t)=>{let r=Yu(e,t);r!==void 0&&n.add(r)},Rk=class{constructor(e){this._config=nye(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=N7(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),A7(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return HR(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return HR(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return HR(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return HR(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,o=r.get(e);return(!o||t)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,t,r){let{options:o,type:i}=this,a=this._cachedScopes(e,r),s=a.get(t);if(s)return s;let l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(d=>G0(l,e,d))),c.forEach(d=>G0(l,o,d)),c.forEach(d=>G0(l,fp[i]||{},d)),c.forEach(d=>G0(l,dr,d)),c.forEach(d=>G0(l,xR,d))});let u=Array.from(l);return u.length===0&&u.push(Object.create(null)),k7.has(t)&&a.set(t,u),u}chartOptionScopes(){let{options:e,type:t}=this;return[e,fp[t]||{},dr.datasets[t]||{},{type:t},dr,xR]}resolveNamedOptions(e,t,r,o=[""]){let i={$shared:!0},{resolver:a,subPrefixes:s}=Q8(this._resolverCache,e,o),l=a;if(oye(a,t)){i.$shared=!1,r=Ku(r)?r():r;let u=this.createResolver(e,r,s);l=cp(a,r,u)}for(let u of t)i[u]=l[u];return i}createResolver(e,t,r=[""],o){let{resolver:i}=Q8(this._resolverCache,e,r);return _t(t)?cp(i,t,void 0,o):i}};function Q8(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));let o=t.join(),i=r.get(o);return i||(i={resolver:F0(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},r.set(o,i)),i}var rye=n=>_t(n)&&Object.getOwnPropertyNames(n).some(e=>Ku(n[e]));function oye(n,e){let{isScriptable:t,isIndexable:r}=PR(n);for(let o of e){let i=t(o),a=r(o),s=(a||i)&&n[o];if(i&&(Ku(s)||rye(s))||a&&En(s))return!0}return!1}var iye="4.4.1",aye=["top","bottom","left","right","chartArea"];function J8(n,e){return n==="top"||n==="bottom"||aye.indexOf(n)===-1&&e==="x"}function e7(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function t7(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),mn(t&&t.onComplete,[n],e)}function sye(n){let e=n.chart,t=e.options.animation;mn(t&&t.onProgress,[n],e)}function V7(n){return L0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var jR={},n7=n=>{let e=V7(n);return Object.values(jR).filter(t=>t.canvas===e).pop()};function lye(n,e,t){let r=Object.keys(n);for(let o of r){let i=+o;if(i>=e){let a=n[o];delete n[o],(t>0||i>e)&&(n[i+t]=a)}}}function uye(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}function $R(n,e,t){return n.options.clip?n[t]:e[t]}function cye(n,e){let{xScale:t,yScale:r}=n;return t&&r?{left:$R(t,e,"left"),right:$R(t,e,"right"),top:$R(r,e,"top"),bottom:$R(r,e,"bottom")}:e}var Gs=class{static register(...e){Qu.add(...e),r7()}static unregister(...e){Qu.remove(...e),r7()}constructor(e,t){let r=this.config=new Rk(t),o=V7(e),i=n7(o);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Ove(o)),this.platform.updateConfig(r);let s=this.platform.acquireContext(o,a.aspectRatio),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;this.id=$1(),this.ctx=s,this.canvas=l,this.width=c,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ek,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=X1(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],jR[this.id]=this,!(!s||!l)&&(xd.listen(this,"complete",t7),xd.listen(this,"progress",sye),this._initialize(),this.attached&&this.update())}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:i}=this;return At(e)?t&&i?i:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Qu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():FR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DR(this.canvas,this.ctx),this}stop(){return xd.stop(this),this}resize(e,t){xd.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let r=this.options,o=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,t,i),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,FR(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),mn(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};Zt(t,(r,o)=>{r.id=o})}buildOrUpdateScales(){let e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce((a,s)=>(a[s]=!1,a),{}),i=[];t&&(i=i.concat(Object.keys(t).map(a=>{let s=t[a],l=Dk(a,s),u=l==="r",c=l==="x";return{options:s,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Zt(i,a=>{let s=a.options,l=s.id,u=Dk(l,s),c=st(s.type,a.dtype);(s.position===void 0||J8(s.position,u)!==J8(a.dposition))&&(s.position=a.dposition),o[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{let f=Qu.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(s,e)}),Zt(o,(a,s)=>{a||delete r[s]}),Zt(r,a=>{mi.configure(this,a,a.options),mi.addBox(this,a)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((o,i)=>o.index-i.index),r>t){for(let o=t;o<r;++o)this._destroyDatasetMeta(o);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(e7("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,o)=>{t.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){let i=t[r],a=this.getDatasetMeta(r),s=i.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=s,a.indexAxis=i.indexAxis||xk(s,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=Qu.getController(s),{datasetElementType:u,dataElementType:c}=dr.datasets[s];Object.assign(l,{dataElementType:Qu.getElement(c),datasetElementType:u&&Qu.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Zt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,c=this.data.datasets.length;u<c;u++){let{controller:d}=this.getDatasetMeta(u),f=!o&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Zt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(e7("z","_idx"));let{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Zt(this.scales,e=>{mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!fR(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:i}of t){let a=r==="_removeElements"?-i:i;lye(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,s)=>s+","+a.splice(1).join(","))),o=r(0);for(let i=1;i<t;i++)if(!fR(o,r(i)))return;return Array.from(o).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mi.update(this,this.width,this.height,e);let t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Zt(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,i)=>{o._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Ku(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let r=this.getDatasetMeta(e),o={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xd.has(this)?this.attached&&!xd.running(this)&&xd.start(this):(this.draw(),t7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,r=[],o,i;for(o=0,i=t.length;o<i;++o){let a=t[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,r=e._clip,o=!r.disabled,i=cye(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Zv(t,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),o&&Qv(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Al(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,o){let i=dve.modes[t];return typeof i=="function"?i(this,e,r,o):[]}getDatasetMeta(e){let t=this.data.datasets[e],r=this._metasets,o=r.filter(i=>i&&i._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Xu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){let r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){let o=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,o);Cm(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(s=>s.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),xd.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),DR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete jR[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,r=(i,a)=>{t.addEventListener(this,i,a),e[i]=a},o=(i,a,s)=>{i.offsetX=a,i.offsetY=s,this._eventHandler(i)};Zt(this.options.events,i=>r(i,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,r=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},o=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)},a,s=()=>{o("attach",s),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,o("resize",i),this._stop(),this._resize(0,0),r("attach",s)},t.isAttached(this.canvas)?s():a()}unbindEvents(){Zt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Zt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){let o=r?"set":"remove",i,a,s,l;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+o+"DatasetHoverStyle"]()),s=0,l=e.length;s<l;++s){a=e[s];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{let s=this.getDatasetMeta(i);if(!s)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:s.data[a],index:a}});!Xv(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){let o=this.options.hover,i=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),a=i(t,e),s=r?e:i(e,t);a.length&&this.updateHoverStyle(a,o.mode,!1),s.length&&o.mode&&this.updateHoverStyle(s,o.mode,!0)}_eventHandler(e,t){let r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let i=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(i||r.changed)&&this.render(),this}_handleEvent(e,t,r){let{_active:o=[],options:i}=this,a=t,s=this._getActiveElements(e,o,r,a),l=W1(e),u=uye(e,this._lastEvent,r,l);r&&(this._lastEvent=null,mn(i.onHover,[e,s,this],this),l&&mn(i.onClick,[e,s,this],this));let c=!Xv(s,o);return(c||t)&&(this._active=s,this._updateHoverStyles(s,o,t)),this._lastEvent=u,c}_getActiveElements(e,t,r,o){if(e.type==="mouseout")return[];if(!r)return t;let i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,o)}};Se(Gs,"defaults",dr),Se(Gs,"instances",jR),Se(Gs,"overrides",fp),Se(Gs,"registry",Qu),Se(Gs,"version",iye),Se(Gs,"getChart",n7);function r7(){return Zt(Gs.instances,n=>n._plugins.invalidate())}function dye(n,e,t){let{startAngle:r,pixelMargin:o,x:i,y:a,outerRadius:s,innerRadius:l}=e,u=o/s;n.beginPath(),n.arc(i,a,s,r-u,t+u),l>o?(u=o/l,n.arc(i,a,l,t+u,r-u,!0)):n.arc(i,a,o,t+cr,r-cr),n.closePath(),n.clip()}function fye(n){return I0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function pye(n,e,t,r){let o=fye(n.options.borderRadius),i=(t-e)/2,a=Math.min(i,r*e/2),s=l=>{let u=(t-Math.min(i,l))*r/2;return qr(l,0,Math.min(i,u))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:qr(o.innerStart,0,a),innerEnd:qr(o.innerEnd,0,a)}}function Jv(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function XR(n,e,t,r,o,i){let{x:a,y:s,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+r+t-u,0),f=c>0?c+r+t+u:0,p=0,h=o-l;if(r){let G=c>0?c-r:0,K=d>0?d-r:0,V=(G+K)/2,Y=V!==0?h*V/(V+r):h;p=(h-Y)/2}let m=Math.max(.001,h*d-t/xn)/d,v=(h-m)/2,g=l+v+p,y=o-v-p,{outerStart:C,outerEnd:w,innerStart:b,innerEnd:E}=pye(e,f,d,y-g),D=d-C,S=d-w,T=g+C/D,O=y-w/S,L=f+b,k=f+E,A=g+b/L,$=y-E/k;if(n.beginPath(),i){let G=(T+O)/2;if(n.arc(a,s,d,T,G),n.arc(a,s,d,G,O),w>0){let Q=Jv(S,O,a,s);n.arc(Q.x,Q.y,w,O,y+cr)}let K=Jv(k,y,a,s);if(n.lineTo(K.x,K.y),E>0){let Q=Jv(k,$,a,s);n.arc(Q.x,Q.y,E,y+cr,$+Math.PI)}let V=(y-E/f+(g+b/f))/2;if(n.arc(a,s,f,y-E/f,V,!0),n.arc(a,s,f,V,g+b/f,!0),b>0){let Q=Jv(L,A,a,s);n.arc(Q.x,Q.y,b,A+Math.PI,g-cr)}let Y=Jv(D,g,a,s);if(n.lineTo(Y.x,Y.y),C>0){let Q=Jv(D,T,a,s);n.arc(Q.x,Q.y,C,g-cr,T)}}else{n.moveTo(a,s);let G=Math.cos(T)*d+a,K=Math.sin(T)*d+s;n.lineTo(G,K);let V=Math.cos(O)*d+a,Y=Math.sin(O)*d+s;n.lineTo(V,Y)}n.closePath()}function hye(n,e,t,r,o){let{fullCircles:i,startAngle:a,circumference:s}=e,l=e.endAngle;if(i){XR(n,e,t,r,l,o);for(let u=0;u<i;++u)n.fill();isNaN(s)||(l=a+(s%Dn||Dn))}return XR(n,e,t,r,l,o),n.fill(),l}function mye(n,e,t,r,o){let{fullCircles:i,startAngle:a,circumference:s,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!u)return;n.setLineDash(d||[]),n.lineDashOffset=f,p?(n.lineWidth=u*2,n.lineJoin=c||"round"):(n.lineWidth=u,n.lineJoin=c||"bevel");let h=e.endAngle;if(i){XR(n,e,t,r,h,o);for(let m=0;m<i;++m)n.stroke();isNaN(s)||(h=a+(s%Dn||Dn))}p&&dye(n,e,h),i||(XR(n,e,t,r,h,o),n.stroke())}var Rm=class extends Ha{constructor(t){super();Se(this,"circumference");Se(this,"endAngle");Se(this,"fullCircles");Se(this,"innerRadius");Se(this,"outerRadius");Se(this,"pixelMargin");Se(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,o){let i=this.getProps(["x","y"],o),{angle:a,distance:s}=gR(i,{x:t,y:r}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),p=(this.options.spacing+this.options.borderWidth)/2,m=st(f,u-l)>=Dn||Sm(a,l,u),v=kl(s,c+p,d+p);return m&&v}getCenterPoint(t){let{x:r,y:o,startAngle:i,endAngle:a,innerRadius:s,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,d=(i+a)/2,f=(s+l+c+u)/2;return{x:r+Math.cos(d)*f,y:o+Math.sin(d)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:r,circumference:o}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,s=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>Dn?Math.floor(o/Dn):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*i,Math.sin(l)*i);let u=1-Math.sin(Math.min(xn,o||0)),c=i*u;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,hye(t,this,c,a,s),mye(t,this,c,a,s),t.restore()}};Se(Rm,"id","arc"),Se(Rm,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Se(Rm,"defaultRoutes",{backgroundColor:"backgroundColor"}),Se(Rm,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function G7(n,e,t=e){n.lineCap=st(t.borderCapStyle,e.borderCapStyle),n.setLineDash(st(t.borderDash,e.borderDash)),n.lineDashOffset=st(t.borderDashOffset,e.borderDashOffset),n.lineJoin=st(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=st(t.borderWidth,e.borderWidth),n.strokeStyle=st(t.borderColor,e.borderColor)}function gye(n,e,t){n.lineTo(t.x,t.y)}function vye(n){return n.stepped?J1:n.tension||n.cubicInterpolationMode==="monotone"?ek:gye}function H7(n,e,t={}){let r=n.length,{start:o=0,end:i=r-1}=t,{start:a,end:s}=e,l=Math.max(o,a),u=Math.min(i,s),c=o<a&&i<a||o>s&&i>s;return{count:r,start:l,loop:e.loop,ilen:u<l&&!c?r+u-l:u-l}}function yye(n,e,t,r){let{points:o,options:i}=e,{count:a,start:s,loop:l,ilen:u}=H7(o,t,r),c=vye(i),{move:d=!0,reverse:f}=r||{},p,h,m;for(p=0;p<=u;++p)h=o[(s+(f?u-p:p))%a],!h.skip&&(d?(n.moveTo(h.x,h.y),d=!1):c(n,m,h,f,i.stepped),m=h);return l&&(h=o[(s+(f?u:0))%a],c(n,m,h,f,i.stepped)),!!l}function Cye(n,e,t,r){let o=e.points,{count:i,start:a,ilen:s}=H7(o,t,r),{move:l=!0,reverse:u}=r||{},c=0,d=0,f,p,h,m,v,g,y=w=>(a+(u?s-w:w))%i,C=()=>{m!==v&&(n.lineTo(c,v),n.lineTo(c,m),n.lineTo(c,g))};for(l&&(p=o[y(0)],n.moveTo(p.x,p.y)),f=0;f<=s;++f){if(p=o[y(f)],p.skip)continue;let w=p.x,b=p.y,E=w|0;E===h?(b<m?m=b:b>v&&(v=b),c=(d*c+w)/++d):(C(),n.lineTo(w,b),h=E,d=0,m=v=b),g=b}C()}function Tk(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Cye:yye}function wye(n){return n.stepped?sk:n.tension||n.cubicInterpolationMode==="monotone"?lk:Sd}function Sye(n,e,t,r){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,r)&&o.closePath()),G7(n,e.options),n.stroke(o)}function bye(n,e,t,r){let{segments:o,options:i}=e,a=Tk(e);for(let s of o)G7(n,i,s.style),n.beginPath(),a(n,e,s,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}var _ye=typeof Path2D=="function";function Eye(n,e,t,r){_ye&&!e.options.segment?Sye(n,e,t,r):bye(n,e,t,r)}var Ju=class extends Ha{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;ok(this._points,r,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uk(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){let r=this.options,o=e[t],i=this.points,a=kR(this,{property:t,start:o,end:o});if(!a.length)return;let s=[],l=wye(r),u,c;for(u=0,c=a.length;u<c;++u){let{start:d,end:f}=a[u],p=i[d],h=i[f];if(p===h){s.push(p);continue}let m=Math.abs((o-p[t])/(h[t]-p[t])),v=l(p,h,m,r.stepped);v[t]=e[t],s.push(v)}return s.length===1?s[0]:s}pathSegment(e,t,r){return Tk(this)(e,this,t,r)}path(e,t,r){let o=this.segments,i=Tk(this),a=this._loop;t=t||0,r=r||this.points.length-t;for(let s of o)a&=i(e,this,s,{start:t,end:t+r-1});return!!a}draw(e,t,r,o){let i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Eye(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};Se(Ju,"id","line"),Se(Ju,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Se(Ju,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Se(Ju,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function o7(n,e,t,r){let o=n.options,{[t]:i}=n.getProps([t],r);return Math.abs(e-i)<o.radius+o.hitRadius}var iy=class extends Ha{constructor(t){super();Se(this,"parsed");Se(this,"skip");Se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,o){let i=this.options,{x:a,y:s}=this.getProps(["x","y"],o);return Math.pow(t-a,2)+Math.pow(r-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,r){return o7(this,t,"x",r)}inYRange(t,r){return o7(this,t,"y",r)}getCenterPoint(t){let{x:r,y:o}=this.getProps(["x","y"],t);return{x:r,y:o}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let o=r&&t.borderWidth||0;return(r+o)*2}draw(t,r){let o=this.options;this.skip||o.radius<.1||!Al(this,r,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,O0(t,o,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};Se(iy,"id","point"),Se(iy,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Se(iy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $7(n,e){let{x:t,y:r,base:o,width:i,height:a}=n.getProps(["x","y","base","width","height"],e),s,l,u,c,d;return n.horizontal?(d=a/2,s=Math.min(t,o),l=Math.max(t,o),u=r-d,c=r+d):(d=i/2,s=t-d,l=t+d,u=Math.min(r,o),c=Math.max(r,o)),{left:s,top:u,right:l,bottom:c}}function hp(n,e,t,r){return n?0:qr(e,t,r)}function xye(n,e,t){let r=n.options.borderWidth,o=n.borderSkipped,i=TR(r);return{t:hp(o.top,i.top,0,t),r:hp(o.right,i.right,0,e),b:hp(o.bottom,i.bottom,0,t),l:hp(o.left,i.left,0,e)}}function Dye(n,e,t){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,i=Ed(o),a=Math.min(e,t),s=n.borderSkipped,l=r||_t(o);return{topLeft:hp(!l||s.top||s.left,i.topLeft,0,a),topRight:hp(!l||s.top||s.right,i.topRight,0,a),bottomLeft:hp(!l||s.bottom||s.left,i.bottomLeft,0,a),bottomRight:hp(!l||s.bottom||s.right,i.bottomRight,0,a)}}function Rye(n){let e=$7(n),t=e.right-e.left,r=e.bottom-e.top,o=xye(n,t/2,r/2),i=Dye(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:i},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,i.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(o.b,o.r))}}}}function gk(n,e,t,r){let o=e===null,i=t===null,s=n&&!(o&&i)&&$7(n,r);return s&&(o||kl(e,s.left,s.right))&&(i||kl(t,s.top,s.bottom))}function Tye(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Pye(n,e){n.rect(e.x,e.y,e.w,e.h)}function vk(n,e,t={}){let r=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,i=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+r,y:n.y+o,w:n.w+i,h:n.h+a,radius:n.radius}}var ay=class extends Ha{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:r,backgroundColor:o}}=this,{inner:i,outer:a}=Rye(this),s=Tye(a.radius)?_m:Pye;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),s(e,vk(a,t,i)),e.clip(),s(e,vk(i,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),s(e,vk(i,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,r){return gk(this,e,t,r)}inXRange(e,t){return gk(this,e,null,t)}inYRange(e,t){return gk(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:o,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+o)/2:t,y:i?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}};Se(ay,"id","bar"),Se(ay,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Se(ay,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Oye=Object.freeze({__proto__:null,ArcElement:Rm,BarElement:ay,LineElement:Ju,PointElement:iy}),Pk=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],i7=Pk.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function B7(n){return Pk[n%Pk.length]}function W7(n){return i7[n%i7.length]}function Iye(n,e){return n.borderColor=B7(e),n.backgroundColor=W7(e),++e}function Fye(n,e){return n.backgroundColor=n.data.map(()=>B7(e++)),e}function Lye(n,e){return n.backgroundColor=n.data.map(()=>W7(e++)),e}function Mye(n){let e=0;return(t,r)=>{let o=n.getDatasetMeta(r).controller;o instanceof Rd?e=Fye(t,e):o instanceof Pm?e=Lye(t,e):o&&(e=Iye(t,e))}}function a7(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function Aye(n){return n&&(n.borderColor||n.backgroundColor)}var Nye={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:r},options:o}=n.config,{elements:i}=o;if(!t.forceOverride&&(a7(r)||Aye(o)||i&&a7(i)))return;let a=Mye(n);r.forEach(a)}};function kye(n,e,t,r,o){let i=o.samples||r;if(i>=t)return n.slice(e,e+t);let a=[],s=(t-2)/(i-2),l=0,u=e+t-1,c=e,d,f,p,h,m;for(a[l++]=n[c],d=0;d<i-2;d++){let v=0,g=0,y,C=Math.floor((d+1)*s)+1+e,w=Math.min(Math.floor((d+2)*s)+1,t)+e,b=w-C;for(y=C;y<w;y++)v+=n[y].x,g+=n[y].y;v/=b,g/=b;let E=Math.floor(d*s)+1+e,D=Math.min(Math.floor((d+1)*s)+1,t)+e,{x:S,y:T}=n[c];for(p=h=-1,y=E;y<D;y++)h=.5*Math.abs((S-v)*(n[y].y-T)-(S-n[y].x)*(g-T)),h>p&&(p=h,f=n[y],m=y);a[l++]=f,c=m}return a[l++]=n[u],a}function Vye(n,e,t,r){let o=0,i=0,a,s,l,u,c,d,f,p,h,m,v=[],g=e+t-1,y=n[e].x,w=n[g].x-y;for(a=e;a<e+t;++a){s=n[a],l=(s.x-y)/w*r,u=s.y;let b=l|0;if(b===c)u<h?(h=u,d=a):u>m&&(m=u,f=a),o=(i*o+s.x)/++i;else{let E=a-1;if(!At(d)&&!At(f)){let D=Math.min(d,f),S=Math.max(d,f);D!==p&&D!==E&&v.push({...n[D],x:o}),S!==p&&S!==E&&v.push({...n[S],x:o})}a>0&&E!==p&&v.push(n[E]),v.push(s),c=b,i=0,h=m=u,d=f=p=a}}return v}function z7(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function s7(n){n.data.datasets.forEach(e=>{z7(e)})}function Gye(n,e){let t=e.length,r=0,o,{iScale:i}=n,{min:a,max:s,minDefined:l,maxDefined:u}=i.getUserBounds();return l&&(r=qr(Ml(e,i.axis,a).lo,0,t-1)),u?o=qr(Ml(e,i.axis,s).hi+1,r,t)-r:o=t-r,{start:r,count:o}}var Hye={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){s7(n);return}let r=n.width;n.data.datasets.forEach((o,i)=>{let{_data:a,indexAxis:s}=o,l=n.getDatasetMeta(i),u=a||o.data;if(Em([s,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let c=n.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||n.options.parsing)return;let{start:d,count:f}=Gye(l,u),p=t.threshold||4*r;if(f<=p){z7(o);return}At(a)&&(o._data=u,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let h;switch(t.algorithm){case"lttb":h=kye(u,d,f,r,t);break;case"min-max":h=Vye(u,d,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}o._decimated=h})},destroy(n){s7(n)}};function $ye(n,e,t){let r=n.segments,o=n.points,i=e.points,a=[];for(let s of r){let{start:l,end:u}=s;u=Fk(l,u,o);let c=Ok(t,o[l],o[u],s.loop);if(!e.segments){a.push({source:s,target:c,start:o[l],end:o[u]});continue}let d=kR(e,c);for(let f of d){let p=Ok(t,i[f.start],i[f.end],f.loop),h=NR(s,o,p);for(let m of h)a.push({source:m,target:f,start:{[t]:l7(c,p,"start",Math.max)},end:{[t]:l7(c,p,"end",Math.min)}})}}return a}function Ok(n,e,t,r){if(r)return;let o=e[n],i=t[n];return n==="angle"&&(o=Li(o),i=Li(i)),{property:n,start:o,end:i}}function Bye(n,e){let{x:t=null,y:r=null}=n||{},o=e.points,i=[];return e.segments.forEach(({start:a,end:s})=>{s=Fk(a,s,o);let l=o[a],u=o[s];r!==null?(i.push({x:l.x,y:r}),i.push({x:u.x,y:r})):t!==null&&(i.push({x:t,y:l.y}),i.push({x:t,y:u.y}))}),i}function Fk(n,e,t){for(;e>n;e--){let r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function l7(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function U7(n,e){let t=[],r=!1;return En(n)?(r=!0,t=n):t=Bye(n,e),t.length?new Ju({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function u7(n){return n&&n.fill!==!1}function Wye(n,e,t){let o=n[e].fill,i=[e],a;if(!t)return o;for(;o!==!1&&i.indexOf(o)===-1;){if(!nr(o))return o;if(a=n[o],!a)return!1;if(a.visible)return o;i.push(o),o=a.fill}return!1}function zye(n,e,t){let r=qye(n);if(_t(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return nr(o)&&Math.floor(o)===o?Uye(r[0],e,o,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Uye(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function jye(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:_t(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Kye(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:_t(n)?r=n.value:r=e.getBaseValue(),r}function qye(n){let e=n.options,t=e.fill,r=st(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Yye(n){let{scale:e,index:t,line:r}=n,o=[],i=r.segments,a=r.points,s=Xye(e,t);s.push(U7({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){let u=i[l];for(let c=u.start;c<=u.end;c++)Zye(o,a[c],s)}return new Ju({points:o,options:{}})}function Xye(n,e){let t=[],r=n.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){let i=r[o];if(i.index===e)break;i.hidden||t.unshift(i.dataset)}return t}function Zye(n,e,t){let r=[];for(let o=0;o<t.length;o++){let i=t[o],{first:a,last:s,point:l}=Qye(i,e,"x");if(!(!l||a&&s)){if(a)r.unshift(l);else if(n.push(l),!s)break}}n.push(...r)}function Qye(n,e,t){let r=n.interpolate(e,t);if(!r)return{};let o=r[t],i=n.segments,a=n.points,s=!1,l=!1;for(let u=0;u<i.length;u++){let c=i[u],d=a[c.start][t],f=a[c.end][t];if(kl(o,d,f)){s=o===d,l=o===f;break}}return{first:s,last:l,point:r}}var ZR=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:o,y:i,radius:a}=this;return t=t||{start:0,end:Dn},e.arc(o,i,a,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:o}=this,i=e.angle;return{x:t+Math.cos(i)*o,y:r+Math.sin(i)*o,angle:i}}};function Jye(n){let{chart:e,fill:t,line:r}=n;if(nr(t))return eCe(e,t);if(t==="stack")return Yye(n);if(t==="shape")return!0;let o=tCe(n);return o instanceof ZR?o:U7(o,r)}function eCe(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function tCe(n){return(n.scale||{}).getPointPositionForValue?rCe(n):nCe(n)}function nCe(n){let{scale:e={},fill:t}=n,r=jye(t,e);if(nr(r)){let o=e.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function rCe(n){let{scale:e,fill:t}=n,r=e.options,o=e.getLabels().length,i=r.reverse?e.max:e.min,a=Kye(t,e,i),s=[];if(r.grid.circular){let l=e.getPointPositionForValue(0,i);return new ZR({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<o;++l)s.push(e.getPointPositionForValue(l,a));return s}function yk(n,e,t){let r=Jye(e),{line:o,scale:i,axis:a}=e,s=o.options,l=s.fill,u=s.backgroundColor,{above:c=u,below:d=u}=l||{};r&&o.points.length&&(Zv(n,t),oCe(n,{line:o,target:r,above:c,below:d,area:t,scale:i,axis:a}),Qv(n))}function oCe(n,e){let{line:t,target:r,above:o,below:i,area:a,scale:s}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&i!==o&&(c7(n,r,a.top),d7(n,{line:t,target:r,color:o,scale:s,property:l}),n.restore(),n.save(),c7(n,r,a.bottom)),d7(n,{line:t,target:r,color:i,scale:s,property:l}),n.restore()}function c7(n,e,t){let{segments:r,points:o}=e,i=!0,a=!1;n.beginPath();for(let s of r){let{start:l,end:u}=s,c=o[l],d=o[Fk(l,u,o)];i?(n.moveTo(c.x,c.y),i=!1):(n.lineTo(c.x,t),n.lineTo(c.x,c.y)),a=!!e.pathSegment(n,s,{move:a}),a?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function d7(n,e){let{line:t,target:r,property:o,color:i,scale:a}=e,s=$ye(t,r,o);for(let{source:l,target:u,start:c,end:d}of s){let{style:{backgroundColor:f=i}={}}=l,p=r!==!0;n.save(),n.fillStyle=f,iCe(n,a,p&&Ok(o,c,d)),n.beginPath();let h=!!t.pathSegment(n,l),m;if(p){h?n.closePath():f7(n,r,d,o);let v=!!r.pathSegment(n,u,{move:h,reverse:!0});m=h&&v,m||f7(n,r,c,o)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function iCe(n,e,t){let{top:r,bottom:o}=e.chart.chartArea,{property:i,start:a,end:s}=t||{};i==="x"&&(n.beginPath(),n.rect(a,r,s-a,o-r),n.clip())}function f7(n,e,t,r){let o=e.interpolate(t,r);o&&n.lineTo(o.x,o.y)}var aCe={id:"filler",afterDatasetsUpdate(n,e,t){let r=(n.data.datasets||[]).length,o=[],i,a,s,l;for(a=0;a<r;++a)i=n.getDatasetMeta(a),s=i.dataset,l=null,s&&s.options&&s instanceof Ju&&(l={visible:n.isDatasetVisible(a),index:a,fill:zye(s,a,r),chart:n,axis:i.controller.options.indexAxis,scale:i.vScale,line:s}),i.$filler=l,o.push(l);for(a=0;a<r;++a)l=o[a],!(!l||l.fill===!1)&&(l.fill=Wye(o,a,t.propagate))},beforeDraw(n,e,t){let r=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),i=n.chartArea;for(let a=o.length-1;a>=0;--a){let s=o[a].$filler;s&&(s.line.updateControlPoints(i,s.axis),r&&s.fill&&yk(n.ctx,s,i))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){let i=r[o].$filler;u7(i)&&yk(n.ctx,i,n.chartArea)}},beforeDatasetDraw(n,e,t){let r=e.meta.$filler;!u7(r)||t.drawTime!=="beforeDatasetDraw"||yk(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},p7=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},sCe=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,QR=class extends Ha{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=mn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,o=Ar(r.font),i=o.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=p7(r,i),u,c;t.font=o.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(a,i,s,l)+10):(c=this.maxHeight,u=this._fitCols(a,o,s,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,o){let{ctx:i,maxWidth:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=o+s,d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-c;return this.legendItems.forEach((h,m)=>{let v=r+t/2+i.measureText(h.text).width;(m===0||u[u.length-1]+v+2*s>a)&&(d+=c,u[u.length-(m>0?0:1)]=0,p+=c,f++),l[m]={left:0,top:p,row:f,width:v,height:o},u[u.length-1]+=v+s}),d}_fitCols(e,t,r,o){let{ctx:i,maxHeight:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-e,d=s,f=0,p=0,h=0,m=0;return this.legendItems.forEach((v,g)=>{let{itemWidth:y,itemHeight:C}=lCe(r,t,i,v,o);g>0&&p+C+2*s>c&&(d+=f+s,u.push({width:f,height:p}),h+=f+s,m++,f=p=0),l[g]={left:h,top:p,col:m,width:y,height:C},f=Math.max(f,y),p+=C+s}),d+=f,u.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:i}}=this,a=pp(i,this.left,this.width);if(this.isHorizontal()){let s=0,l=Ro(r,this.left+o,this.right-this.lineWidths[s]);for(let u of t)s!==u.row&&(s=u.row,l=Ro(r,this.left+o,this.right-this.lineWidths[s])),u.top+=this.top+e+o,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+o}else{let s=0,l=Ro(r,this.top+e+o,this.bottom-this.columnSizes[s].height);for(let u of t)u.col!==s&&(s=u.col,l=Ro(r,this.top+e+o,this.bottom-this.columnSizes[s].height)),u.top=l,u.left+=this.left+o,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Zv(e,this),this._draw(),Qv(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:r,ctx:o}=this,{align:i,labels:a}=e,s=dr.color,l=pp(e.rtl,this.left,this.width),u=Ar(a.font),{padding:c}=a,d=u.size,f=d/2,p;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=u.string;let{boxWidth:h,boxHeight:m,itemHeight:v}=p7(a,d),g=function(E,D,S){if(isNaN(h)||h<=0||isNaN(m)||m<0)return;o.save();let T=st(S.lineWidth,1);if(o.fillStyle=st(S.fillStyle,s),o.lineCap=st(S.lineCap,"butt"),o.lineDashOffset=st(S.lineDashOffset,0),o.lineJoin=st(S.lineJoin,"miter"),o.lineWidth=T,o.strokeStyle=st(S.strokeStyle,s),o.setLineDash(st(S.lineDash,[])),a.usePointStyle){let O={radius:m*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:T},L=l.xPlus(E,h/2),k=D+f;RR(o,O,L,k,a.pointStyleWidth&&h)}else{let O=D+Math.max((d-m)/2,0),L=l.leftForLtr(E,h),k=Ed(S.borderRadius);o.beginPath(),Object.values(k).some(A=>A!==0)?_m(o,{x:L,y:O,w:h,h:m,radius:k}):o.rect(L,O,h,m),o.fill(),T!==0&&o.stroke()}o.restore()},y=function(E,D,S){_d(o,S.text,E,D+v/2,u,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},C=this.isHorizontal(),w=this._computeTitleHeight();C?p={x:Ro(i,this.left+c,this.right-r[0]),y:this.top+c+w,line:0}:p={x:this.left+c,y:Ro(i,this.top+w+c,this.bottom-t[0].height),line:0},MR(this.ctx,e.textDirection);let b=v+c;this.legendItems.forEach((E,D)=>{o.strokeStyle=E.fontColor,o.fillStyle=E.fontColor;let S=o.measureText(E.text).width,T=l.textAlign(E.textAlign||(E.textAlign=a.textAlign)),O=h+f+S,L=p.x,k=p.y;l.setWidth(this.width),C?D>0&&L+O+c>this.right&&(k=p.y+=b,p.line++,L=p.x=Ro(i,this.left+c,this.right-r[p.line])):D>0&&k+b>this.bottom&&(L=p.x=L+t[p.line].width+c,p.line++,k=p.y=Ro(i,this.top+w+c,this.bottom-t[p.line].height));let A=l.x(L);if(g(A,k,E),L=Z1(T,L+h+f,C?L+O:this.right,e.rtl),y(l.x(L),k,E),C)p.x+=O+c;else if(typeof E.text!="string"){let $=u.lineHeight;p.y+=j7(E,$)+c}else p.y+=b}),AR(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,r=Ar(t.font),o=To(t.padding);if(!t.display)return;let i=pp(e.rtl,this.left,this.width),a=this.ctx,s=t.position,l=r.size/2,u=o.top+l,c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Ro(e.align,d,this.right-f);else{let h=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);c=u+Ro(e.align,this.top,this.bottom-h-e.labels.padding-this._computeTitleHeight())}let p=Ro(s,d,d+f);a.textAlign=i.textAlign(T0(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,_d(a,t.text,p,c,r)}_computeTitleHeight(){let e=this.options.title,t=Ar(e.font),r=To(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,o,i;if(kl(e,this.left,this.right)&&kl(t,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(o=i[r],kl(e,o.left,o.left+o.width)&&kl(t,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){let t=this.options;if(!dCe(e.type,t))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let o=this._hoveredItem,i=sCe(o,r);o&&!i&&mn(t.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!i&&mn(t.onHover,[e,r,this],this)}else r&&mn(t.onClick,[e,r,this],this)}};function lCe(n,e,t,r,o){let i=uCe(r,n,e,t),a=cCe(o,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function uCe(n,e,t,r){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((i,a)=>i.length>a.length?i:a)),e+t.size/2+r.measureText(o).width}function cCe(n,e,t){let r=n;return typeof e.text!="string"&&(r=j7(e,t)),r}function j7(n,e){let t=n.text?n.text.length:0;return e*t}function dCe(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var fCe={id:"legend",_element:QR,start(n,e,t){let r=n.legend=new QR({ctx:n.ctx,options:t,chart:n});mi.configure(n,r,t),mi.addBox(n,r)},stop(n){mi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let r=n.legend;mi.configure(n,r,t),r.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let r=e.datasetIndex,o=t.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:o,color:i,useBorderRadius:a,borderRadius:s}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let u=l.controller.getStyle(t?0:void 0),c=To(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:o||u.textAlign,borderRadius:a&&(s||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},X0=class extends Ha{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let o=En(r.text)?r.text.length:1;this._padding=To(r.padding);let i=o*Ar(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:r,bottom:o,right:i,options:a}=this,s=a.align,l=0,u,c,d;return this.isHorizontal()?(c=Ro(s,r,i),d=t+e,u=i-r):(a.position==="left"?(c=r+e,d=Ro(s,o,t),l=xn*-.5):(c=i-e,d=Ro(s,t,o),l=xn*.5),u=o-t),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let r=Ar(t.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:l,rotation:u}=this._drawArgs(i);_d(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:u,textAlign:T0(t.align),textBaseline:"middle",translation:[a,s]})}};function pCe(n,e){let t=new X0({ctx:n.ctx,options:e,chart:n});mi.configure(n,t,e),mi.addBox(n,t),n.titleBlock=t}var hCe={id:"title",_element:X0,start(n,e,t){pCe(n,t)},stop(n){let e=n.titleBlock;mi.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let r=n.titleBlock;mi.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},BR=new WeakMap,mCe={id:"subtitle",start(n,e,t){let r=new X0({ctx:n.ctx,options:t,chart:n});mi.configure(n,r,t),mi.addBox(n,r),BR.set(n,r)},stop(n){mi.removeBox(n,BR.get(n)),BR.delete(n)},beforeUpdate(n,e,t){let r=BR.get(n);mi.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},B0={average(n){if(!n.length)return!1;let e,t,r=0,o=0,i=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let s=a.tooltipPosition();r+=s.x,o+=s.y,++i}}return{x:r/i,y:o/i}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,o=Number.POSITIVE_INFINITY,i,a,s;for(i=0,a=n.length;i<a;++i){let l=n[i].element;if(l&&l.hasValue()){let u=l.getCenterPoint(),c=E0(e,u);c<o&&(o=c,s=l)}}if(s){let l=s.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Zu(n,e){return e&&(En(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Dd(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function gCe(n,e){let{element:t,datasetIndex:r,index:o}=e,i=n.getDatasetMeta(r).controller,{label:a,value:s}=i.getLabelAndValue(o);return{chart:n,label:a,parsed:i.getParsed(o),raw:n.data.datasets[r].data[o],formattedValue:s,dataset:i.getDataset(),dataIndex:o,datasetIndex:r,element:t}}function h7(n,e){let t=n.chart.ctx,{body:r,footer:o,title:i}=n,{boxWidth:a,boxHeight:s}=e,l=Ar(e.bodyFont),u=Ar(e.titleFont),c=Ar(e.footerFont),d=i.length,f=o.length,p=r.length,h=To(e.padding),m=h.height,v=0,g=r.reduce((w,b)=>w+b.before.length+b.lines.length+b.after.length,0);if(g+=n.beforeBody.length+n.afterBody.length,d&&(m+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){let w=e.displayColors?Math.max(s,l.lineHeight):l.lineHeight;m+=p*w+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let y=0,C=function(w){v=Math.max(v,t.measureText(w).width+y)};return t.save(),t.font=u.string,Zt(n.title,C),t.font=l.string,Zt(n.beforeBody.concat(n.afterBody),C),y=e.displayColors?a+2+e.boxPadding:0,Zt(r,w=>{Zt(w.before,C),Zt(w.lines,C),Zt(w.after,C)}),y=0,t.font=c.string,Zt(n.footer,C),t.restore(),v+=h.width,{width:v,height:m}}function vCe(n,e){let{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function yCe(n,e,t,r){let{x:o,width:i}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&o+i+a>e.width||n==="right"&&o-i-a<0)return!0}function CCe(n,e,t,r){let{x:o,width:i}=t,{width:a,chartArea:{left:s,right:l}}=n,u="center";return r==="center"?u=o<=(s+l)/2?"left":"right":o<=i/2?u="left":o>=a-i/2&&(u="right"),yCe(u,n,e,t)&&(u="center"),u}function m7(n,e,t){let r=t.yAlign||e.yAlign||vCe(n,t);return{xAlign:t.xAlign||e.xAlign||CCe(n,e,t,r),yAlign:r}}function wCe(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function SCe(n,e,t){let{y:r,height:o}=n;return e==="top"?r+=t:e==="bottom"?r-=o+t:r-=o/2,r}function g7(n,e,t,r){let{caretSize:o,caretPadding:i,cornerRadius:a}=n,{xAlign:s,yAlign:l}=t,u=o+i,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:p}=Ed(a),h=wCe(e,s),m=SCe(e,l,u);return l==="center"?s==="left"?h+=u:s==="right"&&(h-=u):s==="left"?h-=Math.max(c,f)+o:s==="right"&&(h+=Math.max(d,p)+o),{x:qr(h,0,r.width-e.width),y:qr(m,0,r.height-e.height)}}function WR(n,e,t){let r=To(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function v7(n){return Zu([],Dd(n))}function bCe(n,e,t){return Xu(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function y7(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var K7={beforeTitle:Nl,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Nl,beforeBody:Nl,beforeLabel:Nl,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return At(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Nl,afterBody:Nl,beforeFooter:Nl,footer:Nl,afterFooter:Nl};function oa(n,e,t,r){let o=n[e].call(t,r);return typeof o=="undefined"?K7[e].call(t,r):o}var K0=class extends Ha{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&t.options.animation&&r.animations,i=new KR(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=bCe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:r}=t,o=oa(r,"beforeTitle",this,e),i=oa(r,"title",this,e),a=oa(r,"afterTitle",this,e),s=[];return s=Zu(s,Dd(o)),s=Zu(s,Dd(i)),s=Zu(s,Dd(a)),s}getBeforeBody(e,t){return v7(oa(t.callbacks,"beforeBody",this,e))}getBody(e,t){let{callbacks:r}=t,o=[];return Zt(e,i=>{let a={before:[],lines:[],after:[]},s=y7(r,i);Zu(a.before,Dd(oa(s,"beforeLabel",this,i))),Zu(a.lines,oa(s,"label",this,i)),Zu(a.after,Dd(oa(s,"afterLabel",this,i))),o.push(a)}),o}getAfterBody(e,t){return v7(oa(t.callbacks,"afterBody",this,e))}getFooter(e,t){let{callbacks:r}=t,o=oa(r,"beforeFooter",this,e),i=oa(r,"footer",this,e),a=oa(r,"afterFooter",this,e),s=[];return s=Zu(s,Dd(o)),s=Zu(s,Dd(i)),s=Zu(s,Dd(a)),s}_createItems(e){let t=this._active,r=this.chart.data,o=[],i=[],a=[],s=[],l,u;for(l=0,u=t.length;l<u;++l)s.push(gCe(this.chart,t[l]));return e.filter&&(s=s.filter((c,d,f)=>e.filter(c,d,f,r))),e.itemSort&&(s=s.sort((c,d)=>e.itemSort(c,d,r))),Zt(s,c=>{let d=y7(e.callbacks,c);o.push(oa(d,"labelColor",this,c)),i.push(oa(d,"labelPointStyle",this,c)),a.push(oa(d,"labelTextColor",this,c))}),this.labelColors=o,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=s,s}update(e,t){let r=this.options.setContext(this.getContext()),o=this._active,i,a=[];if(!o.length)this.opacity!==0&&(i={opacity:0});else{let s=B0[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=h7(this,r),u=Object.assign({},s,l),c=m7(this.chart,r,u),d=g7(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:s.x,caretY:s.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,o){let i=this.getCaretPosition(e,r,o);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,r){let{xAlign:o,yAlign:i}=this,{caretSize:a,cornerRadius:s}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Ed(s),{x:f,y:p}=e,{width:h,height:m}=t,v,g,y,C,w,b;return i==="center"?(w=p+m/2,o==="left"?(v=f,g=v-a,C=w+a,b=w-a):(v=f+h,g=v+a,C=w-a,b=w+a),y=v):(o==="left"?g=f+Math.max(l,c)+a:o==="right"?g=f+h-Math.max(u,d)-a:g=this.caretX,i==="top"?(C=p,w=C-a,v=g-a,y=g+a):(C=p+m,w=C+a,v=g+a,y=g-a),b=C),{x1:v,x2:g,x3:y,y1:C,y2:w,y3:b}}drawTitle(e,t,r){let o=this.title,i=o.length,a,s,l;if(i){let u=pp(r.rtl,this.x,this.width);for(e.x=WR(this,r.titleAlign,r),t.textAlign=u.textAlign(r.titleAlign),t.textBaseline="middle",a=Ar(r.titleFont),s=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,l=0;l<i;++l)t.fillText(o[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s,l+1===i&&(e.y+=r.titleMarginBottom-s)}}_drawColorBox(e,t,r,o,i){let a=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,c=Ar(i.bodyFont),d=WR(this,"left",i),f=o.x(d),p=l<c.lineHeight?(c.lineHeight-l)/2:0,h=t.y+p;if(i.usePointStyle){let m={radius:Math.min(u,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},v=o.leftForLtr(f,u)+u/2,g=h+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,O0(e,m,v,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,O0(e,m,v,g)}else{e.lineWidth=_t(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,u),v=o.leftForLtr(o.xPlus(f,1),u-2),g=Ed(a.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,_m(e,{x:m,y:h,w:u,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),_m(e,{x:v,y:h+1,w:u-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(m,h,u,l),e.strokeRect(m,h,u,l),e.fillStyle=a.backgroundColor,e.fillRect(v,h+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){let{body:o}=this,{bodySpacing:i,bodyAlign:a,displayColors:s,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=Ar(r.bodyFont),f=d.lineHeight,p=0,h=pp(r.rtl,this.x,this.width),m=function(S){t.fillText(S,h.x(e.x+p),e.y+f/2),e.y+=f+i},v=h.textAlign(a),g,y,C,w,b,E,D;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=WR(this,v,r),t.fillStyle=r.bodyColor,Zt(this.beforeBody,m),p=s&&v!=="right"?a==="center"?u/2+c:u+2+c:0,w=0,E=o.length;w<E;++w){for(g=o[w],y=this.labelTextColors[w],t.fillStyle=y,Zt(g.before,m),C=g.lines,s&&C.length&&(this._drawColorBox(t,e,w,h,r),f=Math.max(d.lineHeight,l)),b=0,D=C.length;b<D;++b)m(C[b]),f=d.lineHeight;Zt(g.after,m)}p=0,f=d.lineHeight,Zt(this.afterBody,m),e.y-=i}drawFooter(e,t,r){let o=this.footer,i=o.length,a,s;if(i){let l=pp(r.rtl,this.x,this.width);for(e.x=WR(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",a=Ar(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,s=0;s<i;++s)t.fillText(o[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){let{xAlign:i,yAlign:a}=this,{x:s,y:l}=e,{width:u,height:c}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:h}=Ed(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(s+d,l),a==="top"&&this.drawCaret(e,t,r,o),t.lineTo(s+u-f,l),t.quadraticCurveTo(s+u,l,s+u,l+f),a==="center"&&i==="right"&&this.drawCaret(e,t,r,o),t.lineTo(s+u,l+c-h),t.quadraticCurveTo(s+u,l+c,s+u-h,l+c),a==="bottom"&&this.drawCaret(e,t,r,o),t.lineTo(s+p,l+c),t.quadraticCurveTo(s,l+c,s,l+c-p),a==="center"&&i==="left"&&this.drawCaret(e,t,r,o),t.lineTo(s,l+d),t.quadraticCurveTo(s,l,s+d,l),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,r=this.$animations,o=r&&r.x,i=r&&r.y;if(o||i){let a=B0[e.position].call(this,this._active,this._eventPosition);if(!a)return;let s=this._size=h7(this,e),l=Object.assign({},a,this._size),u=m7(t,e,l),c=g7(e,l,u,t);(o._to!==c.x||i._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=s.width,this.height=s.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(t);let o={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=To(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,o,t),MR(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),AR(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let r=this._active,o=e.map(({datasetIndex:s,index:l})=>{let u=this.chart.getDatasetMeta(s);if(!u)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:u.data[l],index:l}}),i=!Xv(r,o),a=this._positionChanged(o,t);(i||a)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,r),s=this._positionChanged(a,e),l=t||!Xv(a,i)||s;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,o){let i=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(s=>this.chart.data.datasets[s.datasetIndex]&&this.chart.getDatasetMeta(s.datasetIndex).controller.getParsed(s.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:r,caretY:o,options:i}=this,a=B0[i.position].call(this,e,t);return a!==!1&&(r!==a.x||o!==a.y)}};Se(K0,"positioners",B0);var _Ce={id:"tooltip",_element:K0,positioners:B0,afterInit(n,e,t){t&&(n.tooltip=new K0({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:K7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ECe=Object.freeze({__proto__:null,Colors:Nye,Decimation:Hye,Filler:aCe,Legend:fCe,SubTitle:mCe,Title:hCe,Tooltip:_Ce}),xCe=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function DCe(n,e,t,r){let o=n.indexOf(e);if(o===-1)return xCe(n,e,t,r);let i=n.lastIndexOf(e);return o!==i?t:o}var RCe=(n,e)=>n===null?null:qr(Math.round(n),0,e);function C7(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var W0=class extends Td{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let r=this.getLabels();for(let{index:o,label:i}of t)r[o]===i&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(At(e))return null;let r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:DCe(r,e,st(t,e),this._addedLabels),RCe(t,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let e=this.min,t=this.max,r=this.options.offset,o=[],i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)o.push({value:a});return o}getLabelForValue(e){return C7.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}};Se(W0,"id","category"),Se(W0,"defaults",{ticks:{callback:C7}});function TCe(n,e){let t=[],{bounds:o,step:i,min:a,max:s,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=n,p=i||1,h=c-1,{min:m,max:v}=e,g=!At(a),y=!At(s),C=!At(u),w=(v-m)/(d+1),b=pR((v-m)/h/p)*p,E,D,S,T;if(b<1e-14&&!g&&!y)return[{value:m},{value:v}];T=Math.ceil(v/b)-Math.floor(m/b),T>h&&(b=pR(T*b/h/p)*p),At(l)||(E=Math.pow(10,l),b=Math.ceil(b*E)/E),o==="ticks"?(D=Math.floor(m/b)*b,S=Math.ceil(v/b)*b):(D=m,S=v),g&&y&&i&&U1((s-a)/i,b/1e3)?(T=Math.round(Math.min((s-a)/b,c)),b=(s-a)/T,D=a,S=s):C?(D=g?a:D,S=y?s:S,T=u-1,b=(S-D)/T):(T=(S-D)/b,wm(T,Math.round(T),b/1e3)?T=Math.round(T):T=Math.ceil(T));let O=Math.max(mR(b),mR(D));E=Math.pow(10,At(l)?O:l),D=Math.round(D*E)/E,S=Math.round(S*E)/E;let L=0;for(g&&(f&&D!==a?(t.push({value:a}),D<a&&L++,wm(Math.round((D+L*b)*E)/E,a,w7(a,w,n))&&L++):D<a&&L++);L<T;++L){let k=Math.round((D+L*b)*E)/E;if(y&&k>s)break;t.push({value:k})}return y&&f&&S!==s?t.length&&wm(t[t.length-1].value,s,w7(s,w,n))?t[t.length-1].value=s:t.push({value:s}):(!y||S===s)&&t.push({value:S}),t}function w7(n,e,{horizontal:t,minRotation:r}){let o=Va(r),i=(t?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+n).length;return Math.min(e/i,a)}var ly=class extends Td{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return At(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:o,max:i}=this,a=l=>o=t?o:l,s=l=>i=r?i:l;if(e){let l=Vs(o),u=Vs(i);l<0&&u<0?s(0):l>0&&u>0&&a(0)}if(o===i){let l=i===0?1:Math.abs(i*.05);s(i+l),e||a(o-l)}this.min=o,this.max=i}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,a=TCe(o,i);return e.bounds==="ticks"&&hR(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let o=(r-t)/Math.max(e.length-1,1)/2;t-=o,r+=o}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return bm(e,this.chart.options.locale,this.options.ticks.format)}},z0=class extends ly{determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=nr(e)?e:0,this.max=nr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=Va(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};Se(z0,"id","linear"),Se(z0,"defaults",{ticks:{callback:P0.formatters.numeric}});var Z0=n=>Math.floor(qu(n)),Dm=(n,e)=>Math.pow(10,Z0(n)+e);function S7(n){return n/Math.pow(10,Z0(n))===1}function b7(n,e,t){let r=Math.pow(10,t),o=Math.floor(n/r);return Math.ceil(e/r)-o}function PCe(n,e){let t=e-n,r=Z0(t);for(;b7(n,e,r)>10;)r++;for(;b7(n,e,r)<10;)r--;return Math.min(r,Z0(n))}function OCe(n,{min:e,max:t}){e=Mi(n.min,e);let r=[],o=Z0(e),i=PCe(e,t),a=i<0?Math.pow(10,Math.abs(i)):1,s=Math.pow(10,i),l=o>i?Math.pow(10,o):0,u=Math.round((e-l)*a)/a,c=Math.floor((e-l)/s/10)*s*10,d=Math.floor((u-c)/Math.pow(10,i)),f=Mi(n.min,Math.round((l+c+d*Math.pow(10,i))*a)/a);for(;f<t;)r.push({value:f,major:S7(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,a=i>=0?1:a),f=Math.round((l+c+d*Math.pow(10,i))*a)/a;let p=Mi(n.max,f);return r.push({value:p,major:S7(p),significand:d}),r}var U0=class extends Td{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=ly.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return nr(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=nr(e)?Math.max(0,e):null,this.max=nr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!nr(this._userMin)&&(this.min=e===Dm(this.min,0)?Dm(this.min,-1):Dm(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,o=this.max,i=s=>r=e?r:s,a=s=>o=t?o:s;r===o&&(r<=0?(i(1),a(10)):(i(Dm(r,-1)),a(Dm(o,1)))),r<=0&&i(Dm(o,-1)),o<=0&&a(Dm(r,1)),this.min=r,this.max=o}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},r=OCe(t,this);return e.bounds==="ticks"&&hR(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":bm(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=qu(e),this._valueRange=qu(this.max)-qu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(qu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};Se(U0,"id","logarithmic"),Se(U0,"defaults",{ticks:{callback:P0.formatters.logarithmic,major:{enabled:!0}}});function Ik(n){let e=n.ticks;if(e.display&&n.display){let t=To(e.backdropPadding);return st(e.font&&e.font.size,dr.font.size)+t.height}return 0}function ICe(n,e,t){return t=En(t)?t:[t],{w:Q1(n,e.string,t),h:t.length*e.lineHeight}}function _7(n,e,t,r,o){return n===r||n===o?{start:e-t/2,end:e+t/2}:n<r||n>o?{start:e-t,end:e}:{start:e,end:e+t}}function FCe(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],o=[],i=n._pointLabels.length,a=n.options.pointLabels,s=a.centerPointLabels?xn/i:0;for(let l=0;l<i;l++){let u=a.setContext(n.getPointLabelContext(l));o[l]=u.padding;let c=n.getPointPosition(l,n.drawingArea+o[l],s),d=Ar(u.font),f=ICe(n.ctx,d,n._pointLabels[l]);r[l]=f;let p=Li(n.getIndexAngle(l)+s),h=Math.round(D0(p)),m=_7(h,c.x,f.w,0,180),v=_7(h,c.y,f.h,90,270);LCe(t,e,p,m,v)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=NCe(n,r,o)}function LCe(n,e,t,r,o){let i=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t)),s=0,l=0;r.start<e.l?(s=(e.l-r.start)/i,n.l=Math.min(n.l,e.l-s)):r.end>e.r&&(s=(r.end-e.r)/i,n.r=Math.max(n.r,e.r+s)),o.start<e.t?(l=(e.t-o.start)/a,n.t=Math.min(n.t,e.t-l)):o.end>e.b&&(l=(o.end-e.b)/a,n.b=Math.max(n.b,e.b+l))}function MCe(n,e,t){let r=n.drawingArea,{extra:o,additionalAngle:i,padding:a,size:s}=t,l=n.getPointPosition(e,r+o+a,i),u=Math.round(D0(Li(l.angle+cr))),c=GCe(l.y,s.h,u),d=kCe(u),f=VCe(l.x,s.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:f,top:c,right:f+s.w,bottom:c+s.h}}function ACe(n,e){if(!e)return!0;let{left:t,top:r,right:o,bottom:i}=n;return!(Al({x:t,y:r},e)||Al({x:t,y:i},e)||Al({x:o,y:r},e)||Al({x:o,y:i},e))}function NCe(n,e,t){let r=[],o=n._pointLabels.length,i=n.options,{centerPointLabels:a,display:s}=i.pointLabels,l={extra:Ik(i)/2,additionalAngle:a?xn/o:0},u;for(let c=0;c<o;c++){l.padding=t[c],l.size=e[c];let d=MCe(n,c,l);r.push(d),s==="auto"&&(d.visible=ACe(d,u),d.visible&&(u=d))}return r}function kCe(n){return n===0||n===180?"center":n<180?"left":"right"}function VCe(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function GCe(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function HCe(n,e,t){let{left:r,top:o,right:i,bottom:a}=t,{backdropColor:s}=e;if(!At(s)){let l=Ed(e.borderRadius),u=To(e.backdropPadding);n.fillStyle=s;let c=r-u.left,d=o-u.top,f=i-r+u.width,p=a-o+u.height;Object.values(l).some(h=>h!==0)?(n.beginPath(),_m(n,{x:c,y:d,w:f,h:p,radius:l}),n.fill()):n.fillRect(c,d,f,p)}}function $Ce(n,e){let{ctx:t,options:{pointLabels:r}}=n;for(let o=e-1;o>=0;o--){let i=n._pointLabelItems[o];if(!i.visible)continue;let a=r.setContext(n.getPointLabelContext(o));HCe(t,a,i);let s=Ar(a.font),{x:l,y:u,textAlign:c}=i;_d(t,n._pointLabels[o],l,u+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}function q7(n,e,t,r){let{ctx:o}=n;if(t)o.arc(n.xCenter,n.yCenter,e,0,Dn);else{let i=n.getPointPosition(0,e);o.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=n.getPointPosition(a,e),o.lineTo(i.x,i.y)}}function BCe(n,e,t,r,o){let i=n.ctx,a=e.circular,{color:s,lineWidth:l}=e;!a&&!r||!s||!l||t<0||(i.save(),i.strokeStyle=s,i.lineWidth=l,i.setLineDash(o.dash),i.lineDashOffset=o.dashOffset,i.beginPath(),q7(n,t,a,r),i.closePath(),i.stroke(),i.restore())}function WCe(n,e,t){return Xu(n,{label:t,index:e,type:"pointLabel"})}var Tm=class extends ly{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=To(Ik(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=nr(e)&&!isNaN(e)?e:0,this.max=nr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ik(this.options))}generateTickLabels(e){ly.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{let o=mn(this.options.pointLabels.callback,[t,r],this);return o||o===0?o:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?FCe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,o))}getIndexAngle(e){let t=Dn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Li(e*t+Va(r))}getDistanceFromCenterForValue(e){if(At(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(At(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return WCe(this.getContext(),e,r)}}getPointPosition(e,t,r=0){let o=this.getIndexAngle(e)-cr+r;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:o,bottom:i}=this._pointLabelItems[e];return{left:t,top:r,right:o,bottom:i}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),q7(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:r,grid:o,border:i}=t,a=this._pointLabels.length,s,l,u;if(t.pointLabels.display&&$Ce(this,a),o.display&&this.ticks.forEach((c,d)=>{if(d!==0){l=this.getDistanceFromCenterForValue(c.value);let f=this.getContext(d),p=o.setContext(f),h=i.setContext(f);BCe(this,p,l,a,h)}}),r.display){for(e.save(),s=a-1;s>=0;s--){let c=r.setContext(this.getPointLabelContext(s)),{color:d,lineWidth:f}=c;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),u=this.getPointPosition(s,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let o=this.getIndexAngle(0),i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&!t.reverse)return;let u=r.setContext(this.getContext(l)),c=Ar(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,a=e.measureText(s.label).width,e.fillStyle=u.backdropColor;let d=To(u.backdropPadding);e.fillRect(-a/2-d.left,-i-c.size/2-d.top,a+d.width,c.size+d.height)}_d(e,s.label,0,-i,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}};Se(Tm,"id","radialLinear"),Se(Tm,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:P0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Se(Tm,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Se(Tm,"descriptors",{angleLines:{_fallback:"grid"}});var JR={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ia=Object.keys(JR);function E7(n,e){return n-e}function x7(n,e){if(At(e))return null;let t=n._adapter,{parser:r,round:o,isoWeekday:i}=n._parseOpts,a=e;return typeof r=="function"&&(a=r(a)),nr(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(o&&(a=o==="week"&&(dp(i)||i===!0)?t.startOf(a,"isoWeek",i):t.startOf(a,o)),+a)}function D7(n,e,t,r){let o=ia.length;for(let i=ia.indexOf(n);i<o-1;++i){let a=JR[ia[i]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(s*a.size))<=r)return ia[i]}return ia[o-1]}function zCe(n,e,t,r,o){for(let i=ia.length-1;i>=ia.indexOf(t);i--){let a=ia[i];if(JR[a].common&&n._adapter.diff(o,r,a)>=e-1)return a}return ia[t?ia.indexOf(t):0]}function UCe(n){for(let e=ia.indexOf(n)+1,t=ia.length;e<t;++e)if(JR[ia[e]].common)return ia[e]}function R7(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:r,hi:o}=R0(t,e),i=t[r]>=e?t[r]:t[o];n[i]=!0}}function jCe(n,e,t,r){let o=n._adapter,i=+o.startOf(e[0].value,r),a=e[e.length-1].value,s,l;for(s=i;s<=a;s=+o.add(s,1,r))l=t[s],l>=0&&(e[l].major=!0);return e}function T7(n,e,t){let r=[],o={},i=e.length,a,s;for(a=0;a<i;++a)s=e[a],o[s]=a,r.push({value:s,major:!1});return i===0||!t?r:jCe(n,r,o,t)}var Om=class extends Td{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let r=e.time||(e.time={}),o=this._adapter=new ave._date(e.adapters.date);o.init(t),ym(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:x7(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,r=e.time.unit||"day",{min:o,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!s&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!s)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=nr(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),i=nr(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,i-1),this.max=Math.max(o+1,i)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){let e=this.options,t=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let i=this.min,a=this.max,s=q1(o,i,a);return this._unit=t.unit||(r.autoSkip?D7(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):zCe(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:UCe(this._unit),this.initOffsets(o),e.reverse&&s.reverse(),T7(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,o,i;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;t=qr(t,0,a),r=qr(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){let e=this._adapter,t=this.min,r=this.max,o=this.options,i=o.time,a=i.unit||D7(i.minUnit,t,r,this._getLabelCapacity(t)),s=st(o.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,u=dp(l)||l===!0,c={},d=t,f,p;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":a),e.diff(r,t,a)>1e5*s)throw new Error(t+" and "+r+" are too far apart with stepSize of "+s+" "+a);let h=o.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,s,a),p++)R7(c,f,h);return(f===r||o.bounds==="ticks"||p===1)&&R7(c,f,h),Object.keys(c).sort(E7).map(m=>+m)}getLabelForValue(e){let t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){let o=this.options.time.displayFormats,i=this._unit,a=t||o[i];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,o){let i=this.options,a=i.ticks.callback;if(a)return mn(a,[e,t,r],this);let s=i.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&s[l],d=u&&s[u],f=r[t],p=u&&d&&f&&f.major;return this._adapter.format(e,o||(p?d:c))}generateTickLabels(e){let t,r,o;for(t=0,r=e.length;t<r;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,r=this.ctx.measureText(e).width,o=Va(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(o),a=Math.sin(o),s=this._resolveTickFontOptions(0).size;return{w:r*i+s*a,h:r*a+s*i}}_getLabelCapacity(e){let t=this.options.time,r=t.displayFormats,o=r[t.unit]||r.millisecond,i=this._tickFormatFunction(e,0,T7(this,[e],this._majorUnit),o),a=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,r=o.length;t<r;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,r;if(e.length)return e;let o=this.getLabels();for(t=0,r=o.length;t<r;++t)e.push(x7(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yR(e.sort(E7))}};Se(Om,"id","time"),Se(Om,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zR(n,e,t){let r=0,o=n.length-1,i,a,s,l;t?(e>=n[r].pos&&e<=n[o].pos&&({lo:r,hi:o}=Ml(n,"pos",e)),{pos:i,time:s}=n[r],{pos:a,time:l}=n[o]):(e>=n[r].time&&e<=n[o].time&&({lo:r,hi:o}=Ml(n,"time",e)),{time:i,pos:s}=n[r],{time:a,pos:l}=n[o]);let u=a-i;return u?s+(l-s)*(e-i)/u:s}var j0=class extends Om{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=zR(t,this.min),this._tableRange=zR(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:r}=this,o=[],i=[],a,s,l,u,c;for(a=0,s=e.length;a<s;++a)u=e[a],u>=t&&u<=r&&o.push(u);if(o.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,s=o.length;a<s;++a)c=o[a+1],l=o[a-1],u=o[a],Math.round((c+l)/2)!==u&&i.push({time:u,pos:a/(s-1)});return i}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((o,i)=>o-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(zR(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return zR(this._table,r*this._tableRange+this._minPos,!0)}};Se(j0,"id","timeseries"),Se(j0,"defaults",Om.defaults);var KCe=Object.freeze({__proto__:null,CategoryScale:W0,LinearScale:z0,LogarithmicScale:U0,RadialLinearScale:Tm,TimeScale:Om,TimeSeriesScale:j0}),Y7=[ive,Oye,ECe,KCe];Gs.register(...Y7);var X7=Gs;var eT,qCe=new Uint8Array(16);function Lk(){if(!eT&&(eT=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!eT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return eT(qCe)}var Yo=[];for(let n=0;n<256;++n)Yo.push((n+256).toString(16).slice(1));function Z7(n,e=0){return Yo[n[e+0]]+Yo[n[e+1]]+Yo[n[e+2]]+Yo[n[e+3]]+"-"+Yo[n[e+4]]+Yo[n[e+5]]+"-"+Yo[n[e+6]]+Yo[n[e+7]]+"-"+Yo[n[e+8]]+Yo[n[e+9]]+"-"+Yo[n[e+10]]+Yo[n[e+11]]+Yo[n[e+12]]+Yo[n[e+13]]+Yo[n[e+14]]+Yo[n[e+15]]}var YCe=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mk={randomUUID:YCe};function XCe(n,e,t){if(Mk.randomUUID&&!e&&!n)return Mk.randomUUID();n=n||{};let r=n.random||(n.rng||Lk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return Z7(r)}var Ze=XCe;function uy(n){if(n=="true")return!0;if(n=="false")return!1;try{let e=parseInt(n);if(!isNaN(e))return e}catch(e){}return n}ue();ue();var yn=require("obsidian");ht();function J0(){return J0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},J0.apply(this,arguments)}var Pd=_(z(),1),o9=_(ka(),1);function eb(){return eb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eb.apply(this,arguments)}function Im(n,e,t){var r,o=(r=t.initialDeps)!=null?r:[],i;return function(){var a;t.key&&t.debug!=null&&t.debug()&&(a=Date.now());var s=n(),l=s.length!==o.length||s.some(function(h,m){return o[m]!==h});if(!l)return i;o=s;var u;if(t.key&&t.debug!=null&&t.debug()&&(u=Date.now()),i=e.apply(void 0,s),t.key&&t.debug!=null&&t.debug())var c=Math.round((Date.now()-a)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,p=function(m,v){for(m=String(m);m.length<v;)m=" "+m;return m};return t==null||t.onChange==null||t.onChange(i),i}}function tT(n,e){if(n===void 0)throw new Error("Unexpected undefined"+(e?": "+e:""));return n}var Q7=function(e,t){return Math.abs(e-t)<1};var ZCe=function(e){return e},QCe=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),o=[],i=t;i<=r;i++)o.push(i);return o},J7=function(e,t){var r=e.scrollElement;if(r){var o=function(s){var l=s.width,u=s.height;t({width:Math.round(l),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(a){var s=a[0];if(s!=null&&s.borderBoxSize){var l=s.borderBoxSize[0];if(l){o({width:l.inlineSize,height:l.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}};var e9=function(e,t){var r=e.scrollElement;if(r){var o=function(){t(r[e.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}};var JCe=function(e,t,r){if(t!=null&&t.borderBoxSize){var o=t.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(e.getBoundingClientRect()[r.options.horizontal?"width":"height"])};var t9=function(e,t,r){var o,i,a=t.adjustments,s=a===void 0?0:a,l=t.behavior,u=e+s;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=l,i))},n9=function(e){var t=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver!="undefined"?r=new ResizeObserver(function(a){a.forEach(function(s){t._measureElement(s.target,s)})}):null)};return{disconnect:function(){var a;return(a=o())==null?void 0:a.disconnect()},observe:function(a){var s;return(s=o())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:function(a){var s;return(s=o())==null?void 0:s.unobserve(a)}}}(),this.range=null,this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],a=o[1];typeof a=="undefined"&&delete r[i]}),t.options=eb({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ZCe,rangeExtractor:QCe,onChange:function(){},measureElement:JCe,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(r){t.options.onChange==null||t.options.onChange(t,r)},this.maybeNotify=Im(function(){return t.calculateRange(),[t.isScrolling,t.range?t.range.startIndex:null,t.range?t.range.endIndex:null]},function(r){t.notify(r)},{key:!1,debug:function(){return t.options.debug},initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=function(){t.unsubs.filter(Boolean).forEach(function(r){return r()}),t.unsubs=[],t.scrollElement=null},this._didMount=function(){return t.measureElementCache.forEach(t.observer.observe),function(){t.observer.disconnect(),t.cleanup()}},this._willUpdate=function(){var r=t.options.getScrollElement();t.scrollElement!==r&&(t.cleanup(),t.scrollElement=r,t._scrollToOffset(t.scrollOffset,{adjustments:void 0,behavior:void 0}),t.unsubs.push(t.options.observeElementRect(t,function(o){t.scrollRect=o,t.maybeNotify()})),t.unsubs.push(t.options.observeElementOffset(t,function(o){t.scrollAdjustments=0,t.scrollOffset!==o&&(t.isScrollingTimeoutId!==null&&(clearTimeout(t.isScrollingTimeoutId),t.isScrollingTimeoutId=null),t.isScrolling=!0,t.scrollDirection=t.scrollOffset<o?"forward":"backward",t.scrollOffset=o,t.maybeNotify(),t.isScrollingTimeoutId=setTimeout(function(){t.isScrollingTimeoutId=null,t.isScrolling=!1,t.scrollDirection=null,t.maybeNotify()},t.options.scrollingDelay))})))},this.getSize=function(){return t.scrollRect[t.options.horizontal?"width":"height"]},this.memoOptions=Im(function(){return[t.options.count,t.options.paddingStart,t.options.scrollMargin,t.options.getItemKey]},function(r,o,i,a){return t.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:a}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,a=new Map,s=o-1;s>=0;s--){var l=r[s];if(!i.has(l.lane)){var u=a.get(l.lane);if(u==null||l.end>u.end?a.set(l.lane,l):l.end<u.end&&i.set(l.lane,!0),i.size===t.options.lanes)break}}return a.size===t.options.lanes?Array.from(a.values()).sort(function(c,d){return c.end-d.end})[0]:void 0},this.getMeasurements=Im(function(){return[t.memoOptions(),t.itemSizeCache]},function(r,o){var i=r.count,a=r.paddingStart,s=r.scrollMargin,l=r.getItemKey,u=t.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,t.pendingMeasuredCacheIndexes):0;t.pendingMeasuredCacheIndexes=[];for(var c=t.measurementsCache.slice(0,u),d=u;d<i;d++){var f=l(d),p=t.options.lanes===1?c[d-1]:t.getFurthestMeasurement(c,d),h=p?p.end:a+s,m=o.get(f),v=typeof m=="number"?m:t.options.estimateSize(d),g=h+v,y=p?p.lane:d%t.options.lanes;c[d]={index:d,start:h,size:v,end:g,key:f,lane:y}}return t.measurementsCache=c,c},{key:!1,debug:function(){return t.options.debug}}),this.calculateRange=Im(function(){return[t.getMeasurements(),t.getSize(),t.scrollOffset]},function(r,o,i){return t.range=r.length>0&&o>0?ewe({measurements:r,outerSize:o,scrollOffset:i}):null},{key:!1,debug:function(){return t.options.debug}}),this.getIndexes=Im(function(){return[t.options.rangeExtractor,t.calculateRange(),t.options.overscan,t.options.count]},function(r,o,i,a){return o===null?[]:r(eb({},o,{overscan:i,count:a}))},{key:!1,debug:function(){return t.options.debug}}),this.indexFromElement=function(r){var o=t.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):-1},this._measureElement=function(r,o){var i=t.measurementsCache[t.indexFromElement(r)];if(!i||!r.isConnected){t.measureElementCache.forEach(function(l,u){l===r&&(t.observer.unobserve(r),t.measureElementCache.delete(u))});return}var a=t.measureElementCache.get(i.key);a!==r&&(a&&t.observer.unobserve(a),t.observer.observe(r),t.measureElementCache.set(i.key,r));var s=t.options.measureElement(r,o,t);t.resizeItem(i,s)},this.resizeItem=function(r,o){var i,a=(i=t.itemSizeCache.get(r.key))!=null?i:r.size,s=o-a;s!==0&&(r.start<t.scrollOffset&&t._scrollToOffset(t.scrollOffset,{adjustments:t.scrollAdjustments+=s,behavior:void 0}),t.pendingMeasuredCacheIndexes.push(r.index),t.itemSizeCache=new Map(t.itemSizeCache.set(r.key,o)),t.notify(!1))},this.measureElement=function(r){r&&t._measureElement(r,void 0)},this.getVirtualItems=Im(function(){return[t.getIndexes(),t.getMeasurements()]},function(r,o){for(var i=[],a=0,s=r.length;a<s;a++){var l=r[a],u=o[l];i.push(u)}return i},{key:!1,debug:function(){return t.options.debug}}),this.getVirtualItemForOffset=function(r){var o=t.getMeasurements();return tT(o[r9(0,o.length-1,function(i){return tT(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=t.getSize();o==="auto"&&(r<=t.scrollOffset?o="start":r>=t.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var a=t.options.horizontal?"scrollWidth":"scrollHeight",s=t.scrollElement?"document"in t.scrollElement?t.scrollElement.document.documentElement[a]:t.scrollElement[a]:0,l=s-t.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,t.options.count-1));var i=tT(t.getMeasurements()[r]);if(o==="auto")if(i.end>=t.scrollOffset+t.getSize()-t.options.scrollPaddingEnd)o="end";else if(i.start<=t.scrollOffset+t.options.scrollPaddingStart)o="start";else return[t.scrollOffset,o];var a=o==="end"?i.end+t.options.scrollPaddingEnd:i.start-t.options.scrollPaddingStart;return[t.getOffsetForAlignment(a,o),o]},this.isDynamicMode=function(){return t.measureElementCache.size>0},this.cancelScrollToIndex=function(){t.scrollToIndexTimeoutId!==null&&(clearTimeout(t.scrollToIndexTimeoutId),t.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,a=i.align,s=a===void 0?"start":a,l=i.behavior;t.cancelScrollToIndex(),l==="smooth"&&t.isDynamicMode(),t._scrollToOffset(t.getOffsetForAlignment(r,s),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,a=i.align,s=a===void 0?"auto":a,l=i.behavior;r=Math.max(0,Math.min(r,t.options.count-1)),t.cancelScrollToIndex(),l==="smooth"&&t.isDynamicMode();var u=t.getOffsetForIndex(r,s),c=u[0],d=u[1];t._scrollToOffset(c,{adjustments:void 0,behavior:l}),l!=="smooth"&&t.isDynamicMode()&&(t.scrollToIndexTimeoutId=setTimeout(function(){t.scrollToIndexTimeoutId=null;var f=t.measureElementCache.has(t.options.getItemKey(r));if(f){var p=t.getOffsetForIndex(r,d),h=p[0];Q7(h,t.scrollOffset)||t.scrollToIndex(r,{align:d,behavior:l})}else t.scrollToIndex(r,{align:d,behavior:l})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,a=i.behavior;t.cancelScrollToIndex(),a==="smooth"&&t.isDynamicMode(),t._scrollToOffset(t.scrollOffset+r,{adjustments:void 0,behavior:a})},this.getTotalSize=function(){var r;return(((r=t.getMeasurements()[t.options.count-1])==null?void 0:r.end)||t.options.paddingStart)-t.options.scrollMargin+t.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,a=o.behavior;t.options.scrollToFn(r,{behavior:a,adjustments:i},t)},this.measure=function(){t.itemSizeCache=new Map,t.notify(!1)},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){t.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},r9=function(e,t,r,o){for(;e<=t;){var i=(e+t)/2|0,a=r(i);if(a<o)e=i+1;else if(a>o)t=i-1;else return i}return e>0?e-1:0};function ewe(n){for(var e=n.measurements,t=n.outerSize,r=n.scrollOffset,o=e.length-1,i=function(u){return e[u].start},a=r9(0,o,i,r),s=a;s<o&&e[s].end<r+t;)s++;return{startIndex:a,endIndex:s}}var twe=typeof document!="undefined"?Pd.useLayoutEffect:Pd.useEffect;function nwe(n){var e=Pd.useReducer(function(){return{}},{})[1],t=J0({},n,{onChange:function(a,s){s?(0,o9.flushSync)(e):e(),n.onChange==null||n.onChange(a,s)}}),r=Pd.useState(function(){return new n9(t)}),o=r[0];return o.setOptions(t),Pd.useEffect(function(){return o._didMount()},[]),twe(function(){return o._willUpdate()}),o}function nT(n){return nwe(J0({observeElementRect:J7,observeElementOffset:e9,scrollToFn:t9},n))}var $m=_(z());var zs=_(z());var ce=_(z(),1),gy=_(z(),1);function Gl(n){return i9(n)?(n.nodeName||"").toLowerCase():"#document"}function Ai(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ec(n){var e;return(e=(i9(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function i9(n){return n instanceof Node||n instanceof Ai(n).Node}function _r(n){return n instanceof Element||n instanceof Ai(n).Element}function go(n){return n instanceof HTMLElement||n instanceof Ai(n).HTMLElement}function rT(n){return typeof ShadowRoot=="undefined"?!1:n instanceof ShadowRoot||n instanceof Ai(n).ShadowRoot}function cy(n){let{overflow:e,overflowX:t,overflowY:r,display:o}=Ni(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function a9(n){return["table","td","th"].includes(Gl(n))}function oT(n){let e=iT(),t=Ni(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function s9(n){let e=Od(n);for(;go(e)&&!mp(e);){if(oT(e))return e;e=Od(e)}return null}function iT(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mp(n){return["html","body","#document"].includes(Gl(n))}function Ni(n){return Ai(n).getComputedStyle(n)}function tb(n){return _r(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Od(n){if(Gl(n)==="html")return n;let e=n.assignedSlot||n.parentNode||rT(n)&&n.host||ec(n);return rT(e)?e.host:e}function l9(n){let e=Od(n);return mp(e)?n.ownerDocument?n.ownerDocument.body:n.body:go(e)&&cy(e)?e:l9(e)}function $a(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);let o=l9(n),i=o===((r=n.ownerDocument)==null?void 0:r.body),a=Ai(o);return i?e.concat(a,a.visualViewport||[],cy(o)?o:[],a.frameElement&&t?$a(a.frameElement):[]):e.concat(o,$a(o,[],t))}function Id(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function ki(n,e){if(!n||!e)return!1;let t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&rT(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function aT(){let n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function Nk(){let n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function kk(n){return n.mozInputSource===0&&n.isTrusted?!0:Ak()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function Vk(n){return rwe()?!1:!Ak()&&n.width===0&&n.height===0||Ak()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function Gk(){return/apple/i.test(navigator.vendor)}function Ak(){let n=/android/i;return n.test(aT())||n.test(Nk())}function u9(){return aT().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function rwe(){return Nk().includes("jsdom/")}function Hk(n,e){let t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}function c9(n){return"nativeEvent"in n}function d9(n){return n.matches("html,body")}function Hl(n){return(n==null?void 0:n.ownerDocument)||document}function sT(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);let t=n;return t.target!=null&&e.contains(t.target)}function Fm(n){return"composedPath"in n?n.composedPath()[0]:n.target}var owe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function $k(n){return go(n)&&n.matches(owe)}function Po(n){n.preventDefault(),n.stopPropagation()}function Bk(n){return n?n.getAttribute("role")==="combobox"&&$k(n):!1}var $l=Math.min,Oo=Math.max,rb=Math.round,gp=Math.floor,Fd=n=>({x:n,y:n}),iwe={left:"right",right:"left",bottom:"top",top:"bottom"},awe={start:"end",end:"start"};function Wk(n,e,t){return Oo(n,$l(e,t))}function Lm(n,e){return typeof n=="function"?n(e):n}function Bl(n){return n.split("-")[0]}function dy(n){return n.split("-")[1]}function zk(n){return n==="x"?"y":"x"}function Uk(n){return n==="y"?"height":"width"}function Mm(n){return["top","bottom"].includes(Bl(n))?"y":"x"}function jk(n){return zk(Mm(n))}function f9(n,e,t){t===void 0&&(t=!1);let r=dy(n),o=jk(n),i=Uk(o),a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=nb(a)),[a,nb(a)]}function p9(n){let e=nb(n);return[lT(n),e,lT(e)]}function lT(n){return n.replace(/start|end/g,e=>awe[e])}function swe(n,e,t){let r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}function h9(n,e,t,r){let o=dy(n),i=swe(Bl(n),t==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(lT)))),i}function nb(n){return n.replace(/left|right|bottom|top/g,e=>iwe[e])}function lwe(n){return{top:0,right:0,bottom:0,left:0,...n}}function Kk(n){return typeof n!="number"?lwe(n):{top:n,right:n,bottom:n,left:n}}function Ld(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function m9(n,e,t){let{reference:r,floating:o}=n,i=Mm(e),a=jk(e),s=Uk(a),l=Bl(e),u=i==="y",c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[s]/2-o[s]/2,p;switch(l){case"top":p={x:c,y:r.y-o.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(dy(e)){case"start":p[a]-=f*(t&&u?-1:1);break;case"end":p[a]+=f*(t&&u?-1:1);break}return p}var g9=async(n,e,t)=>{let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=t,s=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e)),u=await a.getElementRects({reference:n,floating:e,strategy:o}),{x:c,y:d}=m9(u,r,l),f=r,p={},h=0;for(let m=0;m<s.length;m++){let{name:v,fn:g}=s[m],{x:y,y:C,data:w,reset:b}=await g({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:u,platform:a,elements:{reference:n,floating:e}});if(c=y!=null?y:c,d=C!=null?C:d,p={...p,[v]:{...p[v],...w}},b&&h<=50){h++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(u=b.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:o}):b.rects),{x:c,y:d}=m9(u,f,l)),m=-1;continue}}return{x:c,y:d,placement:f,strategy:o,middlewareData:p}};async function Am(n,e){var t;e===void 0&&(e={});let{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Lm(e,n),h=Kk(p),v=s[f?d==="floating"?"reference":"floating":d],g=Ld(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(v)))==null||t?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{...a.floating,x:r,y:o}:a.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},b=Ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:C,strategy:l}):y);return{top:(g.top-b.top+h.top)/w.y,bottom:(b.bottom-g.bottom+h.bottom)/w.y,left:(g.left-b.left+h.left)/w.x,right:(b.right-g.right+h.right)/w.x}}var v9=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;let{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...v}=Lm(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};let g=Bl(o),y=Bl(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=f||(y||!m?[nb(s)]:p9(s));!f&&h!=="none"&&w.push(...h9(s,m,h,C));let b=[s,...w],E=await Am(e,v),D=[],S=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&D.push(E[g]),d){let k=f9(o,a,C);D.push(E[k[0]],E[k[1]])}if(S=[...S,{placement:o,overflows:D}],!D.every(k=>k<=0)){var T,O;let k=(((T=i.flip)==null?void 0:T.index)||0)+1,A=b[k];if(A)return{data:{index:k,overflows:S},reset:{placement:A}};let $=(O=S.filter(G=>G.overflows[0]<=0).sort((G,K)=>G.overflows[1]-K.overflows[1])[0])==null?void 0:O.placement;if(!$)switch(p){case"bestFit":{var L;let G=(L=S.map(K=>[K.placement,K.overflows.filter(V=>V>0).reduce((V,Y)=>V+Y,0)]).sort((K,V)=>K[1]-V[1])[0])==null?void 0:L[0];G&&($=G);break}case"initialPlacement":$=s;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function y9(n){let e=$l(...n.map(i=>i.left)),t=$l(...n.map(i=>i.top)),r=Oo(...n.map(i=>i.right)),o=Oo(...n.map(i=>i.bottom));return{x:e,y:t,width:r-e,height:o-t}}function uwe(n){let e=n.slice().sort((o,i)=>o.y-i.y),t=[],r=null;for(let o=0;o<e.length;o++){let i=e[o];!r||i.y-r.y>r.height/2?t.push([i]):t[t.length-1].push(i),r=i}return t.map(o=>Ld(y9(o)))}var C9=function(n){return n===void 0&&(n={}),{name:"inline",options:n,async fn(e){let{placement:t,elements:r,rects:o,platform:i,strategy:a}=e,{padding:s=2,x:l,y:u}=Lm(n,e),c=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),d=uwe(c),f=Ld(y9(c)),p=Kk(s);function h(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(v=>l>v.left-p.left&&l<v.right+p.right&&u>v.top-p.top&&u<v.bottom+p.bottom)||f;if(d.length>=2){if(Mm(t)==="y"){let O=d[0],L=d[d.length-1],k=Bl(t)==="top",A=O.top,$=L.bottom,G=k?O.left:L.left,K=k?O.right:L.right,V=K-G,Y=$-A;return{top:A,bottom:$,left:G,right:K,width:V,height:Y,x:G,y:A}}let v=Bl(t)==="left",g=Oo(...d.map(O=>O.right)),y=$l(...d.map(O=>O.left)),C=d.filter(O=>v?O.left===y:O.right===g),w=C[0].top,b=C[C.length-1].bottom,E=y,D=g,S=D-E,T=b-w;return{top:w,bottom:b,left:E,right:D,width:S,height:T,x:E,y:w}}return f}let m=await i.getElementRects({reference:{getBoundingClientRect:h},floating:r.floating,strategy:a});return o.reference.x!==m.reference.x||o.reference.y!==m.reference.y||o.reference.width!==m.reference.width||o.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function cwe(n,e){let{placement:t,platform:r,elements:o}=n,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Bl(t),s=dy(t),l=Mm(t)==="y",u=["left","top"].includes(a)?-1:1,c=i&&l?-1:1,d=Lm(e,n),{mainAxis:f,crossAxis:p,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&typeof h=="number"&&(p=s==="end"?h*-1:h),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}var Er=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;let{x:o,y:i,placement:a,middlewareData:s}=e,l=await cwe(e,n);return a===((t=s.offset)==null?void 0:t.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},w9=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){let{x:t,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...l}=Lm(n,e),u={x:t,y:r},c=await Am(e,l),d=Mm(Bl(o)),f=zk(d),p=u[f],h=u[d];if(i){let v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=p+c[v],C=p-c[g];p=Wk(y,p,C)}if(a){let v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=h+c[v],C=h-c[g];h=Wk(y,h,C)}let m=s.fn({...e,[f]:p,[d]:h});return{...m,data:{x:m.x-t,y:m.y-r}}}}};var S9=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){let{placement:t,rects:r,platform:o,elements:i}=e,{apply:a=()=>{},...s}=Lm(n,e),l=await Am(e,s),u=Bl(t),c=dy(t),d=Mm(t)==="y",{width:f,height:p}=r.floating,h,m;u==="top"||u==="bottom"?(h=u,m=c===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(m=u,h=c==="end"?"top":"bottom");let v=p-l[h],g=f-l[m],y=!e.middlewareData.shift,C=v,w=g;if(d){let E=f-l.left-l.right;w=c||y?$l(g,E):E}else{let E=p-l.top-l.bottom;C=c||y?$l(v,E):E}if(y&&!c){let E=Oo(l.left,0),D=Oo(l.right,0),S=Oo(l.top,0),T=Oo(l.bottom,0);d?w=f-2*(E!==0||D!==0?E+D:Oo(l.left,l.right)):C=p-2*(S!==0||T!==0?S+T:Oo(l.top,l.bottom))}await a({...e,availableWidth:w,availableHeight:C});let b=await o.getDimensions(i.floating);return f!==b.width||p!==b.height?{reset:{rects:!0}}:{}}}};function E9(n){let e=Ni(n),t=parseFloat(e.width)||0,r=parseFloat(e.height)||0,o=go(n),i=o?n.offsetWidth:t,a=o?n.offsetHeight:r,s=rb(t)!==i||rb(r)!==a;return s&&(t=i,r=a),{width:t,height:r,$:s}}function qk(n){return _r(n)?n:n.contextElement}function fy(n){let e=qk(n);if(!go(e))return Fd(1);let t=e.getBoundingClientRect(),{width:r,height:o,$:i}=E9(e),a=(i?rb(t.width):t.width)/r,s=(i?rb(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var dwe=Fd(0);function x9(n){let e=Ai(n);return!iT()||!e.visualViewport?dwe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fwe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ai(n)?!1:e}function Nm(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);let o=n.getBoundingClientRect(),i=qk(n),a=Fd(1);e&&(r?_r(r)&&(a=fy(r)):a=fy(n));let s=fwe(i,t,r)?x9(i):Fd(0),l=(o.left+s.x)/a.x,u=(o.top+s.y)/a.y,c=o.width/a.x,d=o.height/a.y;if(i){let f=Ai(i),p=r&&_r(r)?Ai(r):r,h=f.frameElement;for(;h&&r&&p!==f;){let m=fy(h),v=h.getBoundingClientRect(),g=Ni(h),y=v.left+(h.clientLeft+parseFloat(g.paddingLeft))*m.x,C=v.top+(h.clientTop+parseFloat(g.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,d*=m.y,l+=y,u+=C,h=Ai(h).frameElement}}return Ld({width:c,height:d,x:l,y:u})}function pwe(n){let{rect:e,offsetParent:t,strategy:r}=n,o=go(t),i=ec(t);if(t===i)return e;let a={scrollLeft:0,scrollTop:0},s=Fd(1),l=Fd(0);if((o||!o&&r!=="fixed")&&((Gl(t)!=="body"||cy(i))&&(a=tb(t)),go(t))){let u=Nm(t);s=fy(t),l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-a.scrollLeft*s.x+l.x,y:e.y*s.y-a.scrollTop*s.y+l.y}}function hwe(n){return Array.from(n.getClientRects())}function D9(n){return Nm(ec(n)).left+tb(n).scrollLeft}function mwe(n){let e=ec(n),t=tb(n),r=n.ownerDocument.body,o=Oo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Oo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),a=-t.scrollLeft+D9(n),s=-t.scrollTop;return Ni(r).direction==="rtl"&&(a+=Oo(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function gwe(n,e){let t=Ai(n),r=ec(n),o=t.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;let u=iT();(!u||u&&e==="fixed")&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}function vwe(n,e){let t=Nm(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,i=go(n)?fy(n):Fd(1),a=n.clientWidth*i.x,s=n.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:a,height:s,x:l,y:u}}function b9(n,e,t){let r;if(e==="viewport")r=gwe(n,t);else if(e==="document")r=mwe(ec(n));else if(_r(e))r=vwe(e,t);else{let o=x9(n);r={...e,x:e.x-o.x,y:e.y-o.y}}return Ld(r)}function R9(n,e){let t=Od(n);return t===e||!_r(t)||mp(t)?!1:Ni(t).position==="fixed"||R9(t,e)}function ywe(n,e){let t=e.get(n);if(t)return t;let r=$a(n,[],!1).filter(s=>_r(s)&&Gl(s)!=="body"),o=null,i=Ni(n).position==="fixed",a=i?Od(n):n;for(;_r(a)&&!mp(a);){let s=Ni(a),l=oT(a);!l&&s.position==="fixed"&&(o=null),(i?!l&&!o:!l&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||cy(a)&&!l&&R9(n,a))?r=r.filter(c=>c!==a):o=s,a=Od(a)}return e.set(n,r),r}function Cwe(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n,a=[...t==="clippingAncestors"?ywe(e,this._c):[].concat(t),r],s=a[0],l=a.reduce((u,c)=>{let d=b9(e,c,o);return u.top=Oo(d.top,u.top),u.right=$l(d.right,u.right),u.bottom=$l(d.bottom,u.bottom),u.left=Oo(d.left,u.left),u},b9(e,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wwe(n){let{width:e,height:t}=E9(n);return{width:e,height:t}}function Swe(n,e,t){let r=go(e),o=ec(e),i=t==="fixed",a=Nm(n,!0,i,e),s={scrollLeft:0,scrollTop:0},l=Fd(0);if(r||!r&&!i)if((Gl(e)!=="body"||cy(o))&&(s=tb(e)),r){let u=Nm(e,!0,i,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else o&&(l.x=D9(o));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function _9(n,e){return!go(n)||Ni(n).position==="fixed"?null:e?e(n):n.offsetParent}function T9(n,e){let t=Ai(n);if(!go(n))return t;let r=_9(n,e);for(;r&&a9(r)&&Ni(r).position==="static";)r=_9(r,e);return r&&(Gl(r)==="html"||Gl(r)==="body"&&Ni(r).position==="static"&&!oT(r))?t:r||s9(n)||t}var bwe=async function(n){let{reference:e,floating:t,strategy:r}=n,o=this.getOffsetParent||T9,i=this.getDimensions;return{reference:Swe(e,await o(t),r),floating:{x:0,y:0,...await i(t)}}};function _we(n){return Ni(n).direction==="rtl"}var uT={convertOffsetParentRelativeRectToViewportRelativeRect:pwe,getDocumentElement:ec,getClippingRect:Cwe,getOffsetParent:T9,getElementRects:bwe,getClientRects:hwe,getDimensions:wwe,getScale:fy,isElement:_r,isRTL:_we};function Ewe(n,e){let t=null,r,o=ec(n);function i(){clearTimeout(r),t&&t.disconnect(),t=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();let{left:u,top:c,width:d,height:f}=n.getBoundingClientRect();if(s||e(),!d||!f)return;let p=gp(c),h=gp(o.clientWidth-(u+d)),m=gp(o.clientHeight-(c+f)),v=gp(u),y={rootMargin:-p+"px "+-h+"px "+-m+"px "+-v+"px",threshold:Oo(0,$l(1,l))||1},C=!0;function w(b){let E=b[0].intersectionRatio;if(E!==l){if(!C)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},100)}C=!1}try{t=new IntersectionObserver(w,{...y,root:o.ownerDocument})}catch(b){t=new IntersectionObserver(w,y)}t.observe(n)}return a(!0),i}function Yr(n,e,t,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=qk(n),c=o||i?[...u?$a(u):[],...$a(e)]:[];c.forEach(g=>{o&&g.addEventListener("scroll",t,{passive:!0}),i&&g.addEventListener("resize",t)});let d=u&&s?Ewe(u,t):null,f=-1,p=null;a&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{p&&p.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let h,m=l?Nm(n):null;l&&v();function v(){let g=Nm(n);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&t(),m=g,h=requestAnimationFrame(v)}return t(),()=>{c.forEach(g=>{o&&g.removeEventListener("scroll",t),i&&g.removeEventListener("resize",t)}),d&&d(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(h)}}var tc=w9,Xr=v9,Hs=S9;var nc=C9;var cT=(n,e,t)=>{let r=new Map,o={platform:uT,...t},i={...o.platform,_c:r};return g9(n,e,{...o,platform:i})};var Zr=_(z(),1),pT=_(z(),1),I9=_(ka(),1);var dT=typeof document!="undefined"?pT.useLayoutEffect:pT.useEffect;function fT(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!fT(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){let i=o[r];if(!(i==="_owner"&&n.$$typeof)&&!fT(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function F9(n){return typeof window=="undefined"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function P9(n,e){let t=F9(n);return Math.round(e*t)/t}function O9(n){let e=Zr.useRef(n);return dT(()=>{e.current=n}),e}function L9(n){n===void 0&&(n={});let{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=n,[c,d]=Zr.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=Zr.useState(r);fT(f,r)||p(r);let[h,m]=Zr.useState(null),[v,g]=Zr.useState(null),y=Zr.useCallback(V=>{V!==E.current&&(E.current=V,m(V))},[]),C=Zr.useCallback(V=>{V!==D.current&&(D.current=V,g(V))},[]),w=i||h,b=a||v,E=Zr.useRef(null),D=Zr.useRef(null),S=Zr.useRef(c),T=l!=null,O=O9(l),L=O9(o),k=Zr.useCallback(()=>{if(!E.current||!D.current)return;let V={placement:e,strategy:t,middleware:f};L.current&&(V.platform=L.current),cT(E.current,D.current,V).then(Y=>{let Q={...Y,isPositioned:!0};A.current&&!fT(S.current,Q)&&(S.current=Q,I9.flushSync(()=>{d(Q)}))})},[f,e,t,L]);dT(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[u]);let A=Zr.useRef(!1);dT(()=>(A.current=!0,()=>{A.current=!1}),[]),dT(()=>{if(w&&(E.current=w),b&&(D.current=b),w&&b){if(O.current)return O.current(w,b,k);k()}},[w,b,k,O,T]);let $=Zr.useMemo(()=>({reference:E,floating:D,setReference:y,setFloating:C}),[y,C]),G=Zr.useMemo(()=>({reference:w,floating:b}),[w,b]),K=Zr.useMemo(()=>{let V={position:t,left:0,top:0};if(!G.floating)return V;let Y=P9(G.floating,c.x),Q=P9(G.floating,c.y);return s?{...V,transform:"translate("+Y+"px, "+Q+"px)",...F9(G.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:Q}},[t,s,G.floating,c.x,c.y]);return Zr.useMemo(()=>({...c,update:k,refs:$,elements:G,floatingStyles:K}),[c,k,$,G,K])}var Twe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Yk=Twe.join(","),N9=typeof Element=="undefined",ob=N9?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,hT=!N9&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},mT=function n(e,t){var r;t===void 0&&(t=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=o===""||o==="true",a=i||t&&e&&n(e.parentNode);return a},Pwe=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Owe=function(e,t,r){if(mT(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Yk));return t&&ob.call(e,Yk)&&o.unshift(e),o=o.filter(r),o},Iwe=function n(e,t,r){for(var o=[],i=Array.from(e);i.length;){var a=i.shift();if(!mT(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),l=s.length?s:a.children,u=n(l,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:a,candidates:u})}else{var c=ob.call(a,Yk);c&&r.filter(a)&&(t||!e.includes(a))&&o.push(a);var d=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),f=!mT(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(d&&f){var p=n(d===!0?a.children:d.children,!0,r);r.flatten?o.push.apply(o,p):o.push({scopeParent:a,candidates:p})}else i.unshift.apply(i,a.children)}}return o},k9=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},V9=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Pwe(e))&&!k9(e)?0:e.tabIndex},Fwe=function(e,t){var r=V9(e);return r<0&&t&&!k9(e)?0:r},Lwe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},G9=function(e){return e.tagName==="INPUT"},Mwe=function(e){return G9(e)&&e.type==="hidden"},Awe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Nwe=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},kwe=function(e){if(!e.name)return!0;var t=e.form||hT(e),r=function(s){return t.querySelectorAll('input[type="radio"][name="'+s+'"]')},o;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return!1}var i=Nwe(o,e.form);return!i||i===e},Vwe=function(e){return G9(e)&&e.type==="radio"},Gwe=function(e){return Vwe(e)&&!kwe(e)},Hwe=function(e){var t,r=e&&hT(e),o=(t=r)===null||t===void 0?void 0:t.host,i=!1;if(r&&r!==e){var a,s,l;for(i=!!((a=o)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&o;){var u,c,d;r=hT(o),o=(u=r)===null||u===void 0?void 0:u.host,i=!!((c=o)!==null&&c!==void 0&&(d=c.ownerDocument)!==null&&d!==void 0&&d.contains(o))}}return i},M9=function(e){var t=e.getBoundingClientRect(),r=t.width,o=t.height;return r===0&&o===0},$we=function(e,t){var r=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=ob.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(ob.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var s=e;e;){var l=e.parentElement,u=hT(e);if(l&&!l.shadowRoot&&o(l)===!0)return M9(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=s}if(Hwe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return M9(e);return!1},Bwe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var o=t.children.item(r);if(o.tagName==="LEGEND")return ob.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},Wwe=function(e,t){return!(t.disabled||mT(t)||Mwe(t)||$we(t,e)||Awe(t)||Bwe(t))},A9=function(e,t){return!(Gwe(t)||V9(t)<0||!Wwe(e,t))},zwe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Uwe=function n(e){var t=[],r=[];return e.forEach(function(o,i){var a=!!o.scopeParent,s=a?o.scopeParent:o,l=Fwe(s,a),u=a?n(o.candidates):s;l===0?a?t.push.apply(t,u):t.push(s):r.push({documentOrder:i,tabIndex:l,item:o,isScope:a,content:u})}),r.sort(Lwe).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(t)},gT=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Iwe([e],t.includeContainer,{filter:A9.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:zwe}):r=Owe(e,t.includeContainer,A9.bind(null,t)),Uwe(r)};var rV=_(ka(),1);var jwe=ce["useInsertionEffect".toString()],Kwe=jwe||(n=>n());function rc(n){let e=ce.useRef(()=>{});return Kwe(()=>{e.current=n}),ce.useCallback(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}var ST="ArrowUp",vy="ArrowDown",Vm="ArrowLeft",Gm="ArrowRight";function vT(n,e,t){return Math.floor(n/e)!==t}function ib(n,e){return e<0||e>=n.current.length}function Xk(n,e){return gi(n,{disabledIndices:e})}function H9(n,e){return gi(n,{decrement:!0,startingIndex:n.current.length,disabledIndices:e})}function gi(n,e){let{startingIndex:t=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=e===void 0?{}:e,a=n.current,s=o?u=>o.includes(u):u=>{let c=a[u];return c==null||c.hasAttribute("disabled")||c.getAttribute("aria-disabled")==="true"},l=t;do l+=r?-i:i;while(l>=0&&l<=a.length-1&&s(l));return l}function qwe(n,e){let{event:t,orientation:r,loop:o,cols:i,disabledIndices:a,minIndex:s,maxIndex:l,prevIndex:u,stopEvent:c=!1}=e,d=u;if(t.key===ST){if(c&&Po(t),u===-1)d=l;else if(d=gi(n,{startingIndex:d,amount:i,decrement:!0,disabledIndices:a}),o&&(u-i<s||d<0)){let f=u%i,p=l%i,h=l-(p-f);p===f?d=l:d=p>f?h:h-i}ib(n,d)&&(d=u)}if(t.key===vy&&(c&&Po(t),u===-1?d=s:(d=gi(n,{startingIndex:u,amount:i,disabledIndices:a}),o&&u+i>l&&(d=gi(n,{startingIndex:u%i-i,amount:i,disabledIndices:a}))),ib(n,d)&&(d=u)),r==="both"){let f=gp(u/i);t.key===Gm&&(c&&Po(t),u%i!==i-1?(d=gi(n,{startingIndex:u,disabledIndices:a}),o&&vT(d,i,f)&&(d=gi(n,{startingIndex:u-u%i-1,disabledIndices:a}))):o&&(d=gi(n,{startingIndex:u-u%i-1,disabledIndices:a})),vT(d,i,f)&&(d=u)),t.key===Vm&&(c&&Po(t),u%i!==0?(d=gi(n,{startingIndex:u,disabledIndices:a,decrement:!0}),o&&vT(d,i,f)&&(d=gi(n,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:a}))):o&&(d=gi(n,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:a})),vT(d,i,f)&&(d=u));let p=gp(l/i)===f;ib(n,d)&&(o&&p?d=t.key===Vm?l:gi(n,{startingIndex:u-u%i-1,disabledIndices:a}):d=u)}return d}function Ywe(n,e,t){let r=[],o=0;return n.forEach((i,a)=>{let{width:s,height:l}=i;s>e;let u=!1;for(t&&(o=0);!u;){let c=[];for(let d=0;d<s;d++)for(let f=0;f<l;f++)c.push(o+d+f*e);o%e+s<=e&&c.every(d=>r[d]==null)?(c.forEach(d=>{r[d]=a}),u=!0):o++}}),[...r]}function Xwe(n,e,t,r,o){if(n===-1)return-1;let i=t.indexOf(n);switch(o){case"tl":return i;case"tr":return i+e[n].width-1;case"bl":return i+(e[n].height-1)*r;case"br":return t.lastIndexOf(n)}}function Zwe(n,e){return e.flatMap((t,r)=>n.includes(t)?[r]:[])}var $9=0;function Md(n,e){e===void 0&&(e={});let{preventScroll:t=!1,cancelPrevious:r=!0,sync:o=!1}=e;r&&cancelAnimationFrame($9);let i=()=>n==null?void 0:n.focus({preventScroll:t});o?i():$9=requestAnimationFrame(i)}var fr=typeof document!="undefined"?gy.useLayoutEffect:gy.useEffect;var Qwe=[Vm,Gm],Jwe=[ST,vy],F8e=[...Qwe,...Jwe];function sb(){return sb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sb.apply(this,arguments)}var Zk=!1,eSe=0,B9=()=>"floating-ui-"+eSe++;function tSe(){let[n,e]=ce.useState(()=>Zk?B9():void 0);return fr(()=>{n==null&&e(B9())},[]),ce.useEffect(()=>{Zk||(Zk=!0)},[]),n}var nSe=ce["useId".toString()],bT=nSe||tSe;function rSe(){let n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(o=>o(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(o=>o!==t))||[])}}}var oSe=ce.createContext(null),iSe=ce.createContext(null),oV=()=>{var n;return((n=ce.useContext(oSe))==null?void 0:n.id)||null},_T=()=>ce.useContext(iSe);function lb(n){return"data-floating-ui-"+n}function $s(n){let e=(0,gy.useRef)(n);return fr(()=>{e.current=n}),e}function aSe(n,e){var t;let r=[],o=(t=n.find(i=>i.id===e))==null?void 0:t.parentId;for(;o;){let i=n.find(a=>a.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function my(n,e){let t=n.filter(o=>{var i;return o.parentId===e&&((i=o.context)==null?void 0:i.open)}),r=t;for(;r.length;)r=n.filter(o=>{var i;return(i=r)==null?void 0:i.some(a=>{var s;return o.parentId===a.id&&((s=o.context)==null?void 0:s.open)})}),t=t.concat(r);return t}function sSe(n,e){let t,r=-1;function o(i,a){a>r&&(t=i,r=a),my(n,i).forEach(l=>{o(l.id,a+1)})}return o(e,0),n.find(i=>i.id===t)}var py=new WeakMap,yT=new WeakSet,CT={},Qk=0,lSe=()=>typeof HTMLElement!="undefined"&&"inert"in HTMLElement.prototype,nK=n=>n&&(n.host||nK(n.parentNode)),uSe=(n,e)=>e.map(t=>{if(n.contains(t))return t;let r=nK(t);return n.contains(r)?r:null}).filter(t=>t!=null);function cSe(n,e,t,r){let o="data-floating-ui-inert",i=r?"inert":t?"aria-hidden":null,a=uSe(e,n),s=new Set,l=new Set(a),u=[];CT[o]||(CT[o]=new WeakMap);let c=CT[o];a.forEach(d),f(e),s.clear();function d(p){!p||s.has(p)||(s.add(p),p.parentNode&&d(p.parentNode))}function f(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,h=>{if(s.has(h))f(h);else{let m=i?h.getAttribute(i):null,v=m!==null&&m!=="false",g=(py.get(h)||0)+1,y=(c.get(h)||0)+1;py.set(h,g),c.set(h,y),u.push(h),g===1&&v&&yT.add(h),y===1&&h.setAttribute(o,""),!v&&i&&h.setAttribute(i,"true")}})}return Qk++,()=>{u.forEach(p=>{let h=(py.get(p)||0)-1,m=(c.get(p)||0)-1;py.set(p,h),c.set(p,m),h||(!yT.has(p)&&i&&p.removeAttribute(i),yT.delete(p)),m||p.removeAttribute(o)}),Qk--,Qk||(py=new WeakMap,py=new WeakMap,yT=new WeakSet,CT={})}}function W9(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);let r=Hl(n[0]).body;return cSe(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}var iV=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function rK(n,e){let t=gT(n,iV());e==="prev"&&t.reverse();let r=t.indexOf(Id(Hl(n)));return t.slice(r+1)[0]}function oK(){return rK(document.body,"next")}function iK(){return rK(document.body,"prev")}function ab(n,e){let t=e||n.currentTarget,r=n.relatedTarget;return!r||!ki(t,r)}function dSe(n){gT(n,iV()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function fSe(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{let r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}var aV={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},pSe;function z9(n){n.key==="Tab"&&(n.target,clearTimeout(pSe))}var wT=ce.forwardRef(function(e,t){let[r,o]=ce.useState();fr(()=>(Gk()&&o("button"),document.addEventListener("keydown",z9),()=>{document.removeEventListener("keydown",z9)}),[]);let i={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[lb("focus-guard")]:"",style:aV};return ce.createElement("span",sb({},e,i))}),aK=ce.createContext(null);function hSe(n){let{id:e,root:t}=n===void 0?{}:n,[r,o]=ce.useState(null),i=bT(),a=sK(),s=ce.useMemo(()=>({id:e,root:t,portalContext:a,uniqueId:i}),[e,t,a,i]),l=ce.useRef();return fr(()=>()=>{r==null||r.remove()},[r,s]),fr(()=>{if(l.current===s)return;l.current=s;let{id:u,root:c,portalContext:d,uniqueId:f}=s,p=u?document.getElementById(u):null,h=lb("portal");if(p){let m=document.createElement("div");m.id=f,m.setAttribute(h,""),p.appendChild(m),o(m)}else{let m=c||(d==null?void 0:d.portalNode);m&&!_r(m)&&(m=m.current),m=m||document.body;let v=null;u&&(v=document.createElement("div"),v.id=u,m.appendChild(v));let g=document.createElement("div");g.id=f,g.setAttribute(h,""),m=v||m,m.appendChild(g),o(g)}},[s]),r}function Bs(n){let{children:e,id:t,root:r=null,preserveTabOrder:o=!0}=n,i=hSe({id:t,root:r}),[a,s]=ce.useState(null),l=ce.useRef(null),u=ce.useRef(null),c=ce.useRef(null),d=ce.useRef(null),f=!!a&&!a.modal&&a.open&&o&&!!(r||i);return ce.useEffect(()=>{if(!i||!o||a!=null&&a.modal)return;function p(h){i&&ab(h)&&(h.type==="focusin"?fSe:dSe)(i)}return i.addEventListener("focusin",p,!0),i.addEventListener("focusout",p,!0),()=>{i.removeEventListener("focusin",p,!0),i.removeEventListener("focusout",p,!0)}},[i,o,a==null?void 0:a.modal]),ce.createElement(aK.Provider,{value:ce.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:c,afterInsideRef:d,portalNode:i,setFocusManagerState:s}),[o,i])},f&&i&&ce.createElement(wT,{"data-type":"outside",ref:l,onFocus:p=>{if(ab(p,i)){var h;(h=c.current)==null||h.focus()}else{let m=iK()||(a==null?void 0:a.refs.domReference.current);m==null||m.focus()}}}),f&&i&&ce.createElement("span",{"aria-owns":i.id,style:aV}),i&&(0,rV.createPortal)(e,i),f&&i&&ce.createElement(wT,{"data-type":"outside",ref:u,onFocus:p=>{if(ab(p,i)){var h;(h=d.current)==null||h.focus()}else{let m=oK()||(a==null?void 0:a.refs.domReference.current);m==null||m.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,p.nativeEvent))}}}))}var sK=()=>ce.useContext(aK),U9=20,km=[];function Jk(n){km=km.filter(e=>e.isConnected),n&&Gl(n)!=="body"&&(km.push(n),km.length>U9&&(km=km.slice(-U9)))}function j9(){return km.slice().reverse().find(n=>n.isConnected)}var mSe=ce.forwardRef(function(e,t){return ce.createElement("button",sb({},e,{type:"button",ref:t,tabIndex:-1,style:aV}))});function aa(n){let{context:e,children:t,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:a=0,returnFocus:s=!0,modal:l=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:c=!0}=n,{open:d,refs:f,nodeId:p,onOpenChange:h,events:m,dataRef:v,elements:{domReference:g,floating:y}}=e,C=typeof a=="number"&&a<0,w=Bk(g)&&C,b=lSe()?i:!0,E=$s(o),D=$s(a),S=$s(s),T=_T(),O=sK(),L=ce.useRef(null),k=ce.useRef(null),A=ce.useRef(!1),$=ce.useRef(!1),G=O!=null,K=ce.useCallback(function(X){return X===void 0&&(X=y),X?gT(X,iV()):[]},[y]),V=ce.useCallback(X=>{let fe=K(X);return E.current.map(ne=>g&&ne==="reference"?g:y&&ne==="floating"?y:fe).filter(Boolean).flat()},[g,y,E,K]);ce.useEffect(()=>{if(r||!l)return;function X(ne){if(ne.key==="Tab"){ki(y,Id(Hl(y)))&&K().length===0&&!w&&Po(ne);let me=V(),de=Fm(ne);E.current[0]==="reference"&&de===g&&(Po(ne),ne.shiftKey?Md(me[me.length-1]):Md(me[1])),E.current[1]==="floating"&&de===y&&ne.shiftKey&&(Po(ne),Md(me[0]))}}let fe=Hl(y);return fe.addEventListener("keydown",X),()=>{fe.removeEventListener("keydown",X)}},[r,g,y,l,E,w,K,V]),ce.useEffect(()=>{if(r||!c)return;function X(){$.current=!0,setTimeout(()=>{$.current=!1})}function fe(ne){let me=ne.relatedTarget;queueMicrotask(()=>{let de=!(ki(g,me)||ki(y,me)||ki(me,y)||ki(O==null?void 0:O.portalNode,me)||me!=null&&me.hasAttribute(lb("focus-guard"))||T&&(my(T.nodesRef.current,p).find(Ce=>{var ge,He;return ki((ge=Ce.context)==null?void 0:ge.elements.floating,me)||ki((He=Ce.context)==null?void 0:He.elements.domReference,me)})||aSe(T.nodesRef.current,p).find(Ce=>{var ge,He;return((ge=Ce.context)==null?void 0:ge.elements.floating)===me||((He=Ce.context)==null?void 0:He.elements.domReference)===me})));me&&de&&!$.current&&me!==j9()&&(A.current=!0,h(!1,ne))})}if(y&&go(g))return g.addEventListener("focusout",fe),g.addEventListener("pointerdown",X),!l&&y.addEventListener("focusout",fe),()=>{g.removeEventListener("focusout",fe),g.removeEventListener("pointerdown",X),!l&&y.removeEventListener("focusout",fe)}},[r,g,y,l,p,T,O,h,c]),ce.useEffect(()=>{var X;if(r)return;let fe=Array.from((O==null||(X=O.portalNode)==null?void 0:X.querySelectorAll("["+lb("portal")+"]"))||[]);if(y){let ne=[y,...fe,L.current,k.current,E.current.includes("reference")||w?g:null].filter(de=>de!=null),me=l||w?W9(ne,b,!b):W9(ne);return()=>{me()}}},[r,g,y,l,E,O,w,b]),fr(()=>{if(r||!y)return;let X=Hl(y),fe=Id(X);queueMicrotask(()=>{let ne=V(y),me=D.current,de=(typeof me=="number"?ne[me]:me.current)||y,Ce=ki(y,fe);!C&&!Ce&&d&&Md(de,{preventScroll:de===y})})},[r,d,y,C,V,D]),fr(()=>{if(r||!y)return;let X=!1,fe=Hl(y),ne=Id(fe),me=v.current;Jk(ne);function de(Ce){let{reason:ge,event:He,nested:dt}=Ce;ge==="escape-key"&&f.domReference.current&&Jk(f.domReference.current),ge==="hover"&&He.type==="mouseleave"&&(A.current=!0),ge==="outside-press"&&(dt?(A.current=!1,X=!0):A.current=!(kk(He)||Vk(He)))}return m.on("openchange",de),()=>{m.off("openchange",de);let Ce=Id(fe),ge=ki(y,Ce)||T&&my(T.nodesRef.current,p).some(ot=>{var ke;return ki((ke=ot.context)==null?void 0:ke.elements.floating,Ce)});(ge||me.openEvent&&["click","mousedown"].includes(me.openEvent.type))&&f.domReference.current&&Jk(f.domReference.current);let dt=j9();S.current&&!A.current&&go(dt)&&(!(dt!==Ce&&Ce!==fe.body)||ge)&&Md(dt,{cancelPrevious:!1,preventScroll:X})}},[r,y,S,v,f,m,T,p]),fr(()=>{if(!(r||!O))return O.setFocusManagerState({modal:l,closeOnFocusOut:c,open:d,onOpenChange:h,refs:f}),()=>{O.setFocusManagerState(null)}},[r,O,l,d,h,f,c]),fr(()=>{if(r||!y||typeof MutationObserver!="function"||C)return;let X=()=>{let ne=y.getAttribute("tabindex");E.current.includes("floating")||Id(Hl(y))!==f.domReference.current&&K().length===0?ne!=="0"&&y.setAttribute("tabindex","0"):ne!=="-1"&&y.setAttribute("tabindex","-1")};X();let fe=new MutationObserver(X);return fe.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{fe.disconnect()}},[r,y,f,E,K,C]);function Y(X){return r||!u||!l?null:ce.createElement(mSe,{ref:X==="start"?L:k,onClick:fe=>h(!1,fe.nativeEvent)},typeof u=="string"?u:"Dismiss")}let Q=!r&&b&&(G||l);return ce.createElement(ce.Fragment,null,Q&&ce.createElement(wT,{"data-type":"inside",ref:O==null?void 0:O.beforeInsideRef,onFocus:X=>{if(l){let ne=V();Md(o[0]==="reference"?ne[0]:ne[ne.length-1])}else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(A.current=!1,ab(X,O.portalNode)){let ne=oK()||g;ne==null||ne.focus()}else{var fe;(fe=O.beforeOutsideRef.current)==null||fe.focus()}}}),!w&&Y("start"),t,Y("end"),Q&&ce.createElement(wT,{"data-type":"inside",ref:O==null?void 0:O.afterInsideRef,onFocus:X=>{if(l)Md(V()[0]);else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(c&&(A.current=!0),ab(X,O.portalNode)){let ne=iK()||g;ne==null||ne.focus()}else{var fe;(fe=O.afterOutsideRef.current)==null||fe.focus()}}}))}var eV=new Set,vp=ce.forwardRef(function(e,t){let{lockScroll:r=!1,...o}=e,i=bT();return fr(()=>{if(!r)return;eV.add(i);let a=/iP(hone|ad|od)|iOS/.test(aT()),s=document.body.style,u=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",c=window.innerWidth-document.documentElement.clientWidth,d=s.left?parseFloat(s.left):window.pageXOffset,f=s.top?parseFloat(s.top):window.pageYOffset;if(s.overflow="hidden",c&&(s[u]=c+"px"),a){var p,h;let m=((p=window.visualViewport)==null?void 0:p.offsetLeft)||0,v=((h=window.visualViewport)==null?void 0:h.offsetTop)||0;Object.assign(s,{position:"fixed",top:-(f-Math.floor(v))+"px",left:-(d-Math.floor(m))+"px",right:"0"})}return()=>{eV.delete(i),eV.size===0&&(Object.assign(s,{overflow:"",[u]:""}),a&&(Object.assign(s,{position:"",top:"",left:"",right:""}),window.scrollTo(d,f)))}},[i,r]),ce.createElement("div",sb({ref:t},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function K9(n){return go(n.target)&&n.target.tagName==="BUTTON"}function q9(n){return $k(n)}function ET(n,e){e===void 0&&(e={});let{open:t,onOpenChange:r,dataRef:o,elements:{domReference:i}}=n,{enabled:a=!0,event:s="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:c=!0}=e,d=ce.useRef(),f=ce.useRef(!1);return ce.useMemo(()=>a?{reference:{onPointerDown(p){d.current=p.pointerType},onMouseDown(p){p.button===0&&(Hk(d.current,!0)&&u||s!=="click"&&(t&&l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,p.nativeEvent,"click"):(p.preventDefault(),r(!0,p.nativeEvent,"click"))))},onClick(p){if(s==="mousedown"&&d.current){d.current=void 0;return}Hk(d.current,!0)&&u||(t&&l&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,p.nativeEvent,"click"):r(!0,p.nativeEvent,"click"))},onKeyDown(p){d.current=void 0,!(p.defaultPrevented||!c||K9(p))&&(p.key===" "&&!q9(i)&&(p.preventDefault(),f.current=!0),p.key==="Enter"&&r(!(t&&l),p.nativeEvent,"click"))},onKeyUp(p){p.defaultPrevented||!c||K9(p)||q9(i)||p.key===" "&&f.current&&(f.current=!1,r(!(t&&l),p.nativeEvent,"click"))}}}:{},[a,o,s,u,c,i,l,t,r])}var gSe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},vSe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Y9=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n==null?void 0:n.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n==null?void 0:n.outsidePress)!=null?t:!0}};function Io(n,e){e===void 0&&(e={});let{open:t,onOpenChange:r,nodeId:o,elements:{reference:i,domReference:a,floating:s},dataRef:l}=n,{enabled:u=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:p=!1,referencePressEvent:h="pointerdown",ancestorScroll:m=!1,bubbles:v,capture:g}=e,y=_T(),C=rc(typeof d=="function"?d:()=>!1),w=typeof d=="function"?C:d,b=ce.useRef(!1),E=ce.useRef(!1),{escapeKey:D,outsidePress:S}=Y9(v),{escapeKey:T,outsidePress:O}=Y9(g),L=rc(G=>{if(!t||!u||!c||G.key!=="Escape")return;let K=y?my(y.nodesRef.current,o):[];if(!D&&(G.stopPropagation(),K.length>0)){let V=!0;if(K.forEach(Y=>{var Q;if((Q=Y.context)!=null&&Q.open&&!Y.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}r(!1,c9(G)?G.nativeEvent:G,"escape-key")}),k=rc(G=>{var K;let V=()=>{var Y;L(G),(Y=Fm(G))==null||Y.removeEventListener("keydown",V)};(K=Fm(G))==null||K.addEventListener("keydown",V)}),A=rc(G=>{let K=b.current;b.current=!1;let V=E.current;if(E.current=!1,f==="click"&&V||K||typeof w=="function"&&!w(G))return;let Y=Fm(G),Q="["+lb("inert")+"]",X=Hl(s).querySelectorAll(Q),fe=_r(Y)?Y:null;for(;fe&&!mp(fe);){let de=Od(fe);if(mp(de)||!_r(de))break;fe=de}if(X.length&&_r(Y)&&!d9(Y)&&!ki(Y,s)&&Array.from(X).every(de=>!ki(fe,de)))return;if(go(Y)&&s){let de=Y.clientWidth>0&&Y.scrollWidth>Y.clientWidth,Ce=Y.clientHeight>0&&Y.scrollHeight>Y.clientHeight,ge=Ce&&G.offsetX>Y.clientWidth;if(Ce&&Ni(Y).direction==="rtl"&&(ge=G.offsetX<=Y.offsetWidth-Y.clientWidth),ge||de&&G.offsetY>Y.clientHeight)return}let ne=y&&my(y.nodesRef.current,o).some(de=>{var Ce;return sT(G,(Ce=de.context)==null?void 0:Ce.elements.floating)});if(sT(G,s)||sT(G,a)||ne)return;let me=y?my(y.nodesRef.current,o):[];if(me.length>0){let de=!0;if(me.forEach(Ce=>{var ge;if((ge=Ce.context)!=null&&ge.open&&!Ce.context.dataRef.current.__outsidePressBubbles){de=!1;return}}),!de)return}r(!1,G,"outside-press")}),$=rc(G=>{var K;let V=()=>{var Y;A(G),(Y=Fm(G))==null||Y.removeEventListener(f,V)};(K=Fm(G))==null||K.addEventListener(f,V)});return ce.useEffect(()=>{if(!t||!u)return;l.current.__escapeKeyBubbles=D,l.current.__outsidePressBubbles=S;function G(Y){r(!1,Y,"ancestor-scroll")}let K=Hl(s);c&&K.addEventListener("keydown",T?k:L,T),w&&K.addEventListener(f,O?$:A,O);let V=[];return m&&(_r(a)&&(V=$a(a)),_r(s)&&(V=V.concat($a(s))),!_r(i)&&i&&i.contextElement&&(V=V.concat($a(i.contextElement)))),V=V.filter(Y=>{var Q;return Y!==((Q=K.defaultView)==null?void 0:Q.visualViewport)}),V.forEach(Y=>{Y.addEventListener("scroll",G,{passive:!0})}),()=>{c&&K.removeEventListener("keydown",T?k:L,T),w&&K.removeEventListener(f,O?$:A,O),V.forEach(Y=>{Y.removeEventListener("scroll",G)})}},[l,s,a,i,c,w,f,t,r,m,u,D,S,L,T,k,A,O,$]),ce.useEffect(()=>{b.current=!1},[w,f]),ce.useMemo(()=>u?{reference:{onKeyDown:L,[gSe[h]]:G=>{p&&r(!1,G.nativeEvent,"reference-press")}},floating:{onKeyDown:L,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[vSe[f]]:()=>{b.current=!0}}}:{},[u,p,f,h,r,L])}function Fo(n){var e;n===void 0&&(n={});let{open:t=!1,onOpenChange:r,nodeId:o}=n;if(!1){var i;if((i=n.elements)!=null&&i.reference&&!_r(n.elements.reference)){var a;if(!((a=devMessageSet)!=null&&a.has(S)))var s}}let[l,u]=ce.useState(null),c=((e=n.elements)==null?void 0:e.reference)||l,d=L9(n),f=_T(),p=oV()!=null,h=rc((S,T,O)=>{S&&(v.current.openEvent=T),g.emit("openchange",{open:S,event:T,reason:O,nested:p}),r==null||r(S,T,O)}),m=ce.useRef(null),v=ce.useRef({}),g=ce.useState(()=>rSe())[0],y=bT(),C=ce.useCallback(S=>{let T=_r(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;d.refs.setReference(T)},[d.refs]),w=ce.useCallback(S=>{(_r(S)||S===null)&&(m.current=S,u(S)),(_r(d.refs.reference.current)||d.refs.reference.current===null||S!==null&&!_r(S))&&d.refs.setReference(S)},[d.refs]),b=ce.useMemo(()=>({...d.refs,setReference:w,setPositionReference:C,domReference:m}),[d.refs,w,C]),E=ce.useMemo(()=>({...d.elements,domReference:c}),[d.elements,c]),D=ce.useMemo(()=>({...d,refs:b,elements:E,dataRef:v,nodeId:o,floatingId:y,events:g,open:t,onOpenChange:h}),[d,o,y,g,t,h,b,E]);return fr(()=>{let S=f==null?void 0:f.nodesRef.current.find(T=>T.id===o);S&&(S.context=D)}),ce.useMemo(()=>({...d,context:D,refs:b,elements:E}),[d,b,E,D])}var X9="active",Z9="selected";function tV(n,e,t){let r=new Map,o=t==="item",i=n;if(o&&n){let{[X9]:a,[Z9]:s,...l}=n;i=l}return{...t==="floating"&&{tabIndex:-1},...i,...e.map(a=>{let s=a?a[t]:null;return typeof s=="function"?n?s(n):null:s}).concat(n).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[u,c]=l;if(!(o&&[X9,Z9].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),a[u]=function(){for(var f,p=arguments.length,h=new Array(p),m=0;m<p;m++)h[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(v=>v(...h)).find(v=>v!==void 0)}}}else a[u]=c}),a),{})}}function Lo(n){n===void 0&&(n=[]);let e=n,t=ce.useCallback(i=>tV(i,n,"reference"),e),r=ce.useCallback(i=>tV(i,n,"floating"),e),o=ce.useCallback(i=>tV(i,n,"item"),n.map(i=>i==null?void 0:i.item));return ce.useMemo(()=>({getReferenceProps:t,getFloatingProps:r,getItemProps:o}),[t,r,o])}var Q9=!1;function xT(n,e,t){switch(n){case"vertical":return e;case"horizontal":return t;default:return e||t}}function J9(n,e){return xT(e,n===ST||n===vy,n===Vm||n===Gm)}function nV(n,e,t){return xT(e,n===vy,t?n===Vm:n===Gm)||n==="Enter"||n===" "||n===""}function ySe(n,e,t){return xT(e,t?n===Vm:n===Gm,n===vy)}function eK(n,e,t){return xT(e,t?n===Gm:n===Vm,n===ST)}function DT(n,e){let{open:t,onOpenChange:r,refs:o,elements:{domReference:i,floating:a}}=n,{listRef:s,activeIndex:l,onNavigate:u=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:f=!1,loop:p=!1,nested:h=!1,rtl:m=!1,virtual:v=!1,focusItemOnOpen:g="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:C=!0,disabledIndices:w=void 0,orientation:b="vertical",cols:E=1,scrollItemIntoView:D=!0,virtualItemRef:S,itemSizes:T,dense:O=!1}=e,L=oV(),k=_T(),A=rc(u),$=ce.useRef(g),G=ce.useRef(d!=null?d:-1),K=ce.useRef(null),V=ce.useRef(!0),Y=ce.useRef(A),Q=ce.useRef(!!a),X=ce.useRef(!1),fe=ce.useRef(!1),ne=$s(w),me=$s(t),de=$s(D),[Ce,ge]=ce.useState(),[He,dt]=ce.useState(),ot=rc(function(De,Ye,je){je===void 0&&(je=!1);let Pe=De.current[Ye.current];Pe&&(v?(ge(Pe.id),k==null||k.events.emit("virtualfocus",Pe),S&&(S.current=Pe)):Md(Pe,{preventScroll:!0,sync:u9()&&Gk()?Q9||X.current:!1}),requestAnimationFrame(()=>{let wt=de.current;wt&&Pe&&(je||!V.current)&&(Pe.scrollIntoView==null||Pe.scrollIntoView(typeof wt=="boolean"?{block:"nearest",inline:"nearest"}:wt))}))});fr(()=>{document.createElement("div").focus({get preventScroll(){return Q9=!0,!1}})},[]),fr(()=>{c&&(t&&a?$.current&&d!=null&&(fe.current=!0,G.current=d,A(d)):Q.current&&(G.current=-1,Y.current(null)))},[c,t,a,d,A]),fr(()=>{if(c&&t&&a)if(l==null){if(X.current=!1,d!=null)return;if(Q.current&&(G.current=-1,ot(s,G)),!Q.current&&$.current&&(K.current!=null||$.current===!0&&K.current==null)){let De=0,Ye=()=>{s.current[0]==null?(De<2&&(De?requestAnimationFrame:queueMicrotask)(Ye),De++):(G.current=K.current==null||nV(K.current,b,m)||h?Xk(s,ne.current):H9(s,ne.current),K.current=null,A(G.current))};Ye()}}else ib(s,l)||(G.current=l,ot(s,G,fe.current),fe.current=!1)},[c,t,a,l,d,h,s,b,m,A,ot,ne]),fr(()=>{var De;if(!c||a||!k||v||!Q.current)return;let Ye=k.nodesRef.current,je=(De=Ye.find(On=>On.id===L))==null||(De=De.context)==null?void 0:De.elements.floating,Pe=Id(Hl(a)),wt=Ye.some(On=>On.context&&ki(On.context.elements.floating,Pe));je&&!wt&&V.current&&je.focus({preventScroll:!0})},[c,a,k,L,v]),fr(()=>{if(!c||!k||!v||L)return;function De(Ye){dt(Ye.id),S&&(S.current=Ye)}return k.events.on("virtualfocus",De),()=>{k.events.off("virtualfocus",De)}},[c,k,v,L,S]),fr(()=>{Y.current=A,Q.current=!!a}),fr(()=>{t||(K.current=null)},[t]);let ke=l!=null,it=ce.useMemo(()=>{function De(je){if(!t)return;let Pe=s.current.indexOf(je);Pe!==-1&&A(Pe)}return{onFocus(je){let{currentTarget:Pe}=je;De(Pe)},onClick:je=>{let{currentTarget:Pe}=je;return Pe.focus({preventScroll:!0})},...y&&{onMouseMove(je){let{currentTarget:Pe}=je;De(Pe)},onPointerLeave(je){let{pointerType:Pe}=je;!V.current||Pe==="touch"||(G.current=-1,ot(s,G),A(null),v||Md(o.floating.current,{preventScroll:!0}))}}}},[t,o,ot,y,s,A,v]);return ce.useMemo(()=>{if(!c)return{};let De=ne.current;function Ye(Ve){if(V.current=!1,X.current=!0,!me.current&&Ve.currentTarget===o.floating.current)return;if(h&&eK(Ve.key,b,m)){Po(Ve),r(!1,Ve.nativeEvent,"list-navigation"),go(i)&&!v&&i.focus();return}let $n=G.current,Xe=Xk(s,De),at=H9(s,De);if(Ve.key==="Home"&&(Po(Ve),G.current=Xe,A(G.current)),Ve.key==="End"&&(Po(Ve),G.current=at,A(G.current)),E>1){let Bt=T||Array.from({length:s.current.length},()=>({width:1,height:1})),We=Ywe(Bt,E,O),ft=We.findIndex(bt=>bt!=null&&!(De!=null&&De.includes(bt))),St=We.reduce((bt,Yt,Xt)=>Yt!=null&&!(De!=null&&De.includes(Yt))?Xt:bt,-1);if(G.current=We[qwe({current:We.map(bt=>bt!=null?s.current[bt]:null)},{event:Ve,orientation:b,loop:p,cols:E,disabledIndices:Zwe([...De||[],void 0],We),minIndex:ft,maxIndex:St,prevIndex:Xwe(G.current,Bt,We,E,Ve.key===vy?"bl":Ve.key===Gm?"tr":"tl"),stopEvent:!0})],A(G.current),b==="both")return}if(J9(Ve.key,b)){if(Po(Ve),t&&!v&&Id(Ve.currentTarget.ownerDocument)===Ve.currentTarget){G.current=nV(Ve.key,b,m)?Xe:at,A(G.current);return}nV(Ve.key,b,m)?p?G.current=$n>=at?f&&$n!==s.current.length?-1:Xe:gi(s,{startingIndex:$n,disabledIndices:De}):G.current=Math.min(at,gi(s,{startingIndex:$n,disabledIndices:De})):p?G.current=$n<=Xe?f&&$n!==-1?s.current.length:at:gi(s,{startingIndex:$n,decrement:!0,disabledIndices:De}):G.current=Math.max(Xe,gi(s,{startingIndex:$n,decrement:!0,disabledIndices:De})),ib(s,G.current)?A(null):A(G.current)}}function je(Ve){g==="auto"&&kk(Ve.nativeEvent)&&($.current=!0)}function Pe(Ve){$.current=g,g==="auto"&&Vk(Ve.nativeEvent)&&($.current=!0)}let wt=v&&t&&ke&&{"aria-activedescendant":He||Ce},On=s.current.find(Ve=>(Ve==null?void 0:Ve.id)===Ce);return{reference:{...wt,onKeyDown(Ve){V.current=!1;let $n=Ve.key.indexOf("Arrow")===0,Xe=ySe(Ve.key,b,m),at=eK(Ve.key,b,m),Bt=J9(Ve.key,b),We=(h?Xe:Bt)||Ve.key==="Enter"||Ve.key.trim()==="";if(v&&t){let Yt=k==null?void 0:k.nodesRef.current.find(In=>In.parentId==null),Xt=k&&Yt?sSe(k.nodesRef.current,Yt.id):null;if($n&&Xt&&S){let In=new KeyboardEvent("keydown",{key:Ve.key,bubbles:!0});if(Xe||at){var ft,St;let pn=((ft=Xt.context)==null?void 0:ft.elements.domReference)===Ve.currentTarget,bn=at&&!pn?(St=Xt.context)==null?void 0:St.elements.domReference:Xe?On:null;bn&&(Po(Ve),bn.dispatchEvent(In),dt(void 0))}if(Bt&&Xt.context&&Xt.context.open&&Xt.parentId&&Ve.currentTarget!==Xt.context.elements.domReference){var bt;Po(Ve),(bt=Xt.context.elements.domReference)==null||bt.dispatchEvent(In);return}}return Ye(Ve)}if(!(!t&&!C&&$n)){if(We&&(K.current=h&&Bt?null:Ve.key),h){Xe&&(Po(Ve),t?(G.current=Xk(s,De),A(G.current)):r(!0,Ve.nativeEvent,"list-navigation"));return}Bt&&(d!=null&&(G.current=d),Po(Ve),!t&&C?r(!0,Ve.nativeEvent,"list-navigation"):Ye(Ve),t&&A(G.current))}},onFocus(){t&&A(null)},onPointerDown:Pe,onMouseDown:je,onClick:je},floating:{"aria-orientation":b==="both"?void 0:b,...!Bk(i)&&wt,onKeyDown:Ye,onPointerMove(){V.current=!0}},item:it}},[i,o,Ce,He,ne,me,s,c,b,m,v,t,ke,h,d,C,f,E,p,g,A,r,it,k,S,T,O])}var CSe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Ws(n,e){var t;e===void 0&&(e={});let{open:r,floatingId:o}=n,{enabled:i=!0,role:a="dialog"}=e,s=(t=CSe.get(a))!=null?t:a,l=bT(),c=oV()!=null;return ce.useMemo(()=>{if(!i)return{};let d={id:o,...s&&{role:s}};return s==="tooltip"||a==="label"?{reference:{["aria-"+(a==="label"?"labelledby":"describedby")]:r?o:void 0},floating:d}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?o:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:l},...s==="menu"&&c&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},floating:{...d,...s==="menu"&&{"aria-labelledby":l}},item(f){let{active:p,selected:h}=f,m={role:"option",...p&&{id:o+"-option"}};switch(a){case"select":return{...m,"aria-selected":p&&h};case"combobox":return{...m,...p&&{"aria-selected":!0}}}return{}}}},[i,a,s,r,o,l,c])}var tK=n=>n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?"-":"")+e.toLowerCase());function hy(n,e){return typeof n=="function"?n(e):n}function wSe(n,e){let[t,r]=ce.useState(n);return n&&!t&&r(!0),ce.useEffect(()=>{if(!n){let o=setTimeout(()=>r(!1),e);return()=>clearTimeout(o)}},[n,e]),t}function SSe(n,e){e===void 0&&(e={});let{open:t,elements:{floating:r}}=n,{duration:o=250}=e,a=(typeof o=="number"?o:o.close)||0,[s,l]=ce.useState(!1),[u,c]=ce.useState("unmounted"),d=wSe(t,a);return fr(()=>{s&&!d&&c("unmounted")},[s,d]),fr(()=>{if(r){if(t){c("initial");let f=requestAnimationFrame(()=>{c("open")});return()=>{cancelAnimationFrame(f)}}l(!0),c("close")}},[t,r]),{isMounted:d,status:u}}function lK(n,e){e===void 0&&(e={});let{initial:t={opacity:0},open:r,close:o,common:i,duration:a=250}=e,s=n.placement,l=s.split("-")[0],u=ce.useMemo(()=>({side:l,placement:s}),[l,s]),c=typeof a=="number",d=(c?a:a.open)||0,f=(c?a:a.close)||0,[p,h]=ce.useState(()=>({...hy(i,u),...hy(t,u)})),{isMounted:m,status:v}=SSe(n,{duration:a}),g=$s(t),y=$s(r),C=$s(o),w=$s(i);return fr(()=>{let b=hy(g.current,u),E=hy(C.current,u),D=hy(w.current,u),S=hy(y.current,u)||Object.keys(b).reduce((T,O)=>(T[O]="",T),{});if(v==="initial"&&h(T=>({transitionProperty:T.transitionProperty,...D,...b})),v==="open"&&h({transitionProperty:Object.keys(S).map(tK).join(","),transitionDuration:d+"ms",...D,...S}),v==="close"){let T=E||b;h({transitionProperty:Object.keys(T).map(tK).join(","),transitionDuration:f+"ms",...D,...T})}},[f,C,g,y,w,d,v,u]),{isMounted:m,styles:p}}function uK(n,e){var t;let{open:r,dataRef:o}=n,{listRef:i,activeIndex:a,onMatch:s,onTypingChange:l,enabled:u=!0,findMatch:c=null,resetMs:d=750,ignoreKeys:f=[],selectedIndex:p=null}=e,h=ce.useRef(),m=ce.useRef(""),v=ce.useRef((t=p!=null?p:a)!=null?t:-1),g=ce.useRef(null),y=rc(s),C=rc(l),w=$s(c),b=$s(f);return fr(()=>{r&&(clearTimeout(h.current),g.current=null,m.current="")},[r]),fr(()=>{if(r&&m.current===""){var E;v.current=(E=p!=null?p:a)!=null?E:-1}},[r,p,a]),ce.useMemo(()=>{if(!u)return{};function E(T){T?o.current.typing||(o.current.typing=T,C(T)):o.current.typing&&(o.current.typing=T,C(T))}function D(T,O,L){let k=w.current?w.current(O,L):O.find(A=>(A==null?void 0:A.toLocaleLowerCase().indexOf(L.toLocaleLowerCase()))===0);return k?T.indexOf(k):-1}function S(T){let O=i.current;if(m.current.length>0&&m.current[0]!==" "&&(D(O,O,m.current)===-1?E(!1):T.key===" "&&Po(T)),O==null||b.current.includes(T.key)||T.key.length!==1||T.ctrlKey||T.metaKey||T.altKey)return;r&&T.key!==" "&&(Po(T),E(!0)),O.every($=>{var G,K;return $?((G=$[0])==null?void 0:G.toLocaleLowerCase())!==((K=$[1])==null?void 0:K.toLocaleLowerCase()):!0})&&m.current===T.key&&(m.current="",v.current=g.current),m.current+=T.key,clearTimeout(h.current),h.current=setTimeout(()=>{m.current="",v.current=g.current,E(!1)},d);let k=v.current,A=D(O,[...O.slice((k||0)+1),...O.slice(0,(k||0)+1)],m.current);A!==-1?(y(A),g.current=A):T.key!==" "&&(m.current="",E(!1))}return{reference:{onKeyDown:S},floating:{onKeyDown:S,onKeyUp(T){T.key===" "&&E(!1)}}}},[u,r,o,i,d,b,w,y,C])}var yy=_(z());var cK=_(z());var Hm=_(F());var RT=(0,cK.forwardRef)(function(e,t){let{option:r,className:o,attrs:i,...a}=e;return(0,Hm.jsxs)("div",{className:`contribution-select-item ${o||""}`,ref:t,role:"option",...a,...i,children:[r.icon&&(0,Hm.jsx)("span",{className:"select-icon",children:r.icon}),(0,Hm.jsxs)("div",{className:"select-content",children:[(0,Hm.jsx)("div",{className:"label",children:r.label}),r.description&&(0,Hm.jsx)("div",{className:"description",children:r.description})]})]})});function gn(n){return n.backgroundStyle=="card"?"object-card":""}function cn(n){return n==null?"":n.toLowerCase?n.toLowerCase():n.toString?n.toString().toLowerCase():n+""}var Ad=_(F());function Cy(n){var l,u,c;let{items:e,onSelect:t}=n,[r,o]=(0,yy.useState)(""),i=(0,yy.useRef)(null),a=(0,yy.useMemo)(()=>e.filter(d=>!r||r==""?!0:n.match?n.match(r,d.value):d.label?cn(d.label).includes(cn(r)):!r),[r,e]),s=nT({count:(l=a.length)!=null?l:0,scrollPaddingStart:12,scrollPaddingEnd:12,getScrollElement:()=>i.current,estimateSize:d=>50});return(0,Ad.jsxs)("div",{className:"contribution-suggest-container",children:[n.hideSuggestHeader!==!0&&(0,Ad.jsx)("div",{className:"contribution-suggest-header",children:(0,Ad.jsx)("input",{type:"text",value:r,onChange:d=>{o(d.target.value)}})}),(0,Ad.jsx)("div",{className:"contribution-suggest-scroller",ref:i,children:(0,Ad.jsx)("div",{className:"contributino-suggest-inner",style:{height:`${s.getTotalSize()}px`},children:(0,Ad.jsx)("div",{className:"contributino-suggest-list",style:{transform:`translateY(${(c=(u=s.getVirtualItems()[0])==null?void 0:u.start)!=null?c:0}px)`},children:s.getVirtualItems().map(d=>{let f=a[d.index];return(0,Ad.jsx)(RT,{ref:s.measureElement,option:f,"data-index":d.index,onClick:p=>{t(f.value)}},d.key)})})})})]})}ue();Mo();var pK=_(z());var sV=(d=>(d.none="components-color-none",d.theme="components-color-theme",d.lightGray="components-color-light-gray",d.gray="components-color-gray",d.orange="components-color-orange",d.yellow="components-color-yellow",d.green="components-color-green",d.blue="components-color-blue",d.purple="components-color-purple",d.pink="components-color-pink",d.red="components-color-red",d))(sV||{}),lV=Object.values(sV).filter(n=>n!=="components-color-none");function Qt(n){if(n&&n.toString){let e=n.toString().split("").reduce((o,i)=>i.charCodeAt(0)+((o<<5)-o),0),t=lV.length,r=Math.abs(e)%t;return lV[r]}return"components-color-none"}var ub=_(F());function pr(n){let{tag:e,onTagRemove:t,className:r}=n,o=(0,pK.useMemo)(()=>Qt(e),[e]);return(0,ub.jsxs)("span",{className:`contribution-widget-tag ${r||""} ${o}`,children:[(0,ub.jsx)("span",{className:"tag-label",children:e}),t&&(0,ub.jsx)("span",{className:"remove-button",onClick:i=>{i.stopPropagation(),t(e)},children:"x"})]},e)}var hK=_(z());var mK=_(F());var bSe={direction:"horizontal",wrap:!1,gap:8},vn=(0,hK.forwardRef)((n,e)=>{let{direction:t,gap:r,children:o}={...bSe,...n},i=t==="horizontal"?"row":"column";return(0,mK.jsx)("div",{ref:e,className:`contribution-widget-space ${n.className||""}`,style:{flexDirection:i,gap:`${r}px`,flexWrap:n.wrap?"wrap":"nowrap"},children:o})});var Vi=_(F());function Us(n){let[e,t]=(0,zs.useState)(n.defaultOpen==!0),[r,o]=(0,zs.useState)(n.value||""),[i,a]=(0,zs.useState)(null),s=(0,zs.useRef)(null),l=(0,zs.useRef)([]),{refs:u,floatingStyles:c,context:d}=Fo({whileElementsMounted:Yr,open:e,onOpenChange:t,placement:"bottom-start",middleware:[Xr({padding:10}),Er(({rects:w})=>-w.reference.height),Hs({apply({rects:w,availableHeight:b,elements:E}){Object.assign(E.floating.style,{minWidth:`${w.reference.width}px`})},padding:10})]});(0,zs.useEffect)(()=>{var w;r!=n.value&&((w=n.onInput)==null||w.call(n,r))},[r]);let f=Ws(d,{role:"listbox"}),p=Io(d),h=DT(d,{listRef:l,activeIndex:i,onNavigate:a,virtual:!0,loop:!0}),{getReferenceProps:m,getFloatingProps:v}=Lo([f,p,h]);(0,zs.useEffect)(()=>{e&&s.current&&(s.current.focus(),s.current.selectionStart=(s.current.value||"").length)},[e]);function g(w){let b=w.target.value;o(b),b&&(t(!0),a(0))}let y=n.items.filter(w=>{var b,E;return((b=w.label)==null?void 0:b.toString().toLowerCase().includes(cn(r)))||((E=n.match)==null?void 0:E.call(n,r,w.value))}),C=(0,zs.useMemo)(()=>n.items.some(w=>w.key===r),[r]);return(0,Vi.jsxs)(Vi.Fragment,{children:[(0,Vi.jsx)("div",{ref:u.setReference,...m(),className:"contribution-autocomplete-label",onClick:()=>{t(!0)},children:(0,Vi.jsx)("span",{children:n.labelFormat?n.labelFormat(n.value):n.value||n.placeholder||R.none})}),(0,Vi.jsx)(Bs,{children:e&&(0,Vi.jsx)(aa,{context:d,initialFocus:-1,visuallyHiddenDismiss:!0,children:(0,Vi.jsxs)("div",{className:"contribution-autocomplete-container",...v({ref:u.setFloating,style:{...c}}),children:[(0,Vi.jsx)("input",{value:r,className:`${n.inputClassName||"contribution-autocomplete-input"}`,ref:w=>{s.current=w},onFocus:()=>{r==""&&t(!0)},onChange:g,onKeyDown:w=>{var b;w.key==="Enter"&&((b=n.onInputEnter)==null||b.call(n,r),t(!1))}}),y.length>0&&(0,Vi.jsx)(Cy,{items:y,hideSuggestHeader:!0,onSelect:w=>{var b;(b=n.onSelect)==null||b.call(n,w),t(!1)}}),!C&&r!=""&&n.onInputEnter&&(0,Vi.jsxs)(vn,{children:[(0,Vi.jsx)(Et,{children:R.enter_to_create}),(0,Vi.jsx)(pr,{tag:r})]})]})})})]})}var TT=_(F());function oc(n){let[e,t]=(0,$m.useState)([]),r=_e();(0,$m.useEffect)(()=>{let i=r.vault.getFiles().filter(a=>uV.contains(a.extension.toLowerCase()));t(i)},[]);let o=(0,$m.useMemo)(()=>e.map(i=>({key:i.path,value:i,label:i.basename,icon:(0,TT.jsx)("div",{className:"image-item",children:(0,TT.jsx)("img",{src:r.vault.adapter.getResourcePath(i.path),alt:i.name})})})),[e]);return(0,TT.jsx)(Us,{value:n.value||"",items:o,onInput:i=>{n.onChange(i)},onSelect:i=>{n.onChange(i.path)},match:(i,a)=>a.basename.toLowerCase().includes(i.toLowerCase())||a.path.toLowerCase().includes(i.toLowerCase())})}var uV=["apng","avif","gif","jpg","jpe","jif","jfif","jpeg","png","svg","webp","bmp","xbm","ico","tif","tiff"];function wy(n){return!n||n.length==0?0:n.reduce((e,t)=>e+t,0)}function Ao(n){return[...new Set(n)]}var bK=_(F());function vi(n,e,t,r){var a;let o=e.ctrlKey||e.metaKey,i=((a=n.workspace.getActiveFile())==null?void 0:a.path)||"";yn.Platform.isDesktop?r=="current"?n.workspace.openLinkText(t.path,i,o):n.workspace.openLinkText(t.path,i,r||o):n.workspace.openLinkText(t.path,i,o)}function gK(n,e){var r;let t=n.metadataCache.getFileCache(e);if((r=t==null?void 0:t.frontmatter)!=null&&r.tags){let o=t.frontmatter.tags;return Array.isArray(o)?o:[o]}return[]}function PT(n,e){let t=new Map,r=e==null?void 0:e.toLowerCase();return n.vault.getAllLoadedFiles().forEach(a=>{if(a instanceof yn.TFile){let s=n.metadataCache.getCache(a.path);if(s){for(let l in s.frontmatter)if(!t.has(l)&&(!r||l.toLowerCase().includes(r))){let u=s.frontmatter[l];t.set(l,{name:l,sampleValue:u!=null&&u!=null?u+"":""})}}}}),_Se(e).forEach(a=>{t.set(a.name,a)}),Array.from(t.values()).sort((a,s)=>a.name.localeCompare(s.name))}function _Se(n){return n?dV.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.label&&e.label.toLowerCase().includes(n.toLowerCase())):dV}function js(n,e){if(e==null||e==null||e.trim()=="")return[];if(e=="${file.path}")return n.vault.getMarkdownFiles().map(o=>o.path);if(e=="${file.basename}")return n.vault.getMarkdownFiles().map(o=>o.basename);if(e=="${file.size}")return n.vault.getMarkdownFiles().map(o=>o.stat.size);if(e=="${file.ctime}")return n.vault.getMarkdownFiles().map(o=>o.stat.ctime);if(e=="${file.ctime}")return n.vault.getMarkdownFiles().map(o=>o.stat.mtime);let t=new Set;return n.vault.getAllLoadedFiles().forEach(o=>{if(o instanceof yn.TFile){let i=n.metadataCache.getCache(o.path);if(i&&i.frontmatter&&e in i.frontmatter){let a=i.frontmatter[e];Array.isArray(a)?a.forEach(s=>{t.add(s)}):t.add(a)}}}),Array.from(t).sort()}function yp(n,e){let t=n.vault.getMarkdownFiles(),r=[],o=cn(e);return t.forEach(i=>{let a=this.app.metadataCache.getCache(i.path);if(a){let s=(0,yn.getAllTags)(a);s==null||s.forEach(l=>{cn(l).contains(o)&&!r.includes(l)&&r.push(l)})}}),Ao(r).map(i=>({key:i,icon:(0,bK.jsx)(pm,{size:14}),label:i,value:i}))}function OT(n,e){let t=n.metadataCache.getFileCache(e);return t?(0,yn.getAllTags)(t)||[]:[]}async function fV(n,e){let t=n.internalPlugins.plugins["daily-notes"].instance.options,r=t.folder||"",o=t.format,i=t.template,a=(0,yn.moment)(e.getTime()).format(o||"YYYY-MM-DD"),s=`${i}.md`,l=`${r}/${a}.md`;n.vault.getAbstractFileByPath((0,yn.normalizePath)(r))==null&&await n.vault.createFolder((0,yn.normalizePath)(r));let c=(0,yn.normalizePath)(l);return await pV(n,c,s)}async function pV(n,e,t){let r=(0,yn.normalizePath)(e),o=n.vault.getAbstractFileByPath(r);if(o!=null)return Promise.resolve(o);if(t){let i=(0,yn.normalizePath)(t),a=n.vault.getAbstractFileByPath(i);if(a instanceof yn.TFile){let s=await n.vault.read(a);return await n.vault.create(r,s)}}return await n.vault.create(r,"")}async function vK(n,e){let t=(0,yn.normalizePath)(n);e.vault.getAbstractFileByPath(t)==null&&await e.vault.createFolder(n)}function yK(n,e,t,r){let o=n.workspace.getActiveViewOfType(yn.MarkdownView);if(!o||e==null){new yn.Notice("No markdown view is active or code block is not found.");return}let a=o.editor.cm;try{let l=a.posAtDOM(e)+`\`\`\`${Gu}
`.length;a.focus(),a.dispatch({changes:{from:l,to:l+(t?t.length:0),insert:r}})}catch(s){}}function IT(n,e,t,r){n.fileManager.processFrontMatter(e,o=>(o[t]=r,o))}function CK(n,e,t){var o;let r=n.metadataCache.getFileCache(e);return r&&((o=r.frontmatter)==null?void 0:o[t])||null}function wK(n){let e=n.internalPlugins.plugins["daily-notes"].instance.options,t=e.folder||"",r=e.format,o="YYYY-MM-DD",i=n.vault.getAbstractFileByPath((0,yn.normalizePath)(t));return i instanceof yn.TFolder?i.children.filter(a=>a instanceof yn.TFile).map(a=>a).filter(a=>{try{return(0,yn.moment)(a.basename,r,!0).isValid()}catch(s){return!1}}).filter(a=>a.name.endsWith(".md")).map(a=>{let s=(0,yn.moment)(a.basename,r,!0);return new cV(s.format(o),a)}):[]}var cV=class{constructor(e,t){this.date=e,this.file=t}},SK=async(n,e)=>{var r;if(!e)return;let t=(r=n.metadataCache.getFileCache(e))==null?void 0:r.embeds;if(t&&t.length>0)for(let o of t){let i=o.link;if(uV.some(a=>i.endsWith(a))){let a=n.metadataCache.getFirstLinkpathDest(i,e.path);return a==null?void 0:a.path}}else{let o=/!\[[^\]]*\]\(([^)]+)\)/g;return await n.vault.cachedRead(e).then(i=>{let a=o.exec(i);if(a){let s=a[1];if(s.startsWith("http"))return s;let l=n.metadataCache.getFirstLinkpathDest(s,e.path);return l==null?void 0:l.path}})}},ESe=/^\[\[(.*?)(\|(.*?))?\]\]$/;function Sy(n){if(n==null||n==null||typeof n!="string"||n.match==null)return null;let e=n.match(ESe);return e?{linkText:e[1]||"",displayName:e[3]||""}:null}var dV=[{label:R.file_basename,name:"${file.basename}",sampleValue:"sample"},{label:R.file_tags,name:"${file.tags}",sampleValue:"#tag1"},{label:R.file_ctime,name:"${file.ctime}",sampleValue:""},{label:R.file_mtime,name:"${file.mtime}",sampleValue:""},{label:R.file_path,name:"${file.path}",sampleValue:"/path/to/file"},{label:R.file_size,name:"${file.size}",sampleValue:"1024"}];function Gi(n){if(!n)return!1;switch(n){case"${file.basename}":case"${file.ctime}":case"${file.mtime}":case"${file.size}":case"${file.path}":case"${file.tags}":return!0;default:return!1}}function by(n,e,t){switch(t){case"${file.basename}":return e.basename;case"${file.ctime}":return e.stat.ctime;case"${file.mtime}":return e.stat.mtime;case"${file.size}":return e.stat.size;case"${file.path}":return e.path;case"${file.tags}":return OT(n,e);default:throw new Error(`Can't find property for type ${t}`)}}function FT(n){switch(n){case"${file.basename}":return R.file_basename;case"${file.ctime}":return R.file_ctime;case"${file.mtime}":return R.file_mtime;case"${file.size}":return R.file_size;case"${file.path}":return R.file_path;case"${file.tags}":return R.file_tags;default:return n}}function Cp(n){switch(n.property){case"${file.basename}":case"${file.path}":case"${file.tags}":case"tags":return!1;default:return!0}}var LT=class{id(){return"equals"}support(e,t){return!0}name(){return jn.get().equal}invoke(e,t,r){switch(typeof e){case"number":return e==uy(t);case"boolean":return e==uy(t)}if(r.condition.property=="${file.path}"){let i=e,a=t;return i.startsWith(a)}return e==t}};ue();var MT=class{id(){return"not_equals"}name(){return jn.get().not_equal}support(e,t){return!0}invoke(e,t,r){switch(typeof e){case"number":return e!=uy(t);case"boolean":return e!=uy(t)}if(r.conditionType=="${file.path}"){let i=e,a=t;return!i.startsWith(a)}return e!=t}};ue();var AT=class{id(){return"greater_than"}name(){return jn.get().greater_than}support(e,t){return Cp(t)}invoke(e,t){let r=parseInt(t);if(isNaN(r))return!1;let o=parseInt(e);return isNaN(o)?!1:o>r}};ue();var NT=class{id(){return"greater_than_or_equal"}name(){return jn.get().greater_than_or_equal}support(e,t){return Cp(t)}invoke(e,t){let r=parseInt(t);if(isNaN(r))return!1;let o=parseInt(e);return isNaN(o)?!1:o>=r}};ue();var kT=class{id(){return"less_than"}name(){return jn.get().less_than}support(e,t){return Cp(t)}invoke(e,t){let r=parseInt(t);if(isNaN(r))return!1;let o=parseInt(e);return isNaN(o)?!1:o<r}};ue();var VT=class{id(){return"less_than_or_equal"}support(e,t){return Cp(t)}name(){return jn.get().less_than_or_equal}invoke(e,t){let r=parseInt(t);if(isNaN(r))return!1;let o=parseInt(e);return isNaN(o)?!1:o<=r}};ue();var GT=class{id(){return"contains"}name(){return jn.get().contains}support(e,t){return!0}invoke(e,t,r){if(e==null||t==null)return!1;if(typeof e=="string"&&typeof t=="string")return e.includes(t);if(typeof e=="string"&&Array.isArray(t))return t.every(i=>cn(e).includes(cn(i)));let o;return Array.isArray(e)?o=e:o=[e],r.condition.property=="tags"||r.condition.property=="${file.tags}"?this.tagContains(o,t):Array.isArray(t)?t.every(i=>o.contains(i)):o.contains(t)}tagContains(e,t){return Array.isArray(t)?t.every(r=>e.contains(r)||e.some(o=>cn(o).startsWith(cn(r)+"/"))):e.contains(t)||e.some(r=>cn(r).startsWith(cn(t)+"/"))}};ue();var HT=class{id(){return"not_contains"}name(){return jn.get().not_contains}support(e,t){return!0}invoke(e,t,r){if(e==null||t==null)return!1;if(typeof e=="string"&&typeof t=="string")return!e.includes(t);let o;return Array.isArray(e)?o=e:o=[e],r.condition.property=="tags"||r.condition.property=="${file.tags}"?this.tagMatch(o,t):Array.isArray(t)?!t.every(i=>o.contains(i)):!o.contains(t)}tagMatch(e,t){return Array.isArray(t)?!t.every(r=>e.contains(r))&&!t.some(r=>e.some(o=>cn(o).startsWith(cn(r)+"/"))):!e.contains(t)&&!e.some(r=>cn(r).startsWith(cn(t)+"/"))}};ue();var $T=class{id(){return"regex_match"}name(){return jn.get().regex_match}support(e,t){return!0}invoke(e,t){if(e==null||t==null)return!1;if(typeof e=="string"&&typeof t=="string")try{return new RegExp(t).test(e)}catch(r){return!1}return!1}};ue();var BT=class{id(){return"contains_any"}name(){return jn.get().contains_any}support(e,t){return t.property!="${file.path}"}invoke(e,t,r){if(e==null||t==null)return!1;if(typeof e=="string"&&Array.isArray(t))return t.some(i=>cn(e).includes(cn(i)));let o;return Array.isArray(e)?o=e:o=[e],r.condition.property=="tags"||r.condition.property=="${file.tags}"?this.tagMatch(o,t):Array.isArray(t)?t.some(i=>o.includes(i)):o.includes(t)}tagMatch(e,t){return Array.isArray(t)?t.some(r=>e.contains(r)||r&&e.some(o=>cn(o).startsWith(cn(r)+"/"))):e.contains(t)||e.some(r=>cn(r).startsWith(cn(t)+"/"))}};ue();var Nd=class extends Error{},WT=class extends Nd{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},zT=class extends Nd{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},UT=class extends Nd{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Wl=class extends Nd{},_y=class extends Nd{constructor(e){super(`Invalid unit ${e}`)}},Qr=class extends Nd{},zl=class extends Nd{constructor(){super("Zone is an abstract class")}};var Ee="numeric",Ul="short",Ba="long",wp={year:Ee,month:Ee,day:Ee},cb={year:Ee,month:Ul,day:Ee},hV={year:Ee,month:Ul,day:Ee,weekday:Ul},db={year:Ee,month:Ba,day:Ee},fb={year:Ee,month:Ba,day:Ee,weekday:Ba},pb={hour:Ee,minute:Ee},hb={hour:Ee,minute:Ee,second:Ee},mb={hour:Ee,minute:Ee,second:Ee,timeZoneName:Ul},gb={hour:Ee,minute:Ee,second:Ee,timeZoneName:Ba},vb={hour:Ee,minute:Ee,hourCycle:"h23"},yb={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23"},Cb={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23",timeZoneName:Ul},wb={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23",timeZoneName:Ba},Sb={year:Ee,month:Ee,day:Ee,hour:Ee,minute:Ee},bb={year:Ee,month:Ee,day:Ee,hour:Ee,minute:Ee,second:Ee},_b={year:Ee,month:Ul,day:Ee,hour:Ee,minute:Ee},Eb={year:Ee,month:Ul,day:Ee,hour:Ee,minute:Ee,second:Ee},mV={year:Ee,month:Ul,day:Ee,weekday:Ul,hour:Ee,minute:Ee},xb={year:Ee,month:Ba,day:Ee,hour:Ee,minute:Ee,timeZoneName:Ul},Db={year:Ee,month:Ba,day:Ee,hour:Ee,minute:Ee,second:Ee,timeZoneName:Ul},Rb={year:Ee,month:Ba,day:Ee,weekday:Ba,hour:Ee,minute:Ee,timeZoneName:Ba},Tb={year:Ee,month:Ba,day:Ee,weekday:Ba,hour:Ee,minute:Ee,second:Ee,timeZoneName:Ba};var sa=class{get type(){throw new zl}get name(){throw new zl}get ianaName(){return this.name}get isUniversal(){throw new zl}offsetName(e,t){throw new zl}formatOffset(e,t){throw new zl}offset(e){throw new zl}equals(e){throw new zl}get isValid(){throw new zl}};var gV=null,ic=class extends sa{static get instance(){return gV===null&&(gV=new ic),gV}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return KT(e,t,r)}formatOffset(e,t){return Sp(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var YT={};function xSe(n){return YT[n]||(YT[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),YT[n]}var DSe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function RSe(n,e){let t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,o,i,a,s,l,u,c]=r;return[a,o,i,s,l,u,c]}function TSe(n,e){let t=n.formatToParts(e),r=[];for(let o=0;o<t.length;o++){let{type:i,value:a}=t[o],s=DSe[i];i==="era"?r[s]=a:Qe(s)||(r[s]=parseInt(a,10))}return r}var qT={},vo=class extends sa{static create(e){return qT[e]||(qT[e]=new vo(e)),qT[e]}static resetCache(){qT={},YT={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=vo.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return KT(e,t,r,this.name)}formatOffset(e,t){return Sp(this.offset(e),t)}offset(e){let t=new Date(e);if(isNaN(t))return NaN;let r=xSe(this.name),[o,i,a,s,l,u,c]=r.formatToParts?TSe(r,t):RSe(r,t);s==="BC"&&(o=-Math.abs(o)+1);let f=Ey({year:o,month:i,day:a,hour:l===24?0:l,minute:u,second:c,millisecond:0}),p=+t,h=p%1e3;return p-=h>=0?h:1e3+h,(f-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var _K={};function PSe(n,e={}){let t=JSON.stringify([n,e]),r=_K[t];return r||(r=new Intl.ListFormat(n,e),_K[t]=r),r}var vV={};function yV(n,e={}){let t=JSON.stringify([n,e]),r=vV[t];return r||(r=new Intl.DateTimeFormat(n,e),vV[t]=r),r}var CV={};function OSe(n,e={}){let t=JSON.stringify([n,e]),r=CV[t];return r||(r=new Intl.NumberFormat(n,e),CV[t]=r),r}var wV={};function ISe(n,e={}){let{base:t,...r}=e,o=JSON.stringify([n,r]),i=wV[o];return i||(i=new Intl.RelativeTimeFormat(n,e),wV[o]=i),i}var Pb=null;function FSe(){return Pb||(Pb=new Intl.DateTimeFormat().resolvedOptions().locale,Pb)}var EK={};function LSe(n){let e=EK[n];if(!e){let t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,EK[n]=e}return e}function MSe(n){let e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));let t=n.indexOf("-u-");if(t===-1)return[n];{let r,o;try{r=yV(n).resolvedOptions(),o=n}catch(s){let l=n.substring(0,t);r=yV(l).resolvedOptions(),o=l}let{numberingSystem:i,calendar:a}=r;return[o,i,a]}}function ASe(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function NSe(n){let e=[];for(let t=1;t<=12;t++){let r=pe.utc(2009,t,1);e.push(n(r))}return e}function kSe(n){let e=[];for(let t=1;t<=7;t++){let r=pe.utc(2016,11,13+t);e.push(n(r))}return e}function XT(n,e,t,r){let o=n.listingMode();return o==="error"?null:o==="en"?t(e):r(e)}function VSe(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var SV=class{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;let{padTo:o,floor:i,...a}=r;if(!t||Object.keys(a).length>0){let s={useGrouping:!1,...r};r.padTo>0&&(s.minimumIntegerDigits=r.padTo),this.inf=OSe(e,s)}}format(e){if(this.inf){let t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{let t=this.floor?Math.floor(e):xy(e,3);return hr(t,this.padTo)}}},bV=class{constructor(e,t,r){this.opts=r,this.originalZone=void 0;let o;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let a=-1*(e.offset/60),s=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&vo.create(s).valid?(o=s,this.dt=e):(o="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,o=e.zone.name):(o="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let i={...this.opts};i.timeZone=i.timeZone||o,this.dtf=yV(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){let r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:r}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},_V=class{constructor(e,t,r){this.opts={style:"long",...r},!t&&ZT()&&(this.rtf=ISe(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):xK(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},GSe={firstDay:1,minimalDays:4,weekend:[6,7]},Nt=class{static fromOpts(e){return Nt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,o,i=!1){let a=e||Jt.defaultLocale,s=a||(i?"en-US":FSe()),l=t||Jt.defaultNumberingSystem,u=r||Jt.defaultOutputCalendar,c=Ob(o)||Jt.defaultWeekSettings;return new Nt(s,l,u,c,a)}static resetCache(){Pb=null,vV={},CV={},wV={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:o}={}){return Nt.create(e,t,r,o)}constructor(e,t,r,o,i){let[a,s,l]=MSe(e);this.locale=a,this.numberingSystem=t||s||null,this.outputCalendar=r||l||null,this.weekSettings=o,this.intl=ASe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=VSe(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Nt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ob(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return XT(this,e,EV,()=>{let r=t?{month:e,day:"numeric"}:{month:e},o=t?"format":"standalone";return this.monthsCache[o][e]||(this.monthsCache[o][e]=NSe(i=>this.extract(i,r,"month"))),this.monthsCache[o][e]})}weekdays(e,t=!1){return XT(this,e,xV,()=>{let r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},o=t?"format":"standalone";return this.weekdaysCache[o][e]||(this.weekdaysCache[o][e]=kSe(i=>this.extract(i,r,"weekday"))),this.weekdaysCache[o][e]})}meridiems(){return XT(this,void 0,()=>DV,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[pe.utc(2016,11,13,9),pe.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return XT(this,e,RV,()=>{let t={era:e};return this.eraCache[e]||(this.eraCache[e]=[pe.utc(-40,1,1),pe.utc(2017,1,1)].map(r=>this.extract(r,t,"era"))),this.eraCache[e]})}extract(e,t,r){let o=this.dtFormatter(e,t),i=o.formatToParts(),a=i.find(s=>s.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new SV(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new bV(e,this.intl,t)}relFormatter(e={}){return new _V(this.intl,this.isEnglish(),e)}listFormatter(e={}){return PSe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:QT()?LSe(this.locale):GSe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};var PV=null,mr=class extends sa{static get utcInstance(){return PV===null&&(PV=new mr(0)),PV}static instance(e){return e===0?mr.utcInstance:new mr(e)}static parseSpecifier(e){if(e){let t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new mr(Bm(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Sp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Sp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Sp(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var Dy=class extends sa{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function jl(n,e){let t;if(Qe(n)||n===null)return e;if(n instanceof sa)return n;if(DK(n)){let r=n.toLowerCase();return r==="default"?e:r==="local"||r==="system"?ic.instance:r==="utc"||r==="gmt"?mr.utcInstance:mr.parseSpecifier(r)||vo.create(n)}else return ac(n)?mr.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new Dy(n)}var RK=()=>Date.now(),TK="system",PK=null,OK=null,IK=null,FK=60,LK,MK=null,Jt=class{static get now(){return RK}static set now(e){RK=e}static set defaultZone(e){TK=e}static get defaultZone(){return jl(TK,ic.instance)}static get defaultLocale(){return PK}static set defaultLocale(e){PK=e}static get defaultNumberingSystem(){return OK}static set defaultNumberingSystem(e){OK=e}static get defaultOutputCalendar(){return IK}static set defaultOutputCalendar(e){IK=e}static get defaultWeekSettings(){return MK}static set defaultWeekSettings(e){MK=Ob(e)}static get twoDigitCutoffYear(){return FK}static set twoDigitCutoffYear(e){FK=e%100}static get throwOnInvalid(){return LK}static set throwOnInvalid(e){LK=e}static resetCaches(){Nt.resetCache(),vo.resetCache()}};var ko=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var AK=[0,31,59,90,120,151,181,212,243,273,304,334],NK=[0,31,60,91,121,152,182,213,244,274,305,335];function Ks(n,e){return new ko("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function JT(n,e,t){let r=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);let o=r.getUTCDay();return o===0?7:o}function kK(n,e,t){return t+(zm(n)?NK:AK)[e-1]}function VK(n,e){let t=zm(n)?NK:AK,r=t.findIndex(i=>i<e),o=e-t[r];return{month:r+1,day:o}}function eP(n,e){return(n-e+7)%7+1}function Ib(n,e=4,t=1){let{year:r,month:o,day:i}=n,a=kK(r,o,i),s=eP(JT(r,o,i),t),l=Math.floor((a-s+14-e)/7),u;return l<1?(u=r-1,l=Wm(u,e,t)):l>Wm(r,e,t)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:s,...Lb(n)}}function OV(n,e=4,t=1){let{weekYear:r,weekNumber:o,weekday:i}=n,a=eP(JT(r,1,e),t),s=bp(r),l=o*7+i-a-7+e,u;l<1?(u=r-1,l+=bp(u)):l>s?(u=r+1,l-=bp(r)):u=r;let{month:c,day:d}=VK(u,l);return{year:u,month:c,day:d,...Lb(n)}}function tP(n){let{year:e,month:t,day:r}=n,o=kK(e,t,r);return{year:e,ordinal:o,...Lb(n)}}function IV(n){let{year:e,ordinal:t}=n,{month:r,day:o}=VK(e,t);return{year:e,month:r,day:o,...Lb(n)}}function FV(n,e){if(!Qe(n.localWeekday)||!Qe(n.localWeekNumber)||!Qe(n.localWeekYear)){if(!Qe(n.weekday)||!Qe(n.weekNumber)||!Qe(n.weekYear))throw new Wl("Cannot mix locale-based week fields with ISO-based week fields");return Qe(n.localWeekday)||(n.weekday=n.localWeekday),Qe(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),Qe(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function GK(n,e=4,t=1){let r=Fb(n.weekYear),o=Wa(n.weekNumber,1,Wm(n.weekYear,e,t)),i=Wa(n.weekday,1,7);return r?o?i?!1:Ks("weekday",n.weekday):Ks("week",n.weekNumber):Ks("weekYear",n.weekYear)}function HK(n){let e=Fb(n.year),t=Wa(n.ordinal,1,bp(n.year));return e?t?!1:Ks("ordinal",n.ordinal):Ks("year",n.year)}function LV(n){let e=Fb(n.year),t=Wa(n.month,1,12),r=Wa(n.day,1,Ry(n.year,n.month));return e?t?r?!1:Ks("day",n.day):Ks("month",n.month):Ks("year",n.year)}function MV(n){let{hour:e,minute:t,second:r,millisecond:o}=n,i=Wa(e,0,23)||e===24&&t===0&&r===0&&o===0,a=Wa(t,0,59),s=Wa(r,0,59),l=Wa(o,0,999);return i?a?s?l?!1:Ks("millisecond",o):Ks("second",r):Ks("minute",t):Ks("hour",e)}function Qe(n){return typeof n=="undefined"}function ac(n){return typeof n=="number"}function Fb(n){return typeof n=="number"&&n%1===0}function DK(n){return typeof n=="string"}function BK(n){return Object.prototype.toString.call(n)==="[object Date]"}function ZT(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(n){return!1}}function QT(){try{return typeof Intl!="undefined"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(n){return!1}}function WK(n){return Array.isArray(n)?n:[n]}function AV(n,e,t){if(n.length!==0)return n.reduce((r,o)=>{let i=[e(o),o];return r&&t(r[0],i[0])===r[0]?r:i},null)[1]}function zK(n,e){return e.reduce((t,r)=>(t[r]=n[r],t),{})}function _p(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ob(n){if(n==null)return null;if(typeof n!="object")throw new Qr("Week settings must be an object");if(!Wa(n.firstDay,1,7)||!Wa(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!Wa(e,1,7)))throw new Qr("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function Wa(n,e,t){return Fb(n)&&n>=e&&n<=t}function HSe(n,e){return n-e*Math.floor(n/e)}function hr(n,e=2){let t=n<0,r;return t?r="-"+(""+-n).padStart(e,"0"):r=(""+n).padStart(e,"0"),r}function kd(n){if(!(Qe(n)||n===null||n===""))return parseInt(n,10)}function Ep(n){if(!(Qe(n)||n===null||n===""))return parseFloat(n)}function Mb(n){if(!(Qe(n)||n===null||n==="")){let e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function xy(n,e,t=!1){let r=10**e;return(t?Math.trunc:Math.round)(n*r)/r}function zm(n){return n%4===0&&(n%100!==0||n%400===0)}function bp(n){return zm(n)?366:365}function Ry(n,e){let t=HSe(e-1,12)+1,r=n+(e-t)/12;return t===2?zm(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Ey(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function $K(n,e,t){return-eP(JT(n,1,e),t)+e-1}function Wm(n,e=4,t=1){let r=$K(n,e,t),o=$K(n+1,e,t);return(bp(n)-r+o)/7}function Ab(n){return n>99?n:n>Jt.twoDigitCutoffYear?1900+n:2e3+n}function KT(n,e,t,r=null){let o=new Date(n),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);let a={timeZoneName:e,...i},s=new Intl.DateTimeFormat(t,a).formatToParts(o).find(l=>l.type.toLowerCase()==="timezonename");return s?s.value:null}function Bm(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);let r=parseInt(e,10)||0,o=t<0||Object.is(t,-0)?-r:r;return t*60+o}function NV(n){let e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Qr(`Invalid unit value ${n}`);return e}function Ty(n,e){let t={};for(let r in n)if(_p(n,r)){let o=n[r];if(o==null)continue;t[e(r)]=NV(o)}return t}function Sp(n,e){let t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),o=n>=0?"+":"-";switch(e){case"short":return`${o}${hr(t,2)}:${hr(r,2)}`;case"narrow":return`${o}${t}${r>0?`:${r}`:""}`;case"techie":return`${o}${hr(t,2)}${hr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Lb(n){return zK(n,["hour","minute","second","millisecond"])}var $Se=["January","February","March","April","May","June","July","August","September","October","November","December"],kV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],BSe=["J","F","M","A","M","J","J","A","S","O","N","D"];function EV(n){switch(n){case"narrow":return[...BSe];case"short":return[...kV];case"long":return[...$Se];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var VV=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],GV=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],WSe=["M","T","W","T","F","S","S"];function xV(n){switch(n){case"narrow":return[...WSe];case"short":return[...GV];case"long":return[...VV];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var DV=["AM","PM"],zSe=["Before Christ","Anno Domini"],USe=["BC","AD"],jSe=["B","A"];function RV(n){switch(n){case"narrow":return[...jSe];case"short":return[...USe];case"long":return[...zSe];default:return null}}function UK(n){return DV[n.hour<12?0:1]}function jK(n,e){return xV(e)[n.weekday-1]}function KK(n,e){return EV(e)[n.month-1]}function qK(n,e){return RV(e)[n.year<0?0:1]}function xK(n,e,t="always",r=!1){let o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&i){let d=n==="days";switch(e){case 1:return d?"tomorrow":`next ${o[n][0]}`;case-1:return d?"yesterday":`last ${o[n][0]}`;case 0:return d?"today":`this ${o[n][0]}`;default:}}let a=Object.is(e,-0)||e<0,s=Math.abs(e),l=s===1,u=o[n],c=r?l?u[1]:u[2]||u[1]:l?o[n][0]:n;return a?`${s} ${c} ago`:`in ${s} ${c}`}function YK(n,e){let t="";for(let r of n)r.literal?t+=r.val:t+=e(r.val);return t}var KSe={D:wp,DD:cb,DDD:db,DDDD:fb,t:pb,tt:hb,ttt:mb,tttt:gb,T:vb,TT:yb,TTT:Cb,TTTT:wb,f:Sb,ff:_b,fff:xb,ffff:Rb,F:bb,FF:Eb,FFF:Db,FFFF:Tb},gr=class{static create(e,t={}){return new gr(e,t)}static parseFormat(e){let t=null,r="",o=!1,i=[];for(let a=0;a<e.length;a++){let s=e.charAt(a);s==="'"?(r.length>0&&i.push({literal:o||/^\s+$/.test(r),val:r}),t=null,r="",o=!o):o||s===t?r+=s:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=s,t=s)}return r.length>0&&i.push({literal:o||/^\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return KSe[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return hr(e,t);let r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){let r=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,h)=>this.loc.extract(e,p,h),a=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",s=()=>r?UK(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,h)=>r?KK(e,p):i(h?{month:p}:{month:p,day:"numeric"},"month"),u=(p,h)=>r?jK(e,p):i(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),c=p=>{let h=gr.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(e,h):p},d=p=>r?qK(e,p):i({era:p},"era"),f=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return o?i({day:"numeric"},"day"):this.num(e.day);case"dd":return o?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return o?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return o?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return o?i({month:"numeric"},"month"):this.num(e.month);case"MM":return o?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return o?i({year:"numeric"},"year"):this.num(e.year);case"yy":return o?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return o?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return o?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(p)}};return YK(gr.parseFormat(t),f)}formatDurationFromString(e,t){let r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=l=>u=>{let c=r(u);return c?this.num(l.get(c),u.length):u},i=gr.parseFormat(t),a=i.reduce((l,{literal:u,val:c})=>u?l:l.concat(c),[]),s=e.shiftTo(...a.map(r).filter(l=>l));return YK(i,o(s))}};var ZK=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Oy(...n){let e=n.reduce((t,r)=>t+r.source,"");return RegExp(`^${e}$`)}function Iy(...n){return e=>n.reduce(([t,r,o],i)=>{let[a,s,l]=i(e,o);return[{...t,...a},s||r,l]},[{},null,1]).slice(0,2)}function Fy(n,...e){if(n==null)return[null,null];for(let[t,r]of e){let o=t.exec(n);if(o)return r(o)}return[null,null]}function QK(...n){return(e,t)=>{let r={},o;for(o=0;o<n.length;o++)r[n[o]]=kd(e[t+o]);return[r,null,t+o]}}var JK=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,qSe=`(?:${JK.source}?(?:\\[(${ZK.source})\\])?)?`,HV=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,eq=RegExp(`${HV.source}${qSe}`),$V=RegExp(`(?:T${eq.source})?`),YSe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,XSe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ZSe=/(\d{4})-?(\d{3})/,QSe=QK("weekYear","weekNumber","weekDay"),JSe=QK("year","ordinal"),e0e=/(\d{4})-(\d\d)-(\d\d)/,tq=RegExp(`${HV.source} ?(?:${JK.source}|(${ZK.source}))?`),t0e=RegExp(`(?: ${tq.source})?`);function Py(n,e,t){let r=n[e];return Qe(r)?t:kd(r)}function n0e(n,e){return[{year:Py(n,e),month:Py(n,e+1,1),day:Py(n,e+2,1)},null,e+3]}function Ly(n,e){return[{hours:Py(n,e,0),minutes:Py(n,e+1,0),seconds:Py(n,e+2,0),milliseconds:Mb(n[e+3])},null,e+4]}function Nb(n,e){let t=!n[e]&&!n[e+1],r=Bm(n[e+1],n[e+2]),o=t?null:mr.instance(r);return[{},o,e+3]}function kb(n,e){let t=n[e]?vo.create(n[e]):null;return[{},t,e+1]}var r0e=RegExp(`^T?${HV.source}$`),o0e=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function i0e(n){let[e,t,r,o,i,a,s,l,u]=n,c=e[0]==="-",d=l&&l[0]==="-",f=(p,h=!1)=>p!==void 0&&(h||p&&c)?-p:p;return[{years:f(Ep(t)),months:f(Ep(r)),weeks:f(Ep(o)),days:f(Ep(i)),hours:f(Ep(a)),minutes:f(Ep(s)),seconds:f(Ep(l),l==="-0"),milliseconds:f(Mb(u),d)}]}var a0e={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function BV(n,e,t,r,o,i,a){let s={year:e.length===2?Ab(kd(e)):kd(e),month:kV.indexOf(t)+1,day:kd(r),hour:kd(o),minute:kd(i)};return a&&(s.second=kd(a)),n&&(s.weekday=n.length>3?VV.indexOf(n)+1:GV.indexOf(n)+1),s}var s0e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function l0e(n){let[,e,t,r,o,i,a,s,l,u,c,d]=n,f=BV(e,o,r,t,i,a,s),p;return l?p=a0e[l]:u?p=0:p=Bm(c,d),[f,new mr(p)]}function u0e(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var c0e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,d0e=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,f0e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function XK(n){let[,e,t,r,o,i,a,s]=n;return[BV(e,o,r,t,i,a,s),mr.utcInstance]}function p0e(n){let[,e,t,r,o,i,a,s]=n;return[BV(e,s,t,r,o,i,a),mr.utcInstance]}var h0e=Oy(YSe,$V),m0e=Oy(XSe,$V),g0e=Oy(ZSe,$V),v0e=Oy(eq),nq=Iy(n0e,Ly,Nb,kb),y0e=Iy(QSe,Ly,Nb,kb),C0e=Iy(JSe,Ly,Nb,kb),w0e=Iy(Ly,Nb,kb);function rq(n){return Fy(n,[h0e,nq],[m0e,y0e],[g0e,C0e],[v0e,w0e])}function oq(n){return Fy(u0e(n),[s0e,l0e])}function iq(n){return Fy(n,[c0e,XK],[d0e,XK],[f0e,p0e])}function aq(n){return Fy(n,[o0e,i0e])}var S0e=Iy(Ly);function sq(n){return Fy(n,[r0e,S0e])}var b0e=Oy(e0e,t0e),_0e=Oy(tq),E0e=Iy(Ly,Nb,kb);function lq(n){return Fy(n,[b0e,nq],[_0e,E0e])}var uq="Invalid Duration",dq={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},x0e={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...dq},qs=146097/400,My=146097/4800,D0e={years:{quarters:4,months:12,weeks:qs/7,days:qs,hours:qs*24,minutes:qs*24*60,seconds:qs*24*60*60,milliseconds:qs*24*60*60*1e3},quarters:{months:3,weeks:qs/28,days:qs/4,hours:qs*24/4,minutes:qs*24*60/4,seconds:qs*24*60*60/4,milliseconds:qs*24*60*60*1e3/4},months:{weeks:My/7,days:My,hours:My*24,minutes:My*24*60,seconds:My*24*60*60,milliseconds:My*24*60*60*1e3},...dq},Um=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],R0e=Um.slice(0).reverse();function xp(n,e,t=!1){let r={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new gt(r)}function fq(n,e){var r;let t=(r=e.milliseconds)!=null?r:0;for(let o of R0e.slice(1))e[o]&&(t+=e[o]*n[o].milliseconds);return t}function cq(n,e){let t=fq(n,e)<0?-1:1;Um.reduceRight((r,o)=>{if(Qe(e[o]))return r;if(r){let i=e[r]*t,a=n[o][r],s=Math.floor(i/a);e[o]+=s*t,e[r]-=s*a*t}return o},null),Um.reduce((r,o)=>{if(Qe(e[o]))return r;if(r){let i=e[r]%1;e[r]-=i,e[o]+=i*n[r][o]}return o},null)}function T0e(n){let e={};for(let[t,r]of Object.entries(n))r!==0&&(e[t]=r);return e}var gt=class{constructor(e){let t=e.conversionAccuracy==="longterm"||!1,r=t?D0e:x0e;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Nt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return gt.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Qr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new gt({values:Ty(e,gt.normalizeUnit),loc:Nt.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(ac(e))return gt.fromMillis(e);if(gt.isDuration(e))return e;if(typeof e=="object")return gt.fromObject(e);throw new Qr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){let[r]=aq(e);return r?gt.fromObject(r,t):gt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){let[r]=sq(e);return r?gt.fromObject(r,t):gt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Qr("need to specify a reason the Duration is invalid");let r=e instanceof ko?e:new ko(e,t);if(Jt.throwOnInvalid)throw new UT(r);return new gt({invalid:r})}static normalizeUnit(e){let t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new _y(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let r={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?gr.create(this.loc,r).formatDurationFromString(this,e):uq}toHuman(e={}){if(!this.isValid)return uq;let t=Um.map(r=>{let o=this.values[r];return Qe(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(o)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=xy(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},pe.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?fq(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let t=gt.fromDurationLike(e),r={};for(let o of Um)(_p(t.values,o)||_p(this.values,o))&&(r[o]=t.get(o)+this.get(o));return xp(this,{values:r},!0)}minus(e){if(!this.isValid)return this;let t=gt.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let r of Object.keys(this.values))t[r]=NV(e(this.values[r],r));return xp(this,{values:t},!0)}get(e){return this[gt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let t={...this.values,...Ty(e,gt.normalizeUnit)};return xp(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:o}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:o,conversionAccuracy:r};return xp(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return cq(this.matrix,e),xp(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=T0e(this.normalize().shiftToAll().toObject());return xp(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>gt.normalizeUnit(a));let t={},r={},o=this.toObject(),i;for(let a of Um)if(e.indexOf(a)>=0){i=a;let s=0;for(let u in r)s+=this.matrix[u][a]*r[u],r[u]=0;ac(o[a])&&(s+=o[a]);let l=Math.trunc(s);t[a]=l,r[a]=(s*1e3-l*1e3)/1e3}else ac(o[a])&&(r[a]=o[a]);for(let a in r)r[a]!==0&&(t[i]+=a===i?r[a]:r[a]/this.matrix[i][a]);return cq(this.matrix,t),xp(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return xp(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(r,o){return r===void 0||r===0?o===void 0||o===0:r===o}for(let r of Um)if(!t(this.values[r],e.values[r]))return!1;return!0}};var Ay="Invalid Interval";function P0e(n,e){return!n||!n.isValid?Rn.invalid("missing or invalid start"):!e||!e.isValid?Rn.invalid("missing or invalid end"):e<n?Rn.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}var Rn=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Qr("need to specify a reason the Interval is invalid");let r=e instanceof ko?e:new ko(e,t);if(Jt.throwOnInvalid)throw new zT(r);return new Rn({invalid:r})}static fromDateTimes(e,t){let r=Ny(e),o=Ny(t),i=P0e(r,o);return i==null?new Rn({start:r,end:o}):i}static after(e,t){let r=gt.fromDurationLike(t),o=Ny(e);return Rn.fromDateTimes(o,o.plus(r))}static before(e,t){let r=gt.fromDurationLike(t),o=Ny(e);return Rn.fromDateTimes(o.minus(r),o)}static fromISO(e,t){let[r,o]=(e||"").split("/",2);if(r&&o){let i,a;try{i=pe.fromISO(r,t),a=i.isValid}catch(u){a=!1}let s,l;try{s=pe.fromISO(o,t),l=s.isValid}catch(u){l=!1}if(a&&l)return Rn.fromDateTimes(i,s);if(a){let u=gt.fromISO(o,t);if(u.isValid)return Rn.after(i,u)}else if(l){let u=gt.fromISO(r,t);if(u.isValid)return Rn.before(s,u)}}return Rn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;let r=this.start.startOf(e,t),o;return t!=null&&t.useLocaleWeeks?o=this.end.reconfigure({locale:r.locale}):o=this.end,o=o.startOf(e,t),Math.floor(o.diff(r,e).get(e))+(o.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?Rn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];let t=e.map(Ny).filter(a=>this.contains(a)).sort((a,s)=>a.toMillis()-s.toMillis()),r=[],{s:o}=this,i=0;for(;o<this.e;){let a=t[i]||this.e,s=+a>+this.e?this.e:a;r.push(Rn.fromDateTimes(o,s)),o=s,i+=1}return r}splitBy(e){let t=gt.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:r}=this,o=1,i,a=[];for(;r<this.e;){let s=this.start.plus(t.mapUnits(l=>l*o));i=+s>+this.e?this.e:s,a.push(Rn.fromDateTimes(r,i)),r=i,o+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:Rn.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;let t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Rn.fromDateTimes(t,r)}static merge(e){let[t,r]=e.sort((o,i)=>o.s-i.s).reduce(([o,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[o,i.union(a)]:[o.concat([i]),a]:[o,a],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0,o=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...i),s=a.sort((l,u)=>l.time-u.time);for(let l of s)r+=l.type==="s"?1:-1,r===1?t=l.time:(t&&+t!=+l.time&&o.push(Rn.fromDateTimes(t,l.time)),t=null);return Rn.merge(o)}difference(...e){return Rn.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Ay}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=wp,t={}){return this.isValid?gr.create(this.s.loc.clone(t),e).formatInterval(this):Ay}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ay}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ay}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ay}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Ay}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):gt.invalid(this.invalidReason)}mapEndpoints(e){return Rn.fromDateTimes(e(this.s),e(this.e))}};var Vd=class{static hasDST(e=Jt.defaultZone){let t=pe.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return vo.isValidZone(e)}static normalizeZone(e){return jl(e,Jt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Nt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Nt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Nt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Nt.create(t,r,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Nt.create(t,r,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null}={}){return(o||Nt.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:o=null}={}){return(o||Nt.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Nt.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Nt.create(t,null,"gregory").eras(e)}static features(){return{relative:ZT(),localeWeek:QT()}}};function pq(n,e){let t=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=t(e)-t(n);return Math.floor(gt.fromMillis(r).as("days"))}function O0e(n,e,t){let r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{let c=pq(l,u);return(c-c%7)/7}],["days",pq]],o={},i=n,a,s;for(let[l,u]of r)t.indexOf(l)>=0&&(a=l,o[l]=u(n,e),s=i.plus(o),s>e?(o[l]--,n=i.plus(o),n>e&&(s=n,o[l]--,n=i.plus(o))):n=s);return[n,o,s,a]}function hq(n,e,t,r){let[o,i,a,s]=O0e(n,e,t),l=e-o,u=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);u.length===0&&(a<e&&(a=o.plus({[s]:1})),a!==o&&(i[s]=(i[s]||0)+l/(a-o)));let c=gt.fromObject(i,r);return u.length>0?gt.fromMillis(l,r).shiftTo(...u).plus(c):c}var WV={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},mq={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},I0e=WV.hanidec.replace(/[\[|\]]/g,"").split("");function gq(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(n[t].search(WV.hanidec)!==-1)e+=I0e.indexOf(n[t]);else for(let o in mq){let[i,a]=mq[o];r>=i&&r<=a&&(e+=r-i)}}return parseInt(e,10)}else return e}function Ys({numberingSystem:n},e=""){return new RegExp(`${WV[n||"latn"]}${e}`)}var F0e="missing Intl.DateTimeFormat.formatToParts support";function en(n,e=t=>t){return{regex:n,deser:([t])=>e(gq(t))}}var L0e=String.fromCharCode(160),Cq=`[ ${L0e}]`,wq=new RegExp(Cq,"g");function M0e(n){return n.replace(/\./g,"\\.?").replace(wq,Cq)}function vq(n){return n.replace(/\./g,"").replace(wq," ").toLowerCase()}function Kl(n,e){return n===null?null:{regex:RegExp(n.map(M0e).join("|")),deser:([t])=>n.findIndex(r=>vq(t)===vq(r))+e}}function yq(n,e){return{regex:n,deser:([,t,r])=>Bm(t,r),groups:e}}function nP(n){return{regex:n,deser:([e])=>e}}function A0e(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function N0e(n,e){let t=Ys(e),r=Ys(e,"{2}"),o=Ys(e,"{3}"),i=Ys(e,"{4}"),a=Ys(e,"{6}"),s=Ys(e,"{1,2}"),l=Ys(e,"{1,3}"),u=Ys(e,"{1,6}"),c=Ys(e,"{1,9}"),d=Ys(e,"{2,4}"),f=Ys(e,"{4,6}"),p=v=>({regex:RegExp(A0e(v.val)),deser:([g])=>g,literal:!0}),m=(v=>{if(n.literal)return p(v);switch(v.val){case"G":return Kl(e.eras("short"),0);case"GG":return Kl(e.eras("long"),0);case"y":return en(u);case"yy":return en(d,Ab);case"yyyy":return en(i);case"yyyyy":return en(f);case"yyyyyy":return en(a);case"M":return en(s);case"MM":return en(r);case"MMM":return Kl(e.months("short",!0),1);case"MMMM":return Kl(e.months("long",!0),1);case"L":return en(s);case"LL":return en(r);case"LLL":return Kl(e.months("short",!1),1);case"LLLL":return Kl(e.months("long",!1),1);case"d":return en(s);case"dd":return en(r);case"o":return en(l);case"ooo":return en(o);case"HH":return en(r);case"H":return en(s);case"hh":return en(r);case"h":return en(s);case"mm":return en(r);case"m":return en(s);case"q":return en(s);case"qq":return en(r);case"s":return en(s);case"ss":return en(r);case"S":return en(l);case"SSS":return en(o);case"u":return nP(c);case"uu":return nP(s);case"uuu":return en(t);case"a":return Kl(e.meridiems(),0);case"kkkk":return en(i);case"kk":return en(d,Ab);case"W":return en(s);case"WW":return en(r);case"E":case"c":return en(t);case"EEE":return Kl(e.weekdays("short",!1),1);case"EEEE":return Kl(e.weekdays("long",!1),1);case"ccc":return Kl(e.weekdays("short",!0),1);case"cccc":return Kl(e.weekdays("long",!0),1);case"Z":case"ZZ":return yq(new RegExp(`([+-]${s.source})(?::(${r.source}))?`),2);case"ZZZ":return yq(new RegExp(`([+-]${s.source})(${r.source})?`),2);case"z":return nP(/[a-z_+-/]{1,256}?/i);case" ":return nP(/[^\S\n\r]/);default:return p(v)}})(n)||{invalidReason:F0e};return m.token=n,m}var k0e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function V0e(n,e,t){let{type:r,value:o}=n;if(r==="literal"){let l=/^\s+$/.test(o);return{literal:!l,val:l?" ":o}}let i=e[r],a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=t.hour12?"hour12":"hour24");let s=k0e[a];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function G0e(n){return[`^${n.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"")}$`,n]}function H0e(n,e,t){let r=n.match(e);if(r){let o={},i=1;for(let a in t)if(_p(t,a)){let s=t[a],l=s.groups?s.groups+1:1;!s.literal&&s.token&&(o[s.token.val[0]]=s.deser(r.slice(i,i+l))),i+=l}return[r,o]}else return[r,{}]}function $0e(n){let e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t=null,r;return Qe(n.z)||(t=vo.create(n.z)),Qe(n.Z)||(t||(t=new mr(n.Z)),r=n.Z),Qe(n.q)||(n.M=(n.q-1)*3+1),Qe(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Qe(n.u)||(n.S=Mb(n.u)),[Object.keys(n).reduce((i,a)=>{let s=e(a);return s&&(i[s]=n[a]),i},{}),t,r]}var zV=null;function B0e(){return zV||(zV=pe.fromMillis(1555555555555)),zV}function W0e(n,e){if(n.literal)return n;let t=gr.macroTokenToFormatOpts(n.val),r=KV(t,e);return r==null||r.includes(void 0)?n:r}function UV(n,e){return Array.prototype.concat(...n.map(t=>W0e(t,e)))}function jV(n,e,t){let r=UV(gr.parseFormat(t),n),o=r.map(a=>N0e(a,n)),i=o.find(a=>a.invalidReason);if(i)return{input:e,tokens:r,invalidReason:i.invalidReason};{let[a,s]=G0e(o),l=RegExp(a,"i"),[u,c]=H0e(e,l,s),[d,f,p]=c?$0e(c):[null,null,void 0];if(_p(c,"a")&&_p(c,"H"))throw new Wl("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:c,result:d,zone:f,specificOffset:p}}}function Sq(n,e,t){let{result:r,zone:o,specificOffset:i,invalidReason:a}=jV(n,e,t);return[r,o,i,a]}function KV(n,e){if(!n)return null;let r=gr.create(e,n).dtFormatter(B0e()),o=r.formatToParts(),i=r.resolvedOptions();return o.map(a=>V0e(a,n,i))}var qV="Invalid DateTime",bq=864e13;function rP(n){return new ko("unsupported zone",`the zone "${n.name}" is not supported`)}function YV(n){return n.weekData===null&&(n.weekData=Ib(n.c)),n.weekData}function XV(n){return n.localWeekData===null&&(n.localWeekData=Ib(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function jm(n,e){let t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new pe({...t,...e,old:t})}function Pq(n,e,t){let r=n-e*60*1e3,o=t.offset(r);if(e===o)return[r,e];r-=(o-e)*60*1e3;let i=t.offset(r);return o===i?[r,o]:[n-Math.min(o,i)*60*1e3,Math.max(o,i)]}function oP(n,e){n+=e*60*1e3;let t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function aP(n,e,t){return Pq(Ey(n),e,t)}function _q(n,e){let t=n.o,r=n.c.year+Math.trunc(e.years),o=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...n.c,year:r,month:o,day:Math.min(n.c.day,Ry(r,o))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=gt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),s=Ey(i),[l,u]=Pq(s,t,n.zone);return a!==0&&(l+=a,u=n.zone.offset(l)),{ts:l,o:u}}function Vb(n,e,t,r,o,i){let{setZone:a,zone:s}=t;if(n&&Object.keys(n).length!==0||e){let l=e||s,u=pe.fromObject(n,{...t,zone:l,specificOffset:i});return a?u:u.setZone(s)}else return pe.invalid(new ko("unparsable",`the input "${o}" can't be parsed as ${r}`))}function iP(n,e,t=!0){return n.isValid?gr.create(Nt.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function ZV(n,e){let t=n.c.year>9999||n.c.year<0,r="";return t&&n.c.year>=0&&(r+="+"),r+=hr(n.c.year,t?6:4),e?(r+="-",r+=hr(n.c.month),r+="-",r+=hr(n.c.day)):(r+=hr(n.c.month),r+=hr(n.c.day)),r}function Eq(n,e,t,r,o,i){let a=hr(n.c.hour);return e?(a+=":",a+=hr(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=":")):a+=hr(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=hr(n.c.second),(n.c.millisecond!==0||!r)&&(a+=".",a+=hr(n.c.millisecond,3))),o&&(n.isOffsetFixed&&n.offset===0&&!i?a+="Z":n.o<0?(a+="-",a+=hr(Math.trunc(-n.o/60)),a+=":",a+=hr(Math.trunc(-n.o%60))):(a+="+",a+=hr(Math.trunc(n.o/60)),a+=":",a+=hr(Math.trunc(n.o%60)))),i&&(a+="["+n.zone.ianaName+"]"),a}var Oq={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},z0e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},U0e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Iq=["year","month","day","hour","minute","second","millisecond"],j0e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],K0e=["year","ordinal","hour","minute","second","millisecond"];function q0e(n){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new _y(n);return e}function xq(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return q0e(n)}}function Dq(n,e){let t=jl(e.zone,Jt.defaultZone),r=Nt.fromObject(e),o=Jt.now(),i,a;if(Qe(n.year))i=o;else{for(let u of Iq)Qe(n[u])&&(n[u]=Oq[u]);let s=LV(n)||MV(n);if(s)return pe.invalid(s);let l=t.offset(o);[i,a]=aP(n,l,t)}return new pe({ts:i,zone:t,loc:r,o:a})}function Rq(n,e,t){let r=Qe(t.round)?!0:t.round,o=(a,s)=>(a=xy(a,r||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,s)),i=a=>t.calendary?e.hasSame(n,a)?0:e.startOf(a).diff(n.startOf(a),a).get(a):e.diff(n,a).get(a);if(t.unit)return o(i(t.unit),t.unit);for(let a of t.units){let s=i(a);if(Math.abs(s)>=1)return o(s,a)}return o(n>e?-0:0,t.units[t.units.length-1])}function Tq(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}var pe=class{constructor(e){let t=e.zone||Jt.defaultZone,r=e.invalid||(Number.isNaN(e.ts)?new ko("invalid input"):null)||(t.isValid?null:rP(t));this.ts=Qe(e.ts)?Jt.now():e.ts;let o=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[o,i]=[e.old.c,e.old.o];else{let s=t.offset(this.ts);o=oP(this.ts,s),r=Number.isNaN(o.year)?new ko("invalid input"):null,o=r?null:o,i=r?null:s}this._zone=t,this.loc=e.loc||Nt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=o,this.o=i,this.isLuxonDateTime=!0}static now(){return new pe({})}static local(){let[e,t]=Tq(arguments),[r,o,i,a,s,l,u]=t;return Dq({year:r,month:o,day:i,hour:a,minute:s,second:l,millisecond:u},e)}static utc(){let[e,t]=Tq(arguments),[r,o,i,a,s,l,u]=t;return e.zone=mr.utcInstance,Dq({year:r,month:o,day:i,hour:a,minute:s,second:l,millisecond:u},e)}static fromJSDate(e,t={}){let r=BK(e)?e.valueOf():NaN;if(Number.isNaN(r))return pe.invalid("invalid input");let o=jl(t.zone,Jt.defaultZone);return o.isValid?new pe({ts:r,zone:o,loc:Nt.fromObject(t)}):pe.invalid(rP(o))}static fromMillis(e,t={}){if(ac(e))return e<-bq||e>bq?pe.invalid("Timestamp out of range"):new pe({ts:e,zone:jl(t.zone,Jt.defaultZone),loc:Nt.fromObject(t)});throw new Qr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(ac(e))return new pe({ts:e*1e3,zone:jl(t.zone,Jt.defaultZone),loc:Nt.fromObject(t)});throw new Qr("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};let r=jl(t.zone,Jt.defaultZone);if(!r.isValid)return pe.invalid(rP(r));let o=Nt.fromObject(t),i=Ty(e,xq),{minDaysInFirstWeek:a,startOfWeek:s}=FV(i,o),l=Jt.now(),u=Qe(t.specificOffset)?r.offset(l):t.specificOffset,c=!Qe(i.ordinal),d=!Qe(i.year),f=!Qe(i.month)||!Qe(i.day),p=d||f,h=i.weekYear||i.weekNumber;if((p||c)&&h)throw new Wl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new Wl("Can't mix ordinal dates with month/day");let m=h||i.weekday&&!p,v,g,y=oP(l,u);m?(v=j0e,g=z0e,y=Ib(y,a,s)):c?(v=K0e,g=U0e,y=tP(y)):(v=Iq,g=Oq);let C=!1;for(let O of v){let L=i[O];Qe(L)?C?i[O]=g[O]:i[O]=y[O]:C=!0}let w=m?GK(i,a,s):c?HK(i):LV(i),b=w||MV(i);if(b)return pe.invalid(b);let E=m?OV(i,a,s):c?IV(i):i,[D,S]=aP(E,u,r),T=new pe({ts:D,zone:r,o:S,loc:o});return i.weekday&&p&&e.weekday!==T.weekday?pe.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${T.toISO()}`):T}static fromISO(e,t={}){let[r,o]=rq(e);return Vb(r,o,t,"ISO 8601",e)}static fromRFC2822(e,t={}){let[r,o]=oq(e);return Vb(r,o,t,"RFC 2822",e)}static fromHTTP(e,t={}){let[r,o]=iq(e);return Vb(r,o,t,"HTTP",t)}static fromFormat(e,t,r={}){if(Qe(e)||Qe(t))throw new Qr("fromFormat requires an input string and a format");let{locale:o=null,numberingSystem:i=null}=r,a=Nt.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0}),[s,l,u,c]=Sq(a,e,t);return c?pe.invalid(c):Vb(s,l,r,`format ${t}`,e,u)}static fromString(e,t,r={}){return pe.fromFormat(e,t,r)}static fromSQL(e,t={}){let[r,o]=lq(e);return Vb(r,o,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Qr("need to specify a reason the DateTime is invalid");let r=e instanceof ko?e:new ko(e,t);if(Jt.throwOnInvalid)throw new WT(r);return new pe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let r=KV(e,Nt.fromObject(t));return r?r.map(o=>o?o.val:null).join(""):null}static expandFormat(e,t={}){return UV(gr.parseFormat(e),Nt.fromObject(t)).map(o=>o.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?YV(this).weekYear:NaN}get weekNumber(){return this.isValid?YV(this).weekNumber:NaN}get weekday(){return this.isValid?YV(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?XV(this).weekday:NaN}get localWeekNumber(){return this.isValid?XV(this).weekNumber:NaN}get localWeekYear(){return this.isValid?XV(this).weekYear:NaN}get ordinal(){return this.isValid?tP(this.c).ordinal:NaN}get monthShort(){return this.isValid?Vd.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Vd.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Vd.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Vd.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,t=6e4,r=Ey(this.c),o=this.zone.offset(r-e),i=this.zone.offset(r+e),a=this.zone.offset(r-o*t),s=this.zone.offset(r-i*t);if(a===s)return[this];let l=r-a*t,u=r-s*t,c=oP(l,a),d=oP(u,s);return c.hour===d.hour&&c.minute===d.minute&&c.second===d.second&&c.millisecond===d.millisecond?[jm(this,{ts:l}),jm(this,{ts:u})]:[this]}get isInLeapYear(){return zm(this.year)}get daysInMonth(){return Ry(this.year,this.month)}get daysInYear(){return this.isValid?bp(this.year):NaN}get weeksInWeekYear(){return this.isValid?Wm(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Wm(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:r,calendar:o}=gr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:o}}toUTC(e=0,t={}){return this.setZone(mr.instance(e),t)}toLocal(){return this.setZone(Jt.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if(e=jl(e,Jt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let o=this.ts;if(t||r){let i=e.offset(this.ts),a=this.toObject();[o]=aP(a,i,e)}return jm(this,{ts:o,zone:e})}else return pe.invalid(rP(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){let o=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r});return jm(this,{loc:o})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let t=Ty(e,xq),{minDaysInFirstWeek:r,startOfWeek:o}=FV(t,this.loc),i=!Qe(t.weekYear)||!Qe(t.weekNumber)||!Qe(t.weekday),a=!Qe(t.ordinal),s=!Qe(t.year),l=!Qe(t.month)||!Qe(t.day),u=s||l,c=t.weekYear||t.weekNumber;if((u||a)&&c)throw new Wl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Wl("Can't mix ordinal dates with month/day");let d;i?d=OV({...Ib(this.c,r,o),...t},r,o):Qe(t.ordinal)?(d={...this.toObject(),...t},Qe(t.day)&&(d.day=Math.min(Ry(d.year,d.month),d.day))):d=IV({...tP(this.c),...t});let[f,p]=aP(d,this.o,this.zone);return jm(this,{ts:f,o:p})}plus(e){if(!this.isValid)return this;let t=gt.fromDurationLike(e);return jm(this,_q(this,t))}minus(e){if(!this.isValid)return this;let t=gt.fromDurationLike(e).negate();return jm(this,_q(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;let r={},o=gt.normalizeUnit(e);switch(o){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break;case"milliseconds":break}if(o==="weeks")if(t){let i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(r.weekNumber=this.weekNumber-1),r.weekday=i}else r.weekday=1;if(o==="quarters"){let i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?gr.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):qV}toLocaleString(e=wp,t={}){return this.isValid?gr.create(this.loc.clone(t),e).formatDateTime(this):qV}toLocaleParts(e={}){return this.isValid?gr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:o=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;let a=e==="extended",s=ZV(this,a);return s+="T",s+=Eq(this,a,t,r,o,i),s}toISODate({format:e="extended"}={}){return this.isValid?ZV(this,e==="extended"):null}toISOWeekDate(){return iP(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:o=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+Eq(this,a==="extended",t,e,r,i):null}toRFC2822(){return iP(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return iP(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ZV(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let o="HH:mm:ss.SSS";return(t||e)&&(r&&(o+=" "),t?o+="z":e&&(o+="ZZ")),iP(this,o,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():qV}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return gt.invalid("created by diffing an invalid DateTime");let o={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=WK(t).map(gt.normalizeUnit),a=e.valueOf()>this.valueOf(),s=a?this:e,l=a?e:this,u=hq(s,l,i,o);return a?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(pe.now(),e,t)}until(e){return this.isValid?Rn.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;let o=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,r)<=o&&o<=i.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let t=e.base||pe.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0,o=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(o=e.unit,i=void 0),Rq(t,this.plus(r),{...e,numeric:"always",units:o,unit:i})}toRelativeCalendar(e={}){return this.isValid?Rq(e.base||pe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(pe.isDateTime))throw new Qr("min requires all arguments be DateTimes");return AV(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(pe.isDateTime))throw new Qr("max requires all arguments be DateTimes");return AV(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){let{locale:o=null,numberingSystem:i=null}=r,a=Nt.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return jV(a,e,t)}static fromStringExplain(e,t,r={}){return pe.fromFormatExplain(e,t,r)}static get DATE_SHORT(){return wp}static get DATE_MED(){return cb}static get DATE_MED_WITH_WEEKDAY(){return hV}static get DATE_FULL(){return db}static get DATE_HUGE(){return fb}static get TIME_SIMPLE(){return pb}static get TIME_WITH_SECONDS(){return hb}static get TIME_WITH_SHORT_OFFSET(){return mb}static get TIME_WITH_LONG_OFFSET(){return gb}static get TIME_24_SIMPLE(){return vb}static get TIME_24_WITH_SECONDS(){return yb}static get TIME_24_WITH_SHORT_OFFSET(){return Cb}static get TIME_24_WITH_LONG_OFFSET(){return wb}static get DATETIME_SHORT(){return Sb}static get DATETIME_SHORT_WITH_SECONDS(){return bb}static get DATETIME_MED(){return _b}static get DATETIME_MED_WITH_SECONDS(){return Eb}static get DATETIME_MED_WITH_WEEKDAY(){return mV}static get DATETIME_FULL(){return xb}static get DATETIME_FULL_WITH_SECONDS(){return Db}static get DATETIME_HUGE(){return Rb}static get DATETIME_HUGE_WITH_SECONDS(){return Tb}};function Ny(n){if(pe.isDateTime(n))return n;if(n&&n.valueOf&&ac(n.valueOf()))return pe.fromJSDate(n);if(n&&typeof n=="object")return pe.fromObject(n);throw new Qr(`Unknown datetime argument: ${n}, of type ${typeof n}`)}ue();function sP(n,e){return n==null||n.trim()===""?e:n}function sc(n){let e=n.getFullYear(),t=n.getMonth()+1,r=n.getDate(),o=n.getHours(),i=n.getMinutes(),a=n.getSeconds(),s=t<10?`0${t}`:`${t}`,l=r<10?`0${r}`:`${r}`,u=o<10?`0${o}`:`${o}`,c=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${e}-${s}-${l} ${u}:${c}:${d}`}function Gb(n){let e=sP(n.split(":")[0],"0"),t=sP(n.split(":")[1],"0"),r=sP(n.split(":")[2],"0");return{hour:parseInt(e),minute:parseInt(t),second:parseInt(r)}}function Hb(n,e,t){if(!n||!e||!t)return"00:00:00";let r=n<10?`0${n}`:`${n}`,o=e<10?`0${e}`:`${e}`,i=t<10?`0${t}`:`${t}`;return`${r}:${o}:${i}`}function Fq(n){return!n||n<0?0:n>11?11:n}function Lq(n){return!n||n<1?1:n>33?31:n}function QV(n){let e=new Date;return n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate()}function Hi(n){try{let e=null;if(typeof n=="number")return e=pe.fromMillis(n),e.isValid?e:void 0;if(n instanceof Date)return pe.fromJSDate(n);if(e=pe.fromISO(n),e.isValid||(e=pe.fromRFC2822(n),e.isValid)||(e=pe.fromHTTP(n),e.isValid)||(e=pe.fromSQL(n),e.isValid)||(e=pe.fromFormat(n,"yyyy-MM-dd HH:mm"),e.isValid)||(e=pe.fromFormat(n,"yyyy-MM-dd'T'HH:mm"),e.isValid)||(e=pe.fromFormat(n,"yyyy-MM-dd"),e.isValid)||(e=pe.fromFormat(n,"yyyy/MM/dd"),e.isValid))return e}catch(e){}}var Xq=_(F()),Dp="$specifiedDateTime",Mq,Aq,Nq,kq,Vq,Gq,Hq,$q,Bq,Wq,zq,Uq,jq,JV=[{value:"$now",label:R.now},{value:"$today",label:R.today,sample:(Mq=xr("$today"))==null?void 0:Mq.toFormat(po)},{value:"$tomorrow",label:R.tomorrow,sample:(Aq=xr("$tomorrow"))==null?void 0:Aq.toFormat(po)},{value:"$yesterday",label:R.yesterday,sample:(Nq=xr("$yesterday"))==null?void 0:Nq.toFormat(po)},{value:"$startOfToday",label:R.start_of_today,sample:(kq=xr("$startOfToday"))==null?void 0:kq.toFormat(po)},{value:"$endOfToday",label:R.end_of_today,sample:(Vq=xr("$endOfToday"))==null?void 0:Vq.toFormat(po)},{value:"$startOfWeek",label:R.start_of_week,sample:(Gq=xr("$startOfWeek"))==null?void 0:Gq.toFormat(po)},{value:"$endOfWeek",label:R.end_of_week,sample:(Hq=xr("$endOfWeek"))==null?void 0:Hq.toFormat(po)},{value:"$startOfMonth",label:R.start_of_month,sample:($q=xr("$startOfMonth"))==null?void 0:$q.toFormat(po)},{value:"$endOfMonth",label:R.end_of_month,sample:(Bq=xr("$endOfMonth"))==null?void 0:Bq.toFormat(po)},{value:"$startOfQuarter",label:R.start_of_quarter,sample:(Wq=xr("$startOfQuarter"))==null?void 0:Wq.toFormat(po)},{value:"$endOfQuarter",label:R.end_of_quarter,sample:(zq=xr("$endOfQuarter"))==null?void 0:zq.toFormat(po)},{value:"$startOfYear",label:R.start_of_year,sample:(Uq=xr("$startOfYear"))==null?void 0:Uq.toFormat(po)},{value:"$endOfYear",label:R.end_of_year,sample:(jq=xr("$endOfYear"))==null?void 0:jq.toFormat(po)},{value:Dp,label:R.specified_date_time}],Kq=JV.map(n=>({id:n.value,key:n.value,value:n.value,icon:(0,Xq.jsx)($S,{}),label:n.label,description:n.sample}));function qq(n){return JV.findIndex(e=>e.value===n)!==-1}function Yq(n){return n?!JV.filter(e=>e.value!==Dp).map(e=>e.value).includes(n):!0}function e2(n){return n?Zq.map(e=>e.id()).includes(n):!1}function xr(n){if(!(typeof n!="string"&&typeof n!="number")){switch(n){case"$now":return pe.now();case"$today":return pe.now().startOf("day");case"$yesterday":return pe.now().minus({days:1}).startOf("day");case"$tomorrow":return pe.now().plus({days:1}).startOf("day");case"$startOfToday":return pe.now().startOf("day");case"$endOfToday":return pe.now().endOf("day");case"$startOfWeek":return pe.now().startOf("week");case"$endOfWeek":return pe.now().endOf("week");case"$startOfMonth":return pe.now().startOf("month");case"$endOfMonth":return pe.now().endOf("month");case"$startOfQuarter":return pe.now().startOf("quarter");case"$endOfQuarter":return pe.now().endOf("quarter");case"$startOfYear":return pe.now().startOf("year");case"$endOfYear":return pe.now().endOf("year")}return Hi(n)}}var lc=class{support(e,t){switch(t.property){case"${file.path}":case"${file.tags}":case"${file.size}":case"${file.basename}":return!1;default:return!0}}invoke(e,t){let r=xr(e);if(!r)return!1;let o=xr(t);return o?this.doInvoke(r,o):!1}};var $b=class extends lc{id(){return"time_after"}name(){return R.time_after}doInvoke(e,t){return e.toMillis()>t.toMillis()}};ue();var Bb=class extends lc{id(){return"time_after_or_equal"}name(){return R.time_after_or_equal}doInvoke(e,t){return e.toMillis()>=t.toMillis()}};ue();var Wb=class extends lc{id(){return"time_before"}name(){return R.time_before}doInvoke(e,t){return e.toMillis()<t.toMillis()}};ue();var zb=class extends lc{id(){return"time_before_or_equal"}name(){return R.time_before_or_equal}doInvoke(e,t){return e.toMillis()<=t.toMillis()}};var lP=[new LT,new MT,new AT,new NT,new kT,new VT,new GT,new BT,new HT,new $T,new $b,new Bb,new Wb,new zb],Zq=[new $b,new Bb,new Wb,new zb];var Ub=class{supports(e){return!0}match(e,t,r){let o=lP.find(s=>s.id()==t.operator);if(!o)return!1;let i=e.metadataCache.getFileCache(r);if(!i)return!1;let a={condition:t};if(Gi(t.property))switch(t.property){case"${file.basename}":return o.invoke(r.basename,t.value,a);case"${file.ctime}":return o.invoke(r.stat.ctime,t.value,a);case"${file.mtime}":return o.invoke(r.stat.mtime,t.value,a);case"${file.size}":return o.invoke(r.stat.size,t.value,a);case"${file.path}":return o.invoke(r.path,t.value,a);case"${file.tags}":return o.invoke(OT(e,r),t.value,a);default:return!1}else{if(!i.frontmatter||!t.property)return!1;let s=i.frontmatter[t.property];return s==null||s==null?!1:o.invoke(s,t.value,a)}}};var Y0e=[new Ub],uc=class{static match(e,t,r){for(let o of r.conditions||[]){let i=!1;for(let a of Y0e)if(a.supports(o)){i=a.match(e,o,t);break}if(!i)return!1}return!0}};ht();function Qq(n,e){var t,r,o,i,a;if(n==null||n==null)return"";if(typeof n!="string"&&typeof n!="number")return n;switch(e){case"$toYear":return(t=Hi(n))==null?void 0:t.toFormat("yyyy");case"$toYearMonth":return(r=Hi(n))==null?void 0:r.toFormat("yyyy-MM");case"$toYearQuarter":return(o=Hi(n))==null?void 0:o.toFormat("yyyy-'Q'q");case"$toYearWeek":return(i=Hi(n))==null?void 0:i.toFormat("yyyy-'W'W");case"$toDate":return(a=Hi(n))==null?void 0:a.toFormat("yyyy-MM-dd");default:return n}}function Jq(n,e){if(n==null||n==null)return 0;if(typeof n!="number"&&!Array.isArray(n))return n;switch(e){case"$sum":return Array.isArray(n)?wy(n):n;case"$avg":return Array.isArray(n)?wy(n)/n.length:n;case"$max":return Array.isArray(n)?Math.max(...n):n;case"$min":return Array.isArray(n)?Math.min(...n):n;default:return Array.isArray(n)?wy(n):n}}var cP=_(z());var t2=_(F());function eY(n){return(0,t2.jsx)("div",{className:"search-input",children:(0,t2.jsx)("input",{type:"text",placeholder:"Type to search",onChange:e=>n.onChange(e.target.value)})})}ue();var cc=_(F());function dP(n){var l,u,c;let e=(0,cP.useRef)(null),t=n.items,[r,o]=(0,cP.useState)(""),a=(d=>t.filter(p=>p.label.toLowerCase().includes(d.toLocaleLowerCase())))(r),s=nT({count:(l=a.length)!=null?l:0,scrollPaddingStart:12,scrollPaddingEnd:12,getScrollElement:()=>e.current,estimateSize:d=>50});return!t||t.length===0?(0,cc.jsx)("div",{className:"virtual-list-container"}):(0,cc.jsxs)("div",{className:"virtual-list-container",ref:e,children:[(0,cc.jsxs)("div",{className:"virtual-list-header",children:[(0,cc.jsx)(eY,{onChange:d=>{o(d)}}),(0,cc.jsx)("div",{className:"description",children:R.found_items.format(a.length+"")})]}),(0,cc.jsx)("div",{className:"virtual-list-inner",style:{height:`${s.getTotalSize()}px`},children:(0,cc.jsx)("div",{className:"virtual-list",style:{transform:`translateY(${(c=(u=s.getVirtualItems()[0])==null?void 0:u.start)!=null?c:0}px)`},children:s.getVirtualItems().map(d=>{let f=a[d.index];return(0,cc.jsx)("div",{className:"list-item","data-index":d.index,ref:s.measureElement,onClick:p=>{n.onItemClick&&n.onItemClick(p,f)},children:n.itemEl(f)},d.key)})})})]})}var uP=class{constructor(e,t){this.label=e;this.value=t}};var n2={};n2={dropzoneLabel:"DropZone",selectPlaceholder:"\u062D\u062F\u062F \u0639\u0646\u0635\u0631\u064B\u0627",tableResizer:"\u0623\u062F\u0627\u0629 \u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u062D\u062C\u0645"};var r2={};r2={dropzoneLabel:"DropZone",selectPlaceholder:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043F\u0440\u0435\u0434\u043C\u0435\u0442",tableResizer:"\u041F\u0440\u0435\u043E\u0440\u0430\u0437\u043C\u0435\u0440\u0438\u0442\u0435\u043B"};var o2={};o2={dropzoneLabel:"M\xEDsto pro p\u0159eta\u017Een\xED",selectPlaceholder:"Vyberte polo\u017Eku",tableResizer:"Zm\u011Bna velikosti"};var i2={};i2={dropzoneLabel:"DropZone",selectPlaceholder:"V\xE6lg et element",tableResizer:"St\xF8rrelses\xE6ndring"};var a2={};a2={dropzoneLabel:"Ablegebereich",selectPlaceholder:"Element w\xE4hlen",tableResizer:"Gr\xF6\xDFenanpassung"};var s2={};s2={dropzoneLabel:"DropZone",selectPlaceholder:"\u0395\u03C0\u03B9\u03BB\u03AD\u03BE\u03C4\u03B5 \u03AD\u03BD\u03B1 \u03B1\u03BD\u03C4\u03B9\u03BA\u03B5\u03AF\u03BC\u03B5\u03BD\u03BF",tableResizer:"\u0391\u03BB\u03BB\u03B1\u03B3\u03AE \u03BC\u03B5\u03B3\u03AD\u03B8\u03BF\u03C5\u03C2"};var l2={};l2={selectPlaceholder:"Select an item",tableResizer:"Resizer",dropzoneLabel:"DropZone"};var u2={};u2={dropzoneLabel:"DropZone",selectPlaceholder:"Seleccionar un art\xEDculo",tableResizer:"Cambiador de tama\xF1o"};var c2={};c2={dropzoneLabel:"DropZone",selectPlaceholder:"Valige \xFCksus",tableResizer:"Suuruse muutja"};var d2={};d2={dropzoneLabel:"DropZone",selectPlaceholder:"Valitse kohde",tableResizer:"Koon muuttaja"};var f2={};f2={dropzoneLabel:"DropZone",selectPlaceholder:"S\xE9lectionner un \xE9l\xE9ment",tableResizer:"Redimensionneur"};var p2={};p2={dropzoneLabel:"DropZone",selectPlaceholder:"\u05D1\u05D7\u05E8 \u05E4\u05E8\u05D9\u05D8",tableResizer:"\u05E9\u05D9\u05E0\u05D5\u05D9 \u05D2\u05D5\u05D3\u05DC"};var h2={};h2={dropzoneLabel:"Zona spu\u0161tanja",selectPlaceholder:"Odaberite stavku",tableResizer:"Promjena veli\u010Dine"};var m2={};m2={dropzoneLabel:"DropZone",selectPlaceholder:"V\xE1lasszon ki egy elemet",tableResizer:"\xC1tm\xE9retez\u0151"};var g2={};g2={dropzoneLabel:"Zona di rilascio",selectPlaceholder:"Seleziona un elemento",tableResizer:"Ridimensionamento"};var v2={};v2={dropzoneLabel:"\u30C9\u30ED\u30C3\u30D7\u30BE\u30FC\u30F3",selectPlaceholder:"\u9805\u76EE\u3092\u9078\u629E",tableResizer:"\u30B5\u30A4\u30BA\u5909\u66F4\u30C4\u30FC\u30EB"};var y2={};y2={dropzoneLabel:"\uB4DC\uB86D \uC601\uC5ED",selectPlaceholder:"\uD56D\uBAA9 \uC120\uD0DD",tableResizer:"\uD06C\uAE30 \uC870\uC815\uAE30"};var C2={};C2={dropzoneLabel:"\u201EDropZone\u201C",selectPlaceholder:"Pasirinkite element\u0105",tableResizer:"Dyd\u017Eio keitiklis"};var w2={};w2={dropzoneLabel:"DropZone",selectPlaceholder:"Izv\u0113l\u0113ties vienumu",tableResizer:"Izm\u0113ra main\u012Bt\u0101js"};var S2={};S2={dropzoneLabel:"Droppsone",selectPlaceholder:"Velg et element",tableResizer:"St\xF8rrelsesendrer"};var b2={};b2={dropzoneLabel:"DropZone",selectPlaceholder:"Selecteer een item",tableResizer:"Resizer"};var _2={};_2={dropzoneLabel:"Strefa upuszczania",selectPlaceholder:"Wybierz element",tableResizer:"Zmiana rozmiaru"};var E2={};E2={dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"};var x2={};x2={dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"};var D2={};D2={dropzoneLabel:"Zon\u0103 de plasare",selectPlaceholder:"Selecta\u021Bi un element",tableResizer:"Instrument de redimensionare"};var R2={};R2={dropzoneLabel:"DropZone",selectPlaceholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442",tableResizer:"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0440\u0430\u0437\u043C\u0435\u0440\u0430"};var T2={};T2={dropzoneLabel:"DropZone",selectPlaceholder:"Vyberte polo\u017Eku",tableResizer:"N\xE1stroj na zmenu ve\u013Ekosti"};var P2={};P2={dropzoneLabel:"DropZone",selectPlaceholder:"Izberite element",tableResizer:"Spreminjanje velikosti"};var O2={};O2={dropzoneLabel:"DropZone",selectPlaceholder:"Izaberite stavku",tableResizer:"Promena veli\u010Dine"};var I2={};I2={dropzoneLabel:"DropZone",selectPlaceholder:"V\xE4lj en artikel",tableResizer:"Storleks\xE4ndrare"};var F2={};F2={dropzoneLabel:"B\u0131rakma B\xF6lgesi",selectPlaceholder:"Bir \xF6\u011Fe se\xE7in",tableResizer:"Yeniden boyutland\u0131r\u0131c\u0131"};var L2={};L2={dropzoneLabel:"DropZone",selectPlaceholder:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u0435\u043B\u0435\u043C\u0435\u043D\u0442",tableResizer:"\u0417\u0430\u0441\u0456\u0431 \u0437\u043C\u0456\u043D\u0435\u043D\u043D\u044F \u0440\u043E\u0437\u043C\u0456\u0440\u0443"};var M2={};M2={dropzoneLabel:"\u653E\u7F6E\u533A\u57DF",selectPlaceholder:"\u9009\u62E9\u4E00\u4E2A\u9879\u76EE",tableResizer:"\u5C3A\u5BF8\u8C03\u6574\u5668"};var A2={};A2={dropzoneLabel:"\u653E\u7F6E\u5340",selectPlaceholder:"\u9078\u53D6\u9805\u76EE",tableResizer:"\u5927\u5C0F\u8ABF\u6574\u5668"};var Rp=_(z(),1);function ky(n,e,t){let[r,o]=(0,Rp.useState)(n||e),i=(0,Rp.useRef)(n!==void 0),a=n!==void 0;(0,Rp.useEffect)(()=>{let u=i.current;i.current=a},[a]);let s=a?n:r,l=(0,Rp.useCallback)((u,...c)=>{let d=(f,...p)=>{t&&(Object.is(s,f)||t(f,...p)),a||(s=f)};typeof u=="function"?o((p,...h)=>{let m=u(a?s:p,...h);return d(m,...c),a?p:m}):(a||o(u),d(u,...c))},[a,s,t]);return[s,l]}var tn=_(z(),1);var Vo=_(z(),1),fP={prefix:String(Math.round(Math.random()*1e10)),current:0},tY=Vo.default.createContext(fP),X0e=Vo.default.createContext(!1);var Z0e=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement),N2=new WeakMap;function Q0e(n=!1){let e=(0,Vo.useContext)(tY),t=(0,Vo.useRef)(null);if(t.current===null&&!n){var r,o;let i=(o=Vo.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(r=o.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let a=N2.get(i);a==null?N2.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==a.state&&(e.current=a.id,N2.delete(i))}t.current=++e.current}return t.current}function J0e(n){let e=(0,Vo.useContext)(tY),t=Q0e(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function ebe(n){let e=Vo.default.useId(),[t]=(0,Vo.useState)(za()),r=t?"react-aria":`react-aria${fP.prefix}`;return n||`${r}-${e}`}var nY=typeof Vo.default.useId=="function"?ebe:J0e;function tbe(){return!1}function nbe(){return!0}function rbe(n){return()=>{}}function za(){return typeof Vo.default.useSyncExternalStore=="function"?Vo.default.useSyncExternalStore(rbe,tbe,nbe):(0,Vo.useContext)(X0e)}function rY(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=rY(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function obe(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=rY(n))&&(r&&(r+=" "),r+=e);return r}var k2=obe;var Kn=typeof document!="undefined"?tn.default.useLayoutEffect:()=>{};function Zs(n){let e=(0,tn.useRef)(null);return Kn(()=>{e.current=n},[n]),(0,tn.useCallback)((...t)=>{let r=e.current;return r==null?void 0:r(...t)},[])}function ibe(n){let[e,t]=(0,tn.useState)(n),r=(0,tn.useRef)(null),o=Zs(()=>{if(!r.current)return;let a=r.current.next();if(a.done){r.current=null;return}e===a.value?o():t(a.value)});Kn(()=>{r.current&&o()});let i=Zs(a=>{r.current=a(e),o()});return[e,i]}var abe=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement),hP=new Map;function $d(n){let[e,t]=(0,tn.useState)(n),r=(0,tn.useRef)(null),o=nY(e),i=(0,tn.useCallback)(a=>{r.current=a},[]);return abe&&hP.set(o,i),Kn(()=>{let a=o;return()=>{hP.delete(a)}},[o]),(0,tn.useEffect)(()=>{let a=r.current;a&&(r.current=null,t(a))}),o}function sbe(n,e){if(n===e)return n;let t=hP.get(n);if(t)return t(e),e;let r=hP.get(e);return r?(r(n),n):e}function $2(n=[]){let e=$d(),[t,r]=ibe(e),o=(0,tn.useCallback)(()=>{r(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,r]);return Kn(o,[e,o,...n]),t}function Bd(...n){return(...e)=>{for(let t of n)typeof t=="function"&&t(...e)}}var Mn=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},Ua=n=>n&&"window"in n&&n.window===n?n:Mn(n).defaultView||window;function nn(...n){let e={...n[0]};for(let t=1;t<n.length;t++){let r=n[t];for(let o in r){let i=e[o],a=r[o];typeof i=="function"&&typeof a=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?e[o]=Bd(i,a):(o==="className"||o==="UNSAFE_className")&&typeof i=="string"&&typeof a=="string"?e[o]=k2(i,a):o==="id"&&i&&a?e.id=sbe(i,a):e[o]=a!==void 0?a:i}}return e}function B2(...n){return n.length===1?n[0]:e=>{for(let t of n)typeof t=="function"?t(e):t!=null&&(t.current=e)}}var lbe=new Set(["id"]),ube=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),cbe=new Set(["href","target","rel","download","ping","referrerPolicy"]),dbe=/^(data-.*)$/;function la(n,e={}){let{labelable:t,isLink:r,propNames:o}=e,i={};for(let a in n)Object.prototype.hasOwnProperty.call(n,a)&&(lbe.has(a)||t&&ube.has(a)||r&&cbe.has(a)||o!=null&&o.has(a)||dbe.test(a))&&(i[a]=n[a]);return i}function Qs(n){if(fbe())n.focus({preventScroll:!0});else{let e=pbe(n);n.focus(),hbe(e)}}var pP=null;function fbe(){if(pP==null){pP=!1;try{document.createElement("div").focus({get preventScroll(){return pP=!0,!0}})}catch(n){}}return pP}function pbe(n){let e=n.parentNode,t=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&t.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),t}function hbe(n){for(let{element:e,scrollTop:t,scrollLeft:r}of n)e.scrollTop=t,e.scrollLeft=r}function mP(n){var e;return typeof window=="undefined"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function W2(n){var e;return typeof window!="undefined"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Gd(){return W2(/^Mac/i)}function mbe(){return W2(/^iPhone/i)}function sY(){return W2(/^iPad/i)||Gd()&&navigator.maxTouchPoints>1}function Gy(){return mbe()||sY()}function lY(){return Gd()||Gy()}function uY(){return mP(/AppleWebKit/i)&&!gbe()}function gbe(){return mP(/Chrome/i)}function cY(){return mP(/Android/i)}function vbe(){return mP(/Firefox/i)}var ybe=(0,tn.createContext)({isNative:!0,open:wbe});function z2(){return(0,tn.useContext)(ybe)}function Hd(n,e,t=!0){var r,o;let{metaKey:i,ctrlKey:a,altKey:s,shiftKey:l}=e;vbe()&&(!((o=window.event)===null||o===void 0||(r=o.type)===null||r===void 0)&&r.startsWith("key"))&&n.target==="_blank"&&(Gd()?i=!0:a=!0);let u=uY()&&Gd()&&!sY()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:i,ctrlKey:a,altKey:s,shiftKey:l}):new MouseEvent("click",{metaKey:i,ctrlKey:a,altKey:s,shiftKey:l,bubbles:!0,cancelable:!0});Hd.isOpening=t,Qs(n),n.dispatchEvent(u),Hd.isOpening=!1}Hd.isOpening=!1;function Cbe(n,e){if(n instanceof HTMLAnchorElement)e(n);else if(n.hasAttribute("data-href")){let t=document.createElement("a");t.href=n.getAttribute("data-href"),n.hasAttribute("data-target")&&(t.target=n.getAttribute("data-target")),n.hasAttribute("data-rel")&&(t.rel=n.getAttribute("data-rel")),n.hasAttribute("data-download")&&(t.download=n.getAttribute("data-download")),n.hasAttribute("data-ping")&&(t.ping=n.getAttribute("data-ping")),n.hasAttribute("data-referrer-policy")&&(t.referrerPolicy=n.getAttribute("data-referrer-policy")),n.appendChild(t),e(t),n.removeChild(t)}}function wbe(n,e){Cbe(n,t=>Hd(t,e))}var Vy=new Map,G2=new Set;function oY(){if(typeof window=="undefined")return;function n(r){return"propertyName"in r}let e=r=>{if(!n(r)||!r.target)return;let o=Vy.get(r.target);o||(o=new Set,Vy.set(r.target,o),r.target.addEventListener("transitioncancel",t,{once:!0})),o.add(r.propertyName)},t=r=>{if(!n(r)||!r.target)return;let o=Vy.get(r.target);if(o&&(o.delete(r.propertyName),o.size===0&&(r.target.removeEventListener("transitioncancel",t),Vy.delete(r.target)),Vy.size===0)){for(let i of G2)i();G2.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document!="undefined"&&(document.readyState!=="loading"?oY():document.addEventListener("DOMContentLoaded",oY));function gP(n){requestAnimationFrame(()=>{Vy.size===0?n():G2.add(n)})}function U2(){let n=(0,tn.useRef)(new Map),e=(0,tn.useCallback)((o,i,a,s)=>{let l=s!=null&&s.once?(...u)=>{n.current.delete(a),a(...u)}:a;n.current.set(a,{type:i,eventTarget:o,fn:l,options:s}),o.addEventListener(i,a,s)},[]),t=(0,tn.useCallback)((o,i,a,s)=>{var l;let u=((l=n.current.get(a))===null||l===void 0?void 0:l.fn)||a;o.removeEventListener(i,u,s),n.current.delete(a)},[]),r=(0,tn.useCallback)(()=>{n.current.forEach((o,i)=>{t(o.eventTarget,o.type,i,o.options)})},[t]);return(0,tn.useEffect)(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:r}}function Hy(n,e){let{id:t,"aria-label":r,"aria-labelledby":o}=n;return t=$d(t),o&&r?o=[...new Set([t,...o.trim().split(/\s+/)])].join(" "):o&&(o=o.trim().split(/\s+/).join(" ")),!r&&!o&&e&&(r=e),{id:t,"aria-label":r,"aria-labelledby":o}}function ql(n){let e=(0,tn.useRef)(null);return(0,tn.useMemo)(()=>({get current(){return e.current},set current(t){e.current=t,typeof n=="function"?n(t):n&&(n.current=t)}}),[n])}function Kb(n,e){Kn(()=>{if(n&&n.ref&&e)return n.ref.current=e.current,()=>{n.ref&&(n.ref.current=null)}})}function jb(n,e){let t=n;for(H2(t,e)&&(t=t.parentElement);t&&!H2(t,e);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function H2(n,e){let t=window.getComputedStyle(n),r=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return r&&e&&(r=n.scrollHeight!==n.clientHeight||n.scrollWidth!==n.clientWidth),r}var Xs=typeof document!="undefined"&&window.visualViewport;function dY(){let n=za(),[e,t]=(0,tn.useState)(()=>n?{width:0,height:0}:iY());return(0,tn.useEffect)(()=>{let r=()=>{t(o=>{let i=iY();return i.width===o.width&&i.height===o.height?o:i})};return Xs?Xs.addEventListener("resize",r):window.addEventListener("resize",r),()=>{Xs?Xs.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),e}function iY(){return{width:Xs&&(Xs==null?void 0:Xs.width)||window.innerWidth,height:Xs&&(Xs==null?void 0:Xs.height)||window.innerHeight}}var Sbe=0,V2=new Map;function fY(n){let[e,t]=(0,tn.useState)();return Kn(()=>{if(!n)return;let r=V2.get(n);if(r)t(r.element.id);else{let o=`react-aria-description-${Sbe++}`;t(o);let i=document.createElement("div");i.id=o,i.style.display="none",i.textContent=n,document.body.appendChild(i),r={refCount:0,element:i},V2.set(n,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),V2.delete(n))}},[n]),{"aria-describedby":n?e:void 0}}function j2(n,e,t,r){let o=Zs(t),i=t==null;(0,tn.useEffect)(()=>{if(i||!n.current)return;let a=n.current;return a.addEventListener(e,o,r),()=>{a.removeEventListener(e,o,r)}},[n,e,r,i,o])}function K2(n,e){let t=aY(n,e,"left"),r=aY(n,e,"top"),o=e.offsetWidth,i=e.offsetHeight,a=n.scrollLeft,s=n.scrollTop,{borderTopWidth:l,borderLeftWidth:u}=getComputedStyle(n),c=n.scrollLeft+parseInt(u,10),d=n.scrollTop+parseInt(l,10),f=c+n.clientWidth,p=d+n.clientHeight;t<=a?a=t-parseInt(u,10):t+o>f&&(a+=t+o-f),r<=d?s=r-parseInt(l,10):r+i>p&&(s+=r+i-p),n.scrollLeft=a,n.scrollTop=s}function aY(n,e,t){let r=t==="left"?"offsetLeft":"offsetTop",o=0;for(;e.offsetParent&&(o+=e[r],e.offsetParent!==n);){if(e.offsetParent.contains(n)){o-=n[r];break}e=e.offsetParent}return o}function q2(n,e){if(document.contains(n)){let a=document.scrollingElement||document.documentElement;if(window.getComputedStyle(a).overflow==="hidden"){let l=jb(n);for(;n&&l&&n!==a&&l!==a;)K2(l,n),n=l,l=jb(n)}else{var t;let{left:l,top:u}=n.getBoundingClientRect();n==null||(t=n.scrollIntoView)===null||t===void 0||t.call(n,{block:"nearest"});let{left:c,top:d}=n.getBoundingClientRect();if(Math.abs(l-c)>1||Math.abs(u-d)>1){var r,o,i;e==null||(o=e.containingElement)===null||o===void 0||(r=o.scrollIntoView)===null||r===void 0||r.call(o,{block:"center",inline:"center"}),(i=n.scrollIntoView)===null||i===void 0||i.call(n,{block:"nearest"})}}}}function vP(n){return n.mozInputSource===0&&n.isTrusted?!0:cY()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function pY(n){return!cY()&&n.width===0&&n.height===0||n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"}var $t=_(z(),1);var Mt=_(z(),1);function hY(n,e){return e.get?e.get.call(n):e.value}function yP(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function mY(n,e){var t=yP(n,e,"get");return hY(n,t)}function gY(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vY(n,e,t){gY(n,e),e.set(n,t)}function yY(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Y2(n,e,t){var r=yP(n,e,"set");return yY(n,r,t),t}var By="default",J2="",bP=new WeakMap;function CY(n){if(Gy()){if(By==="default"){let e=Mn(n);J2=e.documentElement.style.webkitUserSelect,e.documentElement.style.webkitUserSelect="none"}By="disabled"}else(n instanceof HTMLElement||n instanceof SVGElement)&&(bP.set(n,n.style.userSelect),n.style.userSelect="none")}function CP(n){if(Gy()){if(By!=="disabled")return;By="restoring",setTimeout(()=>{gP(()=>{if(By==="restoring"){let e=Mn(n);e.documentElement.style.webkitUserSelect==="none"&&(e.documentElement.style.webkitUserSelect=J2||""),J2="",By="default"}})},300)}else if((n instanceof HTMLElement||n instanceof SVGElement)&&n&&bP.has(n)){let e=bP.get(n);n.style.userSelect==="none"&&(n.style.userSelect=e),n.getAttribute("style")===""&&n.removeAttribute("style"),bP.delete(n)}}var Yb=Mt.default.createContext({register:()=>{}});Yb.displayName="PressResponderContext";function bbe(n){let e=(0,Mt.useContext)(Yb);if(e){let{register:t,...r}=e;n=nn(r,n),t()}return Kb(e,n.ref),n}var wP=new WeakMap,Wy=class{continuePropagation(){Y2(this,wP,!1)}get shouldStopPropagation(){return mY(this,wP)}constructor(e,t,r){vY(this,wP,{writable:!0,value:void 0}),Y2(this,wP,!0),this.type=e,this.pointerType=t,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey}},wY=Symbol("linkClicked");function zy(n){let{onPress:e,onPressChange:t,onPressStart:r,onPressEnd:o,onPressUp:i,isDisabled:a,isPressed:s,preventFocusOnPress:l,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:c,ref:d,...f}=bbe(n),[p,h]=(0,Mt.useState)(!1),m=(0,Mt.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:v,removeAllGlobalListeners:g}=U2(),y=Zs((S,T)=>{let O=m.current;if(a||O.didFirePressStart)return!1;let L=!0;if(O.isTriggeringEvent=!0,r){let k=new Wy("pressstart",T,S);r(k),L=k.shouldStopPropagation}return t&&t(!0),O.isTriggeringEvent=!1,O.didFirePressStart=!0,h(!0),L}),C=Zs((S,T,O=!0)=>{let L=m.current;if(!L.didFirePressStart)return!1;L.ignoreClickAfterPress=!0,L.didFirePressStart=!1,L.isTriggeringEvent=!0;let k=!0;if(o){let A=new Wy("pressend",T,S);o(A),k=A.shouldStopPropagation}if(t&&t(!1),h(!1),e&&O&&!a){let A=new Wy("press",T,S);e(A),k&&(k=A.shouldStopPropagation)}return L.isTriggeringEvent=!1,k}),w=Zs((S,T)=>{let O=m.current;if(a)return!1;if(i){O.isTriggeringEvent=!0;let L=new Wy("pressup",T,S);return i(L),O.isTriggeringEvent=!1,L.shouldStopPropagation}return!0}),b=Zs(S=>{let T=m.current;T.isPressed&&T.target&&(T.isOverTarget&&T.pointerType!=null&&C(Wd(T.target,S),T.pointerType,!1),T.isPressed=!1,T.isOverTarget=!1,T.activePointerId=null,T.pointerType=null,g(),c||CP(T.target))}),E=Zs(S=>{u&&b(S)}),D=(0,Mt.useMemo)(()=>{let S=m.current,T={onKeyDown(L){if(X2(L.nativeEvent,L.currentTarget)&&L.currentTarget.contains(L.target)){var k;bY(L.target,L.key)&&L.preventDefault();let A=!0;if(!S.isPressed&&!L.repeat){S.target=L.currentTarget,S.isPressed=!0,A=y(L,"keyboard");let $=L.currentTarget,G=K=>{X2(K,$)&&!K.repeat&&$.contains(K.target)&&S.target&&w(Wd(S.target,K),"keyboard")};v(Mn(L.currentTarget),"keyup",Bd(G,O),!0)}A&&L.stopPropagation(),L.metaKey&&Gd()&&((k=S.metaKeyEvents)===null||k===void 0||k.set(L.key,L.nativeEvent))}else L.key==="Meta"&&(S.metaKeyEvents=new Map)},onClick(L){if(!(L&&!L.currentTarget.contains(L.target))&&L&&L.button===0&&!S.isTriggeringEvent&&!Hd.isOpening){let k=!0;if(a&&L.preventDefault(),!S.ignoreClickAfterPress&&!S.ignoreEmulatedMouseEvents&&!S.isPressed&&(S.pointerType==="virtual"||vP(L.nativeEvent))){!a&&!l&&Qs(L.currentTarget);let A=y(L,"virtual"),$=w(L,"virtual"),G=C(L,"virtual");k=A&&$&&G}S.ignoreEmulatedMouseEvents=!1,S.ignoreClickAfterPress=!1,k&&L.stopPropagation()}}},O=L=>{var k;if(S.isPressed&&S.target&&X2(L,S.target)){var A;bY(L.target,L.key)&&L.preventDefault();let G=L.target;C(Wd(S.target,L),"keyboard",S.target.contains(G)),g(),L.key!=="Enter"&&iG(S.target)&&S.target.contains(G)&&!L[wY]&&(L[wY]=!0,Hd(S.target,L,!1)),S.isPressed=!1,(A=S.metaKeyEvents)===null||A===void 0||A.delete(L.key)}else if(L.key==="Meta"&&(!((k=S.metaKeyEvents)===null||k===void 0)&&k.size)){var $;let G=S.metaKeyEvents;S.metaKeyEvents=void 0;for(let K of G.values())($=S.target)===null||$===void 0||$.dispatchEvent(new KeyboardEvent("keyup",K))}};if(typeof PointerEvent!="undefined"){T.onPointerDown=$=>{if($.button!==0||!$.currentTarget.contains($.target))return;if(pY($.nativeEvent)){S.pointerType="virtual";return}Z2($.currentTarget)&&$.preventDefault(),S.pointerType=$.pointerType;let G=!0;S.isPressed||(S.isPressed=!0,S.isOverTarget=!0,S.activePointerId=$.pointerId,S.target=$.currentTarget,!a&&!l&&Qs($.currentTarget),c||CY(S.target),G=y($,S.pointerType),v(Mn($.currentTarget),"pointermove",L,!1),v(Mn($.currentTarget),"pointerup",k,!1),v(Mn($.currentTarget),"pointercancel",A,!1)),G&&$.stopPropagation()},T.onMouseDown=$=>{$.currentTarget.contains($.target)&&$.button===0&&(Z2($.currentTarget)&&$.preventDefault(),$.stopPropagation())},T.onPointerUp=$=>{!$.currentTarget.contains($.target)||S.pointerType==="virtual"||$.button===0&&$y($,$.currentTarget)&&w($,S.pointerType||$.pointerType)};let L=$=>{$.pointerId===S.activePointerId&&(S.target&&$y($,S.target)?!S.isOverTarget&&S.pointerType!=null&&(S.isOverTarget=!0,y(Wd(S.target,$),S.pointerType)):S.target&&S.isOverTarget&&S.pointerType!=null&&(S.isOverTarget=!1,C(Wd(S.target,$),S.pointerType,!1),E($)))},k=$=>{$.pointerId===S.activePointerId&&S.isPressed&&$.button===0&&S.target&&($y($,S.target)&&S.pointerType!=null?C(Wd(S.target,$),S.pointerType):S.isOverTarget&&S.pointerType!=null&&C(Wd(S.target,$),S.pointerType,!1),S.isPressed=!1,S.isOverTarget=!1,S.activePointerId=null,S.pointerType=null,g(),c||CP(S.target))},A=$=>{b($)};T.onDragStart=$=>{$.currentTarget.contains($.target)&&b($)}}else{T.onMouseDown=A=>{if(A.button!==0||!A.currentTarget.contains(A.target))return;if(Z2(A.currentTarget)&&A.preventDefault(),S.ignoreEmulatedMouseEvents){A.stopPropagation();return}S.isPressed=!0,S.isOverTarget=!0,S.target=A.currentTarget,S.pointerType=vP(A.nativeEvent)?"virtual":"mouse",!a&&!l&&Qs(A.currentTarget),y(A,S.pointerType)&&A.stopPropagation(),v(Mn(A.currentTarget),"mouseup",L,!1)},T.onMouseEnter=A=>{if(!A.currentTarget.contains(A.target))return;let $=!0;S.isPressed&&!S.ignoreEmulatedMouseEvents&&S.pointerType!=null&&(S.isOverTarget=!0,$=y(A,S.pointerType)),$&&A.stopPropagation()},T.onMouseLeave=A=>{if(!A.currentTarget.contains(A.target))return;let $=!0;S.isPressed&&!S.ignoreEmulatedMouseEvents&&S.pointerType!=null&&(S.isOverTarget=!1,$=C(A,S.pointerType,!1),E(A)),$&&A.stopPropagation()},T.onMouseUp=A=>{A.currentTarget.contains(A.target)&&!S.ignoreEmulatedMouseEvents&&A.button===0&&w(A,S.pointerType||"mouse")};let L=A=>{if(A.button===0){if(S.isPressed=!1,g(),S.ignoreEmulatedMouseEvents){S.ignoreEmulatedMouseEvents=!1;return}S.target&&$y(A,S.target)&&S.pointerType!=null?C(Wd(S.target,A),S.pointerType):S.target&&S.isOverTarget&&S.pointerType!=null&&C(Wd(S.target,A),S.pointerType,!1),S.isOverTarget=!1}};T.onTouchStart=A=>{if(!A.currentTarget.contains(A.target))return;let $=_be(A.nativeEvent);if(!$)return;S.activePointerId=$.identifier,S.ignoreEmulatedMouseEvents=!0,S.isOverTarget=!0,S.isPressed=!0,S.target=A.currentTarget,S.pointerType="touch",!a&&!l&&Qs(A.currentTarget),c||CY(S.target),y(A,S.pointerType)&&A.stopPropagation(),v(Ua(A.currentTarget),"scroll",k,!0)},T.onTouchMove=A=>{if(!A.currentTarget.contains(A.target))return;if(!S.isPressed){A.stopPropagation();return}let $=SY(A.nativeEvent,S.activePointerId),G=!0;$&&$y($,A.currentTarget)?!S.isOverTarget&&S.pointerType!=null&&(S.isOverTarget=!0,G=y(A,S.pointerType)):S.isOverTarget&&S.pointerType!=null&&(S.isOverTarget=!1,G=C(A,S.pointerType,!1),E(A)),G&&A.stopPropagation()},T.onTouchEnd=A=>{if(!A.currentTarget.contains(A.target))return;if(!S.isPressed){A.stopPropagation();return}let $=SY(A.nativeEvent,S.activePointerId),G=!0;$&&$y($,A.currentTarget)&&S.pointerType!=null?(w(A,S.pointerType),G=C(A,S.pointerType)):S.isOverTarget&&S.pointerType!=null&&(G=C(A,S.pointerType,!1)),G&&A.stopPropagation(),S.isPressed=!1,S.activePointerId=null,S.isOverTarget=!1,S.ignoreEmulatedMouseEvents=!0,S.target&&!c&&CP(S.target),g()},T.onTouchCancel=A=>{A.currentTarget.contains(A.target)&&(A.stopPropagation(),S.isPressed&&b(A))};let k=A=>{S.isPressed&&A.target.contains(S.target)&&b({currentTarget:S.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};T.onDragStart=A=>{A.currentTarget.contains(A.target)&&b(A)}}return T},[v,a,l,g,c,b,E,C,y,w]);return(0,Mt.useEffect)(()=>()=>{var S;c||CP((S=m.current.target)!==null&&S!==void 0?S:void 0)},[c]),{isPressed:s||p,pressProps:nn(f,D)}}function iG(n){return n.tagName==="A"&&n.hasAttribute("href")}function X2(n,e){let{key:t,code:r}=n,o=e,i=o.getAttribute("role");return(t==="Enter"||t===" "||t==="Spacebar"||r==="Space")&&!(o instanceof Ua(o).HTMLInputElement&&!xY(o,t)||o instanceof Ua(o).HTMLTextAreaElement||o.isContentEditable)&&!((i==="link"||!i&&iG(o))&&t!=="Enter")}function _be(n){let{targetTouches:e}=n;return e.length>0?e[0]:null}function SY(n,e){let t=n.changedTouches;for(let r=0;r<t.length;r++){let o=t[r];if(o.identifier===e)return o}return null}function Wd(n,e){return{currentTarget:n,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function Ebe(n){let e=0,t=0;return n.width!==void 0?e=n.width/2:n.radiusX!==void 0&&(e=n.radiusX),n.height!==void 0?t=n.height/2:n.radiusY!==void 0&&(t=n.radiusY),{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function xbe(n,e){return!(n.left>e.right||e.left>n.right||n.top>e.bottom||e.top>n.bottom)}function $y(n,e){let t=e.getBoundingClientRect(),r=Ebe(n);return xbe(t,r)}function Z2(n){return!(n instanceof HTMLElement)||!n.hasAttribute("draggable")}function bY(n,e){return n instanceof HTMLInputElement?!xY(n,e):n instanceof HTMLButtonElement?n.type!=="submit"&&n.type!=="reset":!iG(n)}var Dbe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function xY(n,e){return n.type==="checkbox"||n.type==="radio"?e===" ":Dbe.has(n.type)}var DY=Mt.default.forwardRef(({children:n,...e},t)=>{let r=(0,Mt.useRef)(!1),o=(0,Mt.useContext)(Yb);t=ql(t||(o==null?void 0:o.ref));let i=nn(o||{},{...e,ref:t,register(){r.current=!0,o&&o.register()}});return Kb(o,t),(0,Mt.useEffect)(()=>{r.current||(r.current=!0)},[]),Mt.default.createElement(Yb.Provider,{value:i},n)});function RY({children:n}){let e=(0,Mt.useMemo)(()=>({register:()=>{}}),[]);return Mt.default.createElement(Yb.Provider,{value:e},n)}var eG=class{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}};function TY(n){let e=(0,Mt.useRef)({isFocused:!1,observer:null});Kn(()=>{let r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=Zs(r=>{n==null||n(r)});return(0,Mt.useCallback)(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let o=r.target,i=a=>{e.current.isFocused=!1,o.disabled&&t(new eG("blur",a)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&o.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let s=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),e.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function xP(n){let{isDisabled:e,onFocus:t,onBlur:r,onFocusChange:o}=n,i=(0,Mt.useCallback)(l=>{if(l.target===l.currentTarget)return r&&r(l),o&&o(!1),!0},[r,o]),a=TY(i),s=(0,Mt.useCallback)(l=>{l.target===l.currentTarget&&document.activeElement===l.target&&(t&&t(l),o&&o(!0),a(l))},[o,t,a]);return{focusProps:{onFocus:!e&&(t||o||r)?s:void 0,onBlur:!e&&(r||o)?i:void 0}}}var Uy=null,tG=new Set,qb=new Map,Km=!1,nG=!1,Rbe={Tab:!0,Escape:!0};function aG(n,e){for(let t of tG)t(n,e)}function Tbe(n){return!(n.metaKey||!Gd()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function _P(n){Km=!0,Tbe(n)&&(Uy="keyboard",aG("keyboard",n))}function Js(n){Uy="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Km=!0,aG("pointer",n))}function PY(n){vP(n)&&(Km=!0,Uy="virtual")}function OY(n){n.target===window||n.target===document||(!Km&&!nG&&(Uy="virtual",aG("virtual",n)),Km=!1,nG=!1)}function IY(){Km=!1,nG=!0}function rG(n){if(typeof window=="undefined"||qb.get(Ua(n)))return;let e=Ua(n),t=Mn(n),r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Km=!0,r.apply(this,arguments)},t.addEventListener("keydown",_P,!0),t.addEventListener("keyup",_P,!0),t.addEventListener("click",PY,!0),e.addEventListener("focus",OY,!0),e.addEventListener("blur",IY,!1),typeof PointerEvent!="undefined"?(t.addEventListener("pointerdown",Js,!0),t.addEventListener("pointermove",Js,!0),t.addEventListener("pointerup",Js,!0)):(t.addEventListener("mousedown",Js,!0),t.addEventListener("mousemove",Js,!0),t.addEventListener("mouseup",Js,!0)),e.addEventListener("beforeunload",()=>{FY(n)},{once:!0}),qb.set(e,{focus:r})}var FY=(n,e)=>{let t=Ua(n),r=Mn(n);e&&r.removeEventListener("DOMContentLoaded",e),qb.has(t)&&(t.HTMLElement.prototype.focus=qb.get(t).focus,r.removeEventListener("keydown",_P,!0),r.removeEventListener("keyup",_P,!0),r.removeEventListener("click",PY,!0),t.removeEventListener("focus",OY,!0),t.removeEventListener("blur",IY,!1),typeof PointerEvent!="undefined"?(r.removeEventListener("pointerdown",Js,!0),r.removeEventListener("pointermove",Js,!0),r.removeEventListener("pointerup",Js,!0)):(r.removeEventListener("mousedown",Js,!0),r.removeEventListener("mousemove",Js,!0),r.removeEventListener("mouseup",Js,!0)),qb.delete(t))};function Pbe(n){let e=Mn(n),t;return e.readyState!=="loading"?rG(n):(t=()=>{rG(n)},e.addEventListener("DOMContentLoaded",t)),()=>FY(n,t)}typeof document!="undefined"&&Pbe();function sG(){return Uy!=="pointer"}function Xb(){return Uy}var Obe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ibe(n,e,t){var r;let o=typeof window!="undefined"?Ua(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,i=typeof window!="undefined"?Ua(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window!="undefined"?Ua(t==null?void 0:t.target).HTMLElement:HTMLElement,s=typeof window!="undefined"?Ua(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||(t==null?void 0:t.target)instanceof o&&!Obe.has(t==null||(r=t.target)===null||r===void 0?void 0:r.type)||(t==null?void 0:t.target)instanceof i||(t==null?void 0:t.target)instanceof a&&(t==null?void 0:t.target.isContentEditable),!(n&&e==="keyboard"&&t instanceof s&&!Rbe[t.key])}function LY(n,e,t){rG(),(0,Mt.useEffect)(()=>{let r=(o,i)=>{Ibe(!!(t!=null&&t.isTextInput),o,i)&&n(sG())};return tG.add(r),()=>{tG.delete(r)}},e)}function qm(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=n,i=(0,Mt.useRef)({isFocusWithin:!1}),a=(0,Mt.useCallback)(u=>{i.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(i.current.isFocusWithin=!1,t&&t(u),o&&o(!1))},[t,o,i]),s=TY(a),l=(0,Mt.useCallback)(u=>{!i.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),o&&o(!0),i.current.isFocusWithin=!0,s(u))},[r,o,s]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:a}}}var EP=!1,Q2=0;function oG(){EP=!0,setTimeout(()=>{EP=!1},50)}function _Y(n){n.pointerType==="touch"&&oG()}function Fbe(){if(typeof document!="undefined")return typeof PointerEvent!="undefined"?document.addEventListener("pointerup",_Y):document.addEventListener("touchend",oG),Q2++,()=>{Q2--,!(Q2>0)&&(typeof PointerEvent!="undefined"?document.removeEventListener("pointerup",_Y):document.removeEventListener("touchend",oG))}}function Zb(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:o}=n,[i,a]=(0,Mt.useState)(!1),s=(0,Mt.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,Mt.useEffect)(Fbe,[]);let{hoverProps:l,triggerHoverEnd:u}=(0,Mt.useMemo)(()=>{let c=(p,h)=>{if(s.pointerType=h,o||h==="touch"||s.isHovered||!p.currentTarget.contains(p.target))return;s.isHovered=!0;let m=p.currentTarget;s.target=m,e&&e({type:"hoverstart",target:m,pointerType:h}),t&&t(!0),a(!0)},d=(p,h)=>{if(s.pointerType="",s.target=null,h==="touch"||!s.isHovered)return;s.isHovered=!1;let m=p.currentTarget;r&&r({type:"hoverend",target:m,pointerType:h}),t&&t(!1),a(!1)},f={};return typeof PointerEvent!="undefined"?(f.onPointerEnter=p=>{EP&&p.pointerType==="mouse"||c(p,p.pointerType)},f.onPointerLeave=p=>{!o&&p.currentTarget.contains(p.target)&&d(p,p.pointerType)}):(f.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=p=>{!s.ignoreEmulatedMouseEvents&&!EP&&c(p,"mouse"),s.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=p=>{!o&&p.currentTarget.contains(p.target)&&d(p,"mouse")}),{hoverProps:f,triggerHoverEnd:d}},[e,t,r,o,s]);return(0,Mt.useEffect)(()=>{o&&u({currentTarget:s.target},s.pointerType)},[o]),{hoverProps:l,isHovered:i}}function DP(n){let{ref:e,onInteractOutside:t,isDisabled:r,onInteractOutsideStart:o}=n,i=(0,Mt.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),a=Zs(l=>{t&&SP(l,e)&&(o&&o(l),i.current.isPointerDown=!0)}),s=Zs(l=>{t&&t(l)});(0,Mt.useEffect)(()=>{let l=i.current;if(r)return;let u=e.current,c=Mn(u);if(typeof PointerEvent!="undefined"){let d=f=>{l.isPointerDown&&SP(f,e)&&s(f),l.isPointerDown=!1};return c.addEventListener("pointerdown",a,!0),c.addEventListener("pointerup",d,!0),()=>{c.removeEventListener("pointerdown",a,!0),c.removeEventListener("pointerup",d,!0)}}else{let d=p=>{l.ignoreEmulatedMouseEvents?l.ignoreEmulatedMouseEvents=!1:l.isPointerDown&&SP(p,e)&&s(p),l.isPointerDown=!1},f=p=>{l.ignoreEmulatedMouseEvents=!0,l.isPointerDown&&SP(p,e)&&s(p),l.isPointerDown=!1};return c.addEventListener("mousedown",a,!0),c.addEventListener("mouseup",d,!0),c.addEventListener("touchstart",a,!0),c.addEventListener("touchend",f,!0),()=>{c.removeEventListener("mousedown",a,!0),c.removeEventListener("mouseup",d,!0),c.removeEventListener("touchstart",a,!0),c.removeEventListener("touchend",f,!0)}}},[e,r,a,s])}function SP(n,e){if(n.button>0)return!1;if(n.target){let t=n.target.ownerDocument;if(!t||!t.documentElement.contains(n.target)||n.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(n.target)}function EY(n){if(!n)return;let e=!0;return t=>{let r={...t,preventDefault(){t.preventDefault()},isDefaultPrevented(){return t.isDefaultPrevented()},stopPropagation(){},continuePropagation(){e=!1}};n(r),e&&t.stopPropagation()}}function lG(n){return{keyboardProps:n.isDisabled?{}:{onKeyDown:EY(n.onKeyDown),onKeyUp:EY(n.onKeyUp)}}}var Lbe=500;function uG(n){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:r,onLongPress:o,threshold:i=Lbe,accessibilityDescription:a}=n,s=(0,Mt.useRef)(),{addGlobalListener:l,removeGlobalListener:u}=U2(),{pressProps:c}=zy({isDisabled:e,onPressStart(f){if(f.continuePropagation(),(f.pointerType==="mouse"||f.pointerType==="touch")&&(t&&t({...f,type:"longpressstart"}),s.current=setTimeout(()=>{f.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o({...f,type:"longpress"}),s.current=void 0},i),f.pointerType==="touch")){let p=h=>{h.preventDefault()};l(f.target,"contextmenu",p,{once:!0}),l(window,"pointerup",()=>{setTimeout(()=>{u(f.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd(f){s.current&&clearTimeout(s.current),r&&(f.pointerType==="mouse"||f.pointerType==="touch")&&r({...f,type:"longpressend"})}}),d=fY(o&&!e?a:void 0);return{longPressProps:nn(c,d)}}function Ud(n){let e=Mn(n);if(Xb()==="virtual"){let t=e.activeElement;gP(()=>{e.activeElement===t&&n.isConnected&&Qs(n)})}else Qs(n)}function Mbe(n){let e=Ua(n);if(!(n instanceof e.HTMLElement)&&!(n instanceof e.SVGElement))return!1;let{display:t,visibility:r}=n.style,o=t!=="none"&&r!=="hidden"&&r!=="collapse";if(o){let{getComputedStyle:i}=n.ownerDocument.defaultView,{display:a,visibility:s}=i(n);o=a!=="none"&&s!=="hidden"&&s!=="collapse"}return o}function Abe(n,e){return!n.hasAttribute("hidden")&&(n.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?n.hasAttribute("open"):!0)}function AY(n,e){return n.nodeName!=="#comment"&&Mbe(n)&&Abe(n,e)&&(!n.parentElement||AY(n.parentElement,n))}var MY=$t.default.createContext(null),An=null;function OP(n){let{children:e,contain:t,restoreFocus:r,autoFocus:o}=n,i=(0,$t.useRef)(null),a=(0,$t.useRef)(null),s=(0,$t.useRef)([]),{parentNode:l}=(0,$t.useContext)(MY)||{},u=(0,$t.useMemo)(()=>new e_({scopeRef:s}),[s]);Kn(()=>{let f=l||Jr.root;if(Jr.getTreeNode(f.scopeRef)&&An&&!TP(An,f.scopeRef)){let p=Jr.getTreeNode(An);p&&(f=p)}f.addChild(u),Jr.addNode(u)},[u,l]),Kn(()=>{let f=Jr.getTreeNode(s);f&&(f.contain=!!t)},[t]),Kn(()=>{var f;let p=(f=i.current)===null||f===void 0?void 0:f.nextSibling,h=[];for(;p&&p!==a.current;)h.push(p),p=p.nextSibling;s.current=h},[e]),$be(s,r,t),Gbe(s,t),Wbe(s,r,t),Hbe(s,o),(0,$t.useEffect)(()=>{let f=Mn(s.current?s.current[0]:void 0).activeElement,p=null;if(Ci(f,s.current)){for(let h of Jr.traverse())h.scopeRef&&Ci(f,h.scopeRef.current)&&(p=h);p===Jr.getTreeNode(s)&&(An=p.scopeRef)}},[s]),Kn(()=>()=>{var f,p,h;let m=(h=(p=Jr.getTreeNode(s))===null||p===void 0||(f=p.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&h!==void 0?h:null;(s===An||TP(s,An))&&(!m||Jr.getTreeNode(m))&&(An=m),Jr.removeTreeNode(s)},[s]);let c=(0,$t.useMemo)(()=>Nbe(s),[]),d=(0,$t.useMemo)(()=>({focusManager:c,parentNode:u}),[u,c]);return $t.default.createElement(MY.Provider,{value:d},$t.default.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),e,$t.default.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:a}))}function Nbe(n){return{focusNext(e={}){let t=n.current,{from:r,tabbable:o,wrap:i,accept:a}=e,s=r||Mn(t[0]).activeElement,l=t[0].previousElementSibling,u=Ym(t),c=Yl(u,{tabbable:o,accept:a},t);c.currentNode=Ci(s,t)?s:l;let d=c.nextNode();return!d&&i&&(c.currentNode=l,d=c.nextNode()),d&&zd(d,!0),d},focusPrevious(e={}){let t=n.current,{from:r,tabbable:o,wrap:i,accept:a}=e,s=r||Mn(t[0]).activeElement,l=t[t.length-1].nextElementSibling,u=Ym(t),c=Yl(u,{tabbable:o,accept:a},t);c.currentNode=Ci(s,t)?s:l;let d=c.previousNode();return!d&&i&&(c.currentNode=l,d=c.previousNode()),d&&zd(d,!0),d},focusFirst(e={}){let t=n.current,{tabbable:r,accept:o}=e,i=Ym(t),a=Yl(i,{tabbable:r,accept:o},t);a.currentNode=t[0].previousElementSibling;let s=a.nextNode();return s&&zd(s,!0),s},focusLast(e={}){let t=n.current,{tabbable:r,accept:o}=e,i=Ym(t),a=Yl(i,{tabbable:r,accept:o},t);a.currentNode=t[t.length-1].nextElementSibling;let s=a.previousNode();return s&&zd(s,!0),s}}}var cG=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],kbe=cG.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";cG.push('[tabindex]:not([tabindex="-1"]):not([disabled])');var Vbe=cG.join(':not([hidden]):not([tabindex="-1"]),');function Ym(n){return n[0].parentElement}function Qb(n){let e=Jr.getTreeNode(An);for(;e&&e.scopeRef!==n;){if(e.contain)return!1;e=e.parent}return!0}function Gbe(n,e){let t=(0,$t.useRef)(),r=(0,$t.useRef)();Kn(()=>{let o=n.current;if(!e){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}let i=Mn(o?o[0]:void 0),a=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!Qb(n))return;let c=i.activeElement,d=n.current;if(!d||!Ci(c,d))return;let f=Ym(d),p=Yl(f,{tabbable:!0},d);if(!c)return;p.currentNode=c;let h=u.shiftKey?p.previousNode():p.nextNode();h||(p.currentNode=u.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,h=u.shiftKey?p.previousNode():p.nextNode()),u.preventDefault(),h&&zd(h,!0)},s=u=>{(!An||TP(An,n))&&Ci(u.target,n.current)?(An=n,t.current=u.target):Qb(n)&&!RP(u.target,n)?t.current?t.current.focus():An&&An.current&&PP(An.current):Qb(n)&&(t.current=u.target)},l=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(i.activeElement&&Qb(n)&&!RP(i.activeElement,n))if(An=n,i.body.contains(u.target)){var c;t.current=u.target,(c=t.current)===null||c===void 0||c.focus()}else An.current&&PP(An.current)})};return i.addEventListener("keydown",a,!1),i.addEventListener("focusin",s,!1),o==null||o.forEach(u=>u.addEventListener("focusin",s,!1)),o==null||o.forEach(u=>u.addEventListener("focusout",l,!1)),()=>{i.removeEventListener("keydown",a,!1),i.removeEventListener("focusin",s,!1),o==null||o.forEach(u=>u.removeEventListener("focusin",s,!1)),o==null||o.forEach(u=>u.removeEventListener("focusout",l,!1))}},[n,e]),Kn(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function NY(n){return RP(n)}function Ci(n,e){return!n||!e?!1:e.some(t=>t.contains(n))}function RP(n,e=null){if(n instanceof Element&&n.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:t}of Jr.traverse(Jr.getTreeNode(e)))if(t&&Ci(n,t.current))return!0;return!1}function kY(n){return RP(n,An)}function TP(n,e){var t;let r=(t=Jr.getTreeNode(e))===null||t===void 0?void 0:t.parent;for(;r;){if(r.scopeRef===n)return!0;r=r.parent}return!1}function zd(n,e=!1){if(n!=null&&!e)try{Ud(n)}catch(t){}else if(n!=null)try{n.focus()}catch(t){}}function PP(n,e=!0){let t=n[0].previousElementSibling,r=Ym(n),o=Yl(r,{tabbable:e},n);o.currentNode=t;let i=o.nextNode();e&&!i&&(r=Ym(n),o=Yl(r,{tabbable:!1},n),o.currentNode=t,i=o.nextNode()),zd(i)}function Hbe(n,e){let t=$t.default.useRef(e);(0,$t.useEffect)(()=>{if(t.current){An=n;let r=Mn(n.current?n.current[0]:void 0);!Ci(r.activeElement,An.current)&&n.current&&PP(n.current)}t.current=!1},[n])}function $be(n,e,t){Kn(()=>{if(e||t)return;let r=n.current,o=Mn(r?r[0]:void 0),i=a=>{let s=a.target;Ci(s,n.current)?An=n:NY(s)||(An=null)};return o.addEventListener("focusin",i,!1),r==null||r.forEach(a=>a.addEventListener("focusin",i,!1)),()=>{o.removeEventListener("focusin",i,!1),r==null||r.forEach(a=>a.removeEventListener("focusin",i,!1))}},[n,e,t])}function Bbe(n){let e=Jr.getTreeNode(An);for(;e&&e.scopeRef!==n;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===n}function Wbe(n,e,t){let r=(0,$t.useRef)(typeof document!="undefined"?Mn(n.current?n.current[0]:void 0).activeElement:null);Kn(()=>{let o=n.current,i=Mn(o?o[0]:void 0);if(!e||t)return;let a=()=>{(!An||TP(An,n))&&Ci(i.activeElement,n.current)&&(An=n)};return i.addEventListener("focusin",a,!1),o==null||o.forEach(s=>s.addEventListener("focusin",a,!1)),()=>{i.removeEventListener("focusin",a,!1),o==null||o.forEach(s=>s.removeEventListener("focusin",a,!1))}},[n,t]),Kn(()=>{let o=Mn(n.current?n.current[0]:void 0);if(!e)return;let i=a=>{if(a.key!=="Tab"||a.altKey||a.ctrlKey||a.metaKey||!Qb(n))return;let s=o.activeElement;if(!Ci(s,n.current))return;let l=Jr.getTreeNode(n);if(!l)return;let u=l.nodeToRestore,c=Yl(o.body,{tabbable:!0});c.currentNode=s;let d=a.shiftKey?c.previousNode():c.nextNode();if((!u||!o.body.contains(u)||u===o.body)&&(u=void 0,l.nodeToRestore=void 0),(!d||!Ci(d,n.current))&&u){c.currentNode=u;do d=a.shiftKey?c.previousNode():c.nextNode();while(Ci(d,n.current));a.preventDefault(),a.stopPropagation(),d?zd(d,!0):NY(u)?zd(u,!0):s.blur()}};return t||o.addEventListener("keydown",i,!0),()=>{t||o.removeEventListener("keydown",i,!0)}},[n,e,t]),Kn(()=>{let o=Mn(n.current?n.current[0]:void 0);if(!e)return;let i=Jr.getTreeNode(n);if(i){var a;return i.nodeToRestore=(a=r.current)!==null&&a!==void 0?a:void 0,()=>{let s=Jr.getTreeNode(n);if(!s)return;let l=s.nodeToRestore;if(e&&l&&(Ci(o.activeElement,n.current)||o.activeElement===o.body&&Bbe(n))){let u=Jr.clone();requestAnimationFrame(()=>{if(o.activeElement===o.body){let c=u.getTreeNode(n);for(;c;){if(c.nodeToRestore&&c.nodeToRestore.isConnected){zd(c.nodeToRestore);return}c=c.parent}for(c=u.getTreeNode(n);c;){if(c.scopeRef&&c.scopeRef.current&&Jr.getTreeNode(c.scopeRef)){PP(c.scopeRef.current,!0);return}c=c.parent}}})}}}},[n,e])}function Yl(n,e,t){let r=e!=null&&e.tabbable?Vbe:kbe,o=Mn(n).createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var a;return!(e==null||(a=e.from)===null||a===void 0)&&a.contains(i)?NodeFilter.FILTER_REJECT:i.matches(r)&&AY(i)&&(!t||Ci(i,t))&&(!(e!=null&&e.accept)||e.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(o.currentNode=e.from),o}var Jb=class{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,r){let o=this.fastMap.get(t!=null?t:null);if(!o)return;let i=new e_({scopeRef:e});o.addChild(i),i.parent=o,this.fastMap.set(e,i),r&&(i.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let t=this.fastMap.get(e);if(!t)return;let r=t.parent;for(let i of this.traverse())i!==t&&t.nodeToRestore&&i.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&Ci(i.nodeToRestore,t.scopeRef.current)&&(i.nodeToRestore=t.nodeToRestore);let o=t.children;r&&(r.removeChild(t),o.size>0&&o.forEach(i=>r&&r.addChild(i))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new Jb;var r;for(let o of this.traverse())t.addTreeNode(o.scopeRef,(r=(e=o.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&r!==void 0?r:null,o.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new e_({scopeRef:null}),this.fastMap.set(null,this.root)}},e_=class{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}},Jr=new Jb;function jy(n={}){let{autoFocus:e=!1,isTextInput:t,within:r}=n,o=(0,$t.useRef)({isFocused:!1,isFocusVisible:e||sG()}),[i,a]=(0,$t.useState)(!1),[s,l]=(0,$t.useState)(()=>o.current.isFocused&&o.current.isFocusVisible),u=(0,$t.useCallback)(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),c=(0,$t.useCallback)(p=>{o.current.isFocused=p,a(p),u()},[u]);LY(p=>{o.current.isFocusVisible=p,u()},[],{isTextInput:t});let{focusProps:d}=xP({isDisabled:r,onFocusChange:c}),{focusWithinProps:f}=qm({isDisabled:!r,onFocusWithinChange:c});return{isFocused:i,isFocusVisible:s,focusProps:r?f:d}}var zbe=$t.default.createContext(null);function Ube(n){let e=(0,$t.useContext)(zbe)||{};Kb(e,n);let{ref:t,...r}=e;return r}function dG(n,e){let{focusProps:t}=xP(n),{keyboardProps:r}=lG(n),o=nn(t,r),i=Ube(e),a=n.isDisabled?{}:i,s=(0,$t.useRef)(n.autoFocus);return(0,$t.useEffect)(()=>{s.current&&e.current&&Ud(e.current),s.current=!1},[e]),{focusableProps:nn({...o,tabIndex:n.excludeFromTabOrder&&!n.isDisabled?-1:void 0},a)}}function VY(n,e){let t=e==null?void 0:e.isDisabled,[r,o]=(0,$t.useState)(!1);return Kn(()=>{if(n!=null&&n.current&&!t){let i=()=>{if(n.current){let s=Yl(n.current,{tabbable:!0});o(!!s.nextNode())}};i();let a=new MutationObserver(i);return a.observe(n.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{a.disconnect()}}}),t?!1:r}var Xl=_(z(),1);var jbe=Symbol.for("react-aria.i18n.locale"),Kbe=Symbol.for("react-aria.i18n.strings"),Ky,Xm=class{getStringForLocale(e,t){let o=this.getStringsForLocale(t)[e];if(!o)throw new Error(`Could not find intl message ${e} in ${t} locale`);return o}getStringsForLocale(e){let t=this.strings[e];return t||(t=qbe(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window=="undefined")return null;let t=window[jbe];if(Ky===void 0){let o=window[Kbe];if(!o)return null;Ky={};for(let i in o)Ky[i]=new Xm({[t]:o[i]},t)}let r=Ky==null?void 0:Ky[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}};function qbe(n,e,t="en-US"){if(e[n])return e[n];let r=Ybe(n);if(e[r])return e[r];for(let o in e)if(o.startsWith(r+"-"))return e[o];return e[t]}function Ybe(n){return Intl.Locale?new Intl.Locale(n).language:n.split("-")[0]}var GY=new Map,HY=new Map,IP=class{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let o=t["="+e];if(o)return typeof o=="function"?o():o;let i=this.locale+":"+r,a=GY.get(i);a||(a=new Intl.PluralRules(this.locale,{type:r}),GY.set(i,a));let s=a.select(e);return o=t[s]||t.other,typeof o=="function"?o():o}number(e){let t=HY.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),HY.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}};var Xbe=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Zbe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Qbe(n){if(Intl.Locale){let t=new Intl.Locale(n).maximize(),r=typeof t.getTextInfo=="function"?t.getTextInfo():t.textInfo;if(r)return r.direction==="rtl";if(t.script)return Xbe.has(t.script)}let e=n.split("-")[0];return Zbe.has(e)}var Jbe=Symbol.for("react-aria.i18n.locale");function WY(){let n=typeof window!="undefined"&&window[Jbe]||typeof navigator!="undefined"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([n])}catch(e){n="en-US"}return{locale:n,direction:Qbe(n)?"rtl":"ltr"}}var fG=WY(),t_=new Set;function $Y(){fG=WY();for(let n of t_)n(fG)}function e_e(){let n=za(),[e,t]=(0,Xl.useState)(fG);return(0,Xl.useEffect)(()=>(t_.size===0&&window.addEventListener("languagechange",$Y),t_.add(t),()=>{t_.delete(t),t_.size===0&&window.removeEventListener("languagechange",$Y)}),[]),n?{locale:"en-US",direction:"ltr"}:e}var t_e=Xl.default.createContext(null);function Zm(){let n=e_e();return(0,Xl.useContext)(t_e)||n}var BY=new WeakMap;function n_e(n){let e=BY.get(n);return e||(e=new Xm(n),BY.set(n,e)),e}function r_e(n,e){return e&&Xm.getGlobalDictionaryForPackage(e)||n_e(n)}function pG(n,e){let{locale:t}=Zm(),r=r_e(n,e);return(0,Xl.useMemo)(()=>new IP(t,r),[t,r])}function hG(n,e){let{elementType:t="button",isDisabled:r,onPress:o,onPressStart:i,onPressEnd:a,onPressUp:s,onPressChange:l,preventFocusOnPress:u,allowFocusWhenDisabled:c,onClick:d,href:f,target:p,rel:h,type:m="button"}=n,v;t==="button"?v={type:m,disabled:r}:v={role:"button",tabIndex:r?void 0:0,href:t==="a"&&r?void 0:f,target:t==="a"?p:void 0,type:t==="input"?m:void 0,disabled:t==="input"?r:void 0,"aria-disabled":!r||t==="input"?void 0:r,rel:t==="a"?h:void 0};let{pressProps:g,isPressed:y}=zy({onPressStart:i,onPressEnd:a,onPressChange:l,onPress:o,onPressUp:s,isDisabled:r,preventFocusOnPress:u,ref:e}),{focusableProps:C}=dG(n,e);c&&(C.tabIndex=r?-1:C.tabIndex);let w=nn(C,g,la(n,{labelable:!0}));return{isPressed:y,buttonProps:nn(v,w,{"aria-haspopup":n["aria-haspopup"],"aria-expanded":n["aria-expanded"],"aria-controls":n["aria-controls"],"aria-pressed":n["aria-pressed"],onClick:b=>{d&&d(b)}})}}var mG={};mG={dismiss:"\u062A\u062C\u0627\u0647\u0644"};var gG={};gG={dismiss:"\u041E\u0442\u0445\u0432\u044A\u0440\u043B\u044F\u043D\u0435"};var vG={};vG={dismiss:"Odstranit"};var yG={};yG={dismiss:"Luk"};var CG={};CG={dismiss:"Schlie\xDFen"};var wG={};wG={dismiss:"\u0391\u03C0\u03CC\u03C1\u03C1\u03B9\u03C8\u03B7"};var SG={};SG={dismiss:"Dismiss"};var bG={};bG={dismiss:"Descartar"};var _G={};_G={dismiss:"L\xF5peta"};var EG={};EG={dismiss:"Hylk\xE4\xE4"};var xG={};xG={dismiss:"Rejeter"};var DG={};DG={dismiss:"\u05D4\u05EA\u05E2\u05DC\u05DD"};var RG={};RG={dismiss:"Odbaci"};var TG={};TG={dismiss:"Elutas\xEDt\xE1s"};var PG={};PG={dismiss:"Ignora"};var OG={};OG={dismiss:"\u9589\u3058\u308B"};var IG={};IG={dismiss:"\uBB34\uC2DC"};var FG={};FG={dismiss:"Atmesti"};var LG={};LG={dismiss:"Ner\u0101d\u012Bt"};var MG={};MG={dismiss:"Lukk"};var AG={};AG={dismiss:"Negeren"};var NG={};NG={dismiss:"Zignoruj"};var kG={};kG={dismiss:"Descartar"};var VG={};VG={dismiss:"Dispensar"};var GG={};GG={dismiss:"Revocare"};var HG={};HG={dismiss:"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C"};var $G={};$G={dismiss:"Zru\u0161i\u0165"};var BG={};BG={dismiss:"Opusti"};var WG={};WG={dismiss:"Odbaci"};var zG={};zG={dismiss:"Avvisa"};var UG={};UG={dismiss:"Kapat"};var jG={};jG={dismiss:"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"};var KG={};KG={dismiss:"\u53D6\u6D88"};var qG={};qG={dismiss:"\u95DC\u9589"};var yo=_(z(),1);var qY=_(ka(),1);var qy=_(z(),1);var zY={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function UY(n={}){let{style:e,isFocusable:t}=n,[r,o]=(0,qy.useState)(!1),{focusWithinProps:i}=qm({isDisabled:!t,onFocusWithinChange:s=>o(s)}),a=(0,qy.useMemo)(()=>r?e:e?{...zY,...e}:zY,[r]);return{visuallyHiddenProps:{...i,style:a}}}function YG(n){let{children:e,elementType:t="div",isFocusable:r,style:o,...i}=n,{visuallyHiddenProps:a}=UY(n);return qy.default.createElement(t,nn(i,a),e)}function i_e(n){return n&&n.__esModule?n.default:n}var AQe=typeof document!="undefined"&&window.visualViewport;var a_e=new WeakMap;var NQe=typeof document!="undefined"&&window.visualViewport;var jd=[];function YY(n,e){let{onClose:t,shouldCloseOnBlur:r,isOpen:o,isDismissable:i=!1,isKeyboardDismissDisabled:a=!1,shouldCloseOnInteractOutside:s}=n;(0,yo.useEffect)(()=>(o&&jd.push(e),()=>{let h=jd.indexOf(e);h>=0&&jd.splice(h,1)}),[o,e]);let l=()=>{jd[jd.length-1]===e&&t&&t()},u=h=>{(!s||s(h.target))&&jd[jd.length-1]===e&&(h.stopPropagation(),h.preventDefault())},c=h=>{(!s||s(h.target))&&(jd[jd.length-1]===e&&(h.stopPropagation(),h.preventDefault()),l())},d=h=>{h.key==="Escape"&&!a&&(h.stopPropagation(),h.preventDefault(),l())};DP({ref:e,onInteractOutside:i&&o?c:null,onInteractOutsideStart:u});let{focusWithinProps:f}=qm({isDisabled:!r,onBlurWithin:h=>{!h.relatedTarget||kY(h.relatedTarget)||(!s||s(h.relatedTarget))&&t()}}),p=h=>{h.target===h.currentTarget&&h.preventDefault()};return{overlayProps:{onKeyDown:d,...f},underlayProps:{onPointerDown:p}}}function QG(n,e,t){let{type:r}=n,{isOpen:o}=e;(0,yo.useEffect)(()=>{t&&t.current&&a_e.set(t.current,e.close)});let i;r==="menu"?i=!0:r==="listbox"&&(i="listbox");let a=$d();return{triggerProps:{"aria-haspopup":i,"aria-expanded":o,"aria-controls":o?a:null,onPress:e.toggle},overlayProps:{id:a}}}var XG=typeof document!="undefined"&&window.visualViewport,s_e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),FP=0,ZG;function XY(n={}){let{isDisabled:e}=n;Kn(()=>{if(!e)return FP++,FP===1&&(Gy()?ZG=u_e():ZG=l_e()),()=>{FP--,FP===0&&ZG()}},[e])}function l_e(){return Bd(Yy(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Yy(document.documentElement,"overflow","hidden"))}function u_e(){let n,e,t=u=>{n=jb(u.target,!0),!(n===document.documentElement&&n===document.body)&&n instanceof HTMLElement&&window.getComputedStyle(n).overscrollBehavior==="auto"&&(e=Yy(n,"overscrollBehavior","contain"))},r=u=>{if(!n||n===document.documentElement||n===document.body){u.preventDefault();return}n.scrollHeight===n.clientHeight&&n.scrollWidth===n.clientWidth&&u.preventDefault()},o=u=>{let c=u.target;KY(c)&&c!==document.activeElement&&(u.preventDefault(),s(),c.style.transform="translateY(-2000px)",c.focus(),requestAnimationFrame(()=>{c.style.transform=""})),e&&e()},i=u=>{let c=u.target;KY(c)&&(s(),c.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{c.style.transform="",XG&&(XG.height<window.innerHeight?requestAnimationFrame(()=>{jY(c)}):XG.addEventListener("resize",()=>jY(c),{once:!0}))}))},a=null,s=()=>{if(a)return;let u=()=>{window.scrollTo(0,0)},c=window.pageXOffset,d=window.pageYOffset;a=Bd(n_(window,"scroll",u),Yy(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Yy(document.documentElement,"overflow","hidden"),Yy(document.body,"marginTop",`-${d}px`),()=>{window.scrollTo(c,d)}),window.scrollTo(0,0)},l=Bd(n_(document,"touchstart",t,{passive:!1,capture:!0}),n_(document,"touchmove",r,{passive:!1,capture:!0}),n_(document,"touchend",o,{passive:!1,capture:!0}),n_(document,"focus",i,!0));return()=>{e==null||e(),a==null||a(),l()}}function Yy(n,e,t){let r=n.style[e];return n.style[e]=t,()=>{n.style[e]=r}}function n_(n,e,t,r){return n.addEventListener(e,t,r),()=>{n.removeEventListener(e,t,r)}}function jY(n){let e=document.scrollingElement||document.documentElement;for(;n&&n!==e;){let t=jb(n);if(t!==document.documentElement&&t!==document.body&&t!==n){let r=t.getBoundingClientRect().top,o=n.getBoundingClientRect().top;o>r+n.clientHeight&&(t.scrollTop+=o-r)}n=t.parentElement}}function KY(n){return n instanceof HTMLInputElement&&!s_e.has(n.type)||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable}var ZY={};ZY={"ar-AE":mG,"bg-BG":gG,"cs-CZ":vG,"da-DK":yG,"de-DE":CG,"el-GR":wG,"en-US":SG,"es-ES":bG,"et-EE":_G,"fi-FI":EG,"fr-FR":xG,"he-IL":DG,"hr-HR":RG,"hu-HU":TG,"it-IT":PG,"ja-JP":OG,"ko-KR":IG,"lt-LT":FG,"lv-LV":LG,"nb-NO":MG,"nl-NL":AG,"pl-PL":NG,"pt-BR":kG,"pt-PT":VG,"ro-RO":GG,"ru-RU":HG,"sk-SK":$G,"sl-SI":BG,"sr-SP":WG,"sv-SE":zG,"tr-TR":UG,"uk-UA":jG,"zh-CN":KG,"zh-TW":qG};function JG(n){let{onDismiss:e,...t}=n,r=pG(i_e(ZY),"@react-aria/overlays"),o=Hy(t,r.format("dismiss")),i=()=>{e&&e()};return yo.default.createElement(YG,null,yo.default.createElement("button",{...o,tabIndex:-1,onClick:i,style:{width:1,height:1}}))}var r_=new WeakMap,el=[];function c_e(n,e=document.body){let t=new Set(n),r=new Set,o=l=>{for(let f of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))t.add(f);let u=f=>{if(t.has(f)||r.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let p of t)if(f.contains(p))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},c=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),d=u(l);if(d===NodeFilter.FILTER_ACCEPT&&i(l),d!==NodeFilter.FILTER_REJECT){let f=c.nextNode();for(;f!=null;)i(f),f=c.nextNode()}},i=l=>{var u;let c=(u=r_.get(l))!==null&&u!==void 0?u:0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),r.add(l),r_.set(l,c+1))};el.length&&el[el.length-1].disconnect(),o(e);let a=new MutationObserver(l=>{for(let u of l)if(!(u.type!=="childList"||u.addedNodes.length===0)&&![...t,...r].some(c=>c.contains(u.target))){for(let c of u.removedNodes)c instanceof Element&&(t.delete(c),r.delete(c));for(let c of u.addedNodes)(c instanceof HTMLElement||c instanceof SVGElement)&&(c.dataset.liveAnnouncer==="true"||c.dataset.reactAriaTopLayer==="true")?t.add(c):c instanceof Element&&o(c)}});a.observe(e,{childList:!0,subtree:!0});let s={observe(){a.observe(e,{childList:!0,subtree:!0})},disconnect(){a.disconnect()}};return el.push(s),()=>{a.disconnect();for(let l of r){let u=r_.get(l);u===1?(l.removeAttribute("aria-hidden"),r_.delete(l)):r_.set(l,u-1)}s===el[el.length-1]?(el.pop(),el.length&&el[el.length-1].observe()):el.splice(el.indexOf(s),1)}}var QY=yo.default.createContext(null);function eH(n){let e=za(),{portalContainer:t=e?null:document.body,isExiting:r}=n,[o,i]=(0,yo.useState)(!1),a=(0,yo.useMemo)(()=>({contain:o,setContain:i}),[o,i]);if(!t)return null;let s=n.children;return n.disableFocusManagement||(s=yo.default.createElement(OP,{restoreFocus:!0,contain:o&&!r},s)),s=yo.default.createElement(QY.Provider,{value:a},yo.default.createElement(RY,null,s)),qY.default.createPortal(s,t)}function tH(){let n=(0,yo.useContext)(QY),e=n==null?void 0:n.setContain;Kn(()=>{e==null||e(!0)},[e])}function nH(n,e,t){let{overlayProps:r,underlayProps:o}=YY({...n,isOpen:e.isOpen,onClose:e.close},t);return XY({isDisabled:!e.isOpen}),tH(),(0,yo.useEffect)(()=>{if(e.isOpen)return c_e([t.current])},[e.isOpen,t]),{modalProps:nn(r),underlayProps:o}}var tX=_(ka(),1),ja=_(z(),1);function rH(n){return lY()?n.altKey:n.ctrlKey}function Xy(n){return Gd()?n.metaKey:n.ctrlKey}var f_e=1e3;function p_e(n){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:r}=n,o=(0,ja.useRef)({search:"",timeout:null}).current,i=a=>{let s=h_e(a.key);if(!s||a.ctrlKey||a.metaKey||!a.currentTarget.contains(a.target))return;s===" "&&o.search.trim().length>0&&(a.preventDefault(),"continuePropagation"in a||a.stopPropagation()),o.search+=s;let l=e.getKeyForSearch(o.search,t.focusedKey);l==null&&(l=e.getKeyForSearch(o.search)),l!=null&&(t.setFocusedKey(l),r&&r(l)),clearTimeout(o.timeout),o.timeout=setTimeout(()=>{o.search=""},f_e)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?i:null}}}function h_e(n){return n.length===1||!/^[A-Z]/i.test(n)?n:""}function nX(n){let{selectionManager:e,keyboardDelegate:t,ref:r,autoFocus:o=!1,shouldFocusWrap:i=!1,disallowEmptySelection:a=!1,disallowSelectAll:s=!1,selectOnFocus:l=e.selectionBehavior==="replace",disallowTypeAhead:u=!1,shouldUseVirtualFocus:c,allowsTabNavigation:d=!1,isVirtualized:f,scrollRef:p=r,linkBehavior:h="action"}=n,{direction:m}=Zm(),v=z2(),g=O=>{if(O.altKey&&O.key==="Tab"&&O.preventDefault(),!r.current.contains(O.target))return;let L=(X,fe)=>{if(X!=null){if(e.isLink(X)&&h==="selection"&&l&&!rH(O)){(0,tX.flushSync)(()=>{e.setFocusedKey(X,fe)});let ne=p.current.querySelector(`[data-key="${CSS.escape(X.toString())}"]`);v.open(ne,O);return}if(e.setFocusedKey(X,fe),e.isLink(X)&&h==="override")return;O.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(X):l&&!rH(O)&&e.replaceSelection(X)}};switch(O.key){case"ArrowDown":if(t.getKeyBelow){var k,A;O.preventDefault();let X=e.focusedKey!=null?t.getKeyBelow(e.focusedKey):(k=t.getFirstKey)===null||k===void 0?void 0:k.call(t);X==null&&i&&(X=(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t,e.focusedKey)),L(X)}break;case"ArrowUp":if(t.getKeyAbove){var $,G;O.preventDefault();let X=e.focusedKey!=null?t.getKeyAbove(e.focusedKey):($=t.getLastKey)===null||$===void 0?void 0:$.call(t);X==null&&i&&(X=(G=t.getLastKey)===null||G===void 0?void 0:G.call(t,e.focusedKey)),L(X)}break;case"ArrowLeft":if(t.getKeyLeftOf){var K,V;O.preventDefault();let X=t.getKeyLeftOf(e.focusedKey);X==null&&i&&(X=m==="rtl"?(K=t.getFirstKey)===null||K===void 0?void 0:K.call(t,e.focusedKey):(V=t.getLastKey)===null||V===void 0?void 0:V.call(t,e.focusedKey)),L(X,m==="rtl"?"first":"last")}break;case"ArrowRight":if(t.getKeyRightOf){var Y,Q;O.preventDefault();let X=t.getKeyRightOf(e.focusedKey);X==null&&i&&(X=m==="rtl"?(Y=t.getLastKey)===null||Y===void 0?void 0:Y.call(t,e.focusedKey):(Q=t.getFirstKey)===null||Q===void 0?void 0:Q.call(t,e.focusedKey)),L(X,m==="rtl"?"last":"first")}break;case"Home":if(t.getFirstKey){O.preventDefault();let X=t.getFirstKey(e.focusedKey,Xy(O));e.setFocusedKey(X),Xy(O)&&O.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(X):l&&e.replaceSelection(X)}break;case"End":if(t.getLastKey){O.preventDefault();let X=t.getLastKey(e.focusedKey,Xy(O));e.setFocusedKey(X),Xy(O)&&O.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(X):l&&e.replaceSelection(X)}break;case"PageDown":if(t.getKeyPageBelow){O.preventDefault();let X=t.getKeyPageBelow(e.focusedKey);L(X)}break;case"PageUp":if(t.getKeyPageAbove){O.preventDefault();let X=t.getKeyPageAbove(e.focusedKey);L(X)}break;case"a":Xy(O)&&e.selectionMode==="multiple"&&s!==!0&&(O.preventDefault(),e.selectAll());break;case"Escape":O.preventDefault(),a||e.clearSelection();break;case"Tab":if(!d){if(O.shiftKey)r.current.focus();else{let X=Yl(r.current,{tabbable:!0}),fe,ne;do ne=X.lastChild(),ne&&(fe=ne);while(ne);fe&&!fe.contains(document.activeElement)&&Qs(fe)}break}}},y=(0,ja.useRef)({top:0,left:0});j2(p,"scroll",f?null:()=>{y.current={top:p.current.scrollTop,left:p.current.scrollLeft}});let C=O=>{if(e.isFocused){O.currentTarget.contains(O.target)||e.setFocused(!1);return}if(O.currentTarget.contains(O.target)){if(e.setFocused(!0),e.focusedKey==null){let A=G=>{G!=null&&(e.setFocusedKey(G),l&&e.replaceSelection(G))},$=O.relatedTarget;var L,k;$&&O.currentTarget.compareDocumentPosition($)&Node.DOCUMENT_POSITION_FOLLOWING?A((L=e.lastSelectedKey)!==null&&L!==void 0?L:t.getLastKey()):A((k=e.firstSelectedKey)!==null&&k!==void 0?k:t.getFirstKey())}else f||(p.current.scrollTop=y.current.top,p.current.scrollLeft=y.current.left);if(!f&&e.focusedKey!=null){let A=p.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);A&&(A.contains(document.activeElement)||Qs(A),Xb()==="keyboard"&&q2(A,{containingElement:r.current}))}}},w=O=>{O.currentTarget.contains(O.relatedTarget)||e.setFocused(!1)},b=(0,ja.useRef)(o);(0,ja.useEffect)(()=>{if(b.current){let O=null;o==="first"&&(O=t.getFirstKey()),o==="last"&&(O=t.getLastKey());let L=e.selectedKeys;if(L.size){for(let k of L)if(e.canSelectItem(k)){O=k;break}}e.setFocused(!0),e.setFocusedKey(O),O==null&&!c&&Ud(r.current)}},[]);let E=(0,ja.useRef)(e.focusedKey);(0,ja.useEffect)(()=>{let O=Xb();if(e.isFocused&&e.focusedKey!=null&&(p!=null&&p.current)){let L=p.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);L&&(O==="keyboard"||b.current)&&(f||K2(p.current,L),O!=="virtual"&&q2(L,{containingElement:r.current}))}e.isFocused&&e.focusedKey==null&&E.current!=null&&Ud(r.current),E.current=e.focusedKey,b.current=!1},[f,p,e.focusedKey,e.isFocused,r]);let D={onKeyDown:g,onFocus:C,onBlur:w,onMouseDown(O){p.current===O.target&&O.preventDefault()}},{typeSelectProps:S}=p_e({keyboardDelegate:t,selectionManager:e});u||(D=nn(S,D));let T;return c||(T=e.focusedKey==null?0:-1),{collectionProps:{...D,tabIndex:T}}}function rX(n){let{selectionManager:e,key:t,ref:r,shouldSelectOnPressUp:o,shouldUseVirtualFocus:i,focus:a,isDisabled:s,onAction:l,allowsDifferentPressOrigin:u,linkBehavior:c="action"}=n,d=z2(),f=V=>{if(V.pointerType==="keyboard"&&rH(V))e.toggleSelection(t);else{if(e.selectionMode==="none")return;if(e.isLink(t)){if(c==="selection"){d.open(r.current,V),e.setSelectedKeys(e.selectedKeys);return}else if(c==="override"||c==="none")return}e.selectionMode==="single"?e.isSelected(t)&&!e.disallowEmptySelection?e.toggleSelection(t):e.replaceSelection(t):V&&V.shiftKey?e.extendSelection(t):e.selectionBehavior==="toggle"||V&&(Xy(V)||V.pointerType==="touch"||V.pointerType==="virtual")?e.toggleSelection(t):e.replaceSelection(t)}};(0,ja.useEffect)(()=>{t===e.focusedKey&&e.isFocused&&!i&&(a?a():document.activeElement!==r.current&&Ud(r.current))},[r,t,e.focusedKey,e.childFocusStrategy,e.isFocused,i]),s=s||e.isDisabled(t);let p={};!i&&!s?p={tabIndex:t===e.focusedKey?0:-1,onFocus(V){V.target===r.current&&e.setFocusedKey(t)}}:s&&(p.onMouseDown=V=>{V.preventDefault()});let h=e.isLink(t)&&c==="override",m=e.isLink(t)&&c!=="selection"&&c!=="none",v=!s&&e.canSelectItem(t)&&!h,g=(l||m)&&!s,y=g&&(e.selectionBehavior==="replace"?!v:!v||e.isEmpty),C=g&&v&&e.selectionBehavior==="replace",w=y||C,b=(0,ja.useRef)(null),E=w&&v,D=(0,ja.useRef)(!1),S=(0,ja.useRef)(!1),T=V=>{l&&l(),m&&d.open(r.current,V)},O={};o?(O.onPressStart=V=>{b.current=V.pointerType,D.current=E,V.pointerType==="keyboard"&&(!w||eX())&&f(V)},u?(O.onPressUp=y?null:V=>{V.pointerType!=="keyboard"&&v&&f(V)},O.onPress=y?T:null):O.onPress=V=>{if(y||C&&V.pointerType!=="mouse"){if(V.pointerType==="keyboard"&&!JY())return;T(V)}else V.pointerType!=="keyboard"&&v&&f(V)}):(O.onPressStart=V=>{b.current=V.pointerType,D.current=E,S.current=y,v&&(V.pointerType==="mouse"&&!y||V.pointerType==="keyboard"&&(!g||eX()))&&f(V)},O.onPress=V=>{(V.pointerType==="touch"||V.pointerType==="pen"||V.pointerType==="virtual"||V.pointerType==="keyboard"&&w&&JY()||V.pointerType==="mouse"&&S.current)&&(w?T(V):v&&f(V))}),p["data-key"]=t,O.preventFocusOnPress=i;let{pressProps:L,isPressed:k}=zy(O),A=C?V=>{b.current==="mouse"&&(V.stopPropagation(),V.preventDefault(),T(V))}:void 0,{longPressProps:$}=uG({isDisabled:!E,onLongPress(V){V.pointerType==="touch"&&(f(V),e.setSelectionBehavior("toggle"))}}),G=V=>{b.current==="touch"&&D.current&&V.preventDefault()},K=e.isLink(t)?V=>{Hd.isOpening||V.preventDefault()}:void 0;return{itemProps:nn(p,v||y?L:{},E?$:{},{onDoubleClick:A,onDragStartCapture:G,onClick:K}),isPressed:k,isSelected:e.isSelected(t),isFocused:e.isFocused&&e.focusedKey===t,isDisabled:s,allowsSelection:v,hasAction:w}}function JY(){let n=window.event;return(n==null?void 0:n.key)==="Enter"}function eX(){let n=window.event;return(n==null?void 0:n.key)===" "||(n==null?void 0:n.code)==="Space"}var Kd=_(z(),1);function m_e(n){return null}m_e.getCollectionNode=function*(e,t){let{childItems:r,title:o,children:i}=e,a=e.title||e.children,s=e.textValue||(typeof a=="string"?a:"")||e["aria-label"]||"";!s&&(t!=null&&t.suppressTextValueWarning),yield{type:"item",props:e,rendered:a,textValue:s,"aria-label":e["aria-label"],hasChildNodes:g_e(e),*childNodes(){if(r)for(let l of r)yield{type:"item",value:l};else if(o){let l=[];Kd.default.Children.forEach(i,u=>{l.push({type:"item",element:u})}),yield*l}}}};function g_e(n){return n.hasChildItems!=null?n.hasChildItems:!!(n.childItems||n.title&&Kd.default.Children.count(n.children)>0)}function v_e(n){return null}v_e.getCollectionNode=function*(e){let{children:t,title:r,items:o}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!o)throw new Error("props.children was a function but props.items is missing");for(let i of o)yield{type:"item",value:i,renderer:t}}else{let i=[];Kd.default.Children.forEach(t,a=>{i.push({type:"item",element:a})}),yield*i}}}};var LP=class{build(e,t){return this.context=t,oX(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:r}=e;if(typeof t=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let o of e.items)yield*this.getFullNode({value:o},{renderer:t})}else{let o=[];Kd.default.Children.forEach(t,a=>{o.push(a)});let i=0;for(let a of o){let s=this.getFullNode({element:a,index:i},{});for(let l of s)i++,yield l}}}getKey(e,t,r,o){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${o}${t.key}`;let i=t.value;if(i!=null){var a;let s=(a=i.key)!==null&&a!==void 0?a:i.id;if(s==null)throw new Error("No key found for item");return s}return o?`${o}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,r,o){let i=e.element;if(!i&&e.value&&t&&t.renderer){let l=this.cache.get(e.value);if(l&&(!l.shouldInvalidate||!l.shouldInvalidate(this.context))){l.index=e.index,l.parentKey=o?o.key:null,yield l;return}i=t.renderer(e.value)}if(Kd.default.isValidElement(i)){let l=i.type;if(typeof l!="function"&&typeof l.getCollectionNode!="function"){let f=typeof i.type=="function"?i.type.name:i.type;throw new Error(`Unknown element <${f}> in collection.`)}let u=l.getCollectionNode(i.props,this.context),c=e.index,d=u.next();for(;!d.done&&d.value;){let f=d.value;e.index=c;let p=f.key;p||(p=f.element?null:this.getKey(i,e,t,r));let m=[...this.getFullNode({...f,key:p,index:c,wrapper:y_e(e.wrapper,f.wrapper)},this.getChildState(t,f),r?`${r}${i.key}`:i.key,o)];for(let v of m){if(v.value=f.value||e.value,v.value&&this.cache.set(v.value,v),e.type&&v.type!==e.type)throw new Error(`Unsupported type <${oH(v.type)}> in <${oH(o.type)}>. Only <${oH(e.type)}> is supported.`);c++,yield v}d=u.next(m)}return}if(e.key==null)return;let a=this,s={type:e.type,props:e.props,key:e.key,parentKey:o?o.key:null,value:e.value,level:o?o.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:oX(function*(){if(!e.hasChildNodes)return;let l=0;for(let u of e.childNodes()){u.key!=null&&(u.key=`${s.key}${u.key}`),u.index=l;let c=a.getFullNode(u,a.getChildState(t,u),s.key,s);for(let d of c)l++,yield d}})};yield s}constructor(){this.cache=new WeakMap}};function oX(n){let e=[],t=null;return{*[Symbol.iterator](){for(let r of e)yield r;t||(t=n());for(let r of t)e.push(r),yield r}}}function y_e(n,e){if(n&&e)return t=>n(e(t));if(n)return n;if(e)return e}function oH(n){return n[0].toUpperCase()+n.slice(1)}function iH(n,e,t){let r=(0,Kd.useMemo)(()=>new LP,[]),{children:o,items:i,collection:a}=n;return(0,Kd.useMemo)(()=>{if(a)return a;let l=r.build({children:o,items:i},t);return e(l)},[r,o,i,a,t,e])}function aX(n,e){return typeof e.getChildren=="function"?e.getChildren(n.key):n.childNodes}function MP(n){return C_e(n,0)}function C_e(n,e){if(e<0)return;let t=0;for(let r of n){if(t===e)return r;t++}}function sX(n){let e;for(let t of n)e=t;return e}function AP(n,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let r=[...iX(n,e),e],o=[...iX(n,t),t],i=r.slice(0,o.length).findIndex((a,s)=>a!==o[s]);return i!==-1?(e=r[i],t=o[i],e.index-t.index):r.findIndex(a=>a===t)>=0?1:(o.findIndex(a=>a===e)>=0,-1)}function iX(n,e){let t=[];for(;(e==null?void 0:e.parentKey)!=null;)e=n.getItem(e.parentKey),t.unshift(e);return t}var NP=_(z(),1);function aH(n,e){let{role:t="dialog"}=n,r=$2();r=n["aria-label"]?void 0:r;let o=(0,NP.useRef)(!1);return(0,NP.useEffect)(()=>{if(e.current&&!e.current.contains(document.activeElement)){Ud(e.current);let i=setTimeout(()=>{document.activeElement===e.current&&(o.current=!0,e.current&&(e.current.blur(),Ud(e.current)),o.current=!1)},500);return()=>{clearTimeout(i)}}},[e]),tH(),{dialogProps:{...la(n,{labelable:!0}),role:t,tabIndex:-1,"aria-labelledby":n["aria-labelledby"]||r,onBlur:i=>{o.current&&i.stopPropagation()}},titleProps:{id:r}}}var lX=_(z(),1);var uX=new WeakMap;function kP(n,e,t){return typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${uX.get(n)}-${t}-${e}`}function lH(n,e,t){var r;let{key:o,isDisabled:i,shouldSelectOnPressUp:a}=n,{selectionManager:s,selectedKey:l}=e,u=o===l,c=i||e.isDisabled||e.disabledKeys.has(o),{itemProps:d,isPressed:f}=rX({selectionManager:s,key:o,ref:t,isDisabled:c,shouldSelectOnPressUp:a,linkBehavior:"selection"}),p=kP(e,o,"tab"),h=kP(e,o,"tabpanel"),{tabIndex:m}=d,v=e.collection.getItem(o),g=la(v==null?void 0:v.props,{isLink:!!(!(v==null||(r=v.props)===null||r===void 0)&&r.href),labelable:!0});return delete g.id,{tabProps:nn(g,d,{id:p,"aria-selected":u,"aria-disabled":c||void 0,"aria-controls":u?h:void 0,tabIndex:c?void 0:m,role:"tab"}),isSelected:u,isDisabled:c,isPressed:f}}function uH(n,e,t){let r=VY(t)?void 0:0;var o;let i=kP(e,(o=n.id)!==null&&o!==void 0?o:e==null?void 0:e.selectedKey,"tabpanel"),a=Hy({...n,id:i,"aria-labelledby":kP(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:nn(a,{tabIndex:r,role:"tabpanel","aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]})}}var sH=class{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}getKeyAbove(e){return this.getPreviousKey(e)}getKeyBelow(e){return this.getNextKey(e)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.disabledKeys.has(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.disabledKeys.has(e)&&(e=this.getPreviousKey(e)),e}getNextKey(e){do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(this.disabledKeys.has(e));return e}getPreviousKey(e){do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(this.disabledKeys.has(e));return e}constructor(e,t,r,o=new Set){this.collection=e,this.flipDirection=t==="rtl"&&r==="horizontal",this.disabledKeys=o}};function cH(n,e,t){let{orientation:r="horizontal",keyboardActivation:o="automatic"}=n,{collection:i,selectionManager:a,disabledKeys:s}=e,{direction:l}=Zm(),u=(0,lX.useMemo)(()=>new sH(i,l,r,s),[i,s,r,l]),{collectionProps:c}=nX({ref:t,selectionManager:a,keyboardDelegate:u,selectOnFocus:o==="automatic",disallowEmptySelection:!0,scrollRef:t,linkBehavior:"selection"}),d=$d();uX.set(e,d);let f=Hy({...n,id:d});return{tabListProps:{...nn(c,f),role:"tablist","aria-orientation":r,tabIndex:void 0}}}var $i=_(z(),1);var Ka=class extends Set{constructor(e,t,r){super(e),e instanceof Ka?(this.anchorKey=t||e.anchorKey,this.currentKey=r||e.currentKey):(this.anchorKey=t,this.currentKey=r)}};function D_e(n,e){if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0}function dX(n){let{selectionMode:e="none",disallowEmptySelection:t,allowDuplicateSelectionEvents:r,selectionBehavior:o="toggle",disabledBehavior:i="all"}=n,a=(0,$i.useRef)(!1),[,s]=(0,$i.useState)(!1),l=(0,$i.useRef)(null),u=(0,$i.useRef)(null),[,c]=(0,$i.useState)(null),d=(0,$i.useMemo)(()=>cX(n.selectedKeys),[n.selectedKeys]),f=(0,$i.useMemo)(()=>cX(n.defaultSelectedKeys,new Ka),[n.defaultSelectedKeys]),[p,h]=ky(d,f,n.onSelectionChange),m=(0,$i.useMemo)(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),[v,g]=(0,$i.useState)(o);o==="replace"&&v==="toggle"&&typeof p=="object"&&p.size===0&&g("replace");let y=(0,$i.useRef)(o);return(0,$i.useEffect)(()=>{o!==y.current&&(g(o),y.current=o)},[o]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:v,setSelectionBehavior:g,get isFocused(){return a.current},setFocused(C){a.current=C,s(C)},get focusedKey(){return l.current},get childFocusStrategy(){return u.current},setFocusedKey(C,w="first"){l.current=C,u.current=w,c(C)},selectedKeys:p,setSelectedKeys(C){(r||!D_e(C,p))&&h(C)},disabledKeys:m,disabledBehavior:i}}function cX(n,e){return n?n==="all"?"all":new Ka(n):e}var VP=class{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return this.state.selectionMode==="none"?!1:(e=this.getKey(e),this.state.selectedKeys==="all"?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(r=>t.has(r)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let r=this.collection.getItem(t);(!e||r&&AP(this.collection,r,e)<0)&&(e=r)}return e==null?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let r=this.collection.getItem(t);(!e||r&&AP(this.collection,r,e)>0)&&(e=r)}return e==null?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}e=this.getKey(e);let t;if(this.state.selectedKeys==="all")t=new Ka([e],e,e);else{let r=this.state.selectedKeys,o=r.anchorKey||e;t=new Ka(r,o,e);for(let i of this.getKeyRange(o,r.currentKey||e))t.delete(i);for(let i of this.getKeyRange(e,o))this.canSelectItem(i)&&t.add(i)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let r=this.collection.getItem(e),o=this.collection.getItem(t);return r&&o?AP(this.collection,r,o)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let r=[],o=e;for(;o;){let i=this.collection.getItem(o);if((i&&i.type==="item"||i.type==="cell"&&this.allowsCellSelection)&&r.push(o),o===t)return r;o=this.collection.getKeyAfter(o)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}if(e=this.getKey(e),e==null)return;let t=new Ka(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),!(this.disallowEmptySelection&&t.size===0)&&this.state.setSelectedKeys(t)}replaceSelection(e){if(this.selectionMode==="none"||(e=this.getKey(e),e==null))return;let t=this.canSelectItem(e)?new Ka([e],e,e):new Ka;this.state.setSelectedKeys(t)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new Ka;for(let r of e)if(r=this.getKey(r),r!=null&&(t.add(r),this.selectionMode==="single"))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=r=>{for(;r;){if(this.canSelectItem(r)){let o=this.collection.getItem(r);o.type==="item"&&e.push(r),o.hasChildNodes&&(this.allowsCellSelection||o.type!=="item")&&t(MP(aX(o,this.collection)).key)}r=this.collection.getKeyAfter(r)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new Ka)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;for(let r of t)if(!e.has(r))return!1;return!0}canSelectItem(e){if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||t.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&this.state.disabledBehavior==="all"}isLink(e){var t,r;return!!(!((r=this.collection.getItem(e))===null||r===void 0||(t=r.props)===null||t===void 0)&&t.href)}constructor(e,t,r){this.collection=e,this.state=t;var o;this.allowsCellSelection=(o=r==null?void 0:r.allowsCellSelection)!==null&&o!==void 0?o:!1,this._isSelectAll=null}};var Zl=_(z(),1);var GP=class{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(t==null?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.iterable=e;let t=i=>{if(this.keyMap.set(i.key,i),i.childNodes&&i.type==="section")for(let a of i.childNodes)t(a)};for(let i of e)t(i);let r,o=0;for(let[i,a]of this.keyMap)r?(r.nextKey=i,a.prevKey=r.key):(this.firstKey=i,a.prevKey=void 0),a.type==="item"&&(a.index=o++),r=a,r.nextKey=void 0;this.lastKey=r==null?void 0:r.key}};function fX(n){let{filter:e}=n,t=dX(n),r=(0,Zl.useMemo)(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),o=(0,Zl.useCallback)(u=>e?new GP(e(u)):new GP(u),[e]),i=(0,Zl.useMemo)(()=>({suppressTextValueWarning:n.suppressTextValueWarning}),[n.suppressTextValueWarning]),a=iH(n,o,i),s=(0,Zl.useMemo)(()=>new VP(a,t),[a,t]),l=(0,Zl.useRef)(null);return(0,Zl.useEffect)(()=>{if(t.focusedKey!=null&&!a.getItem(t.focusedKey)){let u=l.current.getItem(t.focusedKey),c=[...l.current.getKeys()].map(m=>{let v=l.current.getItem(m);return v.type==="item"?v:null}).filter(m=>m!==null),d=[...a.getKeys()].map(m=>{let v=a.getItem(m);return v.type==="item"?v:null}).filter(m=>m!==null),f=c.length-d.length,p=Math.min(f>1?Math.max(u.index-f+1,0):u.index,d.length-1),h;for(;p>=0;){if(!s.isDisabled(d[p].key)){h=d[p];break}p<d.length-1?p++:(p>u.index&&(p=u.index),p--)}t.setFocusedKey(h?h.key:null)}l.current=a},[a,s,t,t.focusedKey]),{collection:a,disabledKeys:r,selectionManager:s}}function pX(n){var e;let[t,r]=ky(n.selectedKey,(e=n.defaultSelectedKey)!==null&&e!==void 0?e:null,n.onSelectionChange),o=(0,Zl.useMemo)(()=>t!=null?[t]:[],[t]),{collection:i,disabledKeys:a,selectionManager:s}=fX({...n,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:o,onSelectionChange:u=>{var c;let d=(c=u.values().next().value)!==null&&c!==void 0?c:null;d===t&&n.onSelectionChange&&n.onSelectionChange(d),r(d)}}),l=t!=null?i.getItem(t):null;return{collection:i,disabledKeys:a,selectionManager:s,selectedKey:t,setSelectedKey:r,selectedItem:l}}var HP=_(z(),1);function $P(n){let[e,t]=ky(n.isOpen,n.defaultOpen||!1,n.onOpenChange),r=(0,HP.useCallback)(()=>{t(!0)},[t]),o=(0,HP.useCallback)(()=>{t(!1)},[t]),i=(0,HP.useCallback)(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:r,close:o,toggle:i}}var qd=_(z(),1);var dH=_(z(),1);var BP=class{*[Symbol.iterator](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){var e;return(e=[...this.rows][0])===null||e===void 0?void 0:e.key}getLastKey(){var e;let t=[...this.rows];return(e=t[t.length-1])===null||e===void 0?void 0:e.key}getItem(e){return this.keyMap.get(e)}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(t==null?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.keyMap=new Map,this.columnCount=e==null?void 0:e.columnCount,this.rows=[];let t=i=>{let a=this.keyMap.get(i.key);e.visitNode&&(i=e.visitNode(i)),this.keyMap.set(i.key,i);let s=new Set,l;for(let u of i.childNodes)u.type==="cell"&&u.parentKey==null&&(u.parentKey=i.key),s.add(u.key),l?(l.nextKey=u.key,u.prevKey=l.key):u.prevKey=null,t(u),l=u;if(l&&(l.nextKey=null),a)for(let u of a.childNodes)s.has(u.key)||r(u)},r=i=>{this.keyMap.delete(i.key);for(let a of i.childNodes)this.keyMap.get(a.key)===a&&r(a)},o;e.items.forEach((i,a)=>{let s={level:0,key:"row-"+a,type:"row",value:void 0,hasChildNodes:!0,childNodes:[...i.childNodes],rendered:void 0,textValue:void 0,...i};o?(o.nextKey=s.key,s.prevKey=o.key):s.prevKey=null,this.rows.push(s),t(s),o=s}),o&&(o.nextKey=null)}};var gX="row-header-column-"+Math.random().toString(36).slice(2),fH="row-header-column-"+Math.random().toString(36).slice(2);for(;gX===fH;)fH="row-header-column-"+Math.random().toString(36).slice(2);function pH(n,e){if(e.length===0)return[];let t=[],r=new Map;for(let l of e){let u=l.parentKey,c=[l];for(;u;){let d=n.get(u);if(!d)break;if(r.has(d)){d.colspan++;let{column:f,index:p}=r.get(d);if(p>c.length)break;for(let h=p;h<c.length;h++)f.splice(h,0,null);for(let h=c.length;h<f.length;h++)f[h]&&r.has(f[h])&&(r.get(f[h]).index=h)}else d.colspan=1,c.push(d),r.set(d,{column:c,index:c.length-1});u=d.parentKey}t.push(c),l.index=t.length-1}let o=Math.max(...t.map(l=>l.length)),i=Array(o).fill(0).map(()=>[]),a=0;for(let l of t){let u=o-1;for(let c of l){if(c){let d=i[u],f=d.reduce((p,h)=>p+h.colspan,0);if(f<a){let p={type:"placeholder",key:"placeholder-"+c.key,colspan:a-f,index:f,value:null,rendered:null,level:u,hasChildNodes:!1,childNodes:[],textValue:null};d.length>0&&(d[d.length-1].nextKey=p.key,p.prevKey=d[d.length-1].key),d.push(p)}d.length>0&&(d[d.length-1].nextKey=c.key,c.prevKey=d[d.length-1].key),c.level=u,c.colIndex=a,d.push(c)}u--}a++}let s=0;for(let l of i){let u=l.reduce((c,d)=>c+d.colspan,0);if(u<e.length){let c={type:"placeholder",key:"placeholder-"+l[l.length-1].key,colspan:e.length-u,index:u,value:null,rendered:null,level:s,hasChildNodes:!1,childNodes:[],textValue:null,prevKey:l[l.length-1].key};l.push(c)}s++}return i.map((l,u)=>({type:"headerrow",key:"headerrow-"+u,index:u,value:null,rendered:null,level:0,hasChildNodes:!0,childNodes:l,textValue:null}))}var hX=class extends BP{*[Symbol.iterator](){yield*this.body.childNodes}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){var e;return(e=MP(this.body.childNodes))===null||e===void 0?void 0:e.key}getLastKey(){var e;return(e=sX(this.body.childNodes))===null||e===void 0?void 0:e.key}getItem(e){return this.keyMap.get(e)}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}getTextValue(e){let t=this.getItem(e);if(!t)return"";if(t.textValue)return t.textValue;let r=this.rowHeaderColumnKeys;if(r){let o=[];for(let i of t.childNodes){let a=this.columns[i.index];if(r.has(a.key)&&i.textValue&&o.push(i.textValue),o.length===r.size)break}return o.join(" ")}return""}constructor(e,t,r){let o=new Set,i,a=[];if(r!=null&&r.showSelectionCheckboxes){let d={type:"column",key:gX,value:null,textValue:"",level:0,index:r!=null&&r.showDragButtons?1:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isSelectionCell:!0}};a.unshift(d)}if(r!=null&&r.showDragButtons){let d={type:"column",key:fH,value:null,textValue:"",level:0,index:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isDragButtonCell:!0}};a.unshift(d)}let s=[],l=new Map,u=d=>{switch(d.type){case"body":i=d;break;case"column":l.set(d.key,d),d.hasChildNodes||(a.push(d),d.props.isRowHeader&&o.add(d.key));break;case"item":s.push(d);return}for(let f of d.childNodes)u(f)};for(let d of e)u(d);let c=pH(l,a);c.forEach((d,f)=>s.splice(f,0,d)),super({columnCount:a.length,items:s,visitNode:d=>(d.column=a[d.index],d)}),this._size=0,this.columns=a,this.rowHeaderColumnKeys=o,this.body=i,this.headerRows=c,this._size=[...i.childNodes].length,this.rowHeaderColumnKeys.size===0&&this.rowHeaderColumnKeys.add(this.columns.find(d=>{var f,p;return!(!((f=d.props)===null||f===void 0)&&f.isDragButtonCell)&&!(!((p=d.props)===null||p===void 0)&&p.isSelectionCell)}).key)}};function R_e(n){return null}R_e.getCollectionNode=function*(e,t){let{children:r,columns:o}=e;if(t.columns=[],typeof r=="function"){if(!o)throw new Error("props.children was a function but props.columns is missing");for(let i of o)yield{type:"column",value:i,renderer:r}}else{let i=[];qd.default.Children.forEach(r,a=>{i.push({type:"column",element:a})}),yield*i}};function T_e(n){return null}T_e.getCollectionNode=function*(e){let{children:t,items:r}=e;yield{type:"body",hasChildNodes:!0,props:e,*childNodes(){if(typeof t=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let o of r)yield{type:"item",value:o,renderer:t}}else{let o=[];qd.default.Children.forEach(t,i=>{o.push({type:"item",element:i})}),yield*o}}}};function P_e(n){return null}P_e.getCollectionNode=function*(e,t){let{title:r,children:o,childColumns:i}=e,a=r||o,s=e.textValue||(typeof a=="string"?a:"")||e["aria-label"],l=yield{type:"column",hasChildNodes:!!i||r&&qd.default.Children.count(o)>0,rendered:a,textValue:s,props:e,*childNodes(){if(i)for(let c of i)yield{type:"column",value:c};else if(r){let c=[];qd.default.Children.forEach(o,d=>{c.push({type:"column",element:d})}),yield*c}},shouldInvalidate(c){return u(c),!1}},u=c=>{for(let d of l)d.hasChildNodes||c.columns.push(d)};u(t)};function mX(n){return null}mX.getCollectionNode=function*(e,t){let{children:r,textValue:o,UNSTABLE_childItems:i}=e;yield{type:"item",props:e,textValue:o,"aria-label":e["aria-label"],hasChildNodes:!0,*childNodes(){if(t.showDragButtons&&(yield{type:"cell",key:"header-drag",props:{isDragButtonCell:!0}}),t.showSelectionCheckboxes&&t.selectionMode!=="none"&&(yield{type:"cell",key:"header",props:{isSelectionCell:!0}}),typeof r=="function"){for(let a of t.columns)yield{type:"cell",element:r(a.key),key:a.key};if(i)for(let a of i)yield{type:"item",value:a}}else{let a=[],s=[];if(qd.default.Children.forEach(r,l=>{if(l.type===mX){if(a.length<t.columns.length)throw new Error("All of a Row's child Cells must be positioned before any child Rows.");s.push({type:"item",element:l})}else a.push({type:"cell",element:l})}),a.length!==t.columns.length)throw new Error(`Cell count must match column count. Found ${a.length} cells and ${t.columns.length} columns.`);yield*a,yield*s}},shouldInvalidate(a){return a.columns.length!==t.columns.length||a.columns.some((s,l)=>s.key!==t.columns[l].key)||a.showSelectionCheckboxes!==t.showSelectionCheckboxes||a.showDragButtons!==t.showDragButtons||a.selectionMode!==t.selectionMode}}};function O_e(n){return null}O_e.getCollectionNode=function*(e){let{children:t}=e,r=e.textValue||(typeof t=="string"?t:"")||e["aria-label"]||"";yield{type:"cell",props:e,rendered:t,textValue:r,"aria-label":e["aria-label"],hasChildNodes:!1}};var WP=_(z(),1);function hH(n){var e;let t=pX({...n,suppressTextValueWarning:!0,defaultSelectedKey:(e=n.defaultSelectedKey)!==null&&e!==void 0?e:vX(n.collection,n.disabledKeys?new Set(n.disabledKeys):new Set)}),{selectionManager:r,collection:o,selectedKey:i}=t,a=(0,WP.useRef)(i);return(0,WP.useEffect)(()=>{let s=i;(r.isEmpty||!o.getItem(s))&&(s=vX(o,t.disabledKeys),s!=null&&r.setSelectedKeys([s])),(s!=null&&r.focusedKey==null||!r.isFocused&&s!==a.current)&&r.setFocusedKey(s),a.current=s}),{...t,isDisabled:n.isDisabled||!1}}function vX(n,e){let t=null;if(n){for(t=n.getFirstKey();e.has(t)&&t!==n.getLastKey();)t=n.getKeyAfter(t);e.has(t)&&t===n.getLastKey()&&(t=n.getFirstKey())}return t}var ae=_(z(),1),o_=_(ka(),1),xX=_(SX(),1);var Qm=class{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new Qm(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.type=e,this.key=t}},zP=class{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}appendChild(e){this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode;let r=t;for(;r;)r.index++,r=r.nextSibling;e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}removeChild(e){if(e.parentNode!==this)return;this.ownerDocument.startTransaction();let t=e.nextSibling;for(;t;)t.index--,t=t.nextSibling;e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.removeNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}addEventListener(){}removeEventListener(){}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this.ownerDocument=e}},Jm=class extends zP{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof Jm?this.parentNode.level+(this.node.type==="item"?1:0):0}updateNode(){var e,t,r,o;let i=this.ownerDocument.getMutableNode(this);i.index=this.index,i.level=this.level,i.parentKey=this.parentNode instanceof Jm?this.parentNode.node.key:null;var a;i.prevKey=(a=(e=this.previousSibling)===null||e===void 0?void 0:e.node.key)!==null&&a!==void 0?a:null;var s;i.nextKey=(s=(t=this.nextSibling)===null||t===void 0?void 0:t.node.key)!==null&&s!==void 0?s:null,i.hasChildNodes=!!this.firstChild;var l;i.firstChildKey=(l=(r=this.firstChild)===null||r===void 0?void 0:r.node.key)!==null&&l!==void 0?l:null;var u;i.lastChildKey=(u=(o=this.lastChild)===null||o===void 0?void 0:o.node.key)!==null&&u!==void 0?u:null}setProps(e,t,r){let o=this.ownerDocument.getMutableNode(this),{value:i,textValue:a,id:s,...l}=e;if(l.ref=t,o.props=l,o.rendered=r,o.value=i,o.textValue=a||(typeof r=="string"?r:"")||e["aria-label"]||"",s!=null&&s!==o.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");o.key=s}this.hasSetProps||(this.ownerDocument.addNode(this),this.ownerDocument.endTransaction(),this.hasSetProps=!0),this.ownerDocument.queueUpdate()}get style(){return{}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this._index=0,this.hasSetProps=!1,this.node=new Qm(e,`react-aria-${++t.nodeId}`),this.ownerDocument.startTransaction()}},UP=class{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let r=t.get(e),o=(r==null?void 0:r.firstChildKey)!=null?t.get(r.firstChildKey):null;for(;o;)yield o,o=o.nextKey!=null?t.get(o.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var r;return(r=t==null?void 0:t.key)!==null&&r!==void 0?r:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,r=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!r}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}},gH=class extends zP{get isConnected(){return!0}createElement(e){return new Jm(e,this)}getMutableNode(e){let t=e.node;return this.mutatedNodes.has(e)||(t=e.node.clone(),this.mutatedNodes.add(e),e.node=t),this.markDirty(e),t}getMutableCollection(){return!this.isSSR&&!this.collectionMutated&&(this.collection=this.collection.clone(),this.collectionMutated=!0),this.collection}markDirty(e){this.dirtyNodes.add(e)}startTransaction(){this.transactionCount++}endTransaction(){this.transactionCount--}addNode(e){let t=this.getMutableCollection();if(!t.getItem(e.node.key)){t.addNode(e.node);for(let r of e)this.addNode(r)}this.markDirty(e)}removeNode(e){for(let r of e)this.removeNode(r);this.getMutableCollection().removeNode(e.node.key),this.markDirty(e)}getCollection(){return this.transactionCount>0?this.collection:(this.updateCollection(),this.collection)}updateCollection(){for(let i of this.dirtyNodes)i instanceof Jm&&i.isConnected&&i.updateNode();if(this.dirtyNodes.clear(),this.mutatedNodes.size||this.collectionMutated){var e,t;let i=this.getMutableCollection();for(let a of this.mutatedNodes)a.isConnected&&i.addNode(a.node);var r,o;i.commit((r=(e=this.firstChild)===null||e===void 0?void 0:e.node.key)!==null&&r!==void 0?r:null,(o=(t=this.lastChild)===null||t===void 0?void 0:t.node.key)!==null&&o!==void 0?o:null,this.isSSR),this.mutatedNodes.clear()}this.collectionMutated=!1}queueUpdate(){if(!(this.dirtyNodes.size===0||this.transactionCount>0))for(let e of this.subscriptions)e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.mutatedNodes=new Set,this.subscriptions=new Set,this.transactionCount=0,this.collection=e,this.collectionMutated=!0}};function H_e(n){let{children:e,items:t,idScope:r,addIdAndValue:o,dependencies:i=[]}=n,a=(0,ae.useMemo)(()=>new WeakMap,i);return(0,ae.useMemo)(()=>{if(t&&typeof e=="function"){let u=[];for(let c of t){let d=a.get(c);if(!d){d=e(c);var s,l;let f=(l=(s=d.props.id)!==null&&s!==void 0?s:c.key)!==null&&l!==void 0?l:c.id;if(f==null)throw new Error("Could not determine key for item");r&&(f=r+":"+f),d=(0,ae.cloneElement)(d,o?{key:f,id:f,value:c}:{key:f}),a.set(c,d)}u.push(d)}return u}else if(typeof e!="function")return e},[e,t,a,r,o])}function $_e(n){return H_e({...n,addIdAndValue:!0})}var B_e=(0,ae.createContext)(!1);function W_e(n,e,t){let r=za(),o=(0,ae.useRef)(r);o.current=r;let i=(0,ae.useCallback)(()=>o.current?t():e(),[e,t]);return(0,xX.useSyncExternalStore)(n,i)}var z_e=typeof ae.default.useSyncExternalStore=="function"?ae.default.useSyncExternalStore:W_e;function U_e(n){let e=(0,ae.useMemo)(()=>new gH(n||new UP),[n]),t=(0,ae.useCallback)(a=>e.subscribe(a),[e]),r=(0,ae.useCallback)(()=>{let a=e.getCollection();return e.isSSR&&e.resetAfterSSR(),a},[e]),o=(0,ae.useCallback)(()=>(e.isSSR=!0,e.getCollection()),[e]);return{collection:z_e(t,r,o),document:e}}var vH=(0,ae.createContext)(null),wH=(0,ae.createContext)(null);function j_e(n,e){let t=(0,ae.useContext)(wH),r=e!=null?e:t,o=$_e(n),i=(0,ae.useMemo)(()=>ae.default.createElement(B_e.Provider,{value:!0},o),[o]);return za()?ae.default.createElement(vH.Provider,{value:r},i):(0,o_.createPortal)(i,r)}function K_e(n){return ae.default.createElement(ae.default.Fragment,null,j_e(n))}function q_e(n,e,t){return(0,ae.useCallback)(r=>{r==null||r.setProps(n,e,t)},[n,e,t])}function Y_e(n,e,t,r,o){let i=q_e(e,t,r),a=(0,ae.useContext)(vH);if(a){let s=a.ownerDocument.nodesByProps.get(e);return s||(s=a.ownerDocument.createElement(n),s.setProps(e,t,r),a.appendChild(s),a.ownerDocument.updateCollection(),a.ownerDocument.nodesByProps.set(e,s)),o?ae.default.createElement(vH.Provider,{value:s},o):null}return ae.default.createElement(n,{ref:i},o)}var X_e=Symbol("callback"),yH=Symbol("default");function jP({values:n,children:e}){for(let[t,r]of n)e=ae.default.createElement(t.Provider,{value:r},e);return e}function eg(n){let{className:e,style:t,children:r,defaultClassName:o,defaultChildren:i,values:a}=n;return(0,ae.useMemo)(()=>{let s,l,u;return typeof e=="function"?s=e(a):s=e,typeof t=="function"?l=t(a):l=t,typeof r=="function"?u=r(a):r==null?u=i:u=r,{className:s!=null?s:o,style:l,children:u,"data-rac":""}},[e,t,r,o,i,a])}function DX(n,e){let t=(0,ae.useContext)(n);if(e===null)return null;if(t&&typeof t=="object"&&"slots"in t&&t.slots){let r=new Intl.ListFormat().format(Object.keys(t.slots).map(i=>`"${i}"`));if(!e&&!t.slots[yH])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let o=e||yH;if(!t.slots[o])throw new Error(`Invalid slot "${e}". Valid slot names are ${r}.`);return t.slots[o]}return t}function i_(n,e,t){let r=DX(t,n.slot)||{},{ref:o,[X_e]:i,...a}=r,s=ql((0,ae.useMemo)(()=>B2(e,o),[e,o])),l=nn(a,n);return"style"in a&&a.style&&typeof a.style=="object"&&"style"in n&&n.style&&typeof n.style=="object"&&(l.style={...a.style,...n.style}),(0,ae.useEffect)(()=>{i&&i(n)},[i,n]),[l,s]}function RX(n,e=!0){let[t,r]=(0,ae.useState)(!0);return TX(n,t&&e,(0,ae.useCallback)(()=>r(!1),[])),t&&e}function bX(n,e){let[t,r]=(0,ae.useState)(!1),[o,i]=(0,ae.useState)("idle");return!e&&n.current&&o==="idle"&&(t=!0,r(!0),i("exiting")),!n.current&&o==="exited"&&i("idle"),TX(n,t,(0,ae.useCallback)(()=>{i("exited"),r(!1)},[])),t}function TX(n,e,t){let r=(0,ae.useRef)(null);e&&n.current&&(r.current=window.getComputedStyle(n.current).animation),Kn(()=>{if(e&&n.current){let o=window.getComputedStyle(n.current);if(o.animationName&&o.animationName!=="none"&&o.animation!==r.current){let i=s=>{s.target===n.current&&(a.removeEventListener("animationend",i),o_.default.flushSync(()=>{t()}))},a=n.current;return a.addEventListener("animationend",i),()=>{a.removeEventListener("animationend",i)}}else t()}},[n,e,t])}if(typeof HTMLTemplateElement!="undefined"){let n=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:n.call(this)}})}var CH=(0,ae.createContext)(!1),Z_e=typeof DocumentFragment!="undefined"?new DocumentFragment:null;function Q_e(n){let e=(0,ae.useContext)(CH),t=za();if(e)return ae.default.createElement(ae.default.Fragment,null,n.children);let r=ae.default.createElement(CH.Provider,{value:!0},n.children);return t?ae.default.createElement("template",{"data-react-aria-hidden":!0},r):o_.default.createPortal(r,Z_e)}function PX(n){let e=(t,r)=>(0,ae.useContext)(CH)?null:n(t,r);return e.displayName=n.displayName||n.name,ae.default.forwardRef(e)}var J_e=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),eEe=(0,ae.createContext)({});function tEe(n,e){[n,e]=i_(n,e,eEe);let t=n,{buttonProps:r,isPressed:o}=hG(n,e),{focusProps:i,isFocused:a,isFocusVisible:s}=jy(n),{hoverProps:l,isHovered:u}=Zb(n),c=eg({...n,values:{isHovered:u,isPressed:o,isFocused:a,isFocusVisible:s,isDisabled:n.isDisabled||!1},defaultClassName:"react-aria-Button"});return ae.default.createElement("button",{...la(n,{propNames:J_e}),...nn(r,i,l),...c,ref:e,slot:n.slot||void 0,"data-disabled":n.isDisabled||void 0,"data-pressed":t.isPressed||o||void 0,"data-hovered":u||void 0,"data-focused":a||void 0,"data-focus-visible":s||void 0})}var Tp=PX(tEe),OX=(0,ae.createContext)({});function nEe(n,e){[n,e]=i_(n,e,OX);let{children:t,level:r=3,className:o,...i}=n,a=`h${r}`;return ae.default.createElement(a,{...i,ref:e,className:o!=null?o:"react-aria-Heading"},t)}var dc=(0,ae.forwardRef)(nEe);var rEe=(0,ae.createContext)(null);var IX=(0,ae.createContext)(null),a_=(0,ae.createContext)(null);function KP(n){let e=$P(n),t=(0,ae.useRef)(null),{triggerProps:r,overlayProps:o}=QG({type:"dialog"},e,t);return r.id=$d(),o["aria-labelledby"]=r.id,ae.default.createElement(jP,{values:[[a_,e],[IX,o],[rEe,{trigger:"DialogTrigger",triggerRef:t}]]},ae.default.createElement(DY,{...r,ref:t,isPressed:e.isOpen},n.children))}function oEe(n,e){let t=n["aria-labelledby"];[n,e]=i_(n,e,IX);let{dialogProps:r,titleProps:o}=aH({...n,"aria-labelledby":t},e),i=(0,ae.useContext)(a_),a=n.children;typeof a=="function"&&(a=a({close:(i==null?void 0:i.close)||(()=>{})})),!r["aria-label"]&&!r["aria-labelledby"]&&n["aria-labelledby"]&&(r["aria-labelledby"]=n["aria-labelledby"]);var s;return ae.default.createElement("section",{...la(n),...r,ref:e,slot:n.slot||void 0,style:n.style,className:(s=n.className)!==null&&s!==void 0?s:"react-aria-Dialog"},ae.default.createElement(jP,{values:[[OX,{slots:{[yH]:{},title:{...o,level:2}}}]]},a))}var fc=(0,ae.forwardRef)(oEe);var iEe={};iEe={"ar-AE":n2,"bg-BG":r2,"cs-CZ":o2,"da-DK":i2,"de-DE":a2,"el-GR":s2,"en-US":l2,"es-ES":u2,"et-EE":c2,"fi-FI":d2,"fr-FR":f2,"he-IL":p2,"hr-HR":h2,"hu-HU":m2,"it-IT":g2,"ja-JP":v2,"ko-KR":y2,"lt-LT":C2,"lv-LV":w2,"nb-NO":S2,"nl-NL":b2,"pl-PL":_2,"pt-BR":E2,"pt-PT":x2,"ro-RO":D2,"ru-RU":R2,"sk-SK":T2,"sl-SI":P2,"sr-SP":O2,"sv-SE":I2,"tr-TR":F2,"uk-UA":L2,"zh-CN":M2,"zh-TW":A2};var aEe=(0,ae.createContext)(null),SH=(0,ae.createContext)(null);function sEe(n,e){if((0,ae.useContext)(SH))return ae.default.createElement(_X,{...n,modalRef:e},n.children);let{isDismissable:r,isKeyboardDismissDisabled:o,isOpen:i,defaultOpen:a,onOpenChange:s,children:l,isEntering:u,isExiting:c,UNSTABLE_portalContainer:d,...f}=n;return ae.default.createElement(bH,{isDismissable:r,isKeyboardDismissDisabled:o,isOpen:i,defaultOpen:a,onOpenChange:s,isEntering:u,isExiting:c,UNSTABLE_portalContainer:d},ae.default.createElement(_X,{...f,modalRef:e},l))}var pc=(0,ae.forwardRef)(sEe);function lEe(n,e){[n,e]=i_(n,e,aEe);let t=(0,ae.useContext)(a_),r=$P(n),o=n.isOpen!=null||n.defaultOpen!=null||!t?r:t,i=ql(e),a=(0,ae.useRef)(null),s=bX(i,o.isOpen),l=bX(a,o.isOpen),u=s||l||n.isExiting||!1,c=za();return!o.isOpen&&!u||c?null:ae.default.createElement(uEe,{...n,state:o,isExiting:u,overlayRef:i,modalRef:a})}var bH=(0,ae.forwardRef)(lEe);function uEe({UNSTABLE_portalContainer:n,...e}){let t=e.modalRef,{state:r}=e,{modalProps:o,underlayProps:i}=nH(e,r,t),a=RX(e.overlayRef)||e.isEntering||!1,s=eg({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:a,isExiting:e.isExiting,state:r}}),l=dY(),u={...s.style,"--visual-viewport-height":l.height+"px"};return ae.default.createElement(eH,{isExiting:e.isExiting,portalContainer:n},ae.default.createElement("div",{...nn(la(e),i),...s,style:u,ref:e.overlayRef,"data-entering":a||void 0,"data-exiting":e.isExiting||void 0},ae.default.createElement(jP,{values:[[SH,{modalProps:o,modalRef:t,isExiting:e.isExiting,isDismissable:e.isDismissable}],[a_,r]]},s.children)))}function _X(n){let{modalProps:e,modalRef:t,isExiting:r,isDismissable:o}=(0,ae.useContext)(SH),i=(0,ae.useContext)(a_),a=(0,ae.useMemo)(()=>B2(n.modalRef,t),[n.modalRef,t]),s=ql(a),l=RX(s),u=eg({...n,defaultClassName:"react-aria-Modal",values:{isEntering:l,isExiting:r,state:i}});return ae.default.createElement("div",{...nn(la(n),e),...u,ref:s,"data-entering":l||void 0,"data-exiting":r||void 0},o&&ae.default.createElement(JG,{onDismiss:i.close}),u.children)}var EX=class extends UP{addNode(e){super.addNode(e),this.columnsDirty||(this.columnsDirty=e.type==="column"),e.type==="tableheader"&&(this.head=e),e.type==="tablebody"&&(this.body=e)}commit(e,t,r=!1){this.updateColumns(r),super.commit(e,t,r)}updateColumns(e){if(!this.columnsDirty)return;this.rowHeaderColumnKeys=new Set,this.columns=[];let t=new Map,r=o=>{switch(o.type){case"column":t.set(o.key,o),o.hasChildNodes||(o.index=this.columns.length,this.columns.push(o),o.props.isRowHeader&&this.rowHeaderColumnKeys.add(o.key));break}for(let i of this.getChildren(o.key))r(i)};for(let o of this.getChildren(this.head.key))r(o);if(this.headerRows=pH(t,this.columns),this.columnsDirty=!1,this.rowHeaderColumnKeys.size===0&&this.columns.length>0&&!e)throw new Error("A table must have at least one Column with the isRowHeader prop set to true")}get columnCount(){return this.columns.length}get rows(){return[...this.getChildren(this.body.key)]}*[Symbol.iterator](){yield*this.getChildren(this.body.key)}get size(){return[...this.getChildren(this.body.key)].length}getFirstKey(){var e;return(e=[...this.getChildren(this.body.key)][0])===null||e===void 0?void 0:e.key}getLastKey(){var e;let t=[...this.getChildren(this.body.key)];return(e=t[t.length-1])===null||e===void 0?void 0:e.key}getKeyAfter(e){let t=this.getItem(e);var r;return(t==null?void 0:t.type)==="column"?(r=t.nextKey)!==null&&r!==void 0?r:null:super.getKeyAfter(e)}getKeyBefore(e){var t;let r=this.getItem(e);var o;if((r==null?void 0:r.type)==="column")return(o=r.prevKey)!==null&&o!==void 0?o:null;let i=super.getKeyBefore(e);return i!=null&&((t=this.getItem(i))===null||t===void 0?void 0:t.type)==="tablebody"?null:i}getChildren(e){if(!this.getItem(e)){for(let t of this.headerRows)if(t.key===e)return t.childNodes}return super.getChildren(e)}clone(){let e=super.clone();return e.headerRows=this.headerRows,e.columns=this.columns,e.rowHeaderColumnKeys=this.rowHeaderColumnKeys,e.head=this.head,e.body=this.body,e}getTextValue(e){let t=this.getItem(e);if(!t)return"";if(t.textValue)return t.textValue;let r=this.rowHeaderColumnKeys,o=[];for(let i of this.getChildren(e)){let a=this.columns[i.index];if(r.has(a.key)&&i.textValue&&o.push(i.textValue),o.length===r.size)break}return o.join(" ")}constructor(...e){super(...e),this.headerRows=[],this.columns=[],this.rowHeaderColumnKeys=new Set,this.head=new Qm("tableheader",-1),this.body=new Qm("tablebody",-2),this.columnsDirty=!0}};var _H=(0,ae.createContext)(null),EH=(0,ae.createContext)(null);function cEe(n,e){[n,e]=i_(n,e,_H);let{collection:t,document:r}=U_e(),{children:o,orientation:i="horizontal"}=n;return o=(0,ae.useMemo)(()=>typeof o=="function"?o({orientation:i}):o,[o,i]),ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(Q_e,null,ae.default.createElement(wH.Provider,{value:r},o)),ae.default.createElement(dEe,{props:n,collection:t,tabsRef:e}))}function dEe({props:n,tabsRef:e,collection:t}){let{orientation:r="horizontal"}=n,o=hH({...n,collection:t,children:void 0}),{focusProps:i,isFocused:a,isFocusVisible:s}=jy({within:!0}),l=(0,ae.useMemo)(()=>({orientation:r,isFocusWithin:a,isFocusVisible:s}),[r,a,s]),u=eg({...n,defaultClassName:"react-aria-Tabs",values:l});return ae.default.createElement("div",{...la(n),...i,...u,ref:e,slot:n.slot||void 0,"data-focused":a||void 0,"data-orientation":r,"data-focus-visible":s||void 0,"data-disabled":o.isDisabled||void 0},ae.default.createElement(jP,{values:[[_H,n],[EH,o]]},u.children))}var FX=(0,ae.forwardRef)(cEe);function fEe(n,e){return(0,ae.useContext)(wH)?ae.default.createElement(K_e,n):ae.default.createElement(pEe,{props:n,forwardedRef:e})}function pEe({props:n,forwardedRef:e}){let t=(0,ae.useContext)(EH),{orientation:r="horizontal",keyboardActivation:o="automatic"}=DX(_H),i=ql(e),{tabListProps:a}=cH({...n,orientation:r,keyboardActivation:o},t,i),s=eg({...n,children:null,defaultClassName:"react-aria-TabList",values:{orientation:r,state:t}}),l=la(n);return delete l.id,ae.default.createElement("div",{...l,...a,ref:i,...s,"data-orientation":r||void 0},[...t.collection].map(u=>ae.default.createElement(mEe,{key:u.key,item:u,state:t})))}var LX=(0,ae.forwardRef)(fEe);function hEe(n,e){return Y_e("item",n,e,n.children)}var MX=(0,ae.forwardRef)(hEe);function mEe({item:n,state:e}){let t=ql(n.props.ref),{tabProps:r,isSelected:o,isDisabled:i,isPressed:a}=lH({key:n.key,...n.props},e,t),{focusProps:s,isFocused:l,isFocusVisible:u}=jy(),{hoverProps:c,isHovered:d}=Zb({isDisabled:i}),f=eg({...n.props,children:n.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:o,isDisabled:i,isFocused:l,isFocusVisible:u,isPressed:a,isHovered:d,state:e}}),p=n.props.href?"a":"div";return ae.default.createElement(p,{...nn(r,s,c,f),ref:t,"data-selected":o||void 0,"data-disabled":i||void 0,"data-focus-visible":u||void 0,"data-pressed":a||void 0,"data-hovered":d||void 0})}function gEe(n,e){let t=(0,ae.useContext)(EH),r=ql(e),{tabPanelProps:o}=uH(n,t,r),{focusProps:i,isFocused:a,isFocusVisible:s}=jy(),l=t.selectedKey===n.id,u=eg({...n,defaultClassName:"react-aria-TabPanel",values:{isFocused:a,isFocusVisible:s,isInert:!l,state:t}});if(!l&&!n.shouldForceMount)return null;let c=la(n);delete c.id;let d=l?nn(c,o,i,u):u;return ae.default.createElement("div",{...d,ref:r,"data-focused":a||void 0,"data-focus-visible":s||void 0,inert:l?void 0:"true","data-inert":l?void 0:"true"})}var AX=PX(gEe);var Bi=_(F());function NX(n){let{widget:e}=n,[t,r]=(0,qa.useState)(!1),[o,i]=(0,qa.useState)(null),a=(0,qa.useRef)(null),[s,l]=(0,qa.useState)();(0,qa.useEffect)(()=>{if(!a.current)return;let v=new ResizeObserver(g=>{let{width:y}=g[0].contentRect;l(y)});return v.observe(a.current),()=>{v.disconnect()}},[a]);let u=_e(),[c,d]=(0,qa.useState)([]),f=(v,g,y)=>{var b;if(!v||v.trim()=="")return y;let C=(b=u.metadataCache.getFileCache(g))==null?void 0:b.frontmatter,w;switch(v){case y0:w=g!=null&&g!=null?1:0;break;case"${file.basename}":w=g.basename;break;case"${file.ctime}":w=g.stat.ctime;break;case"${file.mtime}":w=g.stat.mtime;break;case"${file.size}":w=g.stat.size;break;default:w=C==null?void 0:C[v];break}return w||y},p=v=>{if(Array.isArray(v))return v.map(C=>{let w=parseFloat(C);return Number.isNaN(w)?0:w});let g=parseFloat(v);return Number.isNaN(g)?0:g},h=v=>{let g=p(v);return Jq(g,e.valueFormat)||g};(0,qa.useEffect)(()=>{let v=y=>e.labelFormat&&Qq(y,e.labelFormat)||y,g=u.vault.getMarkdownFiles().filter(y=>!y.name.endsWith(".excalidraw.md")).filter(y=>uc.match(u,y,e.filter)).flatMap(y=>{let C=f(e.labelProperty,y),w=h(f(e.valueProperty,y,0));return Array.isArray(C)?C.map(b=>({xValue:v(b)||"",yValue:w,files:[y]})):[{xValue:v(C)||"",yValue:C?w:0,files:[y]}]}).reduce((y,C)=>{let w=y.findIndex(b=>b.xValue==C.xValue);return w>-1?(y[w].yValue+=C.yValue,y[w].files.push(...C.files)):y.push(C),y},[]).sort((y,C)=>y.xValue>C.xValue?1:y.xValue<C.xValue?-1:0);d(g)},[e.filter,e.labelProperty,e.labelFormat,e.valueProperty,e.valueFormat]);let m=(0,qa.useRef)(null);return(0,qa.useLayoutEffect)(()=>{if(!m.current)return;let v=c.map(b=>b.xValue),g=c.map(b=>b.yValue),y=document.body.computedStyleMap().get("--interactive-accent"),C=b=>{var E;return((E=e.chartColorSet)==null?void 0:E.length)>0?e.chartColorSet:b=="pie"||b=="doughnut"?j5:[y==null?void 0:y.toString()]},w=new X7(m.current,{type:e.chartType||"bar",data:{labels:v,datasets:[{label:"",data:g,backgroundColor:C(e.chartType),borderColor:C(e.chartType)}]},options:{backgroundColor:y==null?void 0:y.toString(),borderColor:y==null?void 0:y.toString(),hoverBackgroundColor:y==null?void 0:y.toString(),onClick:b=>{let E=Vl(b,w),D;if(e.chartType=="pie"||e.chartType=="doughnut"){if(!b.native)return;let S=w.getElementsAtEventForMode(b.native,"index",{intersect:!0},!1);if(S.length>0)D=S[0].index;else return}else D=w.scales.x.getValueForPixel(E.x);if(D!==void 0){let S=c[D];i(S),r(!0)}},plugins:{title:{display:!1},subtitle:{display:!1},legend:{display:e.chartLabelPosition!="hidden",position:e.chartLabelPosition!="hidden"&&e.chartLabelPosition||"top"}}}});return()=>{var b;w.destroy(),(b=m.current)==null||b.empty()}},[m,c,e.chartColorSet,e.chartType,e.chartLabelPosition,e.maxHeight]),(0,Bi.jsxs)("div",{className:`widget-container chart ${gn(e)}`,style:n.styles,ref:a,children:[(0,Bi.jsxs)("div",{className:"widget-main",children:[e.title&&(0,Bi.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:s}),(0,Bi.jsx)("div",{className:"content",style:{maxHeight:`${e.maxHeight}px`,height:"100%",overflowY:"auto"},children:(0,Bi.jsx)("canvas",{ref:m,id:Ze(),height:"100%"})})]}),(0,Bi.jsx)(pc,{isDismissable:!0,isOpen:t,onOpenChange:r,children:(0,Bi.jsx)(fc,{children:({close:v})=>{let g=o==null?void 0:o.files.map(y=>({label:y.basename,value:y}));return(0,Bi.jsxs)(Bi.Fragment,{children:[(0,Bi.jsx)(dc,{slot:"title",children:o==null?void 0:o.xValue}),(0,Bi.jsx)(dP,{items:g||[],itemEl:function(y){return(0,Bi.jsx)("div",{onClick:C=>{v(),vi(u,C,y.value,!0)},children:y.label})}})]})}})})]})}ue();var xH=_(F()),qP=class{accept(e){return e.type==="chart"}render(e){let t=e.widget;return(0,xH.jsx)(NX,{widget:t,styles:e.style})}description(){let e=Qt("chart");return{name:R.widget_type_chart,type:"chart",icon:(0,xH.jsx)(om,{className:e}),description:R.widget_type_chart_description}}};var Nn=_(z());var kX=require("obsidian");ht();var s_=_(F());function Dr(n){var o;let e=n.src,t=_e(),r=e;if(e&&!e.startsWith("http")&&!e.startsWith("https")){let i=((o=Sy(e))==null?void 0:o.linkText)||e,a=t.metadataCache.getFirstLinkpathDest(i,"");if(!a||!(a instanceof kX.TFile))return(0,s_.jsxs)("div",{children:["File not found: ",e]});r=t.vault.getResourcePath(a)}return(0,s_.jsx)("div",{className:`contribution-picture ${n.className||""} ${n.fit||"contain"}`,style:n.style,children:(0,s_.jsx)("img",{src:r,alt:"Picture",width:"100%",height:"100%"})})}ht();var HX=require("obsidian");ue();ue();var vEe=["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],yEe=["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],CEe=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],wEe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],SEe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bEe=["Su","Mo","Tu","We","Th","Fr","Sa"],_Ee=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],EEe=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],xEe=["January","February","March","April","May","June","July","August","September","October","November","December"],DEe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function YP(n,e="full"){switch(e){case"short":return ip()?CEe[n]:bEe[n];case"medium":return ip()?yEe[n]:SEe[n];default:return ip()?vEe[n]:wEe[n]}}function VX(n,e="full"){switch(e){case"short":return ip()?EEe[n]:DEe[n];default:return ip()?_Ee[n]:xEe[n]}}function GX(n){let e=/^-\s*\[[xX\s\\-]]*\s*/g,t=/#[^\s]+/g,r=/\s*\[[^\]]*::[^\]]*]/g;return n.replace(e,"").replace(r,"").replace(t,"").trim()}var pt=_(F());function $X(n){let e=n.widget,t=(0,Nn.useRef)(null),[r,o]=(0,Nn.useState)(0);return(0,Nn.useEffect)(()=>{if(!t.current)return;let i=new ResizeObserver(a=>{let{width:s}=a[0].contentRect;o(s)});return i.observe(t.current),()=>{i.disconnect()}},[t]),(0,pt.jsxs)("div",{className:`widget-container check-in ${gn(e)}`,style:n.styles,children:[e.picture&&(0,pt.jsx)("div",{className:"widget-aside",children:(0,pt.jsx)(Dr,{src:e.picture})}),(0,pt.jsxs)("div",{className:"widget-main",ref:t,children:[e.title&&(0,pt.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:r}),(0,pt.jsx)("div",{className:"content",children:(0,pt.jsx)(REe,{widget:e})})]})]})}function REe(n){let e=n.widget,[t,r]=(0,Nn.useState)(),[o,i]=(0,Nn.useState)(),[a,s]=(0,Nn.useState)([]),[l,u]=(0,Nn.useState)(!1),[c,d]=(0,Nn.useState)(!1),[f,p]=(0,Nn.useState)(),h=_e(),m=(0,Nn.useMemo)(()=>{let D=new Date,S=[];if(D.getDay()!=1){let T=D.getDay()==0?6:D.getDay()-1;D.setDate(D.getDate()-T)}for(let T=0;T<7;T++)S.push(new Date(D)),D.setDate(D.getDate()+1);return S},[]);(0,Nn.useEffect)(()=>{let D=(S,T)=>{if(S.extension!="md"||!a)return;a.filter(L=>L.date==S.basename).length>0&&setTimeout(()=>{v().then(L=>{s(L)})},200)};return h.vault.on("modify",D),()=>{h.vault.off("modify",D)}},[a]);let v=async()=>{var O;let D=wK(h),S=e.tasks,T=[];for(let L=0;L<D.length;L++){let k=D[L],A=k.file,$=await h.vault.cachedRead(A),G=(O=h.metadataCache.getFileCache(A))==null?void 0:O.frontmatter;for(let K=0;K<S.length;K++){let V=S[K];if(V.checkInRecordType=="task"){let Y=$.split(`
`).filter(Q=>Q.match(/^-\s+\[.*\].*/)&&Q.includes(V.tag)).map(Q=>{var de;let X=(de=Q.match(/\[score::(\d+)\]/))==null?void 0:de[1],fe=X?parseInt(X):0,ne=!Q.match(/^-\s+\[\s\].*/),me=0;return ne?me=fe>0?fe:100:me=0,{taskId:V.id,date:k.date,name:GX(Q),score:me,tag:V.tag,type:"task"}});T.push(...Y)}else{let Y=G==null?void 0:G[V.name];if(Y!=null&&Y!=null){let Q;if(typeof Y=="number")Q=Y;else if(typeof Y=="string")try{let X=parseInt(Y);Q=isNaN(X)?0:X}catch(X){Q=0}else typeof Y=="boolean"&&(Q=Y?100:0);T.push({taskId:V.id,date:k.date,name:V.name,score:Q,type:"pageProperty"})}}}}return T};(0,Nn.useEffect)(()=>{v().then(D=>{s(D)})},[]);let g=(0,Nn.useCallback)((D,S)=>{let T=pe.fromJSDate(D).toFormat("yyyy-MM-dd");return a==null?void 0:a.find(O=>O.type=="pageProperty"?O.date==T&&O.name==S.name&&O.type==S.checkInRecordType:O.date==T&&O.tag==S.tag&&O.type==S.checkInRecordType)},[a]),y=(0,Nn.useCallback)(D=>{if(D==null)return{};let S=D.score;if(S==null)return{};let T=BX.find(O=>O.value==S);return T==null?{}:T.style},[]),C=async(D,S,T)=>{var $;let L=(await h.vault.cachedRead(D)).split(`
`),k=pe.now().toISO({includeOffset:!1}),A=L.findIndex(G=>G.match(/^-\s+\[.*\].*/)&&G.includes(T.tag));if(A==-1){let G=`
- [${S.score!=0?"x":" "}] ${S.name} [completion::${k}] [score::${S.score}] ${T.tag}`;h.vault.append(D,`
`+G)}else{let K=($=L[A].match(/\[score::(\d+)\]/))==null?void 0:$[1],V=S.score!==void 0?S.score:K,Y=`- [${S.score!=0?"x":" "}] ${S.name} [completion::${k}] [score::${V}] ${T.tag}`;L[A]=Y;let Q=L.join(`
`);await h.vault.modify(D,Q)}},w=async(D,S,T)=>{IT(h,D,T.name,S.score)},b=(0,Nn.useCallback)(async(D,S)=>{let T=await fV(h,D);vi(h,S,T)},[]),E=(0,Nn.useRef)(null);return(0,Nn.useLayoutEffect)(()=>{E.current&&E.current.style.setProperty("--check-in-today-mark-color",e.fontColor||"var(--text-normal)")},[E,e.fontColor]),(0,pt.jsxs)("div",{className:"check-in-table",ref:E,children:[(0,pt.jsxs)("div",{className:"check-in-row",children:[(0,pt.jsx)("div",{className:"head"}),(0,pt.jsx)("div",{className:"records",children:m.map((D,S)=>(0,pt.jsxs)("div",{className:"check-in-date",children:[(0,pt.jsx)("div",{className:"month",onClick:()=>{d(!0)},children:S==0?`${VX(D.getMonth(),ip()?"full":"short")}`:""}),(0,pt.jsx)("div",{className:`date ${QV(D)?"today":""}`,onClick:T=>{b(D,T)},children:D.getDate()}),(0,pt.jsx)("div",{className:`dayOfWeek ${QV(D)?"today":""}`,children:YP(D.getDay(),"medium")})]},S))})]}),e.tasks.map(D=>(0,pt.jsxs)("div",{className:"check-in-row",children:[(0,pt.jsx)("div",{className:"head",children:(0,pt.jsx)("div",{className:"check-in-task",children:D.checkInRecordType=="task"?(0,pt.jsx)("a",{href:"#",className:"tag",children:D.tag}):D.name})}),(0,pt.jsx)("div",{className:"records",children:m.map((S,T)=>(0,pt.jsx)("div",{className:`check-in-cell empty ${e.cellShape=="circle"?"circle":""}`,style:y(g(S,D)),onClick:O=>{r(S),i(D),p(O.currentTarget),u(!0)}},T))})]},D.id)),l&&t&&o&&(0,pt.jsx)(TEe,{widget:e,date:t,task:o,record:g(t,o),anchorElement:f,onClose:()=>{u(!1)},onSelect:async(D,S)=>{let T=await fV(h,t);o.checkInRecordType=="task"?await C(T,D,o):await w(T,D,o);let L=[...a==null?void 0:a.filter(k=>k.type=="pageProperty"?k.date!=D.date||k.name!=D.name:k.date!=D.date||k.tag!=D.tag),D];s(L),S!=!1&&new HX.Notice(R.check_in_success)}}),(0,pt.jsx)(pc,{isDismissable:!0,isOpen:c,onOpenChange:d,children:(0,pt.jsx)(fc,{children:({close:D})=>(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(dc,{slot:"title",children:e.title||""}),(0,pt.jsx)(PEe,{widget:e,checkInRecords:a})]})})})]})}function TEe(n){let{anchorElement:e,task:t,record:r,widget:o}=n;if(e==null)return(0,pt.jsx)(pt.Fragment,{});let{refs:i,floatingStyles:a,context:s}=Fo({open:!0,onOpenChange:()=>{n.onClose()},middleware:[Er(6),Xr(),tc(),nc()],whileElementsMounted:Yr,elements:{reference:e}}),l=Io(s),{styles:u}=lK(s),c=Ws(s,{role:"tooltip"}),{getFloatingProps:d}=Lo([l,c]),f=(0,Nn.useRef)(null);return(0,pt.jsx)(Bs,{root:document.body,children:(0,pt.jsx)(aa,{context:s,initialFocus:f,children:(0,pt.jsxs)("div",{className:"check-in-table score-menu",ref:i.setFloating,style:{...a,...u},...d(),children:[(0,pt.jsx)("div",{className:"score-items",children:BX.map(p=>(0,pt.jsx)("div",{className:`score-item cell-empty-color ${o.cellShape=="circle"?"circle":""}`,style:{...p.style},onClick:()=>{let h={name:t.name||"",tag:t.tag,...r,taskId:t.id,date:pe.fromJSDate(n.date).toFormat("yyyy-MM-dd"),type:t.checkInRecordType,score:p.value};n.onSelect(h)}},p.id))}),t.checkInRecordType=="task"&&(0,pt.jsx)("div",{className:"score-remark",children:(0,pt.jsx)("input",{type:"text",className:"input",ref:f,defaultValue:(r==null?void 0:r.name)||t.name||"",onFocus:()=>{var h,m;let p=(h=f.current)==null?void 0:h.value;p&&((m=f.current)==null||m.setSelectionRange(p.length,p.length))},onChange:async p=>{let h={...r,taskId:t.id,name:p.target.value||t.name||"",date:pe.fromJSDate(n.date).toFormat("yyyy-MM-dd"),tag:t.tag,type:t.checkInRecordType};n.onSelect(h,!1)}})})]})})})}function PEe(n){let{checkInRecords:e}=n;if(!window.renderContributionGraph)return(0,pt.jsx)("div",{children:' Install "Contribution Graph" First'});let t=(0,Nn.useRef)(null);return(0,Nn.useLayoutEffect)(()=>{if(t.current){let r=new Date().getFullYear(),o=new Date(`${r}-01-01 00:00:00`),i=new Date(`${r}-12-31 23:59:59`),a=pe.fromJSDate(o).toFormat("yyyy-MM-dd"),s=pe.fromJSDate(i).toFormat("yyyy-MM-dd");return new Set(e.map(u=>u.taskId)).forEach(u=>{let c=e.filter(h=>h.taskId==u).map(h=>({date:h.date,value:h.score})),d=n.widget.tasks.find(h=>h.id==u),f=(d==null?void 0:d.checkInRecordType)=="pageProperty"?(d==null?void 0:d.name)||"":(d==null?void 0:d.tag)||(d==null?void 0:d.name)||"",p={title:`${r} ${f}`,data:c,fromDate:a,toDate:s};window.renderContributionGraph(t.current,p)}),()=>{var u;(u=t.current)==null||u.empty()}}},[e]),!e||e.length==0?(0,pt.jsx)("div",{children:" No Check-in Records"}):(0,pt.jsx)("div",{ref:t})}var BX=[{id:0,label:"0",value:0,style:{}},{id:1,label:"20%",value:20,style:{backgroundColor:"#9BE9A8"}},{id:2,label:"40%",value:40,style:{backgroundColor:"#40C463"}},{id:3,label:"60%",value:60,style:{backgroundColor:"#30A14E"}},{id:4,label:"80%",value:80,style:{backgroundColor:"#318d4a",color:"#FFF"}},{id:5,label:"100%",value:100,style:{backgroundColor:"#216E39",color:"#FFF"}}];ue();var DH=_(F()),XP=class{accept(e){return e.type==="checkIn"}render(e){let t=e.widget;return(0,DH.jsx)($X,{widget:t,styles:e.style})}description(){let e=Qt("checkIn");return{name:R.widget_type_check_in,type:"checkIn",icon:(0,DH.jsx)(gd,{className:e}),description:R.widget_type_check_in_description}}};var Ql=_(z());var tg={showTimeLabel:!1,showDateLabel:!1,dialType:"none",dialBackgroundColor:"#FFF",secondHandColor:"#e6193f",minuteHandColor:"#333",hourHandColor:"#333",markerColor:"#DDD",radius:100},ZP=class{render(e,t){let r={...tg,...t},o=r.radius==null?100:r.radius,i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg");(r.dialType=="square"||r.dialType==="circle")&&(a.style.borderRadius="16px",a.style.backgroundColor=r.dialBackgroundColor||"#FFF",a.style.boxShadow="rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",r.dialType==="circle"&&(a.style.borderRadius="50%")),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("viewBox",`0 0 ${o*2} ${o*2}`),a.setAttribute("preserveAspectRatio","xMidYMid meet"),e.appendChild(a);for(let f=0;f<12;f++){let p=(f-3)*(Math.PI*2)/12,h=o+Math.cos(p)*(o-15),m=o+Math.sin(p)*(o-15),v=document.createElementNS(i,"rect");v.setAttribute("x",(h-2.5).toString()),v.setAttribute("y",(m-2.5).toString()),v.setAttribute("width","3"),v.setAttribute("height","9"),v.setAttribute("transform",`rotate(${f*30}, ${h}, ${m})`),v.setAttribute("fill",r.markerColor||"#DDD"),a.appendChild(v)}let s=document.createElementNS(i,"line");s.setAttribute("x1",o.toString()),s.setAttribute("y1",o.toString()),s.setAttribute("x2",o.toString()),s.setAttribute("y2",(o-o*.4).toString()),s.setAttribute("stroke",r.hourHandColor||"#333"),s.setAttribute("stroke-width","3"),s.setAttribute("stroke-linecap","round"),a.appendChild(s);let l=document.createElementNS(i,"line");l.setAttribute("x1",o.toString()),l.setAttribute("y1",o.toString()),l.setAttribute("x2",o.toString()),l.setAttribute("y2",(o-o*.55).toString()),l.setAttribute("stroke",r.minuteHandColor||"#333"),l.setAttribute("stroke-width","2"),l.setAttribute("stroke-linecap","round"),a.appendChild(l);let u=document.createElementNS(i,"line");u.setAttribute("x1",o.toString()),u.setAttribute("y1",o.toString()),u.setAttribute("x2",o.toString()),u.setAttribute("y2",(o-o*.55).toString()),u.setAttribute("stroke",r.secondHandColor||"#e6193f"),u.setAttribute("stroke-width","2"),u.setAttribute("stroke-linecap","round"),a.appendChild(u);let c=document.createElementNS(i,"circle");c.setAttribute("cx",o.toString()),c.setAttribute("cy",o.toString()),c.setAttribute("r",5+""),c.setAttribute("stroke",r.markerColor||"#DDD"),c.setAttribute("stroke-width","2"),c.setAttribute("fill","#FFF"),c.setAttribute("style","z-index: 100"),a.appendChild(c);let d=()=>{let f=new Date,p=f.getHours(),h=f.getMinutes(),m=f.getSeconds();s.setAttribute("transform",`rotate(${p*30+h*.5}, ${o}, ${o})`),l.setAttribute("transform",`rotate(${h*6}, ${o}, ${o})`),u.setAttribute("transform",`rotate(${m*6}, ${o}, ${o})`)};d(),this.timer=setInterval(()=>{d()},1e3)}destory(){clearInterval(this.timer)}};var l_=_(z());function Qy(n,e){let t=(0,l_.useRef)();(0,l_.useEffect)(()=>{t.current=n},[n]),(0,l_.useEffect)(()=>{function r(){t.current&&t.current()}if(e!==null){let o=setInterval(r,e);return()=>clearInterval(o)}},[e])}var tl=_(F());function WX(){let n=new Date,e=(n.getHours()+"").padStart(2,"0"),t=(n.getMinutes()+"").padStart(2,"0");return`${e}:${t}`}function zX(){let n=new Date,e=n.getDate(),t=n.getMonth()+1,r=n.getFullYear(),o=YP(n.getDay(),"medium");return`${r}/${t}/${e}, ${o}`}function UX(n){var f,p;let{widget:e}=n,t=(0,Ql.useRef)(null),r=(0,Ql.useRef)(null),[o,i]=(0,Ql.useState)(),[a,s]=(0,Ql.useState)(WX()),[l,u]=(0,Ql.useState)(zX());(0,Ql.useEffect)(()=>{if(!t.current)return;let h=new ResizeObserver(m=>{let{width:v}=m[0].contentRect;i(v)});return h.observe(t.current),()=>{h.disconnect()}},[t]);let c=()=>{if(!e.clockOptions)return;let h=e.clockOptions;if(h.showTimeLabel){let m=WX();s(m)}if(h.showDateLabel){let m=zX();u(m)}};Qy(()=>{c()},1e3),(0,Ql.useLayoutEffect)(()=>{if(!r.current)return;let h=new ZP;return h.render(r.current,{...e.clockOptions,radius:150}),()=>{var m;(m=r.current)==null||m.empty(),h.destory()}},[r,e.maxHeight,e.clockOptions]);let d={color:e.fontColor};return(0,tl.jsx)(tl.Fragment,{children:(0,tl.jsx)("div",{className:`widget-container clock ${gn(e)}`,style:n.styles,ref:t,onClick:()=>{},children:(0,tl.jsxs)("div",{className:"widget-main",children:[e.title&&(0,tl.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:o}),(0,tl.jsxs)("div",{className:"content",children:[(0,tl.jsx)("div",{ref:r}),((f=e.clockOptions)==null?void 0:f.showTimeLabel)&&(0,tl.jsx)("div",{className:"time-label",style:d,children:a}),((p=e.clockOptions)==null?void 0:p.showDateLabel)&&(0,tl.jsx)("div",{className:"date-label",style:d,children:l})]})]})})})}ue();var RH=_(F()),QP=class{accept(e){return e.type==="clock"}render(e){let t=e.widget;return(0,RH.jsx)(UX,{widget:t,styles:e.style})}description(){let e=Qt("clock");return{name:R.widget_type_clock,type:"clock",icon:(0,RH.jsx)(BS,{className:e}),description:R.widget_type_clock_description}}};var mc=_(z());function Co(n,e){let t=e==null?"yMdHms":e,r=n,o=new TH(t);if(t.contains("y")){let i=Math.floor(r/31536e6);o.year=i,r-=i*(365*24*60*60*1e3)}if(t.contains("M")){let i=Math.floor(r/2592e6);o.month=i,r-=i*(30*24*60*60*1e3)}if(t.contains("d")){let i=Math.floor(r/864e5);o.day=i,r-=i*(24*60*60*1e3)}if(t.contains("H")){let i=Math.floor(r/36e5);o.hour=i,r-=i*(60*60*1e3)}if(t.contains("m")){let i=Math.floor(r/6e4);o.minute=i,r-=i*(60*1e3)}if(t.contains("s")){let i=Math.floor(r/1e3);o.second=i,r-=i*1e3}return o}var TH=class{constructor(e){this.textPattern=e}isShowYear(){return this.textPattern.contains("y")}isShowMonth(){return this.textPattern.contains("M")}isShowDay(){return this.textPattern.contains("d")}isShowHour(){return this.textPattern.contains("H")}isShowMinute(){return this.textPattern.contains("m")}isShowSecond(){return this.textPattern.contains("s")}isShowUnit(e){return this.textPattern.contains(e)}resolveValue(e){switch(e){case"y":return this.year;case"M":return this.month;case"d":return this.day;case"H":return this.hour;case"m":return this.minute;case"s":return this.second}}toText(){let e="";return this.isShowYear()&&(e+=`${this.year} `),this.isShowMonth()&&(e+=`${this.month} `),this.isShowDay()&&(e+=`${this.day} `),this.isShowHour()&&(e+=`${this.hour} `),this.isShowMinute()&&(e+=`${this.minute} `),this.isShowSecond()&&(e+=`${this.second} `),e}};ue();var ng=_(F());function JP(n){let{timeText:e}=n;if(e==null||n.containerWidth==null)return(0,ng.jsx)("div",{className:"time-text"});let t=jn.get(),r=Math.max(e.textPattern.length*2+e.textPattern.length-1,e.toText().length),o=Math.min(Math.max(Math.floor(n.containerWidth/r),12),28),i=Math.min(Math.max(o*.6,8),12),a={fontSize:`${o}px`,letterSpacing:`${Math.ceil(o*.1)}px`,paddingBottom:`${Math.floor(o*.5)}px`,paddingTop:`${Math.floor(o*.5)}px`},s={fontSize:`${i}px`},l=Math.max(Math.floor(o*.5),8),u={paddingTop:`${l}px`,paddingBottom:`${l}px`},c=p=>n.containerWidth&&n.containerWidth<480?p.substring(0,3):p,d=["y","M","d","H","m","s"],f=p=>{switch(p){case"y":return t.year;case"M":return t.month;case"d":return t.day;case"H":return t.hour;case"m":return t.minute;case"s":return t.second}return""};return(0,ng.jsx)("div",{className:"time-text-container",style:u,children:d.map((p,h)=>{if(e.isShowUnit(p))return(0,ng.jsxs)("div",{className:"time-text",children:[(0,ng.jsxs)("span",{className:"time-value",style:a,children:[e.resolveValue(p)," "]}),(0,ng.jsx)("span",{className:"time-unit",style:s,children:c(f(p))})]},h)})})}var jX=_(z()),KX=_(F());function eO(n){let e=(0,jX.useMemo)(()=>{if(n.containerWidth==null)return 10;let t=n.containerWidth/20;return Math.max(Math.min(t,12),8)},[n.containerWidth]);return(0,KX.jsx)("span",{className:"datetime",style:{fontSize:`${e}px`},children:n.dateTime})}var hc=_(F());function qX(n){let e=n.widget,[t,r]=(0,mc.useState)(),[o,i]=(0,mc.useState)("");(0,mc.useEffect)(()=>{var c,d;if(e.repeatType=="none"){let f=e.endYear,p=e.endMonth,h=e.endDayOfMonth,m=e.endHour,v=e.endMinute,g=e.endSecond;if(f==null||p==null||h==null||m==null||v==null||g==null)return;let y=new Date(f,p,h,m,v,g);i(sc(y))}else if(e.repeatType=="daily"){let f=new Date;f.setHours(e.endHour),f.setMinutes(e.endMinute),f.setSeconds(e.endSecond),f.getTime()<new Date().getTime()&&f.setDate(f.getDate()+1),i(sc(f))}else if(e.repeatType=="monthly"){let f=new Date;f.setDate(tO(e.endDayOfMonth)),f.setHours(e.endHour),f.setMinutes(e.endMinute),f.setSeconds(e.endSecond),f.getTime()<new Date().getTime()&&f.setMonth(f.getMonth()+1),i(sc(f))}else if(e.repeatType=="weekly"){let f=new Date().getDay(),h=(((c=e.endDayOfWeek)!=null?c:0)-f+7)%7,m=new Date;m.setDate(m.getDate()+h),m.setHours(e.endHour),m.setMinutes(e.endMinute),m.setSeconds(e.endSecond),m.getTime()<new Date().getTime()&&m.setDate(m.getDate()+7),i(sc(m))}else if(e.repeatType=="yearly"){let f=new Date;f.setMonth((d=e.endMonth)!=null?d:1),f.setDate(tO(e.endDayOfMonth,e.endMonth)),f.setHours(e.endHour),f.setMinutes(e.endMinute),f.setSeconds(e.endSecond),f.getTime()<new Date().getTime()&&f.setFullYear(f.getFullYear()+1),i(sc(f))}},[e]);let a=()=>{if(e.repeatType=="weekly"){let c=e.endDayOfWeek;if(c==null)return;let d=e.endHour,f=e.endMinute,p=e.endSecond,h=new Date().getDay(),m=(c-h+7)%7,v=new Date;v.setDate(v.getDate()+m),v.setHours(d),v.setMinutes(f),v.setSeconds(p);let g=v.getTime(),y=new Date().getTime(),C=g-y;if(C<=0){let w=Co(0,e.timeTextPattern);r(w)}else{let w=Co(C,e.timeTextPattern);r(w)}}if(e.repeatType=="daily"){let c=e.endHour,d=e.endMinute,f=e.endSecond;if(c==null||d==null||f==null){let C=Co(0,e.timeTextPattern);r(C);return}let p=new Date,h=p.getFullYear(),m=p.getMonth(),v=p.getDate(),y=new Date(h,m,v,c,d,f).getTime()-p.getTime();if(y<=0){let C=Co(0,e.timeTextPattern);r(C);return}else{let C=Co(y,e.timeTextPattern);r(C);return}}if(e.repeatType=="monthly"){let c=new Date,d=tO(e.endDayOfMonth),f=e.endHour,p=e.endMinute,h=e.endSecond,m;d<c.getDate()?m=c.getMonth()+1:m=c.getMonth();let g=new Date(c.getFullYear(),m,d,f,p,h).getTime()-c.getTime();if(g<=0){let y=Co(0,e.timeTextPattern);r(y);return}else{let y=Co(g,e.timeTextPattern);r(y);return}}if(e.repeatType=="yearly"){let c=e.endMonth,d=tO(e.endDayOfMonth,e.endMonth),f=e.endHour,p=e.endMinute,h=e.endSecond;if(c==null||d==null||f==null||p==null||h==null){let b=Co(0,e.timeTextPattern);r(b);return}let m=new Date,g=new Date(m.getFullYear(),c,d,f,p,h).getTime()-m.getTime();if(g>0){let b=Co(g,e.timeTextPattern);r(b);return}if(d==m.getDate()&&c==m.getMonth()){let b=Co(0,e.timeTextPattern);r(b);return}let C=new Date(m.getFullYear()+1,c,d,f,p,h).getTime()-m.getTime(),w=Co(C,e.timeTextPattern);r(w)}if(e.repeatType=="none"){let c=e.endYear,d=e.endMonth,f=e.endDayOfMonth,p=e.endHour,h=e.endMinute,m=e.endSecond;if(c==null||d==null||f==null||p==null||h==null||m==null){let w=Co(0,e.timeTextPattern);r(w);return}let v=new Date(c,d,f,p,h,m),g=new Date,y=v.getTime()-g.getTime();if(y<=0){let w=Co(0,e.timeTextPattern);r(w);return}let C=Co(y,e.timeTextPattern);r(C)}};(0,mc.useEffect)(()=>{a()},[]),Qy(()=>{a()},1e3);let s=(0,mc.useRef)(null),[l,u]=(0,mc.useState)();return(0,mc.useEffect)(()=>{if(!s.current)return;let c=new ResizeObserver(d=>{let{width:f}=d[0].contentRect;u(f)});return c.observe(s.current),()=>{c.disconnect()}},[s]),(0,hc.jsxs)("div",{className:`widget-container countdown ${gn(e)}`,style:n.styles,children:[e.picture&&(0,hc.jsx)("div",{className:"widget-aside",children:(0,hc.jsx)(Dr,{src:e.picture})}),(0,hc.jsxs)("div",{className:"widget-main",ref:s,children:[e.title&&(0,hc.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:l}),(0,hc.jsx)("div",{className:"content",children:JP({timeText:t,containerWidth:l})}),e.showEndDateTime&&(0,hc.jsx)("div",{className:"footer",children:(0,hc.jsx)(eO,{dateTime:o,containerWidth:l})})]})]})}function tO(n,e){if(n==null)return 1;if(n==32){let t=new Date,r=new Date(t.getFullYear(),e!=null?e:t.getMonth(),1);return pe.fromJSDate(r).endOf("month").day}return n}ue();var PH=_(F()),nO=class{accept(e){return e.type==="countdown"}render(e){let t=e.widget;return(0,PH.jsx)(qX,{widget:t,styles:e.style})}description(){return{name:R.widget_type_countdown,type:"countdown",icon:(0,PH.jsx)(m0,{className:Qt("countdown")}),description:R.widget_type_countdown_description}}};var Jy=_(z());ht();var Ya=_(F());function YX(n){let e=n.widget,t=(0,Jy.useRef)(null),[r,o]=(0,Jy.useState)(0);return(0,Jy.useEffect)(()=>{if(!t.current)return;let i=new ResizeObserver(a=>{let{width:s}=a[0].contentRect;o(s)});return i.observe(t.current),()=>{i.disconnect()}},[t]),(0,Ya.jsxs)("div",{className:`widget-container custom-card ${gn(e)}`,style:n.styles,children:[e.picture&&e.picturePos=="left"&&(0,Ya.jsx)("div",{className:"widget-aside",children:(0,Ya.jsx)(Dr,{src:e.picture,className:e.pictureShape})}),(0,Ya.jsx)("div",{className:"widget-main",ref:t,children:(0,Ya.jsxs)("div",{className:"content",children:[e.picture&&e.picturePos=="top"&&(0,Ya.jsx)(Dr,{src:e.picture,className:e.pictureShape}),e.title&&(0,Ya.jsx)(br,{align:"left",title:e.title,widgetContainerWidth:r}),e.description&&(0,Ya.jsx)(OEe,{widge:n.widget}),e.showButton&&(0,Ya.jsx)(IEe,{widge:n.widget,style:{borderColor:n.widget.fontColor,backgroundColor:n.widget.backgroundColor}})]})})]})}function OEe(n){let e=n.widge;return(0,Ya.jsx)("div",{className:"description",style:{color:e.fontColor},children:e.description})}function IEe(n){var o;let e=_e(),t=n.widge,r=async()=>{let i=t.button;if(!i)return;let a=i.action;if(a)if(a.type=="url")window.open(a.url,"_blank");else{let s=a.commandId;if(!s)return;await e.commands.executeCommandById(s)}};return(0,Ya.jsx)("div",{className:"button",onClick:i=>r(),style:n.style,children:(o=t.button)==null?void 0:o.text})}ue();var OH=_(F()),rO=class{accept(e){return e.type==="customCard"}render(e){let t=e.widget;return(0,OH.jsx)(YX,{widget:t,styles:e.style})}description(){return{name:R.widget_type_custom_card,type:"customCard",icon:(0,OH.jsx)(fm,{className:Qt("customCard")}),description:R.widget_type_custom_card_description}}};var Qa=_(z()),IQ=_(DQ()),FQ=require("obsidian");ht();var EO=_(z()),ug=(0,EO.createContext)(void 0),Fp=()=>{let n=(0,EO.useContext)(ug);if(!n)throw new Error("useMarkdownRenderComponent must be used within a MarkdownRenderComponentContext");return n};ht();var RQ=_(z());var c$=_(F());function Cc(n){let e=_e(),t=(0,RQ.useMemo)(()=>js(e,n.property).filter(r=>!(r==null||r==null)).map((r,o)=>({key:r+"",label:r+"",value:r,icon:(0,c$.jsx)(qo,{size:14})})),[n.property]);return(0,c$.jsx)(Us,{placeholder:n.placeholder,value:n.value||"",items:t,inputClassName:n.className,onInput:r=>{var o;(o=n.onInput)==null||o.call(n,r)},onSelect:r=>{var o;(o=n.onSelect)==null||o.call(n,r)},onInputEnter:r=>{var o;(o=n.onInputEner)==null||o.call(n,r)},defaultOpen:n.defaultOpen})}ht();var TQ=_(z());var OQ=_(F());function PQ(n){let e=_e(),t=(0,TQ.useMemo)(()=>yp(e,""),[]);return(0,OQ.jsx)(Us,{placeholder:n.placeholder,value:n.value||"",items:t,onInput:r=>{n.onChange(r)},onSelect:r=>{n.onChange(r)}})}var Zo=_(F());function LQ(n){var d;let{widget:e}=n,t=(0,IQ.getAPI)();if(!t)return(0,Zo.jsx)("div",{children:"Install Dataview first"});let r=(0,Qa.useRef)(null),[o,i]=(0,Qa.useState)(),[a,s]=(0,Qa.useState)([]),l=_e(),u=Fp();(0,Qa.useEffect)(()=>{if(!r.current)return;let f=new ResizeObserver(p=>{let{width:h}=p[0].contentRect;i(h)});return f.observe(r.current),()=>{f.disconnect()}},[r]),(0,Qa.useEffect)(()=>{var p;let f=(p=e.dynamicParamComponents)==null?void 0:p.map(h=>new d$(h.name,h.defaultValue,h.defaultValue));s(f||[])},[e.id,e.dynamicParamComponents]);let c=(0,Qa.useRef)(null);return(0,Qa.useLayoutEffect)(()=>c.current?((()=>{var g,y,C,w;if(!c.current)return;(g=c.current)==null||g.empty();let p=document.createElement("div");p.className="dataview-widget-content",c.current.appendChild(p);let h=e.query;for(let b of a){let E="{{"+b.name+"}}",D=0;for(;h.contains(E)&&(D++,h=h.replace(E,((y=b.value)==null?void 0:y.toString())||((C=b.defaultValue)==null?void 0:C.toString())||""),!(D>100)););}let m=l.workspace.getActiveViewOfType(FQ.MarkdownView),v="";m&&(v=((w=m.file)==null?void 0:w.path)||""),e.queryType==="dataview"?t.execute(h,p,u,v):t.executeJs(h,p,u,v)})(),()=>{var p;(p=c.current)==null||p.empty()}):void 0,[c,e.query,e.queryType,a,u]),(0,Zo.jsx)("div",{className:`widget-container dataview ${gn(e)}`,style:n.styles,ref:r,children:(0,Zo.jsxs)("div",{className:"widget-main",children:[e.title&&(0,Zo.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:o}),(0,Zo.jsx)("div",{className:"dynamic-param-container",children:(d=e.dynamicParamComponents)==null?void 0:d.map((f,p)=>(0,Zo.jsx)(ADe,{comp:f,onChange:h=>{let m=f.name,v=h,g=a.map(y=>(y.name===m&&(y.value=v),y));s(g)}},p))}),(0,Zo.jsx)("div",{className:"content",ref:c,style:{maxHeight:`${e.maxHeight}px`,overflowY:"auto"}})]})})}function ADe(n){var a;let{comp:e,onChange:t}=n,[r,o]=(0,Qa.useState)(e.defaultValue||"");(0,Qa.useEffect)(()=>{o(e.defaultValue||"")},[e.id]);let i=s=>{switch(s){case"text":return"text";case"checkbox":return"checkbox";case"number":return"number";default:return"text"}};return(0,Zo.jsxs)("div",{className:"dynamic-param-node",children:[(0,Zo.jsx)("label",{className:"label",children:e.label}),e.type=="checkbox"&&(0,Zo.jsx)("input",{type:i(e.type),checked:r===!0,onChange:s=>{o(s.target.checked),t(s.target.checked)}}),e.type=="select"&&(0,Zo.jsx)("select",{className:"contribution-select",value:r,onChange:s=>{o(s.target.value),t(s.target.value)},children:(a=e.options)==null?void 0:a.map((s,l)=>(0,Zo.jsx)("option",{value:s.value,children:s.label},l))}),e.type=="tagSuggestions"&&(0,Zo.jsx)(PQ,{value:r||"",onChange:s=>{o(s),t(s)}}),e.type=="propertyValueSuggestions"&&(0,Zo.jsx)(Cc,{property:e.fromProperty||"",value:r,onInput:s=>{o(s),t(s)},onSelect:s=>{o(s),t(s)}}),(e.type=="text"||e.type=="number")&&(0,Zo.jsx)("input",{className:"input contribution-full-width",type:i(e.type),value:r,placeholder:e.placeholder,onChange:s=>{o(s.target.value),t(s.target.value)}})]})}var d$=class{constructor(e,t,r){this.name=e,this.defaultValue=r,this.value=t}};ue();var f$=_(F()),xO=class{accept(e){return e.type==="dataview"}render(e){let t=e.widget;return(0,f$.jsx)(LQ,{widget:t,styles:e.style})}description(){return{name:R.widget_type_dataview,type:"dataview",icon:(0,f$.jsx)(h0,{className:Qt("dataview")}),description:R.widget_type_dataview_description}}};var ol=_(z());var Qo=_(F());function MQ(n){let e=n.widget,t=(h,m,v)=>{var y;let g=v||"yyyy-MM-dd HH:mm:ss";return!m||m==="$specifiedDateTime"?h?pe.fromFormat(h,"yyyy-MM-dd HH:mm:ss").toFormat(g):"":((y=xr(m))==null?void 0:y.toFormat(g))||""},r=(0,ol.useMemo)(()=>{let h=new Date(t(e.startDateTime,e.startDateTimeType)),v=new Date(t(e.endDateTime,e.endDateTimeType)).getTime()-h.getTime(),y=(new Date().getTime()-h.getTime())/v*100;return y>=100?"100":`${y.toFixed(2)}`},[n.widget]),o=(0,ol.useMemo)(()=>t(e.startDateTime,e.startDateTimeType,"yyyy-MM-dd"),[e.startDateTime,e.startDateTimeType]),i=(0,ol.useMemo)(()=>t(e.endDateTime,e.endDateTimeType,"yyyy-MM-dd"),[e.endDateTime,e.endDateTimeType]),a={},s={},l={};e.fontColor&&(s.backgroundColor=e.fontColor,a.borderColor=e.fontColor,l.backgroundColor=e.fontColor);let u=(0,ol.useRef)(null),[c,d]=(0,ol.useState)();(0,ol.useEffect)(()=>{if(!u.current)return;let h=new ResizeObserver(m=>{let{width:v}=m[0].contentRect;d(v)});return h.observe(u.current),()=>{h.disconnect()}},[u]);let[f,p]=(0,ol.useState)(10);return(0,ol.useEffect)(()=>{if(c)if(c<200)p(10);else{let h=Math.floor((c-200)/100);p(Math.max(Math.min(100,h*10),10))}},[c]),(0,Qo.jsxs)("div",{className:`widget-container date-progress ${gn(e)}`,style:n.styles,ref:u,children:[e.picture&&(0,Qo.jsx)("div",{className:"widget-aside",children:(0,Qo.jsx)(Dr,{src:e.picture})}),(0,Qo.jsxs)("div",{className:"widget-main",children:[e.title&&(0,Qo.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:c}),(0,Qo.jsx)("div",{className:"content",children:(0,Qo.jsxs)("div",{className:"widget-progress-bar",children:[e.showProgressIndicator&&(0,Qo.jsxs)("span",{className:"percentage",children:[r,"%"]}),(0,Qo.jsx)("div",{className:"bar-outer",style:a,children:(0,Qo.jsx)("div",{className:"bar",style:{...s,width:`${r}%`}})}),(0,Qo.jsx)("div",{className:"scale-outer",children:Array.from({length:f},(h,m)=>m).map(h=>(0,Qo.jsx)("span",{"data-scale":h,style:l,className:h==0||(h+1)%10==0?"scale mark":"scale"},h))}),(0,Qo.jsxs)("div",{className:"mark-label",children:[(0,Qo.jsx)("span",{className:"start-date-time",children:e.showDateIndicator?o:""}),(0,Qo.jsx)("span",{className:"end-date-time",children:e.showDateIndicator?i:""})]})]})})]})]})}var wc=_(z());var p$=_(z()),cg=_(F());function AQ(n){let{radius:e,width:t,progress:r}=n,o=2*Math.PI*e,i=o-r/100*o,a=(0,p$.useMemo)(()=>Math.min(Math.max(Math.ceil(e/3),10),18),[n.radius]),s=(0,p$.useMemo)(()=>n.radius+n.width/2,[n.width,n.radius]);return(0,cg.jsxs)("div",{className:"widget-progress-ring",children:[(0,cg.jsxs)("svg",{style:{transform:"rotate(-90deg)"},height:2*n.radius+t,width:2*n.radius+t,children:[(0,cg.jsx)("circle",{cx:s,cy:s,r:n.radius,fill:"none",opacity:.2,stroke:n.progressColor,strokeWidth:Math.max(n.width/2,1)}),(0,cg.jsx)("circle",{cx:s,cy:s,r:n.radius,fill:"none",stroke:n.progressColor,strokeWidth:n.width,strokeDasharray:o,strokeDashoffset:i,strokeLinecap:"round"})]}),n.showProgressIndicator&&(0,cg.jsxs)("span",{className:"percentage",style:{fontSize:`${a}px`},children:[r.toString().substring(0,5),"%"]})]})}var Zd=_(F());function NQ(n){let e=n.widget,t=(f,p,h)=>{var v;let m=h||"yyyy-MM-dd HH:mm:ss";return!p||p==="$specifiedDateTime"?f?pe.fromFormat(f,"yyyy-MM-dd HH:mm:ss").toFormat(m):"":((v=xr(p))==null?void 0:v.toFormat(m))||""},r=(0,wc.useMemo)(()=>{let f=new Date(t(e.startDateTime,e.startDateTimeType)),h=new Date(t(e.endDateTime,e.endDateTimeType)).getTime()-f.getTime(),v=(new Date().getTime()-f.getTime())/h*100;return v>=100?100:v},[n.widget]),o={},i={},a={};e.fontColor&&(i.backgroundColor=e.fontColor,o.borderColor=e.fontColor,a.backgroundColor=e.fontColor);let s=(0,wc.useRef)(null),[l,u]=(0,wc.useState)();(0,wc.useEffect)(()=>{if(!s.current)return;let f=new ResizeObserver(p=>{let{width:h}=p[0].contentRect;u(h)});return f.observe(s.current),()=>{f.disconnect()}},[s]);let[c,d]=(0,wc.useState)(50);return(0,wc.useEffect)(()=>{l&&d(Math.min(Math.max(l*.8/2,20),60))},[l]),(0,Zd.jsxs)("div",{className:`widget-container date-progress ${gn(e)}`,style:n.styles,ref:s,children:[e.picture&&(0,Zd.jsx)("div",{className:"widget-aside",children:(0,Zd.jsx)(Dr,{src:e.picture})}),(0,Zd.jsxs)("div",{className:"widget-main",children:[(0,Zd.jsx)("div",{className:"content",children:(0,Zd.jsx)(AQ,{progress:r,radius:c,width:Math.ceil(c/10),progressColor:e.fontColor||"var(--text-normal)",showProgressIndicator:e.showProgressIndicator})}),e.title&&(0,Zd.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:l,maxFontSize:18,minFontSize:14})]})]})}ue();var DO=_(F()),RO=class{accept(e){return e.type==="dateProgress"}render(e){let t=e.widget;return t.uiType=="ring"?(0,DO.jsx)(NQ,{widget:t,styles:e.style}):(0,DO.jsx)(MQ,{widget:t,styles:e.style})}description(){return{name:R.widget_type_date_progress,type:"dateProgress",icon:(0,DO.jsx)(o0,{className:Qt("dateProgress")}),description:R.widget_type_date_progress_description}}};var $o=_(z()),Fse=require("obsidian");ht();ue();var Lp=_(z());var TO=_(z()),Qd=(0,TO.createContext)(void 0),PO=()=>{let n=(0,TO.useContext)(Qd);if(!n)throw new Error("useAppContainer must be used within a AppContainerContext");return n};var Sc=_(F()),b_=(0,Lp.forwardRef)((n,e)=>{let[t,r]=(0,Lp.useState)(!1),{refs:o,floatingStyles:i,context:a}=Fo({open:t,placement:"bottom-start",onOpenChange:c=>r(c),middleware:[Er(),Xr(),tc(),nc()],whileElementsMounted:Yr});(0,Lp.useImperativeHandle)(e,()=>({showFloating:()=>r(!0),hideFloating:()=>r(!1)}));let s=Io(a),{getFloatingProps:l}=Lo([s]),u=PO();return(0,Lp.useEffect)(()=>{if(t){let c=u,d=c.clientHeight,f=c.style.minHeight;return c.style.minHeight=Math.max(d,500)+"px",()=>{c.style.minHeight=f}}},[t]),(0,Sc.jsxs)(Sc.Fragment,{children:[(0,Sc.jsx)("div",{className:"contribution-widget-floating-label",ref:o.setReference,onClick:()=>{r(!t)},children:n.label}),t&&(0,Sc.jsx)(Bs,{root:document.body,children:(0,Sc.jsx)(vp,{children:(0,Sc.jsx)(aa,{context:a,modal:!1,children:(0,Sc.jsx)("div",{className:"contribution-widget-floating-content",ref:o.setFloating,style:{zIndex:19,...i},...l(),children:n.children})})})})]})});var kQ=_(z());var OO=_(F());var et=(0,kQ.forwardRef)(function(e,t){return(0,OO.jsxs)("div",{className:`contribution-widget-button ${e.type||""} ${e.size||""} ${e.className||""} ${e.disabled?"disabled":""}`,onClick:r=>{e.disabled||e.onClick&&e.onClick(r)},onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,...e.attrs,ref:t,children:[e.icon&&(0,OO.jsx)("div",{className:"button-icon",children:e.icon}),e.children]})});var bc=_(z());var ou=_(F());function jt(n){var L;let{selectedKey:e,options:t,disabled:r}=n,o=t.findIndex(k=>k.key===e),[i,a]=bc.useState(!1),[s,l]=bc.useState(null),[u,c]=bc.useState(o>=0?o:null);bc.useEffect(()=>{o>=0&&(l(o),c(o))},[o]);let{refs:d,floatingStyles:f,context:p}=Fo({placement:"bottom-start",open:i,onOpenChange:a,whileElementsMounted:Yr,middleware:[Er(5),Xr({padding:10}),Hs({apply({rects:k,elements:A,availableHeight:$}){Object.assign(A.floating.style,{minWidth:`${k.reference.width}px`})},padding:10})]}),h=bc.useRef([]),m=bc.useRef(t.map(k=>null)),v=bc.useRef(!1),g=ET(p,{event:"mousedown"}),y=Io(p),C=Ws(p,{role:"listbox"}),w=DT(p,{listRef:h,activeIndex:s,selectedIndex:u,onNavigate:l,loop:!0}),b=uK(p,{listRef:m,activeIndex:s,selectedIndex:u,onMatch:i?l:c,onTypingChange(k){v.current=k}}),{getReferenceProps:E,getFloatingProps:D,getItemProps:S}=Lo([y,C,w,b,g]),T=k=>{c(k),n.onChange(t[k].value),a(!1)},O=u!==null?(L=t[u])==null?void 0:L.label:void 0;return(0,ou.jsxs)(ou.Fragment,{children:[(0,ou.jsx)("div",{className:`contribution-select-label ${n.disabled?"disabled":""} ${n.fullWidth===!1?"":"contribution-full-width"}`,tabIndex:0,ref:d.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...E(),children:(0,ou.jsx)("span",{children:O||"select..."})}),!r&&i&&(0,ou.jsx)(Bs,{children:(0,ou.jsx)(aa,{context:p,modal:!1,children:(0,ou.jsx)("div",{ref:d.setFloating,className:"contribution-select-scroller",style:{...f},...D(),children:t.map((k,A)=>(0,ou.jsx)(RT,{option:k,className:`${A===s?"active":""}`,ref:$=>{h.current[A]=$},attrs:{...S({onClick(){T(A)},onKeyDown($){$.key==="Enter"&&($.preventDefault(),T(A)),$.key===" "&&!v.current&&($.preventDefault(),T(A))}})}},k.key))})})})]})}var GQ=_(F());function VQ(n){let e=lP.filter(t=>t.support(n.condition.value,n.condition)).map(t=>({key:t.id(),value:t.id(),label:t.name()}));return(0,GQ.jsx)(jt,{selectedKey:n.value,options:e,onChange:function(t){n.onChange(t)}})}ht();var __=_(z());var il=_(F());function Jd(n){var m,v;let[e,t]=(0,__.useState)(!1),[r,o]=(0,__.useState)(!1),i=n.options.findIndex(g=>g.key===n.selectedKey);(0,__.useEffect)(()=>{var g;(g=n.onOpenChange)==null||g.call(n,e)},[e]),!e&&r&&o(!1);let{refs:a,floatingStyles:s,context:l}=Fo({open:e,onOpenChange:t,whileElementsMounted:Yr,placement:"bottom-start",middleware:[Er(8),Xr({padding:(m=n.overflowPadding)!=null?m:10}),Hs({apply({rects:g,elements:y,availableHeight:C}){Object.assign(y.floating.style,{minWidth:`${g.reference.width}px`})},padding:(v=n.overflowPadding)!=null?v:10})]}),u=ET(l),c=Ws(l,{role:"listbox"}),d=Io(l),{getReferenceProps:f,getFloatingProps:p}=Lo([u,c,d]),h=i>=0?n.options[i].label:void 0;return(0,il.jsxs)(il.Fragment,{children:[(0,il.jsx)("div",{className:"contribution-select-label",tabIndex:0,ref:a.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...f(),children:(0,il.jsx)("span",{children:h||n.placeholder||"select..."})}),(0,il.jsx)(Bs,{children:e&&(0,il.jsx)(vp,{children:(0,il.jsx)(aa,{context:l,modal:!1,children:(0,il.jsx)("div",{className:"contribution-autocomplete-container",...p({ref:a.setFloating,style:{...s}}),children:(0,il.jsx)(Cy,{items:n.options,onSelect:g=>{n.onChange(g),t(!1)},match:n.match})})})})})]})}var HQ=_(z());var h$=_(F());function iu(n){let e=_e(),t=(0,HQ.useMemo)(()=>[...PT(e,"").map((o,i)=>({key:o.name,icon:(0,h$.jsx)(qo,{size:14}),value:o,label:o.label||o.name})),...n.additionalProperties||[]],[]);return(0,h$.jsx)(Jd,{selectedKey:n.value,options:t,onChange:function(r){n.onChange(r)},match:(r,o)=>{var i;return((i=o.label)==null?void 0:i.toLowerCase().includes(r.toLowerCase()))||o.name.toLowerCase().includes(r.toLowerCase())}})}var dg=_(z());ue();var m$=_(z());Mo();var Pr=_(F());function _c(n){let[e,t]=(0,dg.useState)(n.defaultOpen==!0),[r,o]=(0,dg.useState)(""),i=(0,dg.useRef)(null),{refs:a,floatingStyles:s,context:l}=Fo({whileElementsMounted:Yr,open:e,onOpenChange:t,placement:"bottom-start",middleware:[Xr({padding:10}),Er(({rects:g})=>-g.reference.height),Hs({apply({rects:g,availableHeight:y,elements:C}){Object.assign(C.floating.style,{minWidth:`${g.reference.width}px`})},padding:10})]}),u=Ws(l,{role:"listbox"}),c=Io(l),{getReferenceProps:d,getFloatingProps:f}=Lo([u,c]);(0,dg.useEffect)(()=>{e&&i.current&&(i.current.focus(),i.current.selectionStart=(i.current.value||"").length),n.onOpenChange&&n.onOpenChange(e)},[e]);function p(g){let y=g.target.value;o(y),y&&t(!0)}let h=n.items.filter(g=>{var y,C;return((y=g.label)==null?void 0:y.toString().toLowerCase().includes(cn(r)))||((C=n.match)==null?void 0:C.call(n,r,g.value))}),m=m$.useMemo(()=>n.items.some(g=>g.key===r),[r]),v=m$.useMemo(()=>n.value?Array.isArray(n.value)?[...n.value].sort():[n.value]:[],[n.value]);return(0,Pr.jsxs)(Pr.Fragment,{children:[(0,Pr.jsx)("div",{ref:a.setReference,...d(),className:"contribution-autocomplete-label multi",onClick:()=>{t(!0)},children:v&&v.length>0?(0,Pr.jsx)(vn,{wrap:!0,gap:4,children:v.map(g=>(0,Pr.jsx)(pr,{tag:g},g))}):(0,Pr.jsx)("span",{children:n.placeholder||R.click_to_select})}),(0,Pr.jsx)(Bs,{children:e&&(0,Pr.jsx)(vp,{children:(0,Pr.jsx)(aa,{context:l,initialFocus:-1,visuallyHiddenDismiss:!0,children:(0,Pr.jsxs)("div",{className:"contribution-autocomplete-container",...f({ref:a.setFloating,style:{...s}}),children:[(0,Pr.jsxs)("div",{className:"contribution-autocomplete-multi-header",children:[v&&v.map((g,y)=>{let C=Qt(g);return(0,Pr.jsxs)("div",{className:`contribution-widget-tag ${C}`,children:[(0,Pr.jsx)("span",{className:"tag-label",children:g}),(0,Pr.jsx)("span",{className:"remove-button",onClick:w=>{var b;w.stopPropagation(),(b=n.onRemove)==null||b.call(n,g)},children:"x"})]},g)}),(0,Pr.jsx)("input",{className:`${n.inputClassName}`,type:"text",ref:i,value:r,onFocus:()=>{t(!0)},onChange:g=>{p(g)},onKeyDown:g=>{var y,C;if(g.key==="Enter"){if(r==="")return;(y=n.onInputEnter)==null||y.call(n,r),o("");return}g.key==="Backspace"&&r===""&&v.length>0&&((C=n.onRemove)==null||C.call(n,v[v.length-1]))}})]}),h.length>0&&(0,Pr.jsx)(Cy,{items:h,hideSuggestHeader:!0,onSelect:g=>{var y;(y=n.onSelect)==null||y.call(n,g)}}),!m&&r!=""&&(0,Pr.jsxs)(vn,{children:[(0,Pr.jsx)(Et,{children:R.enter_to_create}),(0,Pr.jsx)(pr,{tag:r})]})]})})})})]})}ht();var IO=_(F()),FO=class{accept(e){let t=["contains_any"];return e.operator?t.includes(e.operator):!1}render(e,t){let r=_e(),o=()=>js(r,e.property).filter(i=>!(i==null||i==null)).map((i,a)=>({key:Ze(),label:i+"",value:i,icon:(0,IO.jsx)(qo,{size:14})}));return(0,IO.jsx)("div",{className:"condition-item",children:(0,IO.jsx)(_c,{value:e.value||[],items:o(),onInputEnter:i=>{let a=[...e.value||[],i];t(Ao(a))},onSelect:i=>{let a=[...e.value||[],i];t(Ao(a))},onRemove:i=>{let a=(e.value||[]).filter(s=>s!=i);t(a)}})})}};var $Q=_(F());function Mp(n){let e=Kq.filter(t=>{var r;return n.excludes?!((r=n.excludes)!=null&&r.includes(t.value)):!0});return(0,$Q.jsx)(jt,{selectedKey:n.value,options:e,onChange:function(t){n.onChange(t)}})}var Ec=_(F()),LO=class{accept(e){let t=["time_before","time_after","time_before_or_equal","time_after_or_equal"];return e.operator?t.includes(e.operator):!1}render(e,t){return(0,Ec.jsxs)(Ec.Fragment,{children:[(0,Ec.jsx)("div",{className:"condition-item",children:qq(e.value)?(0,Ec.jsx)(Mp,{value:e.value,onChange:r=>{t(r)}}):(0,Ec.jsx)(Mp,{value:"$specifiedDateTime",onChange:r=>{t(r)}})}),Yq(e.value)&&(0,Ec.jsx)("div",{className:"condition-item",children:(0,Ec.jsx)("input",{type:"datetime-local",value:e.value||"",onChange:r=>{t(r.target.value)}})})]})}};ue();var g$=_(F()),MO=class{accept(e){return!0}render(e,t){var r;return(0,g$.jsx)("div",{className:"condition-item",children:(0,g$.jsx)(Cc,{property:e.property||"",placeholder:R.value,value:((r=e.value)==null?void 0:r.toString())||"",onInput:o=>{t(o)},onSelect:o=>{t(o)}})})}};ue();var v$=_(F()),AO=class{accept(e){return e.operator=="regex_match"}render(e,t){var r;return(0,v$.jsx)("div",{className:"condition-item",children:(0,v$.jsx)(Cc,{property:e.property||"",placeholder:R.value,value:((r=e.value)==null?void 0:r.toString())||"",onInput:o=>{t(o)},onSelect:o=>{t(o)}})})}};ht();var cC=require("obsidian"),kO=_(z());var NO=_(F());function Ap(n){let[e,t]=(0,kO.useState)([]),r=_e();(0,kO.useEffect)(()=>{let i=r.vault.getFiles().filter(s=>n.includeFolder?!0:s instanceof cC.TFile).filter(s=>n.fileExtensions&&s instanceof cC.TFile?n.fileExtensions.contains(s.extension.toLowerCase()):!0).sort((s,l)=>s.basename.localeCompare(l.basename)),a=n.includeFolder?i.map(s=>s.parent).filter(s=>s!=null).reduce((s,l)=>(!l||s.some(u=>u.path==l.path)||s.push(l),s),[]):[];n.onlyFolder?t(a):t([...i,...a])},[n.fileExtensions]);let o=e.sort((i,a)=>i.path.localeCompare(a.path)).map(i=>({key:i.path,value:i,label:i instanceof cC.TFile?i.basename:i.path,description:i instanceof cC.TFile?i.path:"",icon:i instanceof cC.TFile?(0,NO.jsx)(lm,{}):(0,NO.jsx)(um,{})}));return(0,NO.jsx)(Us,{value:n.value,items:o,placeholder:n.placeholder,onInput:i=>{var a;(a=n.onInput)==null||a.call(n,i)},onInputEnter:i=>{var a;(a=n.onInput)==null||a.call(n,i)},onSelect:i=>{var a;(a=n.onSelect)==null||a.call(n,i.path)},match:(i,a)=>i?a.path.toLowerCase().includes(i.toLowerCase()):!0})}var y$=_(F()),VO=class{accept(e){return e.property=="${file.path}"}render(e,t){return(0,y$.jsx)("div",{className:"condition-item",children:(0,y$.jsx)(Ap,{value:e.value||"",fileExtensions:["md"],onlyFolder:!0,includeFolder:!0,onInput:r=>{t(r)},onSelect:r=>{t(r)}})})}};ht();ht();var BQ=_(z());var WQ=_(F());function GO(n){let e=_e(),{value:t,placeholder:r}=n,o=(0,BQ.useMemo)(()=>t==null||t==""?[]:Array.isArray(t)?t:[t],[t]);return(0,WQ.jsx)(_c,{value:t||[],items:yp(e,""),placeholder:r,defaultOpen:n.defaultOpen,onOpenChange:n.onOpenChange,onInputEnter:i=>{let a=[...o,i];n.onChange(Ao(a))},onSelect:i=>{let a=[...o,i];n.onChange(Ao(a))},onRemove:i=>{let a=o.filter(s=>s!=i);n.onChange(a)}})}var E_=_(F()),HO=class{accept(e){return e.property=="${file.tags}"}render(e,t){let r=_e();return e.operator=="contains_any"?(0,E_.jsx)("div",{className:"condition-item",children:(0,E_.jsx)(GO,{value:e.value||[],onChange:function(o){t(o)}})}):(0,E_.jsx)("div",{className:"condition-item",children:(0,E_.jsx)(Jd,{selectedKey:e.value||"",options:yp(r,""),onChange:o=>{t(o)}})})}};var zQ=[new AO,new HO,new VO,new FO,new LO,new MO];var xc=_(F());function UQ(n){let{condition:e}=n,t=r=>{n.onChange(r)};return(0,xc.jsxs)("div",{className:"condition-item-container","data-id":e.id,children:[(0,xc.jsx)("div",{className:"condition-item",children:(0,xc.jsx)(iu,{value:e.property,onChange:function(r){let o={...e,property:r.name};t(o)}})}),(0,xc.jsx)("div",{className:"condition-item",children:(0,xc.jsx)(VQ,{condition:e,value:e.operator||"",onChange:function(r){if(e2(e.operator)&&!e2(r)){let o={...e,operator:r,value:""};t(o)}else{let o={...e,operator:r};t(o)}}})}),(0,xc.jsx)(NDe,{condition:e,onChange:r=>{let o={...e,value:r};t(o)}}),(0,xc.jsx)(et,{size:"sm",onClick:()=>{n.onRemove&&n.onRemove(e)},children:"x"})]})}function NDe(n){let{condition:e}=n,t=zQ.find(r=>r.accept(e));return t?t.render(e,n.onChange):(0,xc.jsxs)("span",{children:["No renderer match for ",e.operator]})}var $O=class{constructor(){this.value="",this.operator="contains",this.property="${file.tags}",this.id=Ze()}};ue();var dC=_(F());function Dc(n){var r;let{filter:e,onChange:t}=n;return(0,dC.jsxs)("div",{className:"contribution-widget-filters",children:[(r=e.conditions)==null?void 0:r.map((o,i)=>(0,dC.jsx)(UQ,{condition:o,onRemove:a=>{let s=e.conditions.filter(l=>l.id!=o.id);t({...e,conditions:s})},onChange:a=>{let s=e.conditions.map(l=>l.id==a.id?a:l);t({...e,conditions:s})}},o.id)),(0,dC.jsx)(et,{onClick:()=>{let o=[...e.conditions,new $O];t({...e,conditions:o})},children:(0,dC.jsxs)("span",{children:["+ ",R.add_condition]})})]})}Mo();var BO=class extends hn{constructor(t,r){super(t,"dynamicDataView");this.backgroundStyle="none",this.viewType=r,this.datasource=C$,this.properties=[],this.templates=[]}};var WO=class{constructor(e){this.id=e,this.property="",this.direction="asc"}},fC=class{constructor(e){this.id=e,this.path="",this.type=zO.default}},zO=(t=>(t.default="default",t.templater="templater",t))(zO||{});var C$={filter:{conditions:[]},dataLimit:50,storage:{location:""},sort:{orders:[]}},jQ={orders:[]},KQ={location:""};ue();var al=_(F());function UO(n){let{sort:e,onChange:t}=n;return(0,al.jsxs)("div",{className:"contribution-widget-sorts",children:[e.orders.map((r,o)=>(0,al.jsx)(kDe,{order:r,onRemove:i=>{let a=e.orders.filter(s=>s.id!=i.id);t({...e,orders:a})},onChange:i=>{let a=e.orders.map(s=>s.id==i.id?i:s);t({...e,orders:a})}},r.id)),(0,al.jsx)(et,{onClick:()=>{let r=new WO(Ze());r.property="${file.basename}";let o=[...e.orders,r];t({...e,orders:o})},children:(0,al.jsxs)("span",{children:["+ ",R.add_condition]})})]})}function kDe(n){return(0,al.jsxs)("div",{className:"condition-item-container",children:[(0,al.jsx)("div",{className:"condition-item",children:(0,al.jsx)(iu,{value:n.order.property,onChange:function(e){n.onChange({...n.order,property:e.name})}})}),(0,al.jsx)("div",{className:"condition-item",children:(0,al.jsx)(jt,{selectedKey:n.order.direction,onChange:e=>{n.onChange({...n.order,direction:e})},options:[{label:R.ascending,value:"asc",key:"asc"},{label:R.descending,value:"desc",key:"desc"}]})}),(0,al.jsx)(et,{onClick:e=>{n.onRemove(n.order)},children:"x"})]})}var qQ=require("obsidian");function YQ(n){let e="---";e+=`
`;let t=n.filter(r=>r.type!="backlinkCount").map(r=>{var o;switch(r.type){case("text"||"number"):return`${r.name}: ${r.defaultValue||""}`;case"checkbox":return`${r.name}: ${r.defaultValue||""}`;case"datetime":return`${r.name}: ${((o=xr(r.defaultValue))==null?void 0:o.toFormat("yyyy-MM-dd'T'HH:mm:ss"))||r.defaultValue||""}`;case"multiSelect":if(Array.isArray(r.defaultValue)){let a=r.defaultValue.map(s=>`  - ${s}`).join(`
`);return`${r.name}:
${a}`}return`${r.name}:
  - ${r.defaultValue}`;default:return`${r.name}: ${r.defaultValue||""}`}return""}).join(`
`);return e+=t,e+=`
---`,e}function XQ(n,e,t){let r=t.path;if(t.type=="default")return pV(n,e,r);let o=n.plugins.plugins["templater-obsidian"].templater,i=n.vault.getAbstractFileByPath((0,qQ.normalizePath)(r));return o.create_new_note_from_template(i,void 0,void 0,!1)}function ZQ(n){switch(n){case"${file.basename}":return"text";case"${file.ctime}":return"datetime";case"${file.mtime}":return"datetime";case"${file.size}":return"number";case"${file.tags}":return"multiSelect";default:return"text"}}function QQ(n){if(n==null||n==null||n=="")return"text";if(Array.isArray(n))return"multiSelect";if(typeof n=="boolean")return"checkbox";if(typeof n=="number")return"number";if(n=="true"||n=="false")return"checkbox";if(n instanceof Date)return"datetime";try{if(!isNaN(n))return"number"}catch(t){}let e=Hi(n);return e&&e.isValid?"datetime":Sy(n)?"link":VDe(n)?"link":"text"}function JQ(n){switch(n){case"checkbox":return!1;case"number":return 0;case"datetime":return"";case"multiSelect":return[];default:return""}}function VDe(n){try{return new URL(n),!0}catch(e){return!1}}var eJ=(n,e,t,r,o)=>{let i=(s,l)=>{if(o.orders&&o.orders.length>0){let u=e.metadataCache.getFileCache(s),c=e.metadataCache.getFileCache(l);if(!u||!c)return 0;let d=u.frontmatter,f=c.frontmatter;for(let p of o.orders){if(p.property=="${file.basename}")return p.direction=="asc"?s.basename.localeCompare(l.basename):l.basename.localeCompare(s.basename);if(p.property=="${file.ctime}"){let v=s.stat.ctime,g=l.stat.ctime;return p.direction=="asc"?v-g:g-v}if(p.property=="${file.mtime}"){let v=s.stat.mtime,g=l.stat.mtime;return p.direction=="asc"?v-g:g-v}if(p.property=="${file.size}"){let v=s.stat.size,g=l.stat.size;return p.direction=="asc"?v-g:g-v}let h=d==null?void 0:d[p.property],m=f==null?void 0:f[p.property];if(h&&m){if(h==m)continue;return p.direction=="asc"?h<m?-1:1:h>m?-1:1}}}return l.basename.localeCompare(s.basename)};return n.filter(s=>uc.match(e,s,r)).filter(s=>s.basename.toLowerCase().includes((t==null?void 0:t.toLowerCase())||"")).sort((s,l)=>i(s,l))},tJ=n=>!!n.plugins.plugins["templater-obsidian"];var sse=require("obsidian"),xL=_(z());ht();var lse=_(vae());function GE(n){return n.alias&&n.alias.trim()!==""?n.alias:FT(n.name)}ue();var yae=_(z());ht();var Cae=_(F());function eL(n){let{file:e}=n,t=_e(),r=(0,yae.useMemo)(()=>{let o=t.metadataCache.getBacklinksForFile(e);return Object.keys(o.data).length},[e.path]);return(0,Cae.jsx)("span",{children:r})}Mo();var wae=_(z()),jW=_(F()),Sae=(0,wae.memo)(n=>{let{data:e}=n,t=e.__$file;return t?(0,jW.jsx)(eL,{file:t}):(0,jW.jsx)(Et,{children:R.none})});var tL=class{accept(e){return e.type=="backlinkCount"}create(e){return{colId:e.id,field:e.name,cellRenderer:Sae}}};var nL=class{accept(e){return e.type=="checkbox"}create(e){return{colId:e.id,field:e.name,cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",editable:!0}}};var bae=_(z()),Eae=_(F()),_ae=(0,bae.memo)(n=>{let{value:e,onValueChange:t,stopEditing:r}=n;return(0,Eae.jsx)("input",{type:"datetime-local",value:e||"",onChange:o=>{t(o.target.value)},onBlur:()=>{r()},tabIndex:1})});var rL=class{accept(e){return e.type=="datetime"}create(e){return{colId:e.id,field:e.name,cellEditor:_ae,editable:!0}}};ue();Mo();var xae=_(z());ue();function fh(n,e){if(e.type!="number")return n;let t=e.options||{},r=t.prefix||"",o=t.suffix||"";return n!=null&&n!=null?`${r}${n}${o}`:R.none}ht();var ZC=_(F()),Dae=(0,xae.memo)(n=>{let{data:e,column:t}=n,r=e.__$file,o=_e();if(!r)return(0,ZC.jsx)(Et,{children:R.none});let{colId:i}=t;if(i){let s=e.__$widget.properties.find(l=>l.id===i);if(s){let l=s.name,u=by(o,r,l),c=()=>{switch(l){case"${file.ctime}":case"${file.mtime}":return pe.fromJSDate(new Date(u)).toFormat(Px);default:return fh(u,s)}};return l=="${file.tags}"?(0,ZC.jsx)(vn,{wrap:!0,children:u.map(d=>(0,ZC.jsx)(pr,{tag:d},d))}):(0,ZC.jsx)("span",{children:c()})}}return(0,ZC.jsx)("span",{children:R.none})});var oL=class{accept(e){return Gi(e.name)}create(e){return{colId:e.id,field:e.name,cellRenderer:Dae}}};ue();ht();ue();Mo();var Rae=_(z()),iL=_(F()),Tae=(0,Rae.memo)(n=>{let{value:e,colDef:t,data:r}=n,o=_e(),i=r.__$file,a=r.__$widget;return i?(0,iL.jsx)("span",{children:(0,iL.jsx)("a",{href:i.path,"data-href":i.path,target:"_blank",rel:"noopener",className:"internal-link table-title",onClick:s=>{var l;i&&(s.stopPropagation(),s.preventDefault(),vi(o,s,i,((l=a.viewOptions)==null?void 0:l.openPageIn)||"split"))},children:e})}):(0,iL.jsx)(Et,{children:R.none})});var HE="__$fileName",aL=class{create(e){let t=e.viewOptions.headColumnWidth;return{colId:HE,headerName:R.file_basename,field:HE,editable:!0,suppressMovable:!0,lockPosition:"left",cellRenderer:Tae,cellEditor:"agLargeTextCellEditor",cellEditorPopup:!0,width:t}}};ue();Mo();var Iae=_(z());var sL=class extends BO{constructor(t){super(t,"gallary");this.viewOptions=Vg,this.backgroundStyle="none"}};var Vg={openPageIn:"split",itemSize:"gallary-small",cover:{type:"pageFirstImage",value:"",fit:"contains"}};var lL=_(F()),Fae=(0,Iae.memo)(n=>{let{value:e,column:t,data:r}=n;if(!e)return(0,lL.jsx)(Et,{children:R.none});let{colId:o}=t;if(o){let a=r.__$widget.properties.find(u=>u.id===o),s=a==null?void 0:a.options,l=(s==null?void 0:s.fit)||"contains";return(0,lL.jsx)(Dr,{src:e,fit:l})}return(0,lL.jsx)(Dr,{src:e})});var uL=class{accept(e){return e.type=="image"}create(e){return{colId:e.id,field:e.name,cellRenderer:Fae,cellEditor:"agLargeTextCellEditor",editable:!0,cellEditorPopup:!0}}};ht();var cL=_(z());var KW=_(F());var dL=(0,cL.memo)(n=>{let{value:e}=n,t=_e(),r=(0,cL.useMemo)(()=>{var a;let o=e;if(!o)return{path:"",isInternal:!1};let i=(a=Sy(o))==null?void 0:a.linkText;if(i){let s=t.metadataCache.getFirstLinkpathDest(i,"");return s?{path:s.path,isInternal:!0,file:s}:{path:i,isInternal:!1}}else return{path:o,isInternal:!1}},[e]);return(0,KW.jsx)("span",{className:"contribution-link",children:(0,KW.jsx)("a",{href:r.path,"data-href":r.path,target:"_blank",rel:"noopener",className:r.isInternal?"internal-link":"external-link",onClick:o=>{r.file&&(o.stopPropagation(),o.preventDefault(),vi(t,o,r.file))},children:e})})});var Lae=_(z()),Aae=_(F()),Mae=(0,Lae.memo)(n=>{let{value:e}=n;return(0,Aae.jsx)(dL,{value:e})});var fL=class{accept(e){return e.type=="link"}create(e){return{colId:e.id,field:e.name,cellRenderer:Mae,editable:!0}}};ue();Mo();var Nae=_(z());var qW=_(F()),kae=(0,Nae.memo)(n=>{let{value:e,column:t,data:r}=n,{colId:o}=t;if(o){let a=r.__$widget.properties.find(s=>s.id===o);if(a){let s=fh(e,a);return(0,qW.jsx)("span",{children:s})}}return(0,qW.jsx)(Et,{children:R.none})});var pL=class{accept(e){return e.type=="number"}create(e){return{colId:e.id,field:e.name,cellRenderer:kae,cellEditor:"agNumberCellEditor",editable:!0}}};ue();Mo();var Vae=_(z()),hL=_(F()),Gae=(0,Vae.memo)(n=>{let{value:e}=n,t=e&&e.length>0;return(0,hL.jsx)(vn,{gap:4,children:t?(0,hL.jsx)(pr,{tag:e}):(0,hL.jsx)(Et,{children:R.none})})});var Hae=_(z());var $ae=_(F()),mL=(0,Hae.memo)(n=>{let{value:e,onValueChange:t,stopEditing:r,colDef:o}=n,i=o.field;return(0,$ae.jsx)(Cc,{property:i,value:e,defaultOpen:!0,onInput:function(a){t(a)},onInputEner:function(a){t(a),r()},onSelect:function(a){t(a),r()}})});var gL=class{accept(e){return e.type=="select"}create(e){return{colId:e.id,field:e.name,cellEditor:mL,cellRenderer:Gae,editable:!0}}};var Bae=_(z());var $E=_(F());function Wae(n){let{value:e,onValueChange:t,stopEditing:r}=n,o=()=>Array.isArray(e)?e.map((s,l)=>s.toString()):e?[e.toString()]:[],[i,a]=(0,Bae.useState)(o());return(0,$E.jsx)($E.Fragment,{children:(0,$E.jsx)(GO,{value:i,defaultOpen:!0,onChange:function(s){a(s),t(s)},onOpenChange:s=>{s||r()}})})}var vL=_(z());var YW=_(F()),zae=(0,vL.memo)(n=>{let{value:e}=n,t=(0,vL.useMemo)(()=>Array.isArray(e)?e:e?[e.toString()]:[],[e]);return(0,YW.jsx)(vn,{wrap:!1,className:"contribution-cell-tags",children:t.map((r,o)=>(0,YW.jsx)(pr,{tag:r},o))})});var yL=_(z());ht();var XW=_(F());function Uae(n){let{property:e,value:t}=n,r=_e(),o=()=>js(r,e).filter(i=>!(i==null||i==null)).map((i,a)=>({key:Ze(),label:i+"",value:i,icon:(0,XW.jsx)(qo,{size:14})}));return(0,XW.jsx)(_c,{value:n.value||[],items:o(),defaultOpen:n.defaultOpen,onOpenChange:n.onOpenChange,onInputEnter:i=>{var s;let a=[...t||[],i];(s=n.onChange)==null||s.call(n,Ao(a))},onSelect:i=>{var s;let a=[...t||[],i];(s=n.onChange)==null||s.call(n,Ao(a))},onRemove:i=>{var s;let a=(t||[]).filter(l=>l!=i);(s=n.onChange)==null||s.call(n,a)}})}ue();var BE=_(F());function jae(n){let{value:e,onValueChange:t,stopEditing:r,column:o,data:i}=n,{colId:a}=o,s=(0,yL.useMemo)(()=>{if(a){let f=i.__$widget.properties.find(p=>p.id===a);return(f==null?void 0:f.name)||R.none}return R.none},[a,i]),l=()=>Array.isArray(e)?e.map((d,f)=>d.toString()):e?[e.toString()]:[],[u,c]=(0,yL.useState)(l());return(0,BE.jsx)(BE.Fragment,{children:(0,BE.jsx)(Uae,{property:s,value:u,defaultOpen:!0,onChange:function(d){c(d),t(d)},onOpenChange:d=>{d||r()}})})}var CL=class{accept(e){return e.type=="multiSelect"}create(e){return{colId:e.id,field:e.name,cellRenderer:zae,cellEditor:e.name=="tags"?Wae:jae,editable:!0,wrapText:!0,valueFormatter:t=>t.value==null||t.value==null?"":Array.isArray(t.value)?t.value.join(","):t.value.toString()}}};var wL=class{accept(e){return e.type=="text"}create(e){return{colId:e.id,field:e.name,cellEditor:mL,editable:!0}}};ue();Mo();var Yae=_(z());ue();Mo();var qae=_(z());ht();function Kae(n,e){let t=Object.keys(e),r=Object.values(e);return new Function(...t,`return ${n}`)(...r)}var WE=_(F()),SL=(0,qae.memo)(n=>{var o;let{property:e,file:t}=n,r=_e();if(e.options){let i=e.options.formula,a={prop:s=>CK(r,t,s),now:()=>new Date,duration:(s,l,u)=>{let c=Hi(s),d=Hi(l);return c?d?d.diff(c,u||"days").as(u||"days"):"invalid end: "+l:"invalid from: "+s}};try{let s=(o=Kae(i,a))==null?void 0:o.toString();return typeof s=="function"?(0,WE.jsx)(Et,{children:R.none}):(0,WE.jsx)("span",{children:s?s.toString():R.none})}catch(s){return(0,WE.jsx)(Et,{children:"invalid formula"})}}return(0,WE.jsx)(Et,{children:R.none})});var ZW=_(F()),Xae=(0,Yae.memo)(n=>{let{column:e,data:t}=n,r=t.__$file,{colId:o}=e;if(o&&r){let a=t.__$widget.properties.find(s=>s.id===o);if(a&&a.options)return(0,ZW.jsx)(SL,{property:a,file:r})}return(0,ZW.jsx)(Et,{children:R.none})});var bL=class{accept(e){return e.type=="formula"}create(e){return{colId:e.id,field:e.name,cellRenderer:Xae,editable:!1,cellEditorPopup:!1}}};var xHe=[new oL,new CL,new tL,new nL,new rL,new uL,new fL,new pL,new gL,new bL,new wL],Zae=(n,e,t)=>{var o;let r=xHe.find(i=>i.accept(e));if(r){let i=r.create(e),a=(o=e.options)!=null&&o.width?{width:e.options.width}:{};return{headerName:GE(e),minWidth:42,...a,...i,colId:e.id,sortable:!1,suppressHeaderMenuButton:!0,headerComponentParams:{widget:n,property:e,onChange:t}}}return{field:e.name}},Qae=n=>new aL().create(n);ue();ue();ht();var Jae=_(z());var QW=_(F());function ese(n){let e=_e(),t=(0,Jae.useMemo)(()=>[...PT(e,"").map((o,i)=>({key:o.name,icon:(0,QW.jsx)(qo,{size:14}),value:o,label:o.label||o.name})),...n.additionalProperties||[]].map(o=>({key:o.key,icon:o.icon,label:o.label,value:o.value})),[]);return(0,QW.jsx)(Us,{value:n.value,items:t,placeholder:n.placeholder,labelFormat:n.labelFormat,onInput:r=>{var o;(o=n.onInput)==null||o.call(n,r)},onInputEnter:r=>{var o;(o=n.onInputEnter)==null||o.call(n,r)},onSelect:r=>{var o;(o=n.onSelect)==null||o.call(n,r)}})}var tse=_(F());function Gg(n){let e=n.widget,t=n.property,r=n.widget.properties,o=(a,s)=>{if(a=="")return;let l;if(a==="tags"?l="multiSelect":Gi(a)?l=ZQ(a):s?l=QQ(s):l=t?t.type:"text",t){let u={...e,properties:r.map(c=>c.id===t.id?{...c,name:a,type:l}:c)};n.onChange(u)}else{let u={...e,properties:[...r,{id:Ze(),name:a,isShow:!0,defaultValue:JQ(l),type:l}]};n.onChange(u)}};return(0,tse.jsx)(ese,{value:(a=>!a||Gi(a)?"":a)(t==null?void 0:t.name),labelFormat:a=>t?FT(t.name):R.click_to_add,placeholder:R.click_to_add,onInputEnter:a=>{o(a)},onSelect:function(a){o(a.name,a.sampleValue)}})}var rse=_(F());function nse(n){return(0,rse.jsx)("div",{className:"contribution-form",children:n.children})}var Hg=_(F());function _L(n){return(0,Hg.jsxs)(Hg.Fragment,{children:[(0,Hg.jsx)("span",{className:"contribution-form-label",children:n.label}),(0,Hg.jsx)("div",{children:n.children})]})}ue();var ml=_(F());function EL(n){return(0,ml.jsx)(jt,{selectedKey:n.value,options:DHe,disabled:n.disabled,onChange:function(e){n.onChange(e)}})}var DHe=[{key:"text",value:"text",label:R.type_text,icon:(0,ml.jsx)(rm,{}),description:R.type_text_description},{key:"number",value:"number",label:R.type_number,icon:(0,ml.jsx)(ju,{}),description:R.type_number_description},{key:"select",value:"select",label:R.type_select,icon:(0,ml.jsx)(am,{}),description:R.type_select_description},{key:"multiSelect",value:"multiSelect",label:R.type_multi_select,icon:(0,ml.jsx)(yd,{}),description:R.type_multi_select_description},{key:"checkbox",value:"checkbox",icon:(0,ml.jsx)(gd,{}),label:R.type_checkbox,description:R.type_checkbox_description},{key:"datetime",value:"datetime",label:R.type_datetime,icon:(0,ml.jsx)(kS,{}),description:R.type_datetime_description},{key:"link",value:"link",label:R.type_link,icon:(0,ml.jsx)(t0,{}),description:R.type_link_description},{key:"image",value:"image",label:R.type_image,icon:(0,ml.jsx)(XS,{}),description:R.type_image_description},{key:"backlinkCount",value:"backlinkCount",label:R.type_backlink_count,icon:(0,ml.jsx)(ju,{}),description:R.type_backlink_count_description},{key:"formula",value:"formula",label:R.type_formula,icon:(0,ml.jsx)(YS,{}),description:R.type_formula_description}];var Wc=_(z());var ose=_(F());function QC(n){return(0,ose.jsx)("div",{className:"contribution-list",children:n.children})}var ise=_(F());function JC(){return(0,ise.jsx)("div",{className:"divider"})}var or=_(F()),ase=(0,Wc.memo)(n=>{var f;let{widget:e,property:t}=n,r=(0,Wc.useRef)(null),[o,i]=(0,Wc.useState)(((f=n.property)==null?void 0:f.alias)||""),a=e,s=(0,Wc.useMemo)(()=>Gi(t==null?void 0:t.name),[t==null?void 0:t.name]);if((0,Wc.useEffect)(()=>{var p;if(t){let h={...t,alias:o},m={...e,properties:a.properties.map(v=>v.id===t.id?h:v)};(p=n.onChange)==null||p.call(n,m)}},[o]),!t)return(0,or.jsx)("span",{children:n.displayName});let l=p=>{var v;let h={...t,type:p},m={...e,properties:a.properties.map(g=>g.id===t.id?h:g)};(v=n.onChange)==null||v.call(n,m)},u=()=>{var m;let p={...t,isShow:!t.isShow},h={...e,properties:a.properties.map(v=>v.id===t.id?p:v)};(m=n.onChange)==null||m.call(n,h)},c=()=>{var h;let p={...e,properties:a.properties.filter(m=>m.id!==t.id)};(h=n.onChange)==null||h.call(n,p)},d=p=>{var C;let h=a.properties,m=h.findIndex(w=>w.id===t.id);if(m===-1)return;let v={...t,id:Ze(),alias:"",name:R.unnamed,type:"text",isShow:!0},g=p?[...h.slice(0,m),v,...h.slice(m)]:[...h.slice(0,m+1),v,...h.slice(m+1)],y={...e,properties:g};(C=n.onChange)==null||C.call(n,y),r.current&&r.current.hideFloating()};return(0,or.jsx)("div",{className:"contribution-custom-table-header",children:(0,or.jsx)(b_,{label:n.displayName,ref:r,children:(0,or.jsxs)(vn,{direction:"vertical",children:[(0,or.jsxs)(nse,{children:[(0,or.jsx)(_L,{label:R.property_name,children:(0,or.jsx)(Gg,{property:t,widget:e,onChange:function(p){var h;(h=n.onChange)==null||h.call(n,p)}})}),(0,or.jsx)(_L,{label:R.alias,children:(0,or.jsx)("input",{type:"text",className:"input",value:o,onChange:p=>{i(p.target.value)}})}),(0,or.jsx)(_L,{label:R.property_type,children:s?(0,or.jsx)(pr,{tag:R.internal_property}):(0,or.jsx)(EL,{disabled:s,value:t.type,onChange:function(p){l(p)}})})]}),(0,or.jsx)(JC,{}),(0,or.jsxs)(QC,{children:[(0,or.jsx)(et,{className:"contribution-custom-table-header-menu",icon:(0,or.jsx)(sm,{size:14}),onClick:p=>{p.preventDefault(),p.stopPropagation(),u()},children:R.hidden}),(0,or.jsx)(et,{className:"contribution-custom-table-header-menu",icon:(0,or.jsx)(MS,{size:14}),onClick:p=>{p.preventDefault(),p.stopPropagation(),d(!0)},children:R.insert_at_left}),(0,or.jsx)(et,{className:"contribution-custom-table-header-menu",icon:(0,or.jsx)(AS,{size:14}),onClick:p=>{p.preventDefault(),p.stopPropagation(),d(!1)},children:R.insert_at_right}),(0,or.jsx)(et,{className:"contribution-custom-table-header-menu",icon:(0,or.jsx)(g0,{size:14}),onClick:p=>{p.preventDefault(),p.stopPropagation(),c()},children:R.delete})]})]})})})});var ew=_(F()),JW=class{constructor(e,t){this.__$file=e,this.__$fileName=e.basename,this.__$widget=t}},use=(0,xL.memo)(n=>{let{files:e,widget:t}=n,r=Qae(t),o=t.properties.filter(f=>f.isShow),i=o.map(f=>Zae(t,f,n.onSave)),a=[r,...i],s=_e(),l=e.map(f=>{let p=s.metadataCache.getFileCache(f),h=new JW(f,t);return!p||!p.frontmatter?h:o.reduce((m,v)=>{var y;if(Gi(v.name))return m[v.name]=by(s,f,v.name),m;let g=(y=p.frontmatter)==null?void 0:y[v.name];return m[v.name]=g,m},h)}),u=(0,sse.debounce)(f=>{var p;(p=n.onSave)==null||p.call(n,f)},300,!0),c=f=>{let p=f.column;if(p&&f.finished){let h=p.getColId(),m=f.toIndex,v=[...o],g=v.find(y=>y.id===h);if(g&&m){let y=m-1;if(y<0)return;let C={...g};v.splice(y,0,C),v.splice(v.indexOf(g),1);let w=t.properties.filter(D=>!v.some(S=>S.id===D.id)),b=[...v,...w],E={...t,properties:b};u(E)}}},d=f=>{if(!f.finished||f.source=="gridOptionsChanged")return;let p=f.column;if(p){let h=p.getColId(),m=p.getActualWidth();if(h==HE){let v={...t,viewOptions:{...t.viewOptions,headColumnWidth:m.toString()}};u(v)}else{let v=t.properties.map(y=>y.id===h?{...y,options:{...y.options,width:m.toString()}}:y),g={...t,properties:v};u(g)}}};return(0,ew.jsx)("div",{className:`dynamic-data-view-table ${n.isStale?"loading":""}`,style:{width:"100%"},children:(0,ew.jsx)("div",{className:"ag-theme-quartz",style:{},children:(0,ew.jsx)(xL.Suspense,{fallback:(0,ew.jsx)("div",{children:"Loading..."}),children:(0,ew.jsx)(lse.AgGridReact,{rowData:l,columnDefs:a,domLayout:"autoHeight",components:{agColumnHeader:ase},getRowHeight:f=>{let p=f.data;return p&&o.some(m=>{if(m.type==="image"){let v=p[m.name];return v&&v!==""}return!1})?180:30},onColumnMoved:f=>{c(f)},onCellValueChanged:f=>{let{data:p,colDef:h,value:m}=f,v=p.__$file,g=h.field;g!=HE&&g&&IT(s,v,g,m)},onColumnResized:f=>{d(f)},animateRows:!1,reactiveCustomComponents:!0})})})})});var Rse=_(z());ht();var OL=_(z());var ez=_(F());function Hr(n){return(0,ez.jsx)("div",{className:"gallary-property",children:(0,ez.jsx)("div",{className:`gallary-property-inner ${n.className?n.className:""}`,onClick:e=>{var t;return(t=n.onClick)==null?void 0:t.call(n,e)},children:n.children})})}var tz=_(F());function cse(n){let{file:e}=n;return(0,tz.jsx)(Hr,{className:"backlink-count-property",onClick:t=>{t.stopPropagation()},children:(0,tz.jsx)(eL,{file:e})})}var nz=_(F());function dse(n){let{value:e}=n;return(0,nz.jsx)(Hr,{className:"contribution-gallary-checkbox-property",onClick:t=>{t.stopPropagation()},children:(0,nz.jsx)("input",{type:"checkbox",checked:e||!1,onChange:t=>{var r;(r=n.onChange)==null||r.call(n,t.target.checked)}})})}var DL=_(z());var rz=_(F());function fse(n){let{value:e}=n,t=(0,DL.useRef)(null),r=(0,DL.useMemo)(()=>{var i;return((i=Hi(e))==null?void 0:i.toFormat("yyyy-MM-dd'T'HH:mm:ss"))||""},[e]);return(0,rz.jsx)(Hr,{className:"datetime-property",onClick:o=>{o.stopPropagation()},children:(0,rz.jsx)("input",{ref:t,className:"components-datetime-picker",type:"datetime-local",value:r,step:1,onClick:o=>{o.stopPropagation(),t.current&&t.current.showPicker&&t.current.showPicker()},onChange:o=>{var i;(i=n.onChange)==null||i.call(n,o.target.value)}})})}var pse=_(z());ht();ue();var oz=_(F());function hse(n){let{property:e,value:t}=n,r=_e(),o=(0,pse.useMemo)(()=>t?Array.isArray(t)?t.map(i=>i):t==null||t.trim&&t.trim()==""?[]:[t]:[],[t]);return(0,oz.jsx)(Hr,{className:"contribution-gallary-multi-property",onClick:i=>{i.stopPropagation()},children:(0,oz.jsx)(_c,{value:o,placeholder:R.none,items:js(r,e.name).filter(i=>i!=null&&i!=null).map((i,a)=>({key:a.toString(),label:i,value:i})),onInputEnter:i=>{var s;let a=[...o,i];(s=n.onChange)==null||s.call(n,Ao(a))},onSelect:i=>{var s;let a=[...o,i];(s=n.onChange)==null||s.call(n,Ao(a))},onRemove:i=>{var s;let a=o.filter(l=>l!=i);(s=n.onChange)==null||s.call(n,Ao(a))}})})}var mse=_(z());var tw=_(z());ue();var ff=_(F());function RL(n){var p;let[e,t]=(0,tw.useState)(!1),r=(0,tw.useRef)(null),{editing:o,changeEditing:i}=n,{refs:a,floatingStyles:s,context:l}=Fo({whileElementsMounted:Yr,open:o,onOpenChange:h=>i==null?void 0:i(h),placement:"bottom-start",middleware:[Xr({padding:10}),Er(({rects:h})=>-h.reference.height-2),Hs({apply({rects:h,availableHeight:m,elements:v}){let g=Math.min(h.reference.width+10,500),y=Math.max(g,200);Object.assign(v.floating.style,{width:`${y}px`,minHeight:`${h.reference.height+10}px`})},padding:10})]}),u=Ws(l,{role:"listbox"}),c=Io(l),{getReferenceProps:d,getFloatingProps:f}=Lo([u,c]);return(0,tw.useEffect)(()=>{if(o){let h=g=>{var y;if(r.current&&g.target!=r.current){g.stopPropagation(),g.preventDefault();let C=r.current.innerText;C!==n.value&&((y=n.onChange)==null||y.call(n,C))}},m=()=>{t(!0)},v=()=>{t(!1)};if(document.addEventListener("compositionstart",m),document.addEventListener("compositionend",v),window.addEventListener("click",h),r.current){let g=document.createRange(),y=window.getSelection();g.selectNodeContents(r.current),g.collapse(!1),y==null||y.removeAllRanges(),y==null||y.addRange(g)}return()=>{window.removeEventListener("click",h),document.removeEventListener("compositionstart",m),document.removeEventListener("compositionend",v)}}},[o]),(0,ff.jsxs)(ff.Fragment,{children:[(0,ff.jsx)("div",{className:"contribution-text-label",onClick:h=>{h.preventDefault(),h.stopPropagation(),i==null||i(!0)},ref:a.setReference,...d(),children:((p=n.value)==null?void 0:p.toString())||R.none}),o&&(0,ff.jsx)(vp,{children:(0,ff.jsx)(aa,{context:l,children:(0,ff.jsx)("div",{ref:h=>{r.current=h,a.setFloating(h)},...f({style:{...s}}),className:"contributino-float-content-editor editing",contentEditable:!0,onClick:h=>{h.stopPropagation()},onKeyDown:h=>{var v,g,y;h.key=="Enter"?(h.stopPropagation(),h.preventDefault()):(v=r.current)==null||v.classList.remove("warning");let m=(g=r.current)==null?void 0:g.innerText;if(h.key=="Enter"&&h.shiftKey){h.preventDefault();return}if(h.key=="Enter"&&m){if(e)return;m!==n.value&&((y=n.onChange)==null||y.call(n,m)),i==null||i(!1)}},dangerouslySetInnerHTML:{__html:n.value}})})})]})}var iz=_(F());function gse(n){let[e,t]=(0,mse.useState)(!1);return(0,iz.jsx)(Hr,{onClick:r=>{r.stopPropagation(),t(!0)},className:"text-property",children:(0,iz.jsx)(RL,{...n,editing:e,changeEditing:t})})}var rw=_(z());ue();Mo();var nw=_(F());function vse(n){let[e,t]=(0,rw.useState)(!1),r=(0,rw.useRef)(null),{value:o}=n;return(0,rw.useEffect)(()=>{e&&r.current&&r.current.focus()},[r,e]),e?(0,nw.jsx)(Hr,{onClick:i=>{i.stopPropagation()},className:"contribution-gallary-link-property",children:(0,nw.jsx)("input",{ref:r,className:"gallary-property-suggest-input input",placeholder:R.none,value:n.value,onChange:i=>{var a;(a=n.onChange)==null||a.call(n,i.target.value)},onKeyDown:i=>{i.key==="Enter"&&t(!1)},onBlur:()=>{t(!1)}})}):(0,nw.jsx)(Hr,{onClick:i=>{i.stopPropagation(),t(!0)},className:"contribution-gallary-link-property",children:o?(0,nw.jsx)(dL,{value:o}):(0,nw.jsx)(Et,{children:R.none})})}ht();ue();var TL=require("obsidian"),az=_(z());var ph=_(F());function yse(n){let[e,t]=(0,az.useState)(!1),{file:r}=n,[o,i]=(0,az.useState)(r.basename),a=_e(),s=(l,u,c)=>{let d=l.parent?l.parent.path:a.vault.getRoot().path,f=`${u}.${l.extension}`,p=`${d}/${f}`;a.fileManager.renameFile(l,(0,TL.normalizePath)(p)).then(()=>{i(u),c&&t(!1)}).catch(h=>{throw new TL.Notice(R.file_rename_failed),h})};return(0,ph.jsx)("div",{className:"gallary-title",children:e?(0,ph.jsx)(RL,{value:o,editing:e,changeEditing:t,onChange:l=>{s(r,l,!0)}}):(0,ph.jsx)("div",{className:"gallary-title-content",onClick:l=>{l.preventDefault(),l.stopPropagation(),n.onClick(l)},children:(0,ph.jsxs)("a",{href:r.path,"data-href":r.path,className:"internal-link",children:[o,(0,ph.jsx)(et,{className:"edit-button",onClick:l=>{l.stopPropagation(),t(!0)},children:(0,ph.jsx)(Do,{size:14})})]})})})}ue();var $g=_(z());ht();var Cse=_(z()),Sse=_(F());function wse(n){let e=_e(),t=(0,Cse.useMemo)(()=>js(e,n.property).map((r,o)=>({key:r,label:r,value:r})),[n.property]);return(0,Sse.jsx)(Jd,{selectedKey:n.value,placeholder:n.placeholder,options:t,onChange:function(r){n.onChange(r)}})}var sz=_(F());function bse(n){let[e,t]=(0,$g.useState)(!1),r=(0,$g.useRef)(null),{property:o}=n;return(0,$g.useEffect)(()=>{n.onEditingChange&&n.onEditingChange(e)},[e]),(0,$g.useEffect)(()=>{e&&r.current&&r.current.focus()},[r,e]),(0,sz.jsx)(Hr,{onClick:i=>{i.stopPropagation(),t(!0)},className:"contribution-gallary-select-property",children:(0,sz.jsx)(wse,{placeholder:R.none,property:o.name,value:n.value,onChange:function(i){var a;(a=n.onChange)==null||a.call(n,i),t(!1)}})})}var _se=_(z());var PL=_(F());function Ese(n){let[e,t]=(0,_se.useState)(!1);return(0,PL.jsx)(Hr,{onClick:r=>{r.stopPropagation(),t(!0)},className:"contribution-gallary-number-property",children:e?(0,PL.jsx)("input",{className:"input",placeholder:"Enter a number",type:"number",value:n.value,onChange:r=>{var o;(o=n.onChange)==null||o.call(n,r.target.value)},onKeyDown:r=>{r.key==="Enter"&&t(!1)},onBlur:()=>{t(!1)}}):(0,PL.jsx)("span",{children:fh(n.value,n.property)})})}ue();Mo();var zc=_(F());function xse(n){let{property:e,value:t}=n,r=e.name;return(0,zc.jsx)(Hr,{className:"contribution-gallary-meta-property",children:t?(0,zc.jsx)(zc.Fragment,{children:(()=>{switch(r){case"${file.ctime}":case"${file.mtime}":return(0,zc.jsx)("span",{children:pe.fromJSDate(new Date(t)).toFormat(Px)});case"${file.tags}":return(0,zc.jsx)(vn,{wrap:!0,children:t.map(i=>(0,zc.jsx)(pr,{tag:i},i))});default:return(0,zc.jsx)("span",{children:fh(t,e)})}})()}):(0,zc.jsx)(Et,{children:R.none})})}var lz=_(F());function Dse(n){let{property:e,file:t}=n;return(0,lz.jsx)(Hr,{className:"contribution-gallary-formula-property",children:(0,lz.jsx)(SL,{property:e,file:t})})}var So=_(F());function uz(n){let[e,t]=(0,OL.useState)(""),{file:r,widget:o}=n,i=_e(),a={...Vg,...o.viewOptions},s=a.cover;(0,OL.useEffect)(()=>{var c,d;let u=s.type;if(u=="pageFirstImage")SK(i,r).then(f=>{t(f||"")});else if(u=="pageProperty"){let f=s.value;if(f){let p=(d=(c=i.metadataCache.getFileCache(r))==null?void 0:c.frontmatter)==null?void 0:d[f];p&&t(p)}}else u=="url"?t(s.value||""):t("")},[r.path,s]);let l=(u,c)=>{i.fileManager.processFrontMatter(r,d=>{d[u]=c})};return(0,So.jsxs)("div",{className:"gallary-item",style:n.styles,onClick:u=>{vi(i,u,r,a.openPageIn)},children:[a.cover.type!="none"&&(0,So.jsx)("div",{className:"gallary-cover",onClick:u=>{u.preventDefault(),u.stopPropagation(),vi(i,u,r,a.openPageIn)},children:e&&(0,So.jsx)(Dr,{src:e,fit:s.fit||"contains"})}),(0,So.jsxs)("div",{className:"gallary-main",children:[(0,So.jsx)(yse,{file:r,onClick:u=>{vi(i,u,r,a.openPageIn)}}),(0,So.jsx)("div",{className:"gallary-properties",children:(o.properties||[]).filter(u=>u.isShow==!0).map(u=>(0,So.jsx)(RHe,{file:r,property:u,onChange:c=>{l(u.name,c)}},u.id||u.name))})]})]})}function RHe(n){let{file:e,property:t,onChange:r}=n,o=_e(),i=o.metadataCache.getFileCache(e),a=i==null?void 0:i.frontmatter,s=t.name;return Gi(s)?(0,So.jsx)(xse,{property:t,value:by(o,e,s)}):t.type=="formula"?(0,So.jsx)(Dse,{property:t,file:e}):t.type=="backlinkCount"?(0,So.jsx)(cse,{file:e}):t.type=="link"?(0,So.jsx)(vse,{property:t,value:a==null?void 0:a[t.name],onChange:function(l){r(l)}}):t.type=="select"?(0,So.jsx)(bse,{property:t,value:a==null?void 0:a[t.name],onChange:function(l){r(l)}}):t.type=="checkbox"?(0,So.jsx)(dse,{property:t,value:a==null?void 0:a[t.name],onChange:function(l){r(l)}}):t.type=="multiSelect"?(0,So.jsx)(hse,{property:t,value:a==null?void 0:a[t.name],onChange:l=>n.onChange(l)}):t.type=="datetime"?(0,So.jsx)(fse,{property:t,value:(a==null?void 0:a[t.name])||"",onChange:l=>{r(l)}}):t.type=="number"?(0,So.jsx)(Ese,{property:t,value:a==null?void 0:a[t.name],onChange:l=>{r(l)}}):(0,So.jsx)(gse,{property:t,value:(a==null?void 0:a[t.name])||"",onChange:function(l){r(l)}})}var cz=_(F()),THe=(0,Rse.memo)(n=>{let{files:e,widget:t}=n,r={...Vg,...t.viewOptions};return(0,cz.jsx)("div",{className:`dynamic-data-view-gallary ${n.isStale?"loading":""} ${r.itemSize||""}`,children:e.map(o=>(0,cz.jsx)(uz,{file:o,widget:t},o.path))})}),Tse=THe;var IL=_(z());var Uc=_(F());function ow(n){let[e,t]=(0,IL.useState)(!1),{refs:r,floatingStyles:o,context:i}=Fo({open:e,placement:"bottom-start",onOpenChange:u=>t(u),middleware:[Er(6),Xr(),tc(),nc()],whileElementsMounted:Yr}),a=Io(i),{getFloatingProps:s}=Lo([a]),l=PO();return(0,IL.useEffect)(()=>{if(e){let u=l.clientHeight,c=500;return u<c&&(l.style.height=`${c}px`),()=>{l.style.height="auto"}}},[e,l]),(0,Uc.jsxs)(Uc.Fragment,{children:[(0,Uc.jsxs)("div",{className:`contribution-dropdown-label ${n.className||""}`,ref:r.setReference,onClick:u=>{u.stopPropagation(),t(!e)},children:[(0,Uc.jsx)("span",{className:"dropdown-label-text",children:n.menuLabel}),n.menuIcon]}),e&&(0,Uc.jsx)("div",{className:"contribution-dropdown-menus",ref:r.setFloating,style:{zIndex:1,...o},...s(),children:n.items.map((u,c)=>(0,Uc.jsxs)("div",{className:"contribution-dropdown-menu-item",onClick:d=>{u.onClick?u.onClick():n.onSelect(u,d),t(!1)},children:[(0,Uc.jsx)("span",{className:"dropdown-menu-item-icon",children:u.icon}),u.label]},c))})]})}var Ose=_(F());function Pse(n){return(0,Ose.jsx)("div",{className:"contribution-widget-button-group",children:n.children})}var Tt=_(F()),Lse=(0,$o.memo)(n=>{var C,w,b,E,D;let{widget:e}=n,t=(0,$o.useRef)(null),r=_e(),[o,i]=(0,$o.useState)(""),[a,s]=(0,$o.useState)(r.vault.getMarkdownFiles()),[l,u]=(0,$o.useState)(null),c=((C=e.datasource)==null?void 0:C.filter)||{},d=((w=e.datasource)==null?void 0:w.sort)||jQ,f=(0,$o.useMemo)(()=>{var O;let S=eJ(a,r,o,c,d);u(S.length);let T=((O=e.datasource)==null?void 0:O.dataLimit)||50;return S.slice(0,T)},[c,o,d,a,(b=e.datasource)==null?void 0:b.dataLimit]);(0,$o.useLayoutEffect)(()=>{let S=O=>{s(L=>L&&L.map(A=>A.path==O.path?O:A))},T=O=>{if(!a)return;let L=a.filter(k=>k.path!=O.path);s(L)};return r.metadataCache.on("changed",S),r.metadataCache.on("deleted",T),()=>{r.metadataCache.off("changed",S),r.metadataCache.off("deleted",T)}},[a]);let p=(0,$o.useCallback)(S=>{var O;let T={...e,datasource:{...e.datasource,filter:S}};(O=n.onSave)==null||O.call(n,T)},[e]),h=(0,$o.useCallback)(S=>{var O;let T={...e,datasource:{...e.datasource,sort:S}};(O=n.onSave)==null||O.call(n,T)},[e]),m=(0,$o.useCallback)(S=>{var O;let T={...S};(O=n.onSave)==null||O.call(n,T)},[e]),v=(e.templates||[]).map(S=>({label:S.path,value:S.id,icon:(0,Tt.jsx)(pr,{tag:S.type}),data:S})),g={label:(0,Tt.jsx)(Et,{children:R.add_tempalte_in_setting_page}),value:"new",onClick:()=>{}},y=async(S,T)=>{var G;let L=(((G=e.datasource)==null?void 0:G.storage)||KQ).location;await vK(L,r);let k=pe.now().toFormat("yyyyMMddHHmmss "),A=(0,Fse.normalizePath)(L+"/"+k+" new.md"),$;if(T)$=await XQ(r,A,T);else{let K=YQ(e.properties||[]);$=await r.vault.create(A,K)}s([$,...a||[]]),vi(r,S,$,"split")};return(0,Tt.jsx)("div",{className:`widget-container dynamic-data-view ${gn(e)}`,style:n.styles,ref:t,children:(0,Tt.jsxs)("div",{className:"widget-main",children:[(0,Tt.jsxs)("div",{className:"dynamic-data-view-header",children:[(0,Tt.jsxs)(vn,{wrap:!0,children:[(0,Tt.jsx)(Et,{children:R.found_items.format(l+"")}),(0,Tt.jsxs)(vn,{children:[(0,Tt.jsx)("div",{className:"contribution-widget-floating-filter",children:(0,Tt.jsx)(b_,{label:(0,Tt.jsx)(Ise,{icon:(0,Tt.jsx)(n0,{size:14}),label:R.filter,ruleCount:((E=c.conditions)==null?void 0:E.length)||0}),children:(0,Tt.jsx)(Dc,{filter:c,onChange:function(S){p(S)}})})}),(0,Tt.jsx)("div",{className:"contribution-widget-floating-sorter",children:(0,Tt.jsx)(b_,{label:(0,Tt.jsx)(Ise,{icon:(0,Tt.jsx)(ep,{size:14}),label:R.sort,ruleCount:((D=d.orders)==null?void 0:D.length)||0}),children:(0,Tt.jsx)(UO,{sort:d,onChange:function(S){h(S)}})})})]})]}),(0,Tt.jsxs)("div",{className:"header-menus",children:[(0,Tt.jsxs)("div",{className:"contribution-widget-search-bar",children:[(0,Tt.jsx)("span",{className:"search-icon",children:(0,Tt.jsx)(dm,{size:14})}),(0,Tt.jsx)("input",{type:"text",className:"search-input",value:o,onChange:S=>{i(S.target.value)}})]}),(0,Tt.jsxs)(Pse,{children:[(0,Tt.jsx)(et,{type:"primary",onClick:async S=>{y(S)},children:R.new}),(0,Tt.jsx)(et,{type:"primary",children:(0,Tt.jsx)(ow,{menuIcon:(0,Tt.jsx)(VS,{size:14}),items:[...v,g],onSelect:function(S,T){y(T,S.data)}})})]})]})]}),(0,Tt.jsx)($o.Suspense,{fallback:(0,Tt.jsx)("div",{children:(0,Tt.jsx)("h1",{children:"Loading..."})}),children:e.viewType=="gallary"?(0,Tt.jsx)(Tse,{files:f||[],widget:e,isStale:!1}):(0,Tt.jsx)(use,{files:f||[],widget:e,isStale:!1,onSave:m})})]})})});function Ise(n){return(0,Tt.jsxs)(et,{icon:n.icon,size:"sm",children:[(0,Tt.jsx)("span",{children:n.label}),n.ruleCount>0&&(0,Tt.jsxs)("span",{className:"rule-count",children:["+",n.ruleCount]})]})}ue();var Mse=_(z());var dz=_(F()),FL=class{accept(e){return e.type==="dynamicDataView"}render(e){let t=e.widget,r=(0,Mse.useCallback)(o=>{var i;(i=e.onSave)==null||i.call(e,o)},[]);return(0,dz.jsx)(Lse,{widget:t,styles:e.style,onSave:r})}description(){return{name:R.widget_type_dynamic_data_view,type:"dynamicDataView",icon:(0,dz.jsx)(a0,{className:Qt("dynamicDataView")}),description:R.widget_type_dynamic_data_view_description}}};var pf=_(z()),fz=require("obsidian");ht();var iw=_(F());function Ase(n){let{widget:e}=n,t=(0,pf.useRef)(null),[r,o]=(0,pf.useState)(),i=Fp(),a=_e();(0,pf.useEffect)(()=>{if(!t.current)return;let l=new ResizeObserver(u=>{let{width:c}=u[0].contentRect;o(c)});return l.observe(t.current),()=>{l.disconnect()}},[t]);let s=(0,pf.useRef)(null);return(0,pf.useLayoutEffect)(()=>{if(s.current&&e.markdownValue){if(e.markdownsSource==="content")return fz.MarkdownRenderer.render(a,e.markdownValue,s.current,"",i),()=>{var l;(l=s.current)==null||l.empty()};{if(!a.vault.getAbstractFileByPath(e.markdownValue))return;let u=a.vault.adapter.read(e.markdownValue).then(c=>{s.current&&fz.MarkdownRenderer.render(a,c,s.current,"",i)});return()=>{var c;u?u.then(()=>{var d;(d=s.current)==null||d.empty()}):(c=s.current)==null||c.empty()}}}},[s.current,e.markdownValue,e.markdownsSource]),(0,iw.jsx)("div",{className:`widget-container embed-markdown ${gn(e)}`,style:n.styles,ref:t,children:(0,iw.jsxs)("div",{className:"widget-main",children:[e.title&&(0,iw.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:r}),(0,iw.jsx)("div",{className:"markdown-content",ref:s,style:{maxHeight:`${e.maxHeight}px`,overflowY:"auto"}})]})})}ue();var pz=_(F()),LL=class{accept(e){return e.type==="markdown"}render(e){let t=e.widget;return(0,pz.jsx)(Ase,{widget:t,styles:e.style})}description(){return{name:R.widget_type_embed_markdown,type:"markdown",icon:(0,pz.jsx)(f0,{className:Qt("markdown")}),description:R.widget_type_embed_markdown_description}}};var hz=require("obsidian"),Du=_(z());ht();var ai=_(F());function Nse(n){let[e,t]=(0,Du.useState)([]),[r,o]=(0,Du.useState)(),[i,a]=(0,Du.useState)(),s=(0,Du.useRef)(null),l=n.widget,u=_e(),c=Fp();(0,Du.useEffect)(()=>{let p=u.vault.getMarkdownFiles().filter(h=>!h.name.endsWith(".excalidraw.md")).filter(h=>uc.match(u,h,l.filter));if(t(p),p.length>0){let h=p[Math.floor(Math.random()*p.length)];o(h)}},[n.widget.filter,n.widget.contentType]);let d=p=>{u.vault.cachedRead(p).then(h=>{let m=document.createElement("div");hz.MarkdownRenderer.render(u,h,m,"",c).then(()=>{var v,g;(v=s.current)==null||v.empty(),(g=s.current)==null||g.appendChild(m)})})};(0,Du.useEffect)(()=>{var p;if(s.current)if(r)if(l.contentType=="block"){let h=(p=u.metadataCache.getFileCache(r))==null?void 0:p.blocks;if(h){let m=Object.values(h),v=m[Math.floor(Math.random()*m.length)];a(v);let{start:g,end:y}=v.position;u.vault.cachedRead(r).then(C=>{let w=C.substring(g.offset,y.offset),b=document.createElement("div");hz.MarkdownRenderer.render(u,w,b,"",c).then(()=>{var E,D;(E=s.current)==null||E.empty(),(D=s.current)==null||D.appendChild(b)})})}else d(r)}else d(r);else s.current.empty()},[r]);let f=()=>{if(r)if(l.contentType=="page")u.workspace.openLinkText(r.path,"",!0);else{if(!i)return;let{start:p,end:h}=i.position,m={eState:{cursor:{from:{line:p.line,ch:p.col},to:{line:h.line,ch:h.col}},line:p.line}};u.workspace.openLinkText(r.path,"",!0,m)}};return(0,ai.jsx)("div",{className:`widget-container quote ${gn(l)}`,style:n.styles,children:(0,ai.jsxs)("div",{className:"widget-main",children:[l.coverType!=="none"&&(0,ai.jsx)(OHe,{widget:l,file:r}),(0,ai.jsxs)("div",{className:"content",children:[(0,ai.jsx)(PHe,{widget:l,file:r,redirectToPage:f,refreshQuote:()=>{if(e.length>0){let p=e[Math.floor(Math.random()*e.length)];o(p)}},style:{borderColor:l.fontColor}}),(0,ai.jsx)("div",{className:"quote-content",style:{maxHeight:`${l.maxHeight}px`},ref:s})]})]})})}function PHe(n){let{refreshQuote:e,file:t,redirectToPage:r}=n;return(0,ai.jsxs)("div",{className:"title-container",children:[(0,ai.jsx)("div",{className:"title-icon",onClick:e,children:(0,ai.jsx)(NS,{size:18})}),t&&(0,ai.jsxs)("div",{onClick:r,style:n.style,className:"title-text",children:["\u300A",t==null?void 0:t.basename,"\u300B"]})]})}function OHe(n){let{file:e,widget:t}=n,[r,o]=(0,Du.useState)(),i=_e(),a=u=>{var d;if(!u){o(void 0);return}let c=(d=i.metadataCache.getFileCache(u))==null?void 0:d.embeds;if(o(void 0),c&&c.length>0)for(let f of c){let p=f.link;if(!p.endsWith(".md")&&!p.endsWith(".pdf")){let h=i.metadataCache.getFirstLinkpathDest(p,u.path);o(h==null?void 0:h.path);return}}else{let f=/!\[[^\]]*\]\(([^)]+)\)/g;i.vault.cachedRead(u).then(p=>{let h=f.exec(p);if(h){let m=h[1];if(m.startsWith("http")){o(m);return}let v=i.metadataCache.getFirstLinkpathDest(m,u.path);o(v==null?void 0:v.path)}})}},s=u=>{var f;if(!u){o(void 0);return}let c=(f=i.metadataCache.getFileCache(u))==null?void 0:f.frontmatter;if(!c){o(void 0);return}let d=c[n.widget.coverValue];o(d||void 0)},l=()=>{o(n.widget.coverValue)};return(0,Du.useEffect)(()=>{t.coverType=="pageFirstImage"?a(e):t.coverType=="pageProperty"?s(e):t.coverType=="url"?l():o(void 0)},[e,t.coverType,t.coverValue]),r?(0,ai.jsx)("div",{className:`${r?"cover-container":""}`,children:r&&(0,ai.jsx)(Dr,{src:r})}):(0,ai.jsx)(ai.Fragment,{})}ue();var mz=_(F()),ML=class{accept(e){return e.type==="quote"}render(e){let t=e.widget;return(0,mz.jsx)(Nse,{widget:t,styles:e.style})}description(){return{name:R.widget_type_quote,type:"quote",icon:(0,mz.jsx)(p0,{className:Qt("quote")}),description:R.widget_type_quote_description}}};var AL=_(z()),hf=(0,AL.createContext)(void 0),NL=()=>{let n=(0,AL.useContext)(hf);if(!n)throw new Error("useContributionWidgetPlugin must be used within a ContributionWidgetPluginContext");return n};var gz=_(F());function kse(n){let e=n.widget,t=NL(),r=t.settings.widgets.find(i=>i.id==e.refId);if(!r||!r.widget)return(0,gz.jsx)("div",{children:"Widget not found"});let o=r.widget;return(0,gz.jsx)(Da,{isRoot:!1,widget:o,style:n.styles,...n.attrs,onSave:i=>{let a={...r,widget:i};t.replaceSettings({widgets:t.settings.widgets.map(s=>s.id==e.refId?a:s)})}})}var Vse=_(F()),kL=class{accept(e){return e.type==="ref"}render(e){let t=e.widget;return(0,Vse.jsx)(kse,{widget:t,styles:e.style})}description(){return null}};ue();var Kc=_(z());var jc=_(F());function Gse(n){let e=n.widget,[t,r]=(0,Kc.useState)(),o=(0,Kc.useMemo)(()=>e.startDateTime?sc(new Date(e.startDateTime)):"",[n.widget.startDateTime]),i=()=>{if(!e.startDateTime){let p=Co(0,e.timeTextPattern);r(p);return}let u=new Date(e.startDateTime),d=new Date().getTime()-u.getTime();if(d<=0){let p=Co(0,e.timeTextPattern);r(p);return}let f=Co(d,e.timeTextPattern);r(f)};(0,Kc.useEffect)(()=>{i()},[]),Qy(()=>{i()},1e3);let a=(0,Kc.useRef)(null),[s,l]=(0,Kc.useState)(0);return(0,Kc.useEffect)(()=>{if(!a.current)return;let u=new ResizeObserver(c=>{let{width:d}=c[0].contentRect;l(d)});return u.observe(a.current),()=>{u.disconnect()}},[a]),(0,jc.jsxs)("div",{className:`widget-container timing ${gn(e)}`,style:n.styles,children:[e.picture&&(0,jc.jsx)("div",{className:"widget-aside",children:(0,jc.jsx)(Dr,{src:e.picture})}),(0,jc.jsxs)("div",{className:"widget-main",ref:a,children:[e.title&&(0,jc.jsx)(br,{title:e.title,align:e.titleAlign,widgetContainerWidth:s}),(0,jc.jsx)("div",{className:"content",children:JP({timeText:t,containerWidth:s})}),e.showStartDateTime&&(0,jc.jsx)("div",{className:"footer",children:(0,jc.jsx)(eO,{dateTime:o,containerWidth:s})})]})]})}var vz=_(F()),VL=class{accept(e){return e.type==="timing"}render(e){let t=e.widget;return(0,vz.jsx)(Gse,{widget:t,styles:e.style})}description(){return{name:R.widget_type_timing,type:"timing",icon:(0,vz.jsx)(HS,{className:Qt("timing")}),description:R.widget_type_timing_description}}};var vf=_(z());var qi=class extends hn{constructor(t){super(t,"multi");this.backgroundStyle="none",this.widgets=[],this.layoutType=aw.Column}},aw=(o=>(o.Flat="flat",o.Tab="tab",o.VerticalTab="verticalTab",o.Column="column",o))(aw||{});var Hse=_(z());function ws(n){var e;return((e=qc.find(t=>t.value==n))==null?void 0:e.name)||n}var Bg=_(F());function $se(n){let e=n.widget,t=(0,Hse.useCallback)(r=>r.tabTitle||r.title||ws(r.type),[]);return(0,Bg.jsxs)(FX,{orientation:e.layoutType=="verticalTab"?"vertical":"horizontal",children:[(0,Bg.jsx)(LX,{children:e.widgets.map(r=>(0,Bg.jsx)(MX,{"aria-label":t(r),id:r.id,children:t(r)},r.id))}),e.widgets.map(r=>(0,Bg.jsx)(AX,{id:r.id,children:(0,Bg.jsx)(Da,{isRoot:!1,widget:r,onSave:o=>{var s;let i=e.widgets.map(l=>l.id==o.id?o:l),a={...e,widgets:i};(s=n.onSave)==null||s.call(n,a)}})},r.id))]})}var mf=_(z());ht();function GL(n,e){let t,r=0;return function(...o){let i=Date.now();i-r>e?(n.apply(this,o),r=i):(clearTimeout(t),t=setTimeout(()=>{n.apply(this,o),r=Date.now()},e))}}var hh=require("obsidian"),Wg=_(F());function Bse(n){let e=n.widget,t=e.widgets,r=i=>{if(i>=t.length)return 0;let a=t[i].maxWidthRatio,s=t.filter(u=>u.maxWidthRatio==-1).length,l=t.filter(u=>u.maxWidthRatio!=null&&u.maxWidthRatio!=-1).map(u=>{var c;return(c=u.maxWidthRatio)!=null?c:0}).reduce((u,c)=>u+c,0);return l>=100&&s>0?100/t.length:a!=null&&a!=-1?a:(100-l)/s},o=(0,hh.debounce)((i,a)=>{var g;let s=e.widgets,l=5,u=100/s.length,c=s.map(y=>{var C;return(C=y.maxWidthRatio)!=null?C:l}),d=wy(c);if(d>101||d<99)for(let y=0;y<c.length;y++)c[y]=u;let f=a>0?i:i+1,p=a>0?1:-1,h=Math.abs(a);for(c[f]=c[f]+h;h>0&&(f+=p,!(f<0||f>=c.length));){let y=c[f];if(y<=l)continue;let C=y-h;C<l?(h-=y-l,c[f]=l):(h=0,c[f]=C)}h>0&&(a>0?c[i]-=h:c[i+1]-=h);let m=s.map((y,C)=>({...y,maxWidthRatio:c[C]})),v={...e,widgets:m};(g=n.onSave)==null||g.call(n,v)},100);return(0,Wg.jsx)(Wg.Fragment,{children:e.widgets.map((i,a)=>{var s;return(0,Wg.jsx)(IHe,{widget:i,totalWidth:n.totalWidth,widthRatio:r(a),onSave:l=>{var d;let u=e.widgets.map(f=>f.id==l.id?l:f),c={...e,widgets:u};(d=n.onSave)==null||d.call(n,c)},resizeable:a<((s=e.widgets)==null?void 0:s.length)-1,onResize:l=>{o(a,l)},afterResize:l=>{}},i.id)})})}function IHe(n){let[e,t]=(0,mf.useState)(0),[r,o]=(0,mf.useState)(0),[i,a]=(0,mf.useState)(!1),{widget:s,totalWidth:l,widthRatio:u}=n,c=m=>{var v;t(m),(v=n.onResize)==null||v.call(n,m)};(0,mf.useEffect)(()=>{var m;r>0&&(o(0),(m=n.afterResize)==null||m.call(n,e))},[e,r]);let d=(0,mf.useCallback)(m=>{m.preventDefault();let v=m.clientX;t(0);let g=GL(C=>{requestAnimationFrame(()=>{let E=(C.clientX-v)/l*100,D=u+E;c(D-u)})},100),y=C=>{C.preventDefault(),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),a(!1),setTimeout(()=>{o(Date.now())},200)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)},[l,u,e]),f=_e(),p=(0,mf.useCallback)(()=>{var v,g,y;if(n.resizeable===!1)return!1;let m=f.workspace.getActiveViewOfType(hh.MarkdownView);return!!((y=(g=(v=m==null?void 0:m.editor)==null?void 0:v.cm)==null?void 0:g.state)!=null&&y.field(hh.editorLivePreviewField))},[s.id,n.resizeable]);return(0,Wg.jsx)(Da,{isRoot:!1,widget:s,style:(()=>hh.Platform.isDesktop?{flex:`${u/100} 1 0%`,width:"0px"}:{width:"auto"})(),onSave:n.onSave,children:p()&&(0,Wg.jsx)("div",{className:`resize-handler ${i?"resizing":""}`,onMouseDown:m=>{a(!0),m.preventDefault(),m.stopPropagation(),d(m)}})},s.id)}var Wse=_(z());ue();var gf=_(F());function zse(n){let e=(0,Wse.useRef)(null);return(0,gf.jsxs)("div",{className:"widget-empty",children:[(0,gf.jsx)(et,{onClick:()=>{var t,r;(t=e.current)==null||t.scrollIntoView({behavior:"smooth",block:"start"}),(r=n.onEdit)==null||r.call(n)},size:"xl",children:(0,gf.jsx)("span",{ref:e,children:R.please_add_widget})}),(0,gf.jsxs)("span",{className:"author-message",children:[(0,gf.jsx)("a",{href:"https://space.bilibili.com/281578512",children:"Bilibili / "}),(0,gf.jsxs)("a",{href:"https://mp.weixin.qq.com/s/G3tZajvK4v_rm7ZC1UcCsg",children:["\u516C\u4F17\u53F7 /"," "]}),(0,gf.jsx)("a",{href:"https://github.com/vran-dev",children:"Github"})]})]})}var sw=_(F());function Use(n){let{widget:e,onSave:t}=n,r=(0,vf.useRef)(null),[o,i]=(0,vf.useState)(0);(0,vf.useEffect)(()=>{if(!r.current)return;let l=new ResizeObserver(u=>{let{width:c}=u[0].contentRect;i(c)});return l.observe(r.current),()=>{l.disconnect()}},[r]);let a=(0,vf.useMemo)(()=>e.layoutType=="tab"||e.layoutType=="verticalTab",[e.layoutType]),s=(0,vf.useMemo)(()=>e.layoutType=="column"||e.layoutType=="flat"||!e.layoutType,[e.layoutType]);return(0,sw.jsxs)("div",{className:`widget-container multi ${gn(e)}`,style:n.styles,ref:r,children:[a&&(0,sw.jsx)($se,{widget:n.widget,styles:n.styles,onSave:n.onSave}),s&&(0,sw.jsx)(Bse,{totalWidth:o,widget:n.widget,styles:n.styles,onSave:n.onSave}),e.widgets.length==0&&(0,sw.jsx)(zse,{widget:e,onSave:t,onEdit:()=>{var l;(l=n.onEdit)==null||l.call(n)}})]})}ue();var yz=_(F()),HL=class{accept(e){return e.type==="multi"}render(e){let t=e.widget;return(0,yz.jsx)(Use,{widget:t,styles:e.style,onSave:e.onSave,onEdit:()=>{var r;(r=e.onEdit)==null||r.call(e)}})}description(){return{name:R.widget_type_multi,type:"multi",icon:(0,yz.jsx)(np,{className:Qt("multi")}),description:R.widget_type_multi_description}}};var yf=_(z());var zE=class{constructor(e,t){this.app=e;this.query=t;this.result=[];this.init()}init(){this.query&&this.query.type=="page"&&(this.result=this.app.vault.getMarkdownFiles().filter(e=>uc.match(this.app,e,this.query.filter)).sort((e,t)=>t.name.localeCompare(e.name)))}getResult(){return this.result}getCount(){return this.getResult().length}};ht();var Cr=_(F());function jse(n){let[e,t]=(0,yf.useState)(!1),r=n.widget,o=(0,yf.useRef)(null),[i,a]=(0,yf.useState)();(0,yf.useEffect)(()=>{if(!o.current)return;let c=new ResizeObserver(d=>{let{width:f}=d[0].contentRect;a(f)});return c.observe(o.current),()=>{c.disconnect()}},[o]);let[s,l]=(0,yf.useState)(),u=_e();return(0,yf.useEffect)(()=>{let c=new zE(u,n.widget.query);l(c);let d=f=>{let p=new zE(u,n.widget.query);l(p)};return u.vault.on("modify",d),u.vault.on("delete",d),u.vault.on("rename",d),u.vault.on("create",d),()=>{u.vault.off("modify",d),u.vault.off("delete",d),u.vault.off("create",d),u.vault.off("rename",d)}},[n.widget.query]),(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("div",{className:`widget-container count ${gn(r)}`,style:n.styles,ref:o,onClick:()=>{e||t(!0)},children:[r.picture&&(0,Cr.jsx)("div",{className:"widget-aside",children:(0,Cr.jsx)(Dr,{src:r.picture})}),(0,Cr.jsxs)("div",{className:"widget-main",children:[r.title&&(0,Cr.jsx)(br,{title:r.title,align:r.titleAlign,widgetContainerWidth:i}),(0,Cr.jsx)("div",{className:"content",children:s==null?void 0:s.getCount()})]})]}),(0,Cr.jsx)(pc,{isDismissable:!0,isOpen:e,onOpenChange:c=>{c||t(!1)},children:(0,Cr.jsx)(fc,{children:({close:c})=>(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)(dc,{slot:"title",children:r.title||""}),(0,Cr.jsx)(FHe,{counter:s,afterClick:()=>c()})]})})})]})}function FHe(n){let e=n.counter,t=_e();return(0,Cr.jsx)(dP,{items:(()=>e?e.getResult().map(o=>new uP(o.basename,o)):[])(),onItemClick:(o,i)=>{vi(t,o,i.value,!0),n.afterClick&&n.afterClick()},itemEl:function(o){return(0,Cr.jsx)(LHe,{file:o.value})}})}function LHe(n){let e=n.file,t=_e();return(0,Cr.jsxs)("div",{className:"count-item",children:[(0,Cr.jsx)("div",{className:"title",children:e.basename}),(0,Cr.jsx)("div",{className:"tags",children:gK(t,e).map(r=>(0,Cr.jsx)("a",{className:"tag",href:"#",children:r},r))})]})}ue();var Cz=_(F()),$L=class{accept(e){return e.type==="count"}render(e){let t=e.widget;return(0,Cz.jsx)(jse,{widget:t,styles:e.style})}description(){return{name:R.widget_type_count,icon:(0,Cz.jsx)(KS,{className:Qt("count")}),type:"count",description:R.widget_type_count_description}}};var wz=[new FL,new $L,new VL,new nO,new RO,new QP,new ML,new XP,new qP,new xO,new LL,new rO,new HL,new kL];var qc=wz.map(n=>n.description()).filter(n=>n!=null).map(n=>({...n,value:n==null?void 0:n.type}));var ct=_(z()),k$e=_(ka());var Ie=_(z());function $r(){return $r=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$r.apply(this,arguments)}var ir;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ir||(ir={}));function ile(n){n===void 0&&(n={});let{initialEntries:e=["/"],initialIndex:t,v5Compat:r=!1}=n,o;o=e.map((p,h)=>c(p,typeof p=="string"?null:p.state,h===0?"default":void 0));let i=l(t==null?o.length-1:t),a=ir.Pop,s=null;function l(p){return Math.min(Math.max(p,0),o.length-1)}function u(){return o[i]}function c(p,h,m){h===void 0&&(h=null);let v=Ez(o?u().pathname:"/",p,h,m);return jg(v.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(p)),v}function d(p){return typeof p=="string"?p:wf(p)}return{get index(){return i},get action(){return a},get location(){return u()},createHref:d,createURL(p){return new URL(d(p),"http://localhost")},encodeLocation(p){let h=typeof p=="string"?Ss(p):p;return{pathname:h.pathname||"",search:h.search||"",hash:h.hash||""}},push(p,h){a=ir.Push;let m=c(p,h);i+=1,o.splice(i,o.length,m),r&&s&&s({action:a,location:m,delta:1})},replace(p,h){a=ir.Replace;let m=c(p,h);o[i]=m,r&&s&&s({action:a,location:m,delta:0})},go(p){a=ir.Pop;let h=l(i+p),m=o[h];i=h,s&&s({action:a,location:m,delta:p})},listen(p){return s=p,()=>{s=null}}}}function Pt(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function jg(n,e){if(!n)try{throw new Error(e)}catch(t){}}function MHe(){return Math.random().toString(36).substr(2,8)}function Ez(n,e,t,r){return t===void 0&&(t=null),$r({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ss(e):e,{state:t,key:e&&e.key||r||MHe()})}function wf(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ss(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}var Ir;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ir||(Ir={}));var AHe=new Set(["lazy","caseSensitive","path","id","index","children"]);function NHe(n){return n.index===!0}function xz(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((o,i)=>{let a=[...t,i],s=typeof o.id=="string"?o.id:a.join("-");if(Pt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Pt(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),NHe(o)){let l=$r({},o,e(o),{id:s});return r[s]=l,l}else{let l=$r({},o,e(o),{id:s,children:void 0});return r[s]=l,o.children&&(l.children=xz(o.children,e,a,r)),l}})}function Cf(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Ss(e):e,o=gh(r.pathname||"/",t);if(o==null)return null;let i=ale(n);kHe(i);let a=null;for(let s=0;a==null&&s<i.length;++s){let l=qHe(o);a=jHe(i[s],l)}return a}function Pz(n,e){let{route:t,pathname:r,params:o}=n;return{id:t.id,pathname:r,params:o,data:e[t.id],handle:t.handle}}function ale(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let o=(i,a,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tu([r,l.relativePath]),c=t.concat(l);i.children&&i.children.length>0&&(Pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ale(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:zHe(u,i.index),routesMeta:c})};return n.forEach((i,a)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))o(i,a);else for(let l of sle(i.path))o(i,a,l)}),e}function sle(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=sle(r.join("/")),s=[];return s.push(...a.map(l=>l===""?i:[i,l].join("/"))),o&&s.push(...a),s.map(l=>n.startsWith("/")&&l===""?"/":l)}function kHe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UHe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var VHe=/^:[\w-]+$/,GHe=3,HHe=2,$He=1,BHe=10,WHe=-2,Kse=n=>n==="*";function zHe(n,e){let t=n.split("/"),r=t.length;return t.some(Kse)&&(r+=WHe),e&&(r+=HHe),t.filter(o=>!Kse(o)).reduce((o,i)=>o+(VHe.test(i)?GHe:i===""?$He:BHe),r)}function UHe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function jHe(n,e){let{routesMeta:t}=n,r={},o="/",i=[];for(let a=0;a<t.length;++a){let s=t[a],l=a===t.length-1,u=o==="/"?e:e.slice(o.length)||"/",c=XE({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=s.route;i.push({params:r,pathname:Tu([o,c.pathname]),pathnameBase:XHe(Tu([o,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(o=Tu([o,c.pathnameBase]))}return i}function XE(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=KHe(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let m=s[d]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}let h=s[d];return p&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:n}}function KHe(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),jg(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function qHe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jg(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gh(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Oz(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Ss(n):n;return{pathname:t?t.startsWith("/")?t:YHe(t,e):e,search:ZHe(r),hash:QHe(o)}}function YHe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sz(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lle(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function BL(n,e){let t=lle(n);return e?t.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function WL(n,e,t,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=Ss(n):(o=$r({},n),Pt(!o.pathname||!o.pathname.includes("?"),Sz("?","pathname","search",o)),Pt(!o.pathname||!o.pathname.includes("#"),Sz("#","pathname","hash",o)),Pt(!o.search||!o.search.includes("#"),Sz("#","search","hash",o)));let i=n===""||o.pathname==="",a=i?"/":o.pathname,s;if(a==null)s=t;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}s=d>=0?e[d]:"/"}let l=Oz(o,s),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Tu=n=>n.join("/").replace(/\/\/+/g,"/"),XHe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZHe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QHe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;var YE=class{constructor(e,t,r,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function ZE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ule=["post","put","patch","delete"],JHe=new Set(ule),e$e=["get",...ule],t$e=new Set(e$e),n$e=new Set([301,302,303,307,308]),r$e=new Set([307,308]),bz={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cle={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o$e=n=>({hasErrorBoundary:Boolean(n.hasErrorBoundary)}),fle="remix-router-transitions";function Iz(n){let e=n.window?n.window:typeof window!="undefined"?window:void 0,t=typeof e!="undefined"&&typeof e.document!="undefined"&&typeof e.document.createElement!="undefined",r=!t;Pt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let N=n.detectErrorBoundary;o=H=>({hasErrorBoundary:N(H)})}else o=o$e;let i={},a=xz(n.routes,o,void 0,i),s,l=n.basename||"/",u=$r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},n.future),c=null,d=new Set,f=null,p=null,h=null,m=n.hydrationData!=null,v=Cf(a,n.history.location,l),g=null;if(v==null){let N=gl(404,{pathname:n.history.location.pathname}),{matches:H,route:U}=tle(a);v=H,g={[U.id]:N}}let y,C=v.some(N=>N.route.lazy),w=v.some(N=>N.route.loader);if(C)y=!1;else if(!w)y=!0;else if(u.v7_partialHydration){let N=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;y=v.every(U=>U.route.loader&&U.route.loader.hydrate!==!0&&(N&&N[U.route.id]!==void 0||H&&H[U.route.id]!==void 0))}else y=n.hydrationData!=null;let b,E={historyAction:n.history.action,location:n.history.location,matches:v,initialized:y,navigation:bz,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||g,fetchers:new Map,blockers:new Map},D=ir.Pop,S=!1,T,O=!1,L=new Map,k=null,A=!1,$=!1,G=[],K=[],V=new Map,Y=0,Q=-1,X=new Map,fe=new Set,ne=new Map,me=new Map,de=new Set,Ce=new Map,ge=new Map,He=!1;function dt(){if(c=n.history.listen(N=>{let{action:H,location:U,delta:oe}=N;if(He){He=!1;return}jg(ge.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=kh({currentLocation:E.location,nextLocation:U,historyAction:H});if(we&&oe!=null){He=!0,n.history.go(oe*-1),ku(we,{state:"blocked",location:U,proceed(){ku(we,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),n.history.go(oe)},reset(){let Ae=new Map(E.blockers);Ae.set(we,lw),it({blockers:Ae})}});return}return Pe(H,U)}),t){m$e(e,L);let N=()=>g$e(e,L);e.addEventListener("pagehide",N),k=()=>e.removeEventListener("pagehide",N)}return E.initialized||Pe(ir.Pop,E.location,{initialHydration:!0}),b}function ot(){c&&c(),k&&k(),d.clear(),T&&T.abort(),E.fetchers.forEach((N,H)=>Yt(H)),E.blockers.forEach((N,H)=>Nh(H))}function ke(N){return d.add(N),()=>d.delete(N)}function it(N,H){H===void 0&&(H={}),E=$r({},E,N);let U=[],oe=[];u.v7_fetcherPersist&&E.fetchers.forEach((we,Ae)=>{we.state==="idle"&&(de.has(Ae)?oe.push(Ae):U.push(Ae))}),[...d].forEach(we=>we(E,{deletedFetchers:oe,unstable_viewTransitionOpts:H.viewTransitionOpts,unstable_flushSync:H.flushSync===!0})),u.v7_fetcherPersist&&(U.forEach(we=>E.fetchers.delete(we)),oe.forEach(we=>Yt(we)))}function De(N,H,U){var oe,we;let{flushSync:Ae}=U===void 0?{}:U,Fe=E.actionData!=null&&E.navigation.formMethod!=null&&Ru(E.navigation.formMethod)&&E.navigation.state==="loading"&&((oe=N.state)==null?void 0:oe._isRedirect)!==!0,Le;H.actionData?Object.keys(H.actionData).length>0?Le=H.actionData:Le=null:Fe?Le=E.actionData:Le=null;let Oe=H.loaderData?ele(E.loaderData,H.loaderData,H.matches||[],H.errors):E.loaderData,nt=E.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((yt,sn)=>nt.set(sn,lw)));let Bn=S===!0||E.navigation.formMethod!=null&&Ru(E.navigation.formMethod)&&((we=N.state)==null?void 0:we._isRedirect)!==!0;s&&(a=s,s=void 0),A||D===ir.Pop||(D===ir.Push?n.history.push(N,N.state):D===ir.Replace&&n.history.replace(N,N.state));let Ne;if(D===ir.Pop){let yt=L.get(E.location.pathname);yt&&yt.has(N.pathname)?Ne={currentLocation:E.location,nextLocation:N}:L.has(N.pathname)&&(Ne={currentLocation:N,nextLocation:E.location})}else if(O){let yt=L.get(E.location.pathname);yt?yt.add(N.pathname):(yt=new Set([N.pathname]),L.set(E.location.pathname,yt)),Ne={currentLocation:E.location,nextLocation:N}}it($r({},H,{actionData:Le,loaderData:Oe,historyAction:D,location:N,initialized:!0,navigation:bz,revalidation:"idle",restoreScrollPosition:Z(N,H.matches||E.matches),preventScrollReset:Bn,blockers:nt}),{viewTransitionOpts:Ne,flushSync:Ae===!0}),D=ir.Pop,S=!1,O=!1,A=!1,$=!1,G=[],K=[]}async function Ye(N,H){if(typeof N=="number"){n.history.go(N);return}let U=Dz(E.location,E.matches,l,u.v7_prependBasename,N,u.v7_relativeSplatPath,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:oe,submission:we,error:Ae}=qse(u.v7_normalizeFormMethod,!1,U,H),Fe=E.location,Le=Ez(E.location,oe,H&&H.state);Le=$r({},Le,n.history.encodeLocation(Le));let Oe=H&&H.replace!=null?H.replace:void 0,nt=ir.Push;Oe===!0?nt=ir.Replace:Oe===!1||we!=null&&Ru(we.formMethod)&&we.formAction===E.location.pathname+E.location.search&&(nt=ir.Replace);let Bn=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ne=(H&&H.unstable_flushSync)===!0,yt=kh({currentLocation:Fe,nextLocation:Le,historyAction:nt});if(yt){ku(yt,{state:"blocked",location:Le,proceed(){ku(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:Le}),Ye(N,H)},reset(){let sn=new Map(E.blockers);sn.set(yt,lw),it({blockers:sn})}});return}return await Pe(nt,Le,{submission:we,pendingError:Ae,preventScrollReset:Bn,replace:H&&H.replace,enableViewTransition:H&&H.unstable_viewTransition,flushSync:Ne})}function je(){if(We(),it({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Pe(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Pe(D||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function Pe(N,H,U){T&&T.abort(),T=null,D=N,A=(U&&U.startUninterruptedRevalidation)===!0,q(E.location,E.matches),S=(U&&U.preventScrollReset)===!0,O=(U&&U.enableViewTransition)===!0;let oe=s||a,we=U&&U.overrideNavigation,Ae=Cf(oe,H,l),Fe=(U&&U.flushSync)===!0;if(!Ae){let sn=gl(404,{pathname:H.pathname}),{matches:Jn,route:Wn}=tle(oe);If(),De(H,{matches:Jn,loaderData:{},errors:{[Wn.id]:sn}},{flushSync:Fe});return}if(E.initialized&&!$&&u$e(E.location,H)&&!(U&&U.submission&&Ru(U.submission.formMethod))){De(H,{matches:Ae},{flushSync:Fe});return}T=new AbortController;let Le=jE(n.history,H,T.signal,U&&U.submission),Oe,nt;if(U&&U.pendingError)nt={[qE(Ae).route.id]:U.pendingError};else if(U&&U.submission&&Ru(U.submission.formMethod)){let sn=await wt(Le,H,U.submission,Ae,{replace:U.replace,flushSync:Fe});if(sn.shortCircuited)return;Oe=sn.pendingActionData,nt=sn.pendingActionError,we=_z(H,U.submission),Fe=!1,Le=new Request(Le.url,{signal:Le.signal})}let{shortCircuited:Bn,loaderData:Ne,errors:yt}=await On(Le,H,Ae,we,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,Fe,Oe,nt);Bn||(T=null,De(H,$r({matches:Ae},Oe?{actionData:Oe}:{},{loaderData:Ne,errors:yt})))}async function wt(N,H,U,oe,we){we===void 0&&(we={}),We();let Ae=p$e(H,U);it({navigation:Ae},{flushSync:we.flushSync===!0});let Fe,Le=Tz(oe,H);if(!Le.route.action&&!Le.route.lazy)Fe={type:Ir.error,error:gl(405,{method:N.method,pathname:H.pathname,routeId:Le.route.id})};else if(Fe=await UE("action",N,Le,oe,i,o,l,u.v7_relativeSplatPath),N.signal.aborted)return{shortCircuited:!0};if(Ug(Fe)){let Oe;return we&&we.replace!=null?Oe=we.replace:Oe=Fe.location===E.location.pathname+E.location.search,await at(E,Fe,{submission:U,replace:Oe}),{shortCircuited:!0}}if(uw(Fe)){let Oe=qE(oe,Le.route.id);return(we&&we.replace)!==!0&&(D=ir.Push),{pendingActionData:{},pendingActionError:{[Oe.route.id]:Fe.error}}}if(zg(Fe))throw gl(400,{type:"defer-action"});return{pendingActionData:{[Le.route.id]:Fe.data}}}async function On(N,H,U,oe,we,Ae,Fe,Le,Oe,nt,Bn){let Ne=oe||_z(H,we),yt=we||Ae||ole(Ne),sn=s||a,[Jn,Wn]=Yse(n.history,E,U,yt,H,u.v7_partialHydration&&Le===!0,$,G,K,de,ne,fe,sn,l,nt,Bn);if(If(_n=>!(U&&U.some(er=>er.route.id===_n))||Jn&&Jn.some(er=>er.route.id===_n)),Q=++Y,Jn.length===0&&Wn.length===0){let _n=bn();return De(H,$r({matches:U,loaderData:{},errors:Bn||null},nt?{actionData:nt}:{},_n?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Oe}),{shortCircuited:!0}}if(!A&&(!u.v7_partialHydration||!Le)){Wn.forEach(er=>{let Vu=E.fetchers.get(er.key),Tx=KE(void 0,Vu?Vu.data:void 0);E.fetchers.set(er.key,Tx)});let _n=nt||E.actionData;it($r({navigation:Ne},_n?Object.keys(_n).length===0?{actionData:null}:{actionData:_n}:{},Wn.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Oe})}Wn.forEach(_n=>{V.has(_n.key)&&In(_n.key),_n.controller&&V.set(_n.key,_n.controller)});let Oa=()=>Wn.forEach(_n=>In(_n.key));T&&T.signal.addEventListener("abort",Oa);let{results:cA,loaderResults:hv,fetcherResults:Ff}=await Bt(E.matches,U,Jn,Wn,N);if(N.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Oa),Wn.forEach(_n=>V.delete(_n.key));let Vh=nle(cA);if(Vh){if(Vh.idx>=Jn.length){let _n=Wn[Vh.idx-Jn.length].key;fe.add(_n)}return await at(E,Vh.result,{replace:Fe}),{shortCircuited:!0}}let{loaderData:dA,errors:fA}=Jse(E,U,Jn,hv,Bn,Wn,Ff,Ce);Ce.forEach((_n,er)=>{_n.subscribe(Vu=>{(Vu||_n.done)&&Ce.delete(er)})});let pA=bn(),mv=Nu(Q),Rx=pA||mv||Wn.length>0;return $r({loaderData:dA,errors:fA},Rx?{fetchers:new Map(E.fetchers)}:{})}function Ve(N,H,U,oe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(N)&&In(N);let we=(oe&&oe.unstable_flushSync)===!0,Ae=s||a,Fe=Dz(E.location,E.matches,l,u.v7_prependBasename,U,u.v7_relativeSplatPath,H,oe==null?void 0:oe.relative),Le=Cf(Ae,Fe,l);if(!Le){St(N,H,gl(404,{pathname:Fe}),{flushSync:we});return}let{path:Oe,submission:nt,error:Bn}=qse(u.v7_normalizeFormMethod,!0,Fe,oe);if(Bn){St(N,H,Bn,{flushSync:we});return}let Ne=Tz(Le,Oe);if(S=(oe&&oe.preventScrollReset)===!0,nt&&Ru(nt.formMethod)){$n(N,H,Oe,Ne,Le,we,nt);return}ne.set(N,{routeId:H,path:Oe}),Xe(N,H,Oe,Ne,Le,we,nt)}async function $n(N,H,U,oe,we,Ae,Fe){if(We(),ne.delete(N),!oe.route.action&&!oe.route.lazy){let er=gl(405,{method:Fe.formMethod,pathname:U,routeId:H});St(N,H,er,{flushSync:Ae});return}let Le=E.fetchers.get(N);ft(N,h$e(Fe,Le),{flushSync:Ae});let Oe=new AbortController,nt=jE(n.history,U,Oe.signal,Fe);V.set(N,Oe);let Bn=Y,Ne=await UE("action",nt,oe,we,i,o,l,u.v7_relativeSplatPath);if(nt.signal.aborted){V.get(N)===Oe&&V.delete(N);return}if(u.v7_fetcherPersist&&de.has(N)){if(Ug(Ne)||uw(Ne)){ft(N,mh(void 0));return}}else{if(Ug(Ne))if(V.delete(N),Q>Bn){ft(N,mh(void 0));return}else return fe.add(N),ft(N,KE(Fe)),at(E,Ne,{fetcherSubmission:Fe});if(uw(Ne)){St(N,H,Ne.error);return}}if(zg(Ne))throw gl(400,{type:"defer-action"});let yt=E.navigation.location||E.location,sn=jE(n.history,yt,Oe.signal),Jn=s||a,Wn=E.navigation.state!=="idle"?Cf(Jn,E.navigation.location,l):E.matches;Pt(Wn,"Didn't find any matches after fetcher action");let Oa=++Y;X.set(N,Oa);let cA=KE(Fe,Ne.data);E.fetchers.set(N,cA);let[hv,Ff]=Yse(n.history,E,Wn,Fe,yt,!1,$,G,K,de,ne,fe,Jn,l,{[oe.route.id]:Ne.data},void 0);Ff.filter(er=>er.key!==N).forEach(er=>{let Vu=er.key,Tx=E.fetchers.get(Vu),Jfe=KE(void 0,Tx?Tx.data:void 0);E.fetchers.set(Vu,Jfe),V.has(Vu)&&In(Vu),er.controller&&V.set(Vu,er.controller)}),it({fetchers:new Map(E.fetchers)});let Vh=()=>Ff.forEach(er=>In(er.key));Oe.signal.addEventListener("abort",Vh);let{results:dA,loaderResults:fA,fetcherResults:pA}=await Bt(E.matches,Wn,hv,Ff,sn);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",Vh),X.delete(N),V.delete(N),Ff.forEach(er=>V.delete(er.key));let mv=nle(dA);if(mv){if(mv.idx>=hv.length){let er=Ff[mv.idx-hv.length].key;fe.add(er)}return at(E,mv.result)}let{loaderData:Rx,errors:_n}=Jse(E,E.matches,hv,fA,void 0,Ff,pA,Ce);if(E.fetchers.has(N)){let er=mh(Ne.data);E.fetchers.set(N,er)}Nu(Oa),E.navigation.state==="loading"&&Oa>Q?(Pt(D,"Expected pending action"),T&&T.abort(),De(E.navigation.location,{matches:Wn,loaderData:Rx,errors:_n,fetchers:new Map(E.fetchers)})):(it({errors:_n,loaderData:ele(E.loaderData,Rx,Wn,_n),fetchers:new Map(E.fetchers)}),$=!1)}async function Xe(N,H,U,oe,we,Ae,Fe){let Le=E.fetchers.get(N);ft(N,KE(Fe,Le?Le.data:void 0),{flushSync:Ae});let Oe=new AbortController,nt=jE(n.history,U,Oe.signal);V.set(N,Oe);let Bn=Y,Ne=await UE("loader",nt,oe,we,i,o,l,u.v7_relativeSplatPath);if(zg(Ne)&&(Ne=await mle(Ne,nt.signal,!0)||Ne),V.get(N)===Oe&&V.delete(N),!nt.signal.aborted){if(de.has(N)){ft(N,mh(void 0));return}if(Ug(Ne))if(Q>Bn){ft(N,mh(void 0));return}else{fe.add(N),await at(E,Ne);return}if(uw(Ne)){St(N,H,Ne.error);return}Pt(!zg(Ne),"Unhandled fetcher deferred data"),ft(N,mh(Ne.data))}}async function at(N,H,U){let{submission:oe,fetcherSubmission:we,replace:Ae}=U===void 0?{}:U;H.revalidate&&($=!0);let Fe=Ez(N.location,H.location,{_isRedirect:!0});if(Pt(Fe,"Expected a location on the redirect navigation"),t){let yt=!1;if(H.reloadDocument)yt=!0;else if(dle.test(H.location)){let sn=n.history.createURL(H.location);yt=sn.origin!==e.location.origin||gh(sn.pathname,l)==null}if(yt){Ae?e.location.replace(H.location):e.location.assign(H.location);return}}T=null;let Le=Ae===!0?ir.Replace:ir.Push,{formMethod:Oe,formAction:nt,formEncType:Bn}=N.navigation;!oe&&!we&&Oe&&nt&&Bn&&(oe=ole(N.navigation));let Ne=oe||we;if(r$e.has(H.status)&&Ne&&Ru(Ne.formMethod))await Pe(Le,Fe,{submission:$r({},Ne,{formAction:H.location}),preventScrollReset:S});else{let yt=_z(Fe,oe);await Pe(Le,Fe,{overrideNavigation:yt,fetcherSubmission:we,preventScrollReset:S})}}async function Bt(N,H,U,oe,we){let Ae=await Promise.all([...U.map(Oe=>UE("loader",we,Oe,H,i,o,l,u.v7_relativeSplatPath)),...oe.map(Oe=>Oe.matches&&Oe.match&&Oe.controller?UE("loader",jE(n.history,Oe.path,Oe.controller.signal),Oe.match,Oe.matches,i,o,l,u.v7_relativeSplatPath):{type:Ir.error,error:gl(404,{pathname:Oe.path})})]),Fe=Ae.slice(0,U.length),Le=Ae.slice(U.length);return await Promise.all([rle(N,U,Fe,Fe.map(()=>we.signal),!1,E.loaderData),rle(N,oe.map(Oe=>Oe.match),Le,oe.map(Oe=>Oe.controller?Oe.controller.signal:null),!0)]),{results:Ae,loaderResults:Fe,fetcherResults:Le}}function We(){$=!0,G.push(...If()),ne.forEach((N,H)=>{V.has(H)&&(K.push(H),In(H))})}function ft(N,H,U){U===void 0&&(U={}),E.fetchers.set(N,H),it({fetchers:new Map(E.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function St(N,H,U,oe){oe===void 0&&(oe={});let we=qE(E.matches,H);Yt(N),it({errors:{[we.route.id]:U},fetchers:new Map(E.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function bt(N){return u.v7_fetcherPersist&&(me.set(N,(me.get(N)||0)+1),de.has(N)&&de.delete(N)),E.fetchers.get(N)||cle}function Yt(N){let H=E.fetchers.get(N);V.has(N)&&!(H&&H.state==="loading"&&X.has(N))&&In(N),ne.delete(N),X.delete(N),fe.delete(N),de.delete(N),E.fetchers.delete(N)}function Xt(N){if(u.v7_fetcherPersist){let H=(me.get(N)||0)-1;H<=0?(me.delete(N),de.add(N)):me.set(N,H)}else Yt(N);it({fetchers:new Map(E.fetchers)})}function In(N){let H=V.get(N);Pt(H,"Expected fetch controller: "+N),H.abort(),V.delete(N)}function pn(N){for(let H of N){let U=bt(H),oe=mh(U.data);E.fetchers.set(H,oe)}}function bn(){let N=[],H=!1;for(let U of fe){let oe=E.fetchers.get(U);Pt(oe,"Expected fetcher: "+U),oe.state==="loading"&&(fe.delete(U),N.push(U),H=!0)}return pn(N),H}function Nu(N){let H=[];for(let[U,oe]of X)if(oe<N){let we=E.fetchers.get(U);Pt(we,"Expected fetcher: "+U),we.state==="loading"&&(In(U),X.delete(U),H.push(U))}return pn(H),H.length>0}function pv(N,H){let U=E.blockers.get(N)||lw;return ge.get(N)!==H&&ge.set(N,H),U}function Nh(N){E.blockers.delete(N),ge.delete(N)}function ku(N,H){let U=E.blockers.get(N)||lw;Pt(U.state==="unblocked"&&H.state==="blocked"||U.state==="blocked"&&H.state==="blocked"||U.state==="blocked"&&H.state==="proceeding"||U.state==="blocked"&&H.state==="unblocked"||U.state==="proceeding"&&H.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+H.state);let oe=new Map(E.blockers);oe.set(N,H),it({blockers:oe})}function kh(N){let{currentLocation:H,nextLocation:U,historyAction:oe}=N;if(ge.size===0)return;ge.size>1&&jg(!1,"A router only supports one blocker at a time");let we=Array.from(ge.entries()),[Ae,Fe]=we[we.length-1],Le=E.blockers.get(Ae);if(!(Le&&Le.state==="proceeding")&&Fe({currentLocation:H,nextLocation:U,historyAction:oe}))return Ae}function If(N){let H=[];return Ce.forEach((U,oe)=>{(!N||N(oe))&&(U.cancel(),H.push(oe),Ce.delete(oe))}),H}function M(N,H,U){if(f=N,h=H,p=U||null,!m&&E.navigation===bz){m=!0;let oe=Z(E.location,E.matches);oe!=null&&it({restoreScrollPosition:oe})}return()=>{f=null,h=null,p=null}}function W(N,H){return p&&p(N,H.map(oe=>Pz(oe,E.loaderData)))||N.key}function q(N,H){if(f&&h){let U=W(N,H);f[U]=h()}}function Z(N,H){if(f){let U=W(N,H),oe=f[U];if(typeof oe=="number")return oe}return null}function le(N){i={},s=xz(N,o,void 0,i)}return b={get basename(){return l},get future(){return u},get state(){return E},get routes(){return a},get window(){return e},initialize:dt,subscribe:ke,enableScrollRestoration:M,navigate:Ye,fetch:Ve,revalidate:je,createHref:N=>n.history.createHref(N),encodeLocation:N=>n.history.encodeLocation(N),getFetcher:bt,deleteFetcher:Xt,dispose:ot,getBlocker:pv,deleteBlocker:Nh,_internalFetchControllers:V,_internalActiveDeferreds:Ce,_internalSetRoutes:le},b}var Tyt=Symbol("deferred");function i$e(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Dz(n,e,t,r,o,i,a,s){let l,u;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){u=d;break}}else l=e,u=e[e.length-1];let c=WL(o||".",BL(l,i),gh(n.pathname,t)||n.pathname,s==="path");return o==null&&(c.search=n.search,c.hash=n.hash),(o==null||o===""||o===".")&&u&&u.route.index&&!Fz(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Tu([t,c.pathname])),wf(c)}function qse(n,e,t,r){if(!r||!i$e(r))return{path:t};if(r.formMethod&&!f$e(r.formMethod))return{path:t,error:gl(405,{method:r.formMethod})};let o=()=>({path:t,error:gl(400,{type:"invalid-body"})}),i=r.formMethod||"get",a=n?i.toUpperCase():i.toLowerCase(),s=hle(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ru(a))return o();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,h)=>{let[m,v]=h;return""+p+m+"="+v+`
`},""):String(r.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Ru(a))return o();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch(f){return o()}}}Pt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Rz(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Rz(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Qse(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Qse(l)}catch(f){return o()}let c={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ru(c.formMethod))return{path:t,submission:c};let d=Ss(t);return e&&d.search&&Fz(d.search)&&l.append("index",""),d.search="?"+l,{path:wf(d),submission:c}}function a$e(n,e){let t=n;if(e){let r=n.findIndex(o=>o.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function Yse(n,e,t,r,o,i,a,s,l,u,c,d,f,p,h,m){let v=m?Object.values(m)[0]:h?Object.values(h)[0]:void 0,g=n.createURL(e.location),y=n.createURL(o),C=m?Object.keys(m)[0]:void 0,b=a$e(t,C).filter((D,S)=>{let{route:T}=D;if(T.lazy)return!0;if(T.loader==null)return!1;if(i)return T.loader.hydrate?!0:e.loaderData[T.id]===void 0&&(!e.errors||e.errors[T.id]===void 0);if(s$e(e.loaderData,e.matches[S],D)||s.some(k=>k===D.route.id))return!0;let O=e.matches[S],L=D;return Xse(D,$r({currentUrl:g,currentParams:O.params,nextUrl:y,nextParams:L.params},r,{actionResult:v,defaultShouldRevalidate:a||g.pathname+g.search===y.pathname+y.search||g.search!==y.search||ple(O,L)}))}),E=[];return c.forEach((D,S)=>{if(i||!t.some(A=>A.route.id===D.routeId)||u.has(S))return;let T=Cf(f,D.path,p);if(!T){E.push({key:S,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(S),L=Tz(T,D.path),k=!1;d.has(S)?k=!1:l.includes(S)?k=!0:O&&O.state!=="idle"&&O.data===void 0?k=a:k=Xse(L,$r({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:t[t.length-1].params},r,{actionResult:v,defaultShouldRevalidate:a})),k&&E.push({key:S,routeId:D.routeId,path:D.path,matches:T,match:L,controller:new AbortController})}),[b,E]}function s$e(n,e,t){let r=!e||t.route.id!==e.route.id,o=n[t.route.id]===void 0;return r||o}function ple(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Xse(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function Zse(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let o=t[n.id];Pt(o,"No route found in manifest");let i={};for(let a in r){let l=o[a]!==void 0&&a!=="hasErrorBoundary";jg(!l,'Route "'+o.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!AHe.has(a)&&(i[a]=r[a])}Object.assign(o,i),Object.assign(o,$r({},e(o),{lazy:void 0}))}async function UE(n,e,t,r,o,i,a,s,l){l===void 0&&(l={});let u,c,d,f=m=>{let v,g=new Promise((y,C)=>v=C);return d=()=>v(),e.signal.addEventListener("abort",d),Promise.race([m({request:e,params:t.params,context:l.requestContext}),g])};try{let m=t.route[n];if(t.route.lazy)if(m){let v,g=await Promise.all([f(m).catch(y=>{v=y}),Zse(t.route,i,o)]);if(v)throw v;c=g[0]}else if(await Zse(t.route,i,o),m=t.route[n],m)c=await f(m);else if(n==="action"){let v=new URL(e.url),g=v.pathname+v.search;throw gl(405,{method:e.method,pathname:g,routeId:t.route.id})}else return{type:Ir.data,data:void 0};else if(m)c=await f(m);else{let v=new URL(e.url),g=v.pathname+v.search;throw gl(404,{pathname:g})}Pt(c!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(m){u=Ir.error,c=m}finally{d&&e.signal.removeEventListener("abort",d)}if(d$e(c)){let m=c.status;if(n$e.has(m)){let g=c.headers.get("Location");if(Pt(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!dle.test(g))g=Dz(new URL(e.url),r.slice(0,r.indexOf(t)+1),a,!0,g,s);else if(!l.isStaticRequest){let y=new URL(e.url),C=g.startsWith("//")?new URL(y.protocol+g):new URL(g),w=gh(C.pathname,a)!=null;C.origin===y.origin&&w&&(g=C.pathname+C.search+C.hash)}if(l.isStaticRequest)throw c.headers.set("Location",g),c;return{type:Ir.redirect,status:m,location:g,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Ir.error?Ir.error:Ir.data,response:c};let v;try{let g=c.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?c.body==null?v=null:v=await c.json():v=await c.text()}catch(g){return{type:Ir.error,error:g}}return u===Ir.error?{type:u,error:new YE(m,c.statusText,v),headers:c.headers}:{type:Ir.data,data:v,statusCode:c.status,headers:c.headers}}if(u===Ir.error)return{type:u,error:c};if(c$e(c)){var p,h;return{type:Ir.deferred,deferredData:c,statusCode:(p=c.init)==null?void 0:p.status,headers:((h=c.init)==null?void 0:h.headers)&&new Headers(c.init.headers)}}return{type:Ir.data,data:c}}function jE(n,e,t,r){let o=n.createURL(hle(e)).toString(),i={signal:t};if(r&&Ru(r.formMethod)){let{formMethod:a,formEncType:s}=r;i.method=a.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(r.json)):s==="text/plain"?i.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?i.body=Rz(r.formData):i.body=r.formData}return new Request(o,i)}function Rz(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Qse(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function l$e(n,e,t,r,o){let i={},a=null,s,l=!1,u={};return t.forEach((c,d)=>{let f=e[d].route.id;if(Pt(!Ug(c),"Cannot handle redirect results in processLoaderData"),uw(c)){let p=qE(n,f),h=c.error;r&&(h=Object.values(r)[0],r=void 0),a=a||{},a[p.route.id]==null&&(a[p.route.id]=h),i[f]=void 0,l||(l=!0,s=ZE(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else zg(c)?(o.set(f,c.deferredData),i[f]=c.deferredData.data):i[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(s=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(a=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:a,statusCode:s||200,loaderHeaders:u}}function Jse(n,e,t,r,o,i,a,s){let{loaderData:l,errors:u}=l$e(e,t,r,o,s);for(let c=0;c<i.length;c++){let{key:d,match:f,controller:p}=i[c];Pt(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let h=a[c];if(!(p&&p.signal.aborted))if(uw(h)){let m=qE(n.matches,f==null?void 0:f.route.id);u&&u[m.route.id]||(u=$r({},u,{[m.route.id]:h.error})),n.fetchers.delete(d)}else if(Ug(h))Pt(!1,"Unhandled fetcher revalidation redirect");else if(zg(h))Pt(!1,"Unhandled fetcher deferred data");else{let m=mh(h.data);n.fetchers.set(d,m)}}return{loaderData:l,errors:u}}function ele(n,e,t,r){let o=$r({},e);for(let i of t){let a=i.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(o[a]=e[a]):n[a]!==void 0&&i.route.loader&&(o[a]=n[a]),r&&r.hasOwnProperty(a))break}return o}function qE(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function tle(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gl(n,e){let{pathname:t,routeId:r,method:o,type:i}=e===void 0?{}:e,a="Unknown Server Error",s="Unknown @remix-run/router error";return n===400?(a="Bad Request",o&&t&&r?s="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?s="defer() is not supported in actions":i==="invalid-body"&&(s="Unable to encode submission body")):n===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+t+'"'):n===404?(a="Not Found",s='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",o&&t&&r?s="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(s='Invalid request method "'+o.toUpperCase()+'"')),new YE(n||500,a,new Error(s),!0)}function nle(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Ug(t))return{result:t,idx:e}}}function hle(n){let e=typeof n=="string"?Ss(n):n;return wf($r({},e,{hash:""}))}function u$e(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function zg(n){return n.type===Ir.deferred}function uw(n){return n.type===Ir.error}function Ug(n){return(n&&n.type)===Ir.redirect}function c$e(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function d$e(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body!="undefined"}function f$e(n){return t$e.has(n.toLowerCase())}function Ru(n){return JHe.has(n.toLowerCase())}async function rle(n,e,t,r,o,i){for(let a=0;a<t.length;a++){let s=t[a],l=e[a];if(!l)continue;let u=n.find(d=>d.route.id===l.route.id),c=u!=null&&!ple(u,l)&&(i&&i[l.route.id])!==void 0;if(zg(s)&&(o||c)){let d=r[a];Pt(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await mle(s,d,o).then(f=>{f&&(t[a]=f||t[a])})}}}async function mle(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Ir.data,data:n.deferredData.unwrappedData}}catch(o){return{type:Ir.error,error:o}}return{type:Ir.data,data:n.deferredData.data}}}function Fz(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Tz(n,e){let t=typeof e=="string"?Ss(e).search:e.search;if(n[n.length-1].route.index&&Fz(t||""))return n[n.length-1];let r=lle(n);return r[r.length-1]}function ole(n){let{formMethod:e,formAction:t,formEncType:r,text:o,formData:i,json:a}=n;if(!(!e||!t||!r)){if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:a,text:void 0}}}function _z(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function p$e(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function KE(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function h$e(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function mh(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function m$e(n,e){try{let t=n.sessionStorage.getItem(fle);if(t){let r=JSON.parse(t);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(o,new Set(i||[]))}}catch(t){}}function g$e(n,e){if(e.size>0){let t={};for(let[r,o]of e)t[r]=[...o];try{n.sessionStorage.setItem(fle,JSON.stringify(t))}catch(r){jg(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}function cw(){return cw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cw.apply(this,arguments)}var dw=Ie.createContext(null),zL=Ie.createContext(null);var Sf=Ie.createContext(null),JE=Ie.createContext(null),Pu=Ie.createContext({outlet:null,matches:[],isDataRoute:!1}),yle=Ie.createContext(null);function Mz(n,e){let{relative:t}=e===void 0?{}:e;fw()||Pt(!1);let{basename:r,navigator:o}=Ie.useContext(Sf),{hash:i,pathname:a,search:s}=UL(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Tu([r,a])),o.createHref({pathname:l,search:s,hash:i})}function fw(){return Ie.useContext(JE)!=null}function vh(){return fw()||Pt(!1),Ie.useContext(JE).location}function Cle(n){Ie.useContext(Sf).static||Ie.useLayoutEffect(n)}function Br(){let{isDataRoute:n}=Ie.useContext(Pu);return n?O$e():b$e()}function b$e(){fw()||Pt(!1);let n=Ie.useContext(dw),{basename:e,future:t,navigator:r}=Ie.useContext(Sf),{matches:o}=Ie.useContext(Pu),{pathname:i}=vh(),a=JSON.stringify(BL(o,t.v7_relativeSplatPath)),s=Ie.useRef(!1);return Cle(()=>{s.current=!0}),Ie.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=WL(u,JSON.parse(a),i,c.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Tu([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,a,i,n])}var _$e=Ie.createContext(null);function wle(n){let e=Ie.useContext(Pu).outlet;return e&&Ie.createElement(_$e.Provider,{value:n},e)}function bo(){let{matches:n}=Ie.useContext(Pu),e=n[n.length-1];return e?e.params:{}}function UL(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=Ie.useContext(Sf),{matches:o}=Ie.useContext(Pu),{pathname:i}=vh(),a=JSON.stringify(BL(o,r.v7_relativeSplatPath));return Ie.useMemo(()=>WL(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function Sle(n,e,t,r){fw()||Pt(!1);let{navigator:o}=Ie.useContext(Sf),{matches:i}=Ie.useContext(Pu),a=i[i.length-1],s=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",c=a&&a.route,d=vh(),f;if(e){var p;let y=typeof e=="string"?Ss(e):e;u==="/"||(p=y.pathname)!=null&&p.startsWith(u)||Pt(!1),f=y}else f=d;let h=f.pathname||"/",m=h;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Cf(n,{pathname:m}),g=R$e(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Tu([u,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Tu([u,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,t,r);return e&&g?Ie.createElement(JE.Provider,{value:{location:cw({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ir.Pop}},g):g}function E$e(){let n=xle(),e=ZE(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r};return Ie.createElement(Ie.Fragment,null,Ie.createElement("h2",null,"Unexpected Application Error!"),Ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ie.createElement("pre",{style:o},t):null,null)}var x$e=Ie.createElement(E$e,null),Lz=class extends Ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return this.state.error!==void 0?Ie.createElement(Pu.Provider,{value:this.props.routeContext},Ie.createElement(yle.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D$e(n){let{routeContext:e,match:t,children:r}=n,o=Ie.useContext(dw);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Ie.createElement(Pu.Provider,{value:e},r)}function R$e(n,e,t,r){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if((i=t)!=null&&i.errors)n=t.matches;else return null}let a=n,s=(o=t)==null?void 0:o.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));c>=0||Pt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=t,h=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||h){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let p,h=!1,m=null,v=null;t&&(p=s&&d.route.id?s[d.route.id]:void 0,m=d.route.errorElement||x$e,l&&(u<0&&f===0?(I$e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):u===f&&(h=!0,v=d.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),y=()=>{let C;return p?C=m:h?C=v:d.route.Component?C=Ie.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=c,Ie.createElement(D$e,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:t!=null},children:C})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?Ie.createElement(Lz,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var ble=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(ble||{}),QE=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(QE||{});function T$e(n){let e=Ie.useContext(dw);return e||Pt(!1),e}function _le(n){let e=Ie.useContext(zL);return e||Pt(!1),e}function P$e(n){let e=Ie.useContext(Pu);return e||Pt(!1),e}function Ele(n){let e=P$e(n),t=e.matches[e.matches.length-1];return t.route.id||Pt(!1),t.route.id}function jL(){let{matches:n,loaderData:e}=_le(QE.UseMatches);return Ie.useMemo(()=>n.map(t=>Pz(t,e)),[n,e])}function xle(){var n;let e=Ie.useContext(yle),t=_le(QE.UseRouteError),r=Ele(QE.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function O$e(){let{router:n}=T$e(ble.UseNavigateStable),e=Ele(QE.UseNavigateStable),t=Ie.useRef(!1);return Cle(()=>{t.current=!0}),Ie.useCallback(function(o,i){i===void 0&&(i={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,cw({fromRouteId:e},i)))},[n,e])}var gle={};function I$e(n,e,t){!e&&!gle[n]&&(gle[n]=!0)}var F$e="startTransition",Fyt=Ie[F$e];function Az(n){return wle(n.context)}function Nz(n){let{basename:e="/",children:t=null,location:r,navigationType:o=ir.Pop,navigator:i,static:a=!1,future:s}=n;fw()&&Pt(!1);let l=e.replace(/^\/*/,"/"),u=Ie.useMemo(()=>({basename:l,navigator:i,static:a,future:cw({v7_relativeSplatPath:!1},s)}),[l,s,i,a]);typeof r=="string"&&(r=Ss(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:h="default"}=r,m=Ie.useMemo(()=>{let v=gh(c,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:h},navigationType:o}},[l,c,d,f,p,h,o]);return m==null?null:Ie.createElement(Sf.Provider,{value:u},Ie.createElement(JE.Provider,{children:t,value:m}))}var Lyt=new Promise(()=>{});function Dle(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:Ie.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:Ie.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:Ie.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}function kz(n,e){return Iz({basename:e==null?void 0:e.basename,future:cw({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:ile({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:n,mapRouteProperties:Dle}).initialize()}function Vz(){return Vz=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vz.apply(this,arguments)}function V$e(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function G$e(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function H$e(n,e){return n.button===0&&(!e||e==="_self")&&!G$e(n)}var $$e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];var B$e="6";try{window.__reactRouterVersion=B$e}catch(n){}var W$e=ct.createContext({isTransitioning:!1}),z$e=ct.createContext(new Map),U$e="startTransition",Rle=ct[U$e],j$e="flushSync",Tle=k$e[j$e],K$e="useId",rCt=ct[K$e];function q$e(n){Rle?Rle(n):n()}function ex(n){Tle?Tle(n):n()}var Gz=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Ile(n){let{fallbackElement:e,router:t,future:r}=n,[o,i]=ct.useState(t.state),[a,s]=ct.useState(),[l,u]=ct.useState({isTransitioning:!1}),[c,d]=ct.useState(),[f,p]=ct.useState(),[h,m]=ct.useState(),v=ct.useRef(new Map),{v7_startTransition:g}=r||{},y=ct.useCallback(D=>{g?q$e(D):D()},[g]),C=ct.useCallback((D,S)=>{let{deletedFetchers:T,unstable_flushSync:O,unstable_viewTransitionOpts:L}=S;T.forEach(A=>v.current.delete(A)),D.fetchers.forEach((A,$)=>{A.data!==void 0&&v.current.set($,A.data)});let k=t.window==null||typeof t.window.document.startViewTransition!="function";if(!L||k){O?ex(()=>i(D)):y(()=>i(D));return}if(O){ex(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let A=t.window.document.startViewTransition(()=>{ex(()=>i(D))});A.finished.finally(()=>{ex(()=>{d(void 0),p(void 0),s(void 0),u({isTransitioning:!1})})}),ex(()=>p(A));return}f?(c&&c.resolve(),f.skipTransition(),m({state:D,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(s(D),u({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,f,c,v,y]);ct.useLayoutEffect(()=>t.subscribe(C),[t,C]),ct.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Gz)},[l]),ct.useEffect(()=>{if(c&&a&&t.window){let D=a,S=c.promise,T=t.window.document.startViewTransition(async()=>{y(()=>i(D)),await S});T.finished.finally(()=>{d(void 0),p(void 0),s(void 0),u({isTransitioning:!1})}),p(T)}},[y,a,c,t.window]),ct.useEffect(()=>{c&&a&&o.location.key===a.location.key&&c.resolve()},[c,f,o.location,a]),ct.useEffect(()=>{!l.isTransitioning&&h&&(s(h.state),u({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),m(void 0))},[l.isTransitioning,h]),ct.useEffect(()=>{},[]);let w=ct.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:D=>t.navigate(D),push:(D,S,T)=>t.navigate(D,{state:S,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(D,S,T)=>t.navigate(D,{replace:!0,state:S,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[t]),b=t.basename||"/",E=ct.useMemo(()=>({router:t,navigator:w,static:!1,basename:b}),[t,w,b]);return ct.createElement(ct.Fragment,null,ct.createElement(dw.Provider,{value:E},ct.createElement(zL.Provider,{value:o},ct.createElement(z$e.Provider,{value:v.current},ct.createElement(W$e.Provider,{value:l},ct.createElement(Nz,{basename:b,location:o.location,navigationType:o.historyAction,navigator:w,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},o.initialized||t.future.v7_partialHydration?ct.createElement(Y$e,{routes:t.routes,future:t.future,state:o}):e))))),null)}function Y$e(n){let{routes:e,future:t,state:r}=n;return Sle(e,void 0,r,t)}var X$e=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Z$e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fle=ct.forwardRef(function(e,t){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=V$e(e,$$e),{basename:p}=ct.useContext(Sf),h,m=!1;if(typeof u=="string"&&Z$e.test(u)&&(h=u,X$e))try{let C=new URL(window.location.href),w=u.startsWith("//")?new URL(C.protocol+u):new URL(u),b=gh(w.pathname,p);w.origin===C.origin&&b!=null?u=b+w.search+w.hash:m=!0}catch(C){}let v=Mz(u,{relative:o}),g=Q$e(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:o,unstable_viewTransition:d});function y(C){r&&r(C),C.defaultPrevented||g(C)}return ct.createElement("a",Vz({},f,{href:h||v,onClick:m||i?r:y,ref:t,target:l}))});var Ple;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ple||(Ple={}));var Ole;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ole||(Ole={}));function Q$e(n,e){let{target:t,replace:r,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s}=e===void 0?{}:e,l=Br(),u=vh(),c=UL(n,{relative:a});return ct.useCallback(d=>{if(H$e(d,t)){d.preventDefault();let f=r!==void 0?r:wf(u)===wf(c);l(n,{replace:f,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s})}},[u,l,c,r,o,t,n,i,a,s])}var Hle=_(z(),1),$le=_(Nle(),1),KL=_(z(),1),bs="default"in KL?KL.default:KL,kle=Symbol.for("react-redux-context"),Vle=typeof globalThis!="undefined"?globalThis:{};function aBe(){var t;if(!bs.createContext)return{};let n=(t=Vle[kle])!=null?t:Vle[kle]=new Map,e=n.get(bs.createContext);return e||(e=bs.createContext(null),n.set(bs.createContext,e)),e}var yh=aBe(),Ble=()=>{throw new Error("uSES not initialized!")};function Hz(n=yh){return function(){return bs.useContext(n)}}var Wle=Hz(),zle=Ble,sBe=n=>{zle=n},lBe=(n,e)=>n===e;function uBe(n=yh){let e=n===yh?Wle:Hz(n),t=(r,o={})=>{let{equalityFn:i=lBe,devModeChecks:a={}}=typeof o=="function"?{equalityFn:o}:o,{store:s,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e(),f=bs.useRef(!0),p=bs.useCallback({[r.name](m){let v=r(m);if(!1){if((y==="always"||y==="once"&&f.current)&&!i(v,C))try{}catch(b){}if((g==="always"||g==="once"&&f.current)&&v===m)try{}catch(w){}}return v}}[r.name],[r,c,a.stabilityCheck]),h=zle(l.addNestedSub,s.getState,u||s.getState,p,i);return bs.useDebugValue(h),h};return Object.assign(t,{withTypes:()=>t}),t}var Ule=uBe(),lCt=Symbol.for("react.element"),uCt=Symbol.for("react.portal"),cCt=Symbol.for("react.fragment"),dCt=Symbol.for("react.strict_mode"),fCt=Symbol.for("react.profiler"),pCt=Symbol.for("react.provider"),hCt=Symbol.for("react.context"),mCt=Symbol.for("react.server_context"),cBe=Symbol.for("react.forward_ref"),gCt=Symbol.for("react.suspense"),vCt=Symbol.for("react.suspense_list"),dBe=Symbol.for("react.memo"),yCt=Symbol.for("react.lazy"),CCt=Symbol.for("react.offscreen"),wCt=Symbol.for("react.client.reference"),fBe=cBe,pBe=dBe;function hBe(n){n()}function mBe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){hBe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){let t=[],r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0,o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!r||n===null||(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var Gle={notify(){},get:()=>[]};function gBe(n,e){let t,r=Gle,o=0,i=!1;function a(m){c();let v=r.subscribe(m),g=!1;return()=>{g||(g=!0,v(),d())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return i}function c(){o++,t||(t=e?e.addNestedSub(l):n.subscribe(l),r=mBe())}function d(){o--,t&&o===0&&(t(),t=void 0,r.clear(),r=Gle)}function f(){i||(i=!0,c())}function p(){i&&(i=!1,d())}let h={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return h}var vBe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",yBe=vBe?bs.useLayoutEffect:bs.useEffect;var CBe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wBe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SCt={[fBe]:CBe,[pBe]:wBe};var bCt=Object.prototype;var SBe=Ble,bBe=n=>{SBe=n};function _Be({store:n,context:e,children:t,serverState:r,stabilityCheck:o="once",identityFunctionCheck:i="once"}){let a=bs.useMemo(()=>{let u=gBe(n);return{store:n,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:o,identityFunctionCheck:i}},[n,r,o,i]),s=bs.useMemo(()=>n.getState(),[n]);yBe(()=>{let{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);let l=e||yh;return bs.createElement(l.Provider,{value:a},t)}var jle=_Be;function Kle(n=yh){let e=n===yh?Wle:Hz(n),t=()=>{let{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var EBe=Kle();function xBe(n=yh){let e=n===yh?EBe:Kle(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var qle=xBe();sBe($le.useSyncExternalStoreWithSelector);bBe(Hle.useSyncExternalStore);function si(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var DBe=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Yle=DBe,$z=()=>Math.random().toString(36).substring(7).split("").join("."),RBe={INIT:`@@redux/INIT${$z()}`,REPLACE:`@@redux/REPLACE${$z()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$z()}`},qL=RBe;function YL(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Bz(n,e,t){if(typeof n!="function")throw new Error(si(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(si(0));if(typeof e=="function"&&typeof t=="undefined"&&(t=e,e=void 0),typeof t!="undefined"){if(typeof t!="function")throw new Error(si(1));return t(Bz)(n,e)}let r=n,o=e,i=new Map,a=i,s=0,l=!1;function u(){a===i&&(a=new Map,i.forEach((v,g)=>{a.set(g,v)}))}function c(){if(l)throw new Error(si(3));return o}function d(v){if(typeof v!="function")throw new Error(si(4));if(l)throw new Error(si(5));let g=!0;u();let y=s++;return a.set(y,v),function(){if(g){if(l)throw new Error(si(6));g=!1,u(),a.delete(y),i=null}}}function f(v){if(!YL(v))throw new Error(si(7));if(typeof v.type=="undefined")throw new Error(si(8));if(typeof v.type!="string")throw new Error(si(17));if(l)throw new Error(si(9));try{l=!0,o=r(o,v)}finally{l=!1}return(i=a).forEach(y=>{y()}),v}function p(v){if(typeof v!="function")throw new Error(si(10));r=v,f({type:qL.REPLACE})}function h(){let v=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(si(11));function y(){let w=g;w.next&&w.next(c())}return y(),{unsubscribe:v(y)}},[Yle](){return this}}}return f({type:qL.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:p,[Yle]:h}}function TBe(n){Object.keys(n).forEach(e=>{let t=n[e];if(typeof t(void 0,{type:qL.INIT})=="undefined")throw new Error(si(12));if(typeof t(void 0,{type:qL.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(si(13))})}function Xle(n){let e=Object.keys(n),t={};for(let a=0;a<e.length;a++){let s=e[a];typeof n[s]=="function"&&(t[s]=n[s])}let r=Object.keys(t),o,i;try{TBe(t)}catch(a){i=a}return function(s={},l){if(i)throw i;let u=!1,c={};for(let d=0;d<r.length;d++){let f=r[d],p=t[f],h=s[f],m=p(h,l);if(typeof m=="undefined"){let v=l&&l.type;throw new Error(si(14))}c[f]=m,u=u||m!==h}return u=u||r.length!==Object.keys(s).length,u?c:s}}function pw(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function Zle(...n){return e=>(t,r)=>{let o=e(t,r),i=()=>{throw new Error(si(15))},a={getState:o.getState,dispatch:(l,...u)=>i(l,...u)},s=n.map(l=>l(a));return i=pw(...s)(o.dispatch),{...o,dispatch:i}}}function Qle(n){return YL(n)&&"type"in n&&typeof n.type=="string"}var oue=Symbol.for("immer-nothing"),Jle=Symbol.for("immer-draftable"),_s=Symbol.for("immer-state");function Ou(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var hw=Object.getPrototypeOf;function Yc(n){return!!n&&!!n[_s]}function Iu(n){var e;return n?iue(n)||Array.isArray(n)||!!n[Jle]||!!((e=n.constructor)!=null&&e[Jle])||JL(n)||eM(n):!1}var PBe=Object.prototype.constructor.toString();function iue(n){if(!n||typeof n!="object")return!1;let e=hw(n);if(e===null)return!0;let t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===PBe}function nx(n,e){QL(n)===0?Object.entries(n).forEach(([t,r])=>{e(t,r,n)}):n.forEach((t,r)=>e(r,t,n))}function QL(n){let e=n[_s];return e?e.type_:Array.isArray(n)?1:JL(n)?2:eM(n)?3:0}function Uz(n,e){return QL(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function aue(n,e,t){let r=QL(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function OBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function JL(n){return n instanceof Map}function eM(n){return n instanceof Set}function Kg(n){return n.copy_||n.base_}function jz(n,e){if(JL(n))return new Map(n);if(eM(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&iue(n))return hw(n)?{...n}:Object.assign(Object.create(null),n);let t=Object.getOwnPropertyDescriptors(n);delete t[_s];let r=Reflect.ownKeys(t);for(let o=0;o<r.length;o++){let i=r[o],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[i]})}return Object.create(hw(n),t)}function Zz(n,e=!1){return tM(n)||Yc(n)||!Iu(n)||(QL(n)>1&&(n.set=n.add=n.clear=n.delete=IBe),Object.freeze(n),e&&nx(n,(t,r)=>Zz(r,!0),!0)),n}function IBe(){Ou(2)}function tM(n){return Object.isFrozen(n)}var FBe={};function qg(n){let e=FBe[n];return e||Ou(0,n),e}var rx;function sue(){return rx}function LBe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eue(n,e){e&&(qg("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Kz(n){qz(n),n.drafts_.forEach(MBe),n.drafts_=null}function qz(n){n===rx&&(rx=n.parent_)}function tue(n){return rx=LBe(rx,n)}function MBe(n){let e=n[_s];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nue(n,e){e.unfinalizedDrafts_=e.drafts_.length;let t=e.drafts_[0];return n!==void 0&&n!==t?(t[_s].modified_&&(Kz(e),Ou(4)),Iu(n)&&(n=XL(e,n),e.parent_||ZL(e,n)),e.patches_&&qg("Patches").generateReplacementPatches_(t[_s].base_,n,e.patches_,e.inversePatches_)):n=XL(e,t,[]),Kz(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==oue?n:void 0}function XL(n,e,t){if(tM(e))return e;let r=e[_s];if(!r)return nx(e,(o,i)=>rue(n,r,e,o,i,t),!0),e;if(r.scope_!==n)return e;if(!r.modified_)return ZL(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;let o=r.copy_,i=o,a=!1;r.type_===3&&(i=new Set(o),o.clear(),a=!0),nx(i,(s,l)=>rue(n,r,o,s,l,t,a)),ZL(n,o,!1),t&&n.patches_&&qg("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function rue(n,e,t,r,o,i,a){if(Yc(o)){let s=i&&e&&e.type_!==3&&!Uz(e.assigned_,r)?i.concat(r):void 0,l=XL(n,o,s);if(aue(t,r,l),Yc(l))n.canAutoFreeze_=!1;else return}else a&&t.add(o);if(Iu(o)&&!tM(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;XL(n,o),(!e||!e.scope_.parent_)&&ZL(n,o)}}function ZL(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Zz(e,t)}function ABe(n,e){let t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:sue(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1},o=r,i=Qz;t&&(o=[r],i=ox);let{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.draft_=s,r.revoke_=a,s}var Qz={get(n,e){if(e===_s)return n;let t=Kg(n);if(!Uz(t,e))return NBe(n,t,e);let r=t[e];return n.finalized_||!Iu(r)?r:r===Wz(n.base_,e)?(zz(n),n.copy_[e]=Xz(r,n)):r},has(n,e){return e in Kg(n)},ownKeys(n){return Reflect.ownKeys(Kg(n))},set(n,e,t){let r=lue(Kg(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){let o=Wz(Kg(n),e),i=o==null?void 0:o[_s];if(i&&i.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(OBe(t,o)&&(t!==void 0||Uz(n.base_,e)))return!0;zz(n),Yz(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Wz(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,zz(n),Yz(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){let t=Kg(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Ou(11)},getPrototypeOf(n){return hw(n.base_)},setPrototypeOf(){Ou(12)}},ox={};nx(Qz,(n,e)=>{ox[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ox.deleteProperty=function(n,e){return ox.set.call(this,n,e,void 0)};ox.set=function(n,e,t){return Qz.set.call(this,n[0],e,t,n[0])};function Wz(n,e){let t=n[_s];return(t?Kg(t):n)[e]}function NBe(n,e,t){var o;let r=lue(e,t);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(n.draft_):void 0}function lue(n,e){if(!(e in n))return;let t=hw(n);for(;t;){let r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=hw(t)}}function Yz(n){n.modified_||(n.modified_=!0,n.parent_&&Yz(n.parent_))}function zz(n){n.copy_||(n.copy_=jz(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var kBe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){let i=t;t=e;let a=this;return function(l=i,...u){return a.produce(l,c=>t.call(this,c,...u))}}typeof t!="function"&&Ou(6),r!==void 0&&typeof r!="function"&&Ou(7);let o;if(Iu(e)){let i=tue(this),a=Xz(e,void 0),s=!0;try{o=t(a),s=!1}finally{s?Kz(i):qz(i)}return eue(i,r),nue(o,i)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===oue&&(o=void 0),this.autoFreeze_&&Zz(o,!0),r){let i=[],a=[];qg("Patches").generateReplacementPatches_(e,o,i,a),r(i,a)}return o}else Ou(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...s)=>this.produceWithPatches(a,l=>e(l,...s));let r,o;return[this.produce(e,t,(a,s)=>{r=a,o=s}),r,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Iu(n)||Ou(8),Yc(n)&&(n=Jz(n));let e=tue(this),t=Xz(n,void 0);return t[_s].isManual_=!0,qz(e),t}finishDraft(n,e){let t=n&&n[_s];(!t||!t.isManual_)&&Ou(9);let{scope_:r}=t;return eue(r,e),nue(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){let o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));let r=qg("Patches").applyPatches_;return Yc(n)?r(n,e):this.produce(n,o=>r(o,e))}};function Xz(n,e){let t=JL(n)?qg("MapSet").proxyMap_(n,e):eM(n)?qg("MapSet").proxySet_(n,e):ABe(n,e);return(e?e.scope_:sue()).drafts_.push(t),t}function Jz(n){return Yc(n)||Ou(10,n),uue(n)}function uue(n){if(!Iu(n)||tM(n))return n;let e=n[_s],t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=jz(n,e.scope_.immer_.useStrictShallowCopy_)}else t=jz(n,!0);return nx(t,(r,o)=>{aue(t,r,uue(o))}),e&&(e.finalized_=!1),t}var Es=new kBe,nM=Es.produce,xCt=Es.produceWithPatches.bind(Es),DCt=Es.setAutoFreeze.bind(Es),RCt=Es.setUseStrictShallowCopy.bind(Es),TCt=Es.applyPatches.bind(Es),PCt=Es.createDraft.bind(Es),OCt=Es.finishDraft.bind(Es);function VBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function GBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function HBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){let t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var cue=n=>Array.isArray(n)?n:[n];function $Be(n){let e=Array.isArray(n[0])?n[0]:n;return HBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function BBe(n,e){let t=[],{length:r}=n;for(let o=0;o<r;o++)t.push(n[o].apply(null,e));return t}var LCt=Symbol();var MCt=Object.getPrototypeOf({});var WBe=class{constructor(n){this.value=n}deref(){return this.value}},zBe=typeof WeakRef!="undefined"?WeakRef:WBe,UBe=0,due=1;function rM(){return{s:UBe,v:void 0,o:null,p:null}}function oM(n,e={}){let t=rM(),{resultEqualityCheck:r}=e,o,i=0;function a(){var d,f;let s=t,{length:l}=arguments;for(let p=0,h=l;p<h;p++){let m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=s.o;v===null&&(s.o=v=new WeakMap);let g=v.get(m);g===void 0?(s=rM(),v.set(m,s)):s=g}else{let v=s.p;v===null&&(s.p=v=new Map);let g=v.get(m);g===void 0?(s=rM(),v.set(m,s)):s=g}}let u=s,c;if(s.s===due?c=s.v:(c=n.apply(null,arguments),i++),u.s=due,r){let p=(f=(d=o==null?void 0:o.deref)==null?void 0:d.call(o))!=null?f:o;p!=null&&r(p,c)&&(c=p,i!==0&&i--),o=typeof c=="object"&&c!==null||typeof c=="function"?new zBe(c):c}return u.v=c,c}return a.clearCache=()=>{t=rM(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function e4(n,...e){let t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...o)=>{let i=0,a=0,s,l={},u=o.pop();typeof u=="object"&&(l=u,u=o.pop()),VBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);let c={...t,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:p=oM,argsMemoizeOptions:h=[],devModeChecks:m={}}=c,v=cue(f),g=cue(h),y=$Be(o),C=d(function(){return i++,u.apply(null,arguments)},...v),w=!0,b=p(function(){a++;let D=BBe(y,arguments);return s=C.apply(null,D),s},...g);return Object.assign(b,{resultFunc:u,memoizedResultFunc:C,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var jBe=e4(oM),KBe=Object.assign((n,e=jBe)=>{GBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);let t=Object.keys(n),r=t.map(i=>n[i]);return e(r,(...i)=>i.reduce((a,s,l)=>(a[t[l]]=s,a),{}))},{withTypes:()=>KBe});function fue(n){return({dispatch:t,getState:r})=>o=>i=>typeof i=="function"?i(t,r,n):o(i)}var pue=fue(),hue=fue;var qBe=(...n)=>{let e=e4(...n),t=Object.assign((...r)=>{let o=e(...r),i=(a,...s)=>o(Yc(a)?Jz(a):a,...s);return Object.assign(i,o),i},{withTypes:()=>t});return t},$Ct=qBe(oM),YBe=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pw:pw.apply(null,arguments)},zCt=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(n){return n}},XBe=n=>n&&typeof n.match=="function";function bf(n,e){function t(...r){if(e){let o=e(...r);if(!o)throw new Error(lo(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>Qle(r)&&r.type===n,t}var yue=class ix extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ix.prototype)}static get[Symbol.species](){return ix}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ix(...e[0].concat(this)):new ix(...e.concat(this))}};function mue(n){return Iu(n)?nM(n,()=>{}):n}function gue(n,e,t){if(n.has(e)){let o=n.get(e);return t.update&&(o=t.update(o,e,n),n.set(e,o)),o}if(!t.insert)throw new Error(lo(10));let r=t.insert(e,n);return n.set(e,r),r}function ZBe(n){return typeof n=="boolean"}var QBe=()=>function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=e!=null?e:{},a=new yue;return t&&(ZBe(t)?a.push(pue):a.push(hue(t.extraArgument))),a},JBe="RTK_autoBatch";var Cue=n=>e=>{setTimeout(e,n)},e3e=typeof window!="undefined"&&window.requestAnimationFrame?window.requestAnimationFrame:Cue(10),t3e=(n={type:"raf"})=>e=>(...t)=>{let r=e(...t),o=!0,i=!1,a=!1,s=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?e3e:n.type==="callback"?n.queueNotification:Cue(n.timeout),u=()=>{a=!1,i&&(i=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){let d=()=>o&&c(),f=r.subscribe(d);return s.add(c),()=>{f(),s.delete(c)}},dispatch(c){var d;try{return o=!((d=c==null?void 0:c.meta)!=null&&d[JBe]),i=!o,i&&(a||(a=!0,l(u))),r.dispatch(c)}finally{o=!0}}})},n3e=n=>function(t){let{autoBatch:r=!0}=t!=null?t:{},o=new yue(n);return r&&o.push(t3e(typeof r=="object"?r:void 0)),o},Ch=!0;function n4(n){let e=QBe(),{reducer:t=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:a=void 0}=n||{},s;if(typeof t=="function")s=t;else if(YL(t))s=Xle(t);else throw new Error(lo(1));if(!Ch&&r&&typeof r!="function")throw new Error(lo(2));let l;if(typeof r=="function"){if(l=r(e),!Ch&&!Array.isArray(l))throw new Error(lo(3))}else l=e();if(!Ch&&l.some(h=>typeof h!="function"))throw new Error(lo(4));let u=pw;o&&(u=YBe({trace:!Ch,...typeof o=="object"&&o}));let c=Zle(...l),d=n3e(c);if(!Ch&&a&&typeof a!="function")throw new Error(lo(5));let f=typeof a=="function"?a(d):d();if(!Ch&&!Array.isArray(f))throw new Error(lo(6));if(!Ch&&f.some(h=>typeof h!="function"))throw new Error(lo(7));!Ch&&l.length&&f.includes(c);let p=u(...f);return Bz(s,i,p)}function wue(n){let e={},t=[],r,o={addCase(i,a){let s=typeof i=="string"?i:i.type;if(!s)throw new Error(lo(28));if(s in e)throw new Error(lo(29));return e[s]=a,o},addMatcher(i,a){return t.push({matcher:i,reducer:a}),o},addDefaultCase(i){return r=i,o}};return n(o),[e,t,r]}function r3e(n){return typeof n=="function"}function o3e(n,e){let[t,r,o]=wue(e),i;if(r3e(n))i=()=>mue(n());else{let s=mue(n);i=()=>s}function a(s=i(),l){let u=[t[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[o]),u.reduce((c,d)=>{if(d)if(Yc(c)){let p=d(c,l);return p===void 0?c:p}else{if(Iu(c))return nM(c,f=>d(f,l));{let f=d(c,l);if(f===void 0){if(c===null)return c;throw new Error(lo(9))}return f}}return c},s)}return a.getInitialState=i,a}var i3e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Sue=(n=21)=>{let e="",t=n;for(;t--;)e+=i3e[Math.random()*64|0];return e},a3e=(n,e)=>XBe(n)?n.match(e):n(e);function s3e(...n){return e=>n.some(t=>a3e(t,e))}var l3e=["name","message","stack","code"],t4=class{constructor(n,e){Se(this,"_type");this.payload=n,this.meta=e}},vue=class{constructor(n,e){Se(this,"_type");this.payload=n,this.meta=e}},u3e=n=>{if(typeof n=="object"&&n!==null){let e={};for(let t of l3e)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},c3e=(()=>{function n(e,t,r){let o=bf(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),i=bf(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),a=bf(e+"/rejected",(l,u,c,d,f)=>({payload:d,error:(r&&r.serializeError||u3e)(l||"Rejected"),meta:{...f||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function s(l){return(u,c,d)=>{let f=r!=null&&r.idGenerator?r.idGenerator(l):Sue(),p=new AbortController,h,m;function v(y){m=y,p.abort()}let g=async function(){var w,b;let y;try{let E=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,l,{getState:c,extra:d});if(f3e(E)&&(E=await E),E===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let D=new Promise((S,T)=>{h=()=>{T({name:"AbortError",message:m||"Aborted"})},p.signal.addEventListener("abort",h)});u(i(f,l,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:f,arg:l},{getState:c,extra:d}))),y=await Promise.race([D,Promise.resolve(t(l,{dispatch:u,getState:c,extra:d,requestId:f,signal:p.signal,abort:v,rejectWithValue:(S,T)=>new t4(S,T),fulfillWithValue:(S,T)=>new vue(S,T)})).then(S=>{if(S instanceof t4)throw S;return S instanceof vue?o(S.payload,f,l,S.meta):o(S,f,l)})])}catch(E){y=E instanceof t4?a(null,f,l,E.payload,E.meta):a(E,f,l)}finally{h&&p.signal.removeEventListener("abort",h)}return r&&!r.dispatchConditionRejection&&a.match(y)&&y.meta.condition||u(y),y}();return Object.assign(g,{abort:v,requestId:f,arg:l,unwrap(){return g.then(d3e)}})}}return Object.assign(s,{pending:i,rejected:a,fulfilled:o,settled:s3e(a,o),typePrefix:e})}return n.withTypes=()=>n,n})();function d3e(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function f3e(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var bue=Symbol.for("rtk-slice-createasyncthunk"),YCt={[bue]:c3e};function p3e(n,e){return`${n}/${e}`}function h3e({creators:n}={}){var t;let e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[bue];return function(o){let{name:i,reducerPath:a=i}=o;if(!i)throw new Error(lo(11));let s=(typeof o.reducers=="function"?o.reducers(g3e()):o.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(C,w){let b=typeof C=="string"?C:C.type;if(!b)throw new Error(lo(12));if(b in u.sliceCaseReducersByType)throw new Error(lo(13));return u.sliceCaseReducersByType[b]=w,c},addMatcher(C,w){return u.sliceMatchers.push({matcher:C,reducer:w}),c},exposeAction(C,w){return u.actionCreators[C]=w,c},exposeCaseReducer(C,w){return u.sliceCaseReducersByName[C]=w,c}};l.forEach(C=>{let w=s[C],b={reducerName:C,type:p3e(i,C),createNotation:typeof o.reducers=="function"};y3e(w)?w3e(b,w,c,e):v3e(b,w,c)});function d(){let[C={},w=[],b=void 0]=typeof o.extraReducers=="function"?wue(o.extraReducers):[o.extraReducers],E={...C,...u.sliceCaseReducersByType};return o3e(o.initialState,D=>{for(let S in E)D.addCase(S,E[S]);for(let S of u.sliceMatchers)D.addMatcher(S.matcher,S.reducer);for(let S of w)D.addMatcher(S.matcher,S.reducer);b&&D.addDefaultCase(b)})}let f=C=>C,p=new Map,h;function m(C,w){return h||(h=d()),h(C,w)}function v(){return h||(h=d()),h.getInitialState()}function g(C,w=!1){function b(D){let S=D[C];return typeof S=="undefined"&&w&&(S=v()),S}function E(D=f){let S=gue(p,w,{insert:()=>new WeakMap});return gue(S,D,{insert:()=>{var O;let T={};for(let[L,k]of Object.entries((O=o.selectors)!=null?O:{}))T[L]=m3e(k,D,v,w);return T}})}return{reducerPath:C,getSelectors:E,get selectors(){return E(b)},selectSlice:b}}let y={name:i,reducer:m,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...g(a),injectInto(C,{reducerPath:w,...b}={}){let E=w!=null?w:a;return C.inject({reducerPath:E,reducer:m},b),{...y,...g(E,!0)}}};return y}}function m3e(n,e,t,r){function o(i,...a){let s=e(i);return typeof s=="undefined"&&r&&(s=t()),n(s,...a)}return o.unwrapped=n,o}var _ue=h3e();function g3e(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function v3e({type:n,reducerName:e,createNotation:t},r,o){let i,a;if("reducer"in r){if(t&&!C3e(r))throw new Error(lo(17));i=r.reducer,a=r.prepare}else i=r;o.addCase(n,i).exposeCaseReducer(e,i).exposeAction(e,a?bf(n,a):bf(n))}function y3e(n){return n._reducerDefinitionType==="asyncThunk"}function C3e(n){return n._reducerDefinitionType==="reducerWithPrepare"}function w3e({type:n,reducerName:e},t,r,o){if(!o)throw new Error(lo(18));let{payloadCreator:i,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=t,d=o(n,i,c);r.exposeAction(e,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:a||iM,pending:s||iM,rejected:l||iM,settled:u||iM})}function iM(){}var Eue="listener",xue="completed",Due="cancelled",XCt=`task-${Due}`,ZCt=`task-${xue}`,QCt=`${Eue}-${Due}`,JCt=`${Eue}-${xue}`;var S3e=(n,e)=>{if(typeof n!="function")throw new Error(lo(32))};var{assign:ewt}=Object;var r4="listenerMiddleware";var b3e=n=>{let{type:e,actionCreator:t,matcher:r,predicate:o,effect:i}=n;if(e)o=bf(e).match;else if(t)e=t.type,o=t.match;else if(r)o=r;else if(!o)throw new Error(lo(21));return S3e(i,"options.listener"),{predicate:o,type:e,effect:i}},_3e=Object.assign(n=>{let{type:e,predicate:t,effect:r}=b3e(n);return{id:Sue(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(lo(22))}}},{withTypes:()=>_3e});var E3e=Object.assign(bf(`${r4}/add`),{withTypes:()=>E3e}),twt=bf(`${r4}/removeAll`),x3e=Object.assign(bf(`${r4}/remove`),{withTypes:()=>x3e});var nwt=Symbol.for("rtk-state-proxy-original");function lo(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var D3e={},Rue=_ue({name:"widget",initialState:D3e,reducers:{saveWidget:(n,e)=>{n.value=e.payload}}}),{saveWidget:Ft}=Rue.actions,o4=Rue.reducer,uo=qle.withTypes(),Fr=Ule.withTypes();var mwt=n4({reducer:{widgetModel:o4},middleware(n){return n({serializableCheck:!1})}}),Tue=n=>n4({reducer:{widgetModel:o4},preloadedState:{widgetModel:n},middleware(e){return e({serializableCheck:!1})}});var Fu=_(z());var _f=_(F());function Pue(n){let e=n.onSave,t=n.widget;return(0,_f.jsx)(jle,{store:Tue({value:t}),children:(0,_f.jsx)(R3e,{widget:t,onSave:function(r){e==null||e(r)},onClose:function(){var r;(r=n.onClose)==null||r.call(n)},children:n.children})})}function R3e(n){let{onSave:e,onClose:t}=n,[r,o]=(0,Fu.useState)(!0),i=(0,Fu.useRef)(null),a=uo(),s=Fr(l=>l.widgetModel.value);return(0,Fu.useEffect)(()=>{if(n.widget){if(n.widget.type=="multi"){a(Ft(n.widget));return}if(n.widget.type!="ref"){let l=new qi(Ze());l.widgets=[n.widget],a(Ft(l));return}}},[n.widget]),(0,Fu.useEffect)(()=>{e(s)},[s]),(0,Fu.useEffect)(()=>{r||t()},[r]),(0,Fu.useEffect)(()=>{if(r){let l=i.current;if(l&&l.parentElement){let u=l.parentElement,c=u.clientHeight,d=Math.max(c,1e3);return u.style.minHeight=`${d}px`,u.style.border="1px solid var(--interactive-accent)",()=>{u.style.border="unset",u.style.minHeight="auto"}}}},[r]),(0,Fu.useLayoutEffect)(()=>{if(i.current){let l=i.current,u=c=>{var m;if(l&&l.contains(c.target))return;let d=l==null?void 0:l.getBoundingClientRect(),f=c.target;if(f instanceof HTMLElement){let v=f==null?void 0:f.getBoundingClientRect();if((m=l.previousSibling)!=null&&m.contains(f)){o(!1);return}if(d&&v&&(v.left<d.right&&v.left>d.left||v.right<d.right&&v.right>d.left))return}let p=c.clientX,h=c.clientY;d&&(p<d.left||p>d.right||h<d.top||h>d.bottom)&&o(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}}},[i]),r?(0,_f.jsxs)("div",{className:"contribution-widget-side-drawer",ref:i,style:{zIndex:19,position:"absolute",top:"0",right:"0"},children:[(0,_f.jsx)(et,{className:"close-button",onClick:()=>{o(!1)},children:"x"}),n.children]}):(0,_f.jsx)(_f.Fragment,{})}var eA=_(z());function Wr(n,e){if(n.id.toString()==e.toString())return n;if(n.type=="multi"){let t=n;for(let r of t.widgets){let o=Wr(r,e);if(o)return o}return null}return n.type=="ref",null}function i4(n,e,t){let r={...n};if(r.id.toString()==e.toString())return r.widgets=[...r.widgets,t],r;let o=r.widgets.map(i=>i.type=="multi"?i4(i,e,t):i);return r.widgets=o,r}function aM(n,e,t){let r={...n};if(r.id.toString()==e.toString())return r.widgets=[...t],r;let o=r.widgets.map(i=>i.type=="multi"?aM(i,e,t):i);return r.widgets=o,r}function qt(n,e){let t={...n};return t.id.toString()==e.id.toString()?{...e}:t.widgets.findIndex(o=>o.id==e.id)>=0?(t.widgets=t.widgets.map(o=>o.id.toString()==e.id.toString()?{...e}:o),t):(t.widgets=t.widgets.map(o=>o.type=="multi"?qt(o,e):o),t)}var Xc=_(F());function Oue(){let n=Br(),e=vh(),t=Fr(a=>a.widgetModel.value),r=()=>{let a=t==null?void 0:t.id,s=mw.replace(":widgetId",a||"");return e.pathname===s},i=jL().map(a=>{var u;if(a.pathname==Ef)return"";let s=(u=a.params)==null?void 0:u.widgetId;if(!s)return"";let l=Wr(t,s);return(l==null?void 0:l.tabTitle)||ws((l==null?void 0:l.type)||"")}).filter(a=>a!="").join("/");return(0,Xc.jsxs)("div",{className:"widget-form-container",children:[(0,Xc.jsx)("div",{className:"widget-form-navigation",children:!r()&&(0,Xc.jsxs)("div",{className:"breadcrumb",children:[(0,Xc.jsx)(et,{onClick:()=>{n(-1)},children:(0,Xc.jsx)(r0,{})}),(0,Xc.jsx)("span",{children:i})]})}),(0,Xc.jsx)("div",{className:"widget-form-main",children:(0,Xc.jsx)(Az,{})})]})}ue();var ie=_(z()),Sh=_(ka());var zr=_(z());function Fue(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return(0,zr.useMemo)(()=>r=>{e.forEach(o=>o(r))},e)}var ax=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Yg(n){let e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function sM(n){return"nodeType"in n}function Yi(n){var e,t;return n?Yg(n)?n:sM(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function lM(n){let{Document:e}=Yi(n);return n instanceof e}function gw(n){return Yg(n)?!1:n instanceof Yi(n).HTMLElement}function s4(n){return n instanceof Yi(n).SVGElement}function Xg(n){return n?Yg(n)?n.document:sM(n)?lM(n)?n:gw(n)||s4(n)?n.ownerDocument:document:document:document}var xs=ax?zr.useLayoutEffect:zr.useEffect;function uM(n){let e=(0,zr.useRef)(n);return xs(()=>{e.current=n}),(0,zr.useCallback)(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function Lue(){let n=(0,zr.useRef)(null),e=(0,zr.useCallback)((r,o)=>{n.current=setInterval(r,o)},[]),t=(0,zr.useCallback)(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function vw(n,e){e===void 0&&(e=[n]);let t=(0,zr.useRef)(n);return xs(()=>{t.current!==n&&(t.current=n)},e),t}function yw(n,e){let t=(0,zr.useRef)();return(0,zr.useMemo)(()=>{let r=n(t.current);return t.current=r,r},[...e])}function sx(n){let e=uM(n),t=(0,zr.useRef)(null),r=(0,zr.useCallback)(o=>{o!==t.current&&(e==null||e(o,t.current)),t.current=o},[]);return[t,r]}function cM(n){let e=(0,zr.useRef)();return(0,zr.useEffect)(()=>{e.current=n},[n]),e.current}var a4={};function Zg(n,e){return(0,zr.useMemo)(()=>{if(e)return e;let t=a4[n]==null?0:a4[n]+1;return a4[n]=t,n+"-"+t},[n,e])}function Mue(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r.reduce((i,a)=>{let s=Object.entries(a);for(let[l,u]of s){let c=i[l];c!=null&&(i[l]=c+n*u)}return i},{...e})}}var Qg=Mue(1),Jg=Mue(-1);function T3e(n){return"clientX"in n&&"clientY"in n}function lx(n){if(!n)return!1;let{KeyboardEvent:e}=Yi(n.target);return e&&n instanceof e}function P3e(n){if(!n)return!1;let{TouchEvent:e}=Yi(n.target);return e&&n instanceof e}function dM(n){if(P3e(n)){if(n.touches&&n.touches.length){let{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){let{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return T3e(n)?{x:n.clientX,y:n.clientY}:null}var Ra=Object.freeze({Translate:{toString(n){if(!n)return;let{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;let{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Ra.Translate.toString(n),Ra.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),Iue="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Aue(n){return n.matches(Iue)?n:n.querySelector(Iue)}var ev=_(z()),O3e={display:"none"};function Nue(n){let{id:e,value:t}=n;return ev.default.createElement("div",{id:e,style:O3e},t)}function kue(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n,o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ev.default.createElement("div",{id:e,style:o,role:"status","aria-live":r,"aria-atomic":!0},t)}function Vue(){let[n,e]=(0,ev.useState)("");return{announce:(0,ev.useCallback)(r=>{r!=null&&e(r)},[]),announcement:n}}var Xue=(0,ie.createContext)(null);function I3e(n){let e=(0,ie.useContext)(Xue);(0,ie.useEffect)(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function F3e(){let[n]=(0,ie.useState)(()=>new Set),e=(0,ie.useCallback)(r=>(n.add(r),()=>n.delete(r)),[n]);return[(0,ie.useCallback)(r=>{let{type:o,event:i}=r;n.forEach(a=>{var s;return(s=a[o])==null?void 0:s.call(a,i)})},[n]),e]}var L3e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},M3e={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function A3e(n){let{announcements:e=M3e,container:t,hiddenTextDescribedById:r,screenReaderInstructions:o=L3e}=n,{announce:i,announcement:a}=Vue(),s=Zg("DndLiveRegion"),[l,u]=(0,ie.useState)(!1);if((0,ie.useEffect)(()=>{u(!0)},[]),I3e((0,ie.useMemo)(()=>({onDragStart(d){let{active:f}=d;i(e.onDragStart({active:f}))},onDragMove(d){let{active:f,over:p}=d;e.onDragMove&&i(e.onDragMove({active:f,over:p}))},onDragOver(d){let{active:f,over:p}=d;i(e.onDragOver({active:f,over:p}))},onDragEnd(d){let{active:f,over:p}=d;i(e.onDragEnd({active:f,over:p}))},onDragCancel(d){let{active:f,over:p}=d;i(e.onDragCancel({active:f,over:p}))}}),[i,e])),!l)return null;let c=ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(Nue,{id:r,value:o.draggable}),ie.default.createElement(kue,{id:s,announcement:a}));return t?(0,Sh.createPortal)(c,t):c}var _o;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(_o||(_o={}));function pM(){}function wl(n,e){return(0,ie.useMemo)(()=>({sensor:n,options:e!=null?e:{}}),[n,e])}function bh(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return(0,ie.useMemo)(()=>[...e].filter(r=>r!=null),[...e])}var Lu=Object.freeze({x:0,y:0});function Zue(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Que(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function N3e(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Gue(n){let{left:e,top:t,height:r,width:o}=n;return[{x:e,y:t},{x:e+o,y:t},{x:e,y:t+r},{x:e+o,y:t+r}]}function v4(n,e){if(!n||n.length===0)return null;let[t]=n;return e?t[e]:t}function Hue(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}var _h=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n,o=Hue(e,e.left,e.top),i=[];for(let a of r){let{id:s}=a,l=t.get(s);if(l){let u=Zue(Hue(l),o);i.push({id:s,data:{droppableContainer:a,value:u}})}}return i.sort(Que)},Jue=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n,o=Gue(e),i=[];for(let a of r){let{id:s}=a,l=t.get(s);if(l){let u=Gue(l),c=o.reduce((f,p,h)=>f+Zue(u[h],p),0),d=Number((c/4).toFixed(4));i.push({id:s,data:{droppableContainer:a,value:d}})}}return i.sort(Que)};function k3e(n,e){let t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),o=Math.min(e.left+e.width,n.left+n.width),i=Math.min(e.top+e.height,n.top+n.height),a=o-r,s=i-t;if(r<o&&t<i){let l=e.width*e.height,u=n.width*n.height,c=a*s,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}var V3e=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n,o=[];for(let i of r){let{id:a}=i,s=t.get(a);if(s){let l=k3e(s,e);l>0&&o.push({id:a,data:{droppableContainer:i,value:l}})}}return o.sort(N3e)};function G3e(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function ece(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Lu}function H3e(n){return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((a,s)=>({...a,top:a.top+n*s.y,bottom:a.bottom+n*s.y,left:a.left+n*s.x,right:a.right+n*s.x}),{...t})}}var $3e=H3e(1);function B3e(n){if(n.startsWith("matrix3d(")){let e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){let e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function W3e(n,e,t){let r=B3e(e);if(!r)return n;let{scaleX:o,scaleY:i,x:a,y:s}=r,l=n.left-a-(1-o)*parseFloat(t),u=n.top-s-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),c=o?n.width/o:n.width,d=i?n.height/i:n.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}var z3e={ignoreTransform:!1};function rv(n,e){e===void 0&&(e=z3e);let t=n.getBoundingClientRect();if(e.ignoreTransform){let{transform:u,transformOrigin:c}=Yi(n).getComputedStyle(n);u&&(t=W3e(t,u,c))}let{top:r,left:o,width:i,height:a,bottom:s,right:l}=t;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function $ue(n){return rv(n,{ignoreTransform:!0})}function U3e(n){let e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function j3e(n,e){return e===void 0&&(e=Yi(n).getComputedStyle(n)),e.position==="fixed"}function K3e(n,e){e===void 0&&(e=Yi(n).getComputedStyle(n));let t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{let i=e[o];return typeof i=="string"?t.test(i):!1})}function px(n,e){let t=[];function r(o){if(e!=null&&t.length>=e||!o)return t;if(lM(o)&&o.scrollingElement!=null&&!t.includes(o.scrollingElement))return t.push(o.scrollingElement),t;if(!gw(o)||s4(o)||t.includes(o))return t;let i=Yi(n).getComputedStyle(o);return o!==n&&K3e(o,i)&&t.push(o),j3e(o,i)?t:r(o.parentNode)}return n?r(n):t}function tce(n){let[e]=px(n,1);return e!=null?e:null}function l4(n){return!ax||!n?null:Yg(n)?n:sM(n)?lM(n)||n===Xg(n).scrollingElement?window:gw(n)?n:null:null}function nce(n){return Yg(n)?n.scrollX:n.scrollLeft}function rce(n){return Yg(n)?n.scrollY:n.scrollTop}function f4(n){return{x:nce(n),y:rce(n)}}var Bo;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Bo||(Bo={}));function oce(n){return!ax||!n?!1:n===document.scrollingElement}function ice(n){let e={x:0,y:0},t=oce(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},o=n.scrollTop<=e.y,i=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,s=n.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:a,isRight:s,maxScroll:r,minScroll:e}}var q3e={x:.2,y:.2};function Y3e(n,e,t,r,o){let{top:i,left:a,right:s,bottom:l}=t;r===void 0&&(r=10),o===void 0&&(o=q3e);let{isTop:u,isBottom:c,isLeft:d,isRight:f}=ice(n),p={x:0,y:0},h={x:0,y:0},m={height:e.height*o.y,width:e.width*o.x};return!u&&i<=e.top+m.height?(p.y=Bo.Backward,h.y=r*Math.abs((e.top+m.height-i)/m.height)):!c&&l>=e.bottom-m.height&&(p.y=Bo.Forward,h.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!f&&s>=e.right-m.width?(p.x=Bo.Forward,h.x=r*Math.abs((e.right-m.width-s)/m.width)):!d&&a<=e.left+m.width&&(p.x=Bo.Backward,h.x=r*Math.abs((e.left+m.width-a)/m.width)),{direction:p,speed:h}}function X3e(n){if(n===document.scrollingElement){let{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}let{top:e,left:t,right:r,bottom:o}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:o,width:n.clientWidth,height:n.clientHeight}}function ace(n){return n.reduce((e,t)=>Qg(e,f4(t)),Lu)}function Z3e(n){return n.reduce((e,t)=>e+nce(t),0)}function Q3e(n){return n.reduce((e,t)=>e+rce(t),0)}function J3e(n,e){if(e===void 0&&(e=rv),!n)return;let{top:t,left:r,bottom:o,right:i}=e(n);tce(n)&&(o<=0||i<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}var eWe=[["x",["left","right"],Z3e],["y",["top","bottom"],Q3e]],cx=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=px(t),o=ace(r);this.rect={...e},this.width=e.width,this.height=e.height;for(let[i,a,s]of eWe)for(let l of a)Object.defineProperty(this,l,{get:()=>{let u=s(r),c=o[i]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},tv=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var o;(o=this.target)==null||o.addEventListener(e,t,r),this.listeners.push([e,t,r])}};function tWe(n){let{EventTarget:e}=Yi(n);return n instanceof e?n:Xg(n)}function u4(n,e){let t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var vl;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(vl||(vl={}));function Bue(n){n.preventDefault()}function nWe(n){n.stopPropagation()}var Gt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter"})(Gt||(Gt={}));var sce={start:[Gt.Space,Gt.Enter],cancel:[Gt.Esc],end:[Gt.Space,Gt.Enter]},rWe=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Gt.Right:return{...t,x:t.x+25};case Gt.Left:return{...t,x:t.x-25};case Gt.Down:return{...t,y:t.y+25};case Gt.Up:return{...t,y:t.y-25}}},yl=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new tv(Xg(t)),this.windowListeners=new tv(Yi(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vl.Resize,this.handleCancel),this.windowListeners.add(vl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vl.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&J3e(r),t(Lu)}handleKeyDown(e){if(lx(e)){let{active:t,context:r,options:o}=this.props,{keyboardCodes:i=sce,coordinateGetter:a=rWe,scrollBehavior:s="smooth"}=o,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}let{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Lu;this.referenceCoordinates||(this.referenceCoordinates=c);let d=a(e,{active:t,context:r.current,currentCoordinates:c});if(d){let f=Jg(d,c),p={x:0,y:0},{scrollableAncestors:h}=r.current;for(let m of h){let v=e.code,{isTop:g,isRight:y,isLeft:C,isBottom:w,maxScroll:b,minScroll:E}=ice(m),D=X3e(m),S={x:Math.min(v===Gt.Right?D.right-D.width/2:D.right,Math.max(v===Gt.Right?D.left:D.left+D.width/2,d.x)),y:Math.min(v===Gt.Down?D.bottom-D.height/2:D.bottom,Math.max(v===Gt.Down?D.top:D.top+D.height/2,d.y))},T=v===Gt.Right&&!y||v===Gt.Left&&!C,O=v===Gt.Down&&!w||v===Gt.Up&&!g;if(T&&S.x!==d.x){let L=m.scrollLeft+f.x,k=v===Gt.Right&&L<=b.x||v===Gt.Left&&L>=E.x;if(k&&!f.y){m.scrollTo({left:L,behavior:s});return}k?p.x=m.scrollLeft-L:p.x=v===Gt.Right?m.scrollLeft-b.x:m.scrollLeft-E.x,p.x&&m.scrollBy({left:-p.x,behavior:s});break}else if(O&&S.y!==d.y){let L=m.scrollTop+f.y,k=v===Gt.Down&&L<=b.y||v===Gt.Up&&L>=E.y;if(k&&!f.x){m.scrollTo({top:L,behavior:s});return}k?p.y=m.scrollTop-L:p.y=v===Gt.Down?m.scrollTop-b.y:m.scrollTop-E.y,p.y&&m.scrollBy({top:-p.y,behavior:s});break}}this.handleMove(e,Qg(Jg(d,this.referenceCoordinates),p))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};yl.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=sce,onActivation:o}=e,{active:i}=t,{code:a}=n.nativeEvent;if(r.start.includes(a)){let s=i.activatorNode.current;return s&&n.target!==s?!1:(n.preventDefault(),o==null||o({event:n.nativeEvent}),!0)}return!1}}];function Wue(n){return Boolean(n&&"distance"in n)}function zue(n){return Boolean(n&&"delay"in n)}var dx=class{constructor(e,t,r){var o;r===void 0&&(r=tWe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=Xg(a),this.documentListeners=new tv(this.document),this.listeners=new tv(r),this.windowListeners=new tv(Yi(a)),this.initialCoordinates=(o=dM(i))!=null?o:Lu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(vl.Resize,this.handleCancel),this.windowListeners.add(vl.DragStart,Bue),this.windowListeners.add(vl.VisibilityChange,this.handleCancel),this.windowListeners.add(vl.ContextMenu,Bue),this.documentListeners.add(vl.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zue(t)){this.timeoutId=setTimeout(this.handleStart,t.delay);return}if(Wue(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(vl.Click,nWe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vl.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!o)return;let l=(t=dM(e))!=null?t:Lu,u=Jg(o,l);if(!r&&s){if(Wue(s)){if(s.tolerance!=null&&u4(u,s.tolerance))return this.handleCancel();if(u4(u,s.distance))return this.handleStart()}return zue(s)&&u4(u,s.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){let{onEnd:e}=this.props;this.detach(),e()}handleCancel(){let{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Gt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},oWe={move:{name:"pointermove"},end:{name:"pointerup"}},Cl=class extends dx{constructor(e){let{event:t}=e,r=Xg(t.target);super(e,oWe,r)}};Cl.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];var iWe={move:{name:"mousemove"},end:{name:"mouseup"}},p4;(function(n){n[n.RightClick=2]="RightClick"})(p4||(p4={}));var h4=class extends dx{constructor(e){super(e,iWe,Xg(e.event.target))}};h4.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===p4.RightClick?!1:(r==null||r({event:t}),!0)}}];var c4={move:{name:"touchmove"},end:{name:"touchend"}},m4=class extends dx{constructor(e){super(e,c4)}static setup(){return window.addEventListener(c4.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(c4.move.name,e)};function e(){}}};m4.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e,{touches:o}=t;return o.length>1?!1:(r==null||r({event:t}),!0)}}];var ux;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(ux||(ux={}));var hM;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(hM||(hM={}));function aWe(n){let{acceleration:e,activator:t=ux.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:a=5,order:s=hM.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=n,p=lWe({delta:d,disabled:!i}),[h,m]=Lue(),v=(0,ie.useRef)({x:0,y:0}),g=(0,ie.useRef)({x:0,y:0}),y=(0,ie.useMemo)(()=>{switch(t){case ux.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ux.DraggableRect:return o}},[t,o,l]),C=(0,ie.useRef)(null),w=(0,ie.useCallback)(()=>{let E=C.current;if(!E)return;let D=v.current.x*g.current.x,S=v.current.y*g.current.y;E.scrollBy(D,S)},[]),b=(0,ie.useMemo)(()=>s===hM.TreeOrder?[...u].reverse():u,[s,u]);(0,ie.useEffect)(()=>{if(!i||!u.length||!y){m();return}for(let E of b){if((r==null?void 0:r(E))===!1)continue;let D=u.indexOf(E),S=c[D];if(!S)continue;let{direction:T,speed:O}=Y3e(E,S,y,e,f);for(let L of["x","y"])p[L][T[L]]||(O[L]=0,T[L]=0);if(O.x>0||O.y>0){m(),C.current=E,h(w,a),v.current=O,g.current=T;return}}v.current={x:0,y:0},g.current={x:0,y:0},m()},[e,w,r,m,i,a,JSON.stringify(y),JSON.stringify(p),h,u,b,c,JSON.stringify(f)])}var sWe={x:{[Bo.Backward]:!1,[Bo.Forward]:!1},y:{[Bo.Backward]:!1,[Bo.Forward]:!1}};function lWe(n){let{delta:e,disabled:t}=n,r=cM(e);return yw(o=>{if(t||!r||!o)return sWe;let i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Bo.Backward]:o.x[Bo.Backward]||i.x===-1,[Bo.Forward]:o.x[Bo.Forward]||i.x===1},y:{[Bo.Backward]:o.y[Bo.Backward]||i.y===-1,[Bo.Forward]:o.y[Bo.Forward]||i.y===1}}},[t,e,r])}function uWe(n,e){let t=e!==null?n.get(e):void 0,r=t?t.node.current:null;return yw(o=>{var i;return e===null?null:(i=r!=null?r:o)!=null?i:null},[r,e])}function cWe(n,e){return(0,ie.useMemo)(()=>n.reduce((t,r)=>{let{sensor:o}=r,i=o.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...i]},[]),[n,e])}var fx;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(fx||(fx={}));var g4;(function(n){n.Optimized="optimized"})(g4||(g4={}));var Uue=new Map;function dWe(n,e){let{dragging:t,dependencies:r,config:o}=e,[i,a]=(0,ie.useState)(null),{frequency:s,measure:l,strategy:u}=o,c=(0,ie.useRef)(n),d=v(),f=vw(d),p=(0,ie.useCallback)(function(g){g===void 0&&(g=[]),!f.current&&a(y=>y===null?g:y.concat(g.filter(C=>!y.includes(C))))},[f]),h=(0,ie.useRef)(null),m=yw(g=>{if(d&&!t)return Uue;if(!g||g===Uue||c.current!==n||i!=null){let y=new Map;for(let C of n){if(!C)continue;if(i&&i.length>0&&!i.includes(C.id)&&C.rect.current){y.set(C.id,C.rect.current);continue}let w=C.node.current,b=w?new cx(l(w),w):null;C.rect.current=b,b&&y.set(C.id,b)}return y}return g},[n,i,t,d,l]);return(0,ie.useEffect)(()=>{c.current=n},[n]),(0,ie.useEffect)(()=>{d||p()},[t,d]),(0,ie.useEffect)(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),(0,ie.useEffect)(()=>{d||typeof s!="number"||h.current!==null||(h.current=setTimeout(()=>{p(),h.current=null},s))},[s,d,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(u){case fx.Always:return!1;case fx.BeforeDragging:return t;default:return!t}}}function lce(n,e){return yw(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function fWe(n,e){return lce(n,e)}function pWe(n){let{callback:e,disabled:t}=n,r=uM(e),o=(0,ie.useMemo)(()=>{if(t||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;let{MutationObserver:i}=window;return new i(r)},[r,t]);return(0,ie.useEffect)(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function mM(n){let{callback:e,disabled:t}=n,r=uM(e),o=(0,ie.useMemo)(()=>{if(t||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;let{ResizeObserver:i}=window;return new i(r)},[t]);return(0,ie.useEffect)(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function hWe(n){return new cx(rv(n),n)}function jue(n,e,t){e===void 0&&(e=hWe);let[r,o]=(0,ie.useReducer)(s,null),i=pWe({callback(l){if(n)for(let u of l){let{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(n)){o();break}}}}),a=mM({callback:o});return xs(()=>{o(),n?(a==null||a.observe(n),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[n]),r;function s(l){if(!n)return null;if(n.isConnected===!1){var u;return(u=l!=null?l:t)!=null?u:null}let c=e(n);return JSON.stringify(l)===JSON.stringify(c)?l:c}}function mWe(n){let e=lce(n);return ece(n,e)}var Kue=[];function gWe(n){let e=(0,ie.useRef)(n),t=yw(r=>n?r&&r!==Kue&&n&&e.current&&n.parentNode===e.current.parentNode?r:px(n):Kue,[n]);return(0,ie.useEffect)(()=>{e.current=n},[n]),t}function vWe(n){let[e,t]=(0,ie.useState)(null),r=(0,ie.useRef)(n),o=(0,ie.useCallback)(i=>{let a=l4(i.target);a&&t(s=>s?(s.set(a,f4(a)),new Map(s)):null)},[]);return(0,ie.useEffect)(()=>{let i=r.current;if(n!==i){a(i);let s=n.map(l=>{let u=l4(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,f4(u)]):null}).filter(l=>l!=null);t(s.length?new Map(s):null),r.current=n}return()=>{a(n),a(i)};function a(s){s.forEach(l=>{let u=l4(l);u==null||u.removeEventListener("scroll",o)})}},[o,n]),(0,ie.useMemo)(()=>n.length?e?Array.from(e.values()).reduce((i,a)=>Qg(i,a),Lu):ace(n):Lu,[n,e])}function que(n,e){e===void 0&&(e=[]);let t=(0,ie.useRef)(null);return(0,ie.useEffect)(()=>{t.current=null},e),(0,ie.useEffect)(()=>{let r=n!==Lu;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?Jg(n,t.current):Lu}function yWe(n){(0,ie.useEffect)(()=>{if(!ax)return;let e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(let t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function CWe(n,e){return(0,ie.useMemo)(()=>n.reduce((t,r)=>{let{eventName:o,handler:i}=r;return t[o]=a=>{i(a,e)},t},{}),[n,e])}function uce(n){return(0,ie.useMemo)(()=>n?U3e(n):null,[n])}var d4=[];function wWe(n,e){e===void 0&&(e=rv);let[t]=n,r=uce(t?Yi(t):null),[o,i]=(0,ie.useReducer)(s,d4),a=mM({callback:i});return n.length>0&&o===d4&&i(),xs(()=>{n.length?n.forEach(l=>a==null?void 0:a.observe(l)):(a==null||a.disconnect(),i())},[n]),o;function s(){return n.length?n.map(l=>oce(l)?r:new cx(e(l),l)):d4}}function SWe(n){if(!n)return null;if(n.children.length>1)return n;let e=n.children[0];return gw(e)?e:n}function bWe(n){let{measure:e}=n,[t,r]=(0,ie.useState)(null),o=(0,ie.useCallback)(u=>{for(let{target:c}of u)if(gw(c)){r(d=>{let f=e(c);return d?{...d,width:f.width,height:f.height}:f});break}},[e]),i=mM({callback:o}),a=(0,ie.useCallback)(u=>{let c=SWe(u);i==null||i.disconnect(),c&&(i==null||i.observe(c)),r(c?e(c):null)},[e,i]),[s,l]=sx(a);return(0,ie.useMemo)(()=>({nodeRef:s,rect:t,setRef:l}),[t,s,l])}var _We=[{sensor:Cl,options:{}},{sensor:yl,options:{}}],EWe={current:{}},fM={draggable:{measure:$ue},droppable:{measure:$ue,strategy:fx.WhileDragging,frequency:g4.Optimized},dragOverlay:{measure:rv}},nv=class extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}},xWe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pM},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:fM,measureDroppableContainers:pM,windowRect:null,measuringScheduled:!1},DWe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pM,draggableNodes:new Map,over:null,measureDroppableContainers:pM},gM=(0,ie.createContext)(DWe),cce=(0,ie.createContext)(xWe);function RWe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nv}}}function TWe(n,e){switch(e.type){case _o.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case _o.DragMove:return n.draggable.active?{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}}:n;case _o.DragEnd:case _o.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _o.RegisterDroppable:{let{element:t}=e,{id:r}=t,o=new nv(n.droppable.containers);return o.set(r,t),{...n,droppable:{...n.droppable,containers:o}}}case _o.SetDroppableDisabled:{let{id:t,key:r,disabled:o}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;let a=new nv(n.droppable.containers);return a.set(t,{...i,disabled:o}),{...n,droppable:{...n.droppable,containers:a}}}case _o.UnregisterDroppable:{let{id:t,key:r}=e,o=n.droppable.containers.get(t);if(!o||r!==o.key)return n;let i=new nv(n.droppable.containers);return i.delete(t),{...n,droppable:{...n.droppable,containers:i}}}default:return n}}function PWe(n){let{disabled:e}=n,{active:t,activatorEvent:r,draggableNodes:o}=(0,ie.useContext)(gM),i=cM(r),a=cM(t==null?void 0:t.id);return(0,ie.useEffect)(()=>{if(!e&&!r&&i&&a!=null){if(!lx(i)||document.activeElement===i.target)return;let s=o.get(a);if(!s)return;let{activatorNode:l,node:u}=s;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(let c of[l.current,u.current]){if(!c)continue;let d=Aue(c);if(d){d.focus();break}}})}},[r,e,o,a,i]),null}function OWe(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((o,i)=>i({transform:o,...r}),t):t}function IWe(n){return(0,ie.useMemo)(()=>({draggable:{...fM.draggable,...n==null?void 0:n.draggable},droppable:{...fM.droppable,...n==null?void 0:n.droppable},dragOverlay:{...fM.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function FWe(n){let{activeNode:e,measure:t,initialRect:r,config:o=!0}=n,i=(0,ie.useRef)(!1),{x:a,y:s}=typeof o=="boolean"?{x:o,y:o}:o;xs(()=>{if(!a&&!s||!e){i.current=!1;return}if(i.current||!r)return;let u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;let c=t(u),d=ece(c,r);if(a||(d.x=0),s||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){let f=tce(u);f&&f.scrollBy({top:d.y,left:d.x})}},[e,a,s,r,t])}var dce=(0,ie.createContext)({...Lu,scaleX:1,scaleY:1}),wh;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(wh||(wh={}));var Eh=(0,ie.memo)(function(e){var t,r,o,i;let{id:a,accessibility:s,autoScroll:l=!0,children:u,sensors:c=_We,collisionDetection:d=V3e,measuring:f,modifiers:p,...h}=e,m=(0,ie.useReducer)(TWe,void 0,RWe),[v,g]=m,[y,C]=F3e(),[w,b]=(0,ie.useState)(wh.Uninitialized),E=w===wh.Initialized,{draggable:{active:D,nodes:S,translate:T},droppable:{containers:O}}=v,L=D?S.get(D):null,k=(0,ie.useRef)({initial:null,translated:null}),A=(0,ie.useMemo)(()=>{var Z;return D!=null?{id:D,data:(Z=L==null?void 0:L.data)!=null?Z:EWe,rect:k}:null},[D,L]),$=(0,ie.useRef)(null),[G,K]=(0,ie.useState)(null),[V,Y]=(0,ie.useState)(null),Q=vw(h,Object.values(h)),X=Zg("DndDescribedBy",a),fe=(0,ie.useMemo)(()=>O.getEnabled(),[O]),ne=IWe(f),{droppableRects:me,measureDroppableContainers:de,measuringScheduled:Ce}=dWe(fe,{dragging:E,dependencies:[T.x,T.y],config:ne.droppable}),ge=uWe(S,D),He=(0,ie.useMemo)(()=>V?dM(V):null,[V]),dt=q(),ot=fWe(ge,ne.draggable.measure);FWe({activeNode:D?S.get(D):null,config:dt.layoutShiftCompensation,initialRect:ot,measure:ne.draggable.measure});let ke=jue(ge,ne.draggable.measure,ot),it=jue(ge?ge.parentElement:null),De=(0,ie.useRef)({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ye=O.getNodeFor((t=De.current.over)==null?void 0:t.id),je=bWe({measure:ne.dragOverlay.measure}),Pe=(r=je.nodeRef.current)!=null?r:ge,wt=E?(o=je.rect)!=null?o:ke:null,On=Boolean(je.nodeRef.current&&je.rect),Ve=mWe(On?null:ke),$n=uce(Pe?Yi(Pe):null),Xe=gWe(E?Ye!=null?Ye:ge:null),at=wWe(Xe),Bt=OWe(p,{transform:{x:T.x-Ve.x,y:T.y-Ve.y,scaleX:1,scaleY:1},activatorEvent:V,active:A,activeNodeRect:ke,containerNodeRect:it,draggingNodeRect:wt,over:De.current.over,overlayNodeRect:je.rect,scrollableAncestors:Xe,scrollableAncestorRects:at,windowRect:$n}),We=He?Qg(He,T):null,ft=vWe(Xe),St=que(ft),bt=que(ft,[ke]),Yt=Qg(Bt,St),Xt=wt?$3e(wt,Bt):null,In=A&&Xt?d({active:A,collisionRect:Xt,droppableRects:me,droppableContainers:fe,pointerCoordinates:We}):null,pn=v4(In,"id"),[bn,Nu]=(0,ie.useState)(null),pv=On?Bt:Qg(Bt,bt),Nh=G3e(pv,(i=bn==null?void 0:bn.rect)!=null?i:null,ke),ku=(0,ie.useCallback)((Z,le)=>{let{sensor:N,options:H}=le;if($.current==null)return;let U=S.get($.current);if(!U)return;let oe=Z.nativeEvent,we=new N({active:$.current,activeNode:U,event:oe,options:H,context:De,onStart(Fe){let Le=$.current;if(Le==null)return;let Oe=S.get(Le);if(!Oe)return;let{onDragStart:nt}=Q.current,Bn={active:{id:Le,data:Oe.data,rect:k}};(0,Sh.unstable_batchedUpdates)(()=>{nt==null||nt(Bn),b(wh.Initializing),g({type:_o.DragStart,initialCoordinates:Fe,active:Le}),y({type:"onDragStart",event:Bn})})},onMove(Fe){g({type:_o.DragMove,coordinates:Fe})},onEnd:Ae(_o.DragEnd),onCancel:Ae(_o.DragCancel)});(0,Sh.unstable_batchedUpdates)(()=>{K(we),Y(Z.nativeEvent)});function Ae(Fe){return async function(){let{active:Oe,collisions:nt,over:Bn,scrollAdjustedTranslate:Ne}=De.current,yt=null;if(Oe&&Ne){let{cancelDrop:sn}=Q.current;yt={activatorEvent:oe,active:Oe,collisions:nt,delta:Ne,over:Bn},Fe===_o.DragEnd&&typeof sn=="function"&&await Promise.resolve(sn(yt))&&(Fe=_o.DragCancel)}$.current=null,(0,Sh.unstable_batchedUpdates)(()=>{g({type:Fe}),b(wh.Uninitialized),Nu(null),K(null),Y(null);let sn=Fe===_o.DragEnd?"onDragEnd":"onDragCancel";if(yt){let Jn=Q.current[sn];Jn==null||Jn(yt),y({type:sn,event:yt})}})}}},[S]),kh=(0,ie.useCallback)((Z,le)=>(N,H)=>{let U=N.nativeEvent,oe=S.get(H);if($.current!==null||!oe||U.dndKit||U.defaultPrevented)return;let we={active:oe};Z(N,le.options,we)===!0&&(U.dndKit={capturedBy:le.sensor},$.current=H,ku(N,le))},[S,ku]),If=cWe(c,kh);yWe(c),xs(()=>{ke&&w===wh.Initializing&&b(wh.Initialized)},[ke,w]),(0,ie.useEffect)(()=>{let{onDragMove:Z}=Q.current,{active:le,activatorEvent:N,collisions:H,over:U}=De.current;if(!le||!N)return;let oe={active:le,activatorEvent:N,collisions:H,delta:{x:Yt.x,y:Yt.y},over:U};(0,Sh.unstable_batchedUpdates)(()=>{Z==null||Z(oe),y({type:"onDragMove",event:oe})})},[Yt.x,Yt.y]),(0,ie.useEffect)(()=>{let{active:Z,activatorEvent:le,collisions:N,droppableContainers:H,scrollAdjustedTranslate:U}=De.current;if(!Z||$.current==null||!le||!U)return;let{onDragOver:oe}=Q.current,we=H.get(pn),Ae=we&&we.rect.current?{id:we.id,rect:we.rect.current,data:we.data,disabled:we.disabled}:null,Fe={active:Z,activatorEvent:le,collisions:N,delta:{x:U.x,y:U.y},over:Ae};(0,Sh.unstable_batchedUpdates)(()=>{Nu(Ae),oe==null||oe(Fe),y({type:"onDragOver",event:Fe})})},[pn]),xs(()=>{De.current={activatorEvent:V,active:A,activeNode:ge,collisionRect:Xt,collisions:In,droppableRects:me,draggableNodes:S,draggingNode:Pe,draggingNodeRect:wt,droppableContainers:O,over:bn,scrollableAncestors:Xe,scrollAdjustedTranslate:Yt},k.current={initial:wt,translated:Xt}},[A,ge,In,Xt,S,Pe,wt,me,O,bn,Xe,Yt]),aWe({...dt,delta:T,draggingRect:Xt,pointerCoordinates:We,scrollableAncestors:Xe,scrollableAncestorRects:at});let M=(0,ie.useMemo)(()=>({active:A,activeNode:ge,activeNodeRect:ke,activatorEvent:V,collisions:In,containerNodeRect:it,dragOverlay:je,draggableNodes:S,droppableContainers:O,droppableRects:me,over:bn,measureDroppableContainers:de,scrollableAncestors:Xe,scrollableAncestorRects:at,measuringConfiguration:ne,measuringScheduled:Ce,windowRect:$n}),[A,ge,ke,V,In,it,je,S,O,me,bn,de,Xe,at,ne,Ce,$n]),W=(0,ie.useMemo)(()=>({activatorEvent:V,activators:If,active:A,activeNodeRect:ke,ariaDescribedById:{draggable:X},dispatch:g,draggableNodes:S,over:bn,measureDroppableContainers:de}),[V,If,A,ke,g,X,S,bn,de]);return ie.default.createElement(Xue.Provider,{value:C},ie.default.createElement(gM.Provider,{value:W},ie.default.createElement(cce.Provider,{value:M},ie.default.createElement(dce.Provider,{value:Nh},u)),ie.default.createElement(PWe,{disabled:(s==null?void 0:s.restoreFocus)===!1})),ie.default.createElement(A3e,{...s,hiddenTextDescribedById:X}));function q(){let Z=(G==null?void 0:G.autoScrollEnabled)===!1,le=typeof l=="object"?l.enabled===!1:l===!1,N=E&&!Z&&!le;return typeof l=="object"?{...l,enabled:N}:{enabled:N}}}),LWe=(0,ie.createContext)(null),Yue="button",MWe="Droppable";function fce(n){let{id:e,data:t,disabled:r=!1,attributes:o}=n,i=Zg(MWe),{activators:a,activatorEvent:s,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=(0,ie.useContext)(gM),{role:p=Yue,roleDescription:h="draggable",tabIndex:m=0}=o!=null?o:{},v=(l==null?void 0:l.id)===e,g=(0,ie.useContext)(v?dce:LWe),[y,C]=sx(),[w,b]=sx(),E=CWe(a,e),D=vw(t);xs(()=>(d.set(e,{id:e,key:i,node:y,activatorNode:w,data:D}),()=>{let T=d.get(e);T&&T.key===i&&d.delete(e)}),[d,e]);let S=(0,ie.useMemo)(()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":v&&p===Yue?!0:void 0,"aria-roledescription":h,"aria-describedby":c.draggable}),[r,p,m,v,h,c.draggable]);return{active:l,activatorEvent:s,activeNodeRect:u,attributes:S,isDragging:v,listeners:r?void 0:E,node:y,over:f,setNodeRef:C,setActivatorNodeRef:b,transform:g}}function pce(){return(0,ie.useContext)(cce)}var AWe="Droppable",NWe={timeout:25};function hce(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:o}=n,i=Zg(AWe),{active:a,dispatch:s,over:l,measureDroppableContainers:u}=(0,ie.useContext)(gM),c=(0,ie.useRef)({disabled:t}),d=(0,ie.useRef)(!1),f=(0,ie.useRef)(null),p=(0,ie.useRef)(null),{disabled:h,updateMeasurementsFor:m,timeout:v}={...NWe,...o},g=vw(m!=null?m:r),y=(0,ie.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),p.current=null},v)},[v]),C=mM({callback:y,disabled:h||!a}),w=(0,ie.useCallback)((S,T)=>{C&&(T&&(C.unobserve(T),d.current=!1),S&&C.observe(S))},[C]),[b,E]=sx(w),D=vw(e);return(0,ie.useEffect)(()=>{!C||!b.current||(C.disconnect(),d.current=!1,C.observe(b.current))},[b,C]),xs(()=>(s({type:_o.RegisterDroppable,element:{id:r,key:i,disabled:t,node:b,rect:f,data:D}}),()=>s({type:_o.UnregisterDroppable,key:i,id:r})),[r]),(0,ie.useEffect)(()=>{t!==c.current.disabled&&(s({type:_o.SetDroppableDisabled,id:r,key:i,disabled:t}),c.current.disabled=t)},[r,i,t,s]),{active:a,rect:f,isOver:(l==null?void 0:l.id)===r,node:b,over:l,setNodeRef:E}}var Ur=_(z());function Zc(n,e,t){let r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function kWe(n,e){return n.reduce((t,r,o)=>{let i=e.get(r);return i&&(t[o]=i),t},Array(n.length))}function vM(n){return n!==null&&n>=0}function VWe(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function GWe(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}var mce=n=>{let{rects:e,activeIndex:t,overIndex:r,index:o}=n,i=Zc(e,r,t),a=e[o],s=i[o];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}};var gce="Sortable",vce=Ur.default.createContext({activeIndex:-1,containerId:gce,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mce,disabled:{draggable:!1,droppable:!1}});function xh(n){let{children:e,id:t,items:r,strategy:o=mce,disabled:i=!1}=n,{active:a,dragOverlay:s,droppableRects:l,over:u,measureDroppableContainers:c}=pce(),d=Zg(gce,t),f=Boolean(s.rect!==null),p=(0,Ur.useMemo)(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),h=a!=null,m=a?p.indexOf(a.id):-1,v=u?p.indexOf(u.id):-1,g=(0,Ur.useRef)(p),y=!VWe(p,g.current),C=v!==-1&&m===-1||y,w=GWe(i);xs(()=>{y&&h&&c(p)},[y,p,h,c]),(0,Ur.useEffect)(()=>{g.current=p},[p]);let b=(0,Ur.useMemo)(()=>({activeIndex:m,containerId:d,disabled:w,disableTransforms:C,items:p,overIndex:v,useDragOverlay:f,sortedRects:kWe(p,l),strategy:o}),[m,d,w.draggable,w.droppable,C,p,v,l,f,o]);return Ur.default.createElement(vce.Provider,{value:b},e)}var HWe=n=>{let{id:e,items:t,activeIndex:r,overIndex:o}=n;return Zc(t,r,o).indexOf(e)},$We=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:u}=n;return!u||!r||s!==i&&o===a?!1:t?!0:a!==o&&e===l},BWe={duration:200,easing:"ease"},yce="transform",WWe=Ra.Transition.toString({property:yce,duration:0,easing:"linear"}),zWe={roleDescription:"sortable"};function UWe(n){let{disabled:e,index:t,node:r,rect:o}=n,[i,a]=(0,Ur.useState)(null),s=(0,Ur.useRef)(t);return xs(()=>{if(!e&&t!==s.current&&r.current){let l=o.current;if(l){let u=rv(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&a(c)}}t!==s.current&&(s.current=t)},[e,t,r,o]),(0,Ur.useEffect)(()=>{i&&a(null)},[i]),i}function Dh(n){let{animateLayoutChanges:e=$We,attributes:t,disabled:r,data:o,getNewIndex:i=HWe,id:a,strategy:s,resizeObserverConfig:l,transition:u=BWe}=n,{items:c,containerId:d,activeIndex:f,disabled:p,disableTransforms:h,sortedRects:m,overIndex:v,useDragOverlay:g,strategy:y}=(0,Ur.useContext)(vce),C=jWe(r,p),w=c.indexOf(a),b=(0,Ur.useMemo)(()=>({sortable:{containerId:d,index:w,items:c},...o}),[d,o,w,c]),E=(0,Ur.useMemo)(()=>c.slice(c.indexOf(a)),[c,a]),{rect:D,node:S,isOver:T,setNodeRef:O}=hce({id:a,data:b,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:L,activatorEvent:k,activeNodeRect:A,attributes:$,setNodeRef:G,listeners:K,isDragging:V,over:Y,setActivatorNodeRef:Q,transform:X}=fce({id:a,data:b,attributes:{...zWe,...t},disabled:C.draggable}),fe=Fue(O,G),ne=Boolean(L),me=ne&&!h&&vM(f)&&vM(v),de=!g&&V,Ce=de&&me?X:null,ge=s!=null?s:y,He=me?Ce!=null?Ce:ge({rects:m,activeNodeRect:A,activeIndex:f,overIndex:v,index:w}):null,dt=vM(f)&&vM(v)?i({id:a,items:c,activeIndex:f,overIndex:v}):w,ot=L==null?void 0:L.id,ke=(0,Ur.useRef)({activeId:ot,items:c,newIndex:dt,containerId:d}),it=c!==ke.current.items,De=e({active:L,containerId:d,isDragging:V,isSorting:ne,id:a,index:w,items:c,newIndex:ke.current.newIndex,previousItems:ke.current.items,previousContainerId:ke.current.containerId,transition:u,wasDragging:ke.current.activeId!=null}),Ye=UWe({disabled:!De,index:w,node:S,rect:D});return(0,Ur.useEffect)(()=>{ne&&ke.current.newIndex!==dt&&(ke.current.newIndex=dt),d!==ke.current.containerId&&(ke.current.containerId=d),c!==ke.current.items&&(ke.current.items=c)},[ne,dt,d,c]),(0,Ur.useEffect)(()=>{if(ot===ke.current.activeId)return;if(ot&&!ke.current.activeId){ke.current.activeId=ot;return}let Pe=setTimeout(()=>{ke.current.activeId=ot},50);return()=>clearTimeout(Pe)},[ot]),{active:L,activeIndex:f,attributes:$,data:b,rect:D,index:w,newIndex:dt,items:c,isOver:T,isSorting:ne,isDragging:V,listeners:K,node:S,overIndex:v,over:Y,setNodeRef:fe,setActivatorNodeRef:Q,setDroppableNodeRef:O,setDraggableNodeRef:G,transform:Ye!=null?Ye:He,transition:je()};function je(){if(Ye||it&&ke.current.newIndex===w)return WWe;if(!(de&&!lx(k)||!u)&&(ne||De))return Ra.Transition.toString({...u,property:yce})}}function jWe(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function yM(n){if(!n)return!1;let e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var KWe=[Gt.Down,Gt.Right,Gt.Up,Gt.Left],Rh=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:o,droppableContainers:i,over:a,scrollableAncestors:s}}=e;if(KWe.includes(n.code)){if(n.preventDefault(),!t||!r)return;let l=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=o.get(d.id);if(f)switch(n.code){case Gt.Down:r.top<f.top&&l.push(d);break;case Gt.Up:r.top>f.top&&l.push(d);break;case Gt.Left:r.left>f.left&&l.push(d);break;case Gt.Right:r.left<f.left&&l.push(d);break}});let u=Jue({active:t,collisionRect:r,droppableRects:o,droppableContainers:l,pointerCoordinates:null}),c=v4(u,"id");if(c===(a==null?void 0:a.id)&&u.length>1&&(c=u[1].id),c!=null){let d=i.get(t.id),f=i.get(c),p=f?o.get(f.id):null,h=f==null?void 0:f.node.current;if(h&&p&&d&&f){let v=px(h).some((E,D)=>s[D]!==E),g=Cce(d,f),y=qWe(d,f),C=v||!g?{x:0,y:0}:{x:y?r.width-p.width:0,y:y?r.height-p.height:0},w={x:p.left,y:p.top};return C.x&&C.y?w:Jg(w,C)}}}};function Cce(n,e){return!yM(n)||!yM(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function qWe(n,e){return!yM(n)||!yM(e)||!Cce(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}var Sce=require("obsidian"),Ph=_(z());var Cn=class extends Error{constructor(e){super(e),this.name="BizError"}};ue();var hx=_(F()),YWe=[{key:"column",value:"column",icon:(0,hx.jsx)(tp,{}),label:R.layout_type_column},{key:"tab",value:"tab",icon:(0,hx.jsx)(LS,{}),label:R.layout_type_tab},{key:"verticalTab",value:"verticalTab",icon:(0,hx.jsx)(ZS,{}),label:R.layout_type_vertical_tab}];function wce(n){return(0,hx.jsx)(jt,{selectedKey:n.value,options:YWe,fullWidth:!1,onChange:function(e){n.onChange(e)}})}var wn=_(F());function bce(){let n=Fr(u=>u.widgetModel.value),e=uo(),{widgetId:t}=bo();if(!t)throw new Cn("widgetId is required");let r=Wr(n,t),o=Br(),i=(0,Ph.useMemo)(()=>{if(!r)return new qi(Ze());if(r.type=="multi")return r;let u=new qi(Ze());return u.widgets=[r],u},[n,r]),a=u=>{let{active:c,over:d}=u,f=i.widgets;if(c.id!==d.id){let p=f.findIndex(g=>g.id==c.id),h=f.findIndex(g=>g.id==d.id),m=Zc(f,p,h),v=aM(n,i.id,m);e(Ft(v))}},s=bh(wl(Cl),wl(yl,{coordinateGetter:Rh})),l=u=>{let c=p=>{let h={...p,id:Ze()};if(p.type=="multi"){let m=h;m.widgets=m.widgets.map(v=>c(v))}return h},d={...i},f=d.widgets.flatMap(p=>p.id==u.id?[p,c(p)]:[p]);d.widgets=f,e(Ft(qt(n,d)))};return(0,wn.jsxs)("div",{className:"widget-list",children:[(0,wn.jsxs)("div",{className:"widget-list-header",children:[(0,wn.jsx)("span",{className:"description",children:R.layout_type}),(0,wn.jsx)(wce,{value:i==null?void 0:i.layoutType,onChange:function(u){let c={...i};c.layoutType=u,(c.layoutType=="tab"||c.layoutType=="verticalTab")&&(c.widgets=c.widgets.map(f=>({...f,maxWidthRatio:100})));let d=qt(n,c);e(Ft(d))}})]}),(0,wn.jsx)(JC,{}),(0,wn.jsx)(Eh,{onDragEnd:a,sensors:s,collisionDetection:_h,children:(0,wn.jsx)(xh,{items:i.widgets,children:i.widgets.map(u=>(0,wn.jsx)(XWe,{widget:u,onActive:c=>{c.type=="multi"?o(mw.replace(":widgetId",c.id)):o(CM.replace(":widgetId",c.id))},onRemove:c=>{let d={...i};d.widgets=d.widgets.filter(f=>f.id!=c.id),e(Ft(aM(n,i.id,d.widgets)))},onChange:c=>{let d={...i};d.widgets=d.widgets.map(f=>f.id==c.id?c:f),e(Ft(qt(n,d)))},onDuplicate:l},u.id))})}),(0,wn.jsx)(Fle,{to:_ce.replace(":parentId",i.id),children:(0,wn.jsxs)(et,{children:["+ ",R.add_widget]})})]})}function XWe(n){let{widget:e}=n,[t,r]=(0,Ph.useState)(!1),o=(0,Ph.useRef)(null);(0,Ph.useEffect)(()=>{var p;t&&((p=o.current)==null||p.focus())},[t]);let{attributes:i,listeners:a,setNodeRef:s,setActivatorNodeRef:l,transform:u,transition:c}=Dh({id:e.id}),d={transform:Ra.Transform.toString(u),transition:c},f=[{label:R.edit,value:"edit",icon:(0,wn.jsx)(Do,{}),onClick:()=>{r(!0)}},{label:R.copy,value:"duplicate",icon:(0,wn.jsx)(WS,{}),onClick:()=>{n.onDuplicate(e)}},{label:R.delete,value:"delete",icon:(0,wn.jsx)(hm,{}),onClick:()=>{n.onRemove(e),new Sce.Notice(R.delete_success)}}];return(0,wn.jsxs)("div",{className:"widget-list-item",ref:s,...i,style:{...d},children:[(0,wn.jsx)("div",{ref:l,...a,children:(0,wn.jsx)(et,{children:(0,wn.jsx)(Ll,{})})}),(0,wn.jsx)("span",{className:"item-title",onClick:()=>{t||n.onActive(e)},children:t?(0,wn.jsx)(wn.Fragment,{children:(0,wn.jsx)("input",{type:"text",className:"input tab-title-input",ref:o,value:e.tabTitle,onChange:p=>{var m;let h={...e,tabTitle:p.target.value};(m=n.onChange)==null||m.call(n,h)},onBlur:p=>{r(!1)},onKeyDown:p=>{p.key=="Enter"&&r(!1)}})}):(0,wn.jsx)("div",{children:e.tabTitle||ws(e.type)})}),(0,wn.jsx)(et,{size:"sm",children:(0,wn.jsx)(ow,{menuIcon:(0,wn.jsx)(cm,{}),items:f.map(p=>({label:p.label,value:p.value,icon:p.icon})),onSelect:function(p){let h=f.find(m=>m.value==p.value);h&&h.onClick&&h.onClick()}})})]})}var hde=_(z());ue();var Cw=_(F());function Qc(n){let{onChoose:e,options:t}=n,r=o=>{if(n.multiple===!1){if(o.choosed)return;o.choosed=!o.choosed;let i=t.map(a=>a.value==o.value?o:(a.choosed=!1,a));e(i.filter(a=>a.choosed))}else{o.choosed=!o.choosed;let i=t.map(a=>a.value==o.value?o:a);e(i.filter(a=>a.choosed))}};return(0,Cw.jsx)("div",{className:"choose-container",children:n.options.map(o=>(0,Cw.jsxs)("div",{className:o.choosed?"choose-item choosed":"choose-item","ariea-label":o.tip,onClick:i=>r(o),children:[o.icon&&(0,Cw.jsx)("div",{className:"choose-item-icon",children:o.icon}),(0,Cw.jsx)("div",{className:"choose-item-label",children:o.label})]},o.value))})}var Ece=_(F());function wM(n){let e=n.defaultTimePatternText!=null?n.defaultTimePatternText:"yMdHms";return(0,Ece.jsx)(Qc,{options:ZWe(e),onChoose:t=>{let r=t.map(o=>o.value).join("");n.onChange(r)}})}function ZWe(n){return[{label:R.year,value:"y",choosed:n.includes("y")},{label:R.month,value:"M",choosed:n.includes("M")},{label:R.day,value:"d",choosed:n.includes("d")},{label:R.hour,value:"H",choosed:n.includes("H")},{label:R.minute,value:"m",choosed:n.includes("m")},{label:R.second,value:"s",choosed:n.includes("s")}]}ue();var mx=_(F());function J(n){return(0,mx.jsxs)("div",{className:"form-item",...n.attrs,children:[n.hideLabel!=!0&&(0,mx.jsx)("div",{className:"label",children:n.label||""}),n.children&&(0,mx.jsx)("div",{className:`${n.contentDirection=="column"?"vertical-content":"content"}`,children:n.children})]})}ue();ue();var Dce=_(F());function xce(n){let e=[{label:R.align_left,value:"left",choosed:n.value==="left"},{label:R.align_center,value:"center",choosed:n.value==="center"},{label:R.align_right,value:"right",choosed:n.value==="right"}];return(0,Dce.jsx)(Qc,{options:e,multiple:!1,onChoose:function(t){n.onChange(t[0].value)}})}var xf=_(F());function Di(n){let{title:e,onChange:t,titleAlign:r}=n;return(0,xf.jsxs)(xf.Fragment,{children:[(0,xf.jsx)(J,{label:R.title,children:(0,xf.jsx)("textarea",{className:"contribution-full-width",value:e||"",onChange:o=>{t(o.target.value)}})}),n.showAlign!=!1&&e&&(0,xf.jsx)(J,{label:R.title_align,children:(0,xf.jsx)(xce,{value:r||"center",onChange:o=>{n.onAlignChange&&n.onAlignChange(o)}})})]})}var Sl=_(z());var Rce=require("obsidian");ue();var Hn=_(F());var Pn=(0,Sl.memo)(n=>{var u;let[e,t]=(0,Sl.useState)(n.items?(u=n.items[0])==null?void 0:u.id:void 0),r=(0,Sl.useRef)(null),{onChange:o,items:i,onCreate:a}=n;(0,Sl.useEffect)(()=>{let c=i.find(d=>d.id==e);c&&n.onActie&&n.onActie(c)},[e]);let s=c=>{let{active:d,over:f}=c;if(d.id!==f.id){let p=i.findIndex(v=>v.id==d.id),h=i.findIndex(v=>v.id==f.id),m=Zc(i,p,h);o==null||o(m)}},l=bh(wl(Cl),wl(yl,{coordinateGetter:Rh}));return(0,Hn.jsxs)("div",{className:"advanced-tab-container",children:[(0,Hn.jsxs)("div",{className:"tab-header",style:{...n.headerStyle},children:[(0,Hn.jsxs)("div",{className:"tab-header-items",children:[(0,Hn.jsx)(Eh,{onDragEnd:s,sensors:l,collisionDetection:_h,children:(0,Hn.jsx)(xh,{items:i,children:i.map(c=>(0,Hn.jsx)(QWe,{item:c,editable:n.editable,sortable:n.sortable,closeable:n.closeable,styles:{...n.headerItemStyle,...e==c.id?n.headerItemActiveStyle:{}},className:`header-item ${n.tabStyle||"card-style"} ${e==c.id?"active":""}`,onActive:d=>{t(d.id)},afterEdit:d=>{n.afterEdit&&n.afterEdit(d)},onRemove:d=>{if(e==d.id){let f=i.findIndex(p=>p.id==d.id);f>0?t(i[f-1].id):f==0&&i.length>1?t(i[1].id):t(void 0)}if(o){let f=i.filter(p=>p.id!=d.id);o(f)}}},c.id))})}),n.addable!=!1&&(0,Hn.jsx)("div",{className:"header-item",onClick:()=>{if(a){let c=a();t(c)}},children:"+"})]}),n.tabHeaderContextMenu&&(0,Hn.jsx)("div",{className:"tab-header-context-menu",children:n.tabHeaderContextMenu})]}),(0,Hn.jsx)("div",{ref:r,children:i.map(c=>(0,Hn.jsx)(JWe,{item:c,activeId:e,hideContentBorder:n.hideContentBorder},c.id))})]})});function QWe(n){let[e,t]=(0,Sl.useState)(!1),r=(0,Sl.useRef)(null),{item:o,onActive:i,onRemove:a}=n,{attributes:s,listeners:l,setNodeRef:u,setActivatorNodeRef:c,transform:d,transition:f}=Dh({id:o.id}),p={transform:Ra.Transform.toString(d),transition:f};(0,Sl.useEffect)(()=>{var m;e&&((m=r.current)==null||m.focus())},[e,r.current]);let h=[];return n.editable==!0&&h.push({label:R.edit,value:"edit",icon:(0,Hn.jsx)(Do,{}),onClick:()=>{t(!0)}}),n.closeable!==!1&&o.closeable!==!1&&h.push({label:R.delete,value:"delete",icon:(0,Hn.jsx)(hm,{}),onClick:()=>{a(o),new Rce.Notice(R.delete_success)}}),(0,Hn.jsxs)("div",{ref:u,style:{...n.styles,...p},...s,className:n.className,onClick:m=>{i(o)},children:[n.sortable!=!1&&o.sortable!=!1&&(0,Hn.jsx)("span",{className:"move-button",ref:c,...l,children:(0,Hn.jsx)(Ll,{size:14})}),e?(0,Hn.jsx)(Hn.Fragment,{children:(0,Hn.jsx)("input",{type:"text",className:"input tab-title-input",ref:r,value:o.title,onChange:m=>{var g;let v={...o,title:m.target.value};(g=n.afterEdit)==null||g.call(n,v)},onBlur:m=>{t(!1)},onKeyDown:m=>{m.key=="Enter"&&t(!1)}})}):o.title,h&&h.length>0&&(0,Hn.jsx)(ow,{menuIcon:(0,Hn.jsx)(im,{height:14,width:14}),items:h.map(m=>({label:m.label,value:m.value,icon:m.icon})),onSelect:function(m){let v=h.find(g=>g.value==m.value);v&&v.onClick&&v.onClick()}})]})}var JWe=(0,Sl.memo)(n=>{let{item:e,activeId:t}=n;return(0,Hn.jsx)("div",{className:"tab-content-inner",children:(0,Hn.jsx)("div",{className:`tab-content ${e.id==t?"active":""} ${n.hideContentBorder?"":"border"}`,"data-tab-content-id":e.id,children:(0,Hn.jsx)("div",{className:"tab-content-inner",children:e.children})})},e.id)});ue();var L4=_(z());ue();var y4=_(F());function Tce(n){return(0,y4.jsx)("select",{className:"contribution-select",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:eze.map(e=>(0,y4.jsx)("option",{value:e.value,style:e.style,children:e.label},e.value))})}var eze=[{label:R.none,value:"none",description:R.none},{label:R.slightly_object_like_style,value:"card",description:R.slightly_object_like_style}];function ye(){return ye=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ye.apply(this,arguments)}var ww=255,C4=360,Mu=100,Sw=n=>{var{r:e,g:t,b:r,a:o}=n,i=Math.max(e,t,r),a=i-Math.min(e,t,r),s=a?i===e?(t-r)/a:i===t?2+(r-e)/a:4+(e-t)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*Mu:0,v:i/ww*Mu,a:o}};var SM=n=>{var{h:e,s:t,l:r,a:o}=bM(n);return"hsla("+e+", "+t+"%, "+r+"%, "+o+")"};var gx=n=>{var{h:e,s:t,l:r,a:o}=n;return t*=(r<50?r:Mu-r)/Mu,{h:e,s:t>0?2*t/(r+t)*Mu:0,v:r+t,a:o}},bM=n=>{var{h:e,s:t,v:r,a:o}=n,i=(200-t)*r/Mu;return{h:e,s:i>0&&i<200?t*r/Mu/(i<=Mu?i:200-i)*Mu:0,l:i/2,a:o}};var a0t={grad:C4/400,turn:C4,rad:C4/(Math.PI*2)};var Pce=n=>{var{r:e,g:t,b:r}=n,o=e<<16|t<<8|r;return"#"+(i=>new Array(7-i.length).join("0")+i)(o.toString(16))},Oce=n=>{var{r:e,g:t,b:r,a:o}=n,i=typeof o=="number"&&(o*255|1<<8).toString(16).slice(1);return""+Pce({r:e,g:t,b:r,a:o})+(i||"")},Df=n=>Sw(tze(n)),tze=n=>{var e=n.replace("#","");/^#?/.test(n)&&e.length===3&&(n="#"+e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2));var t=new RegExp("[A-Za-z0-9]{2}","g"),[r,o,i=0,a]=n.match(t).map(s=>parseInt(s,16));return{r,g:o,b:i,a:(a!=null?a:255)/ww}},bw=n=>{var{h:e,s:t,v:r,a:o}=n,i=e/60,a=t/Mu,s=r/Mu,l=Math.floor(i)%6,u=i-Math.floor(i),c=ww*s*(1-a),d=ww*s*(1-a*u),f=ww*s*(1-a*(1-u));s*=ww;var p={};switch(l){case 0:p.r=s,p.g=f,p.b=c;break;case 1:p.r=d,p.g=s,p.b=c;break;case 2:p.r=c,p.g=s,p.b=f;break;case 3:p.r=c,p.g=d,p.b=s;break;case 4:p.r=f,p.g=c,p.b=s;break;case 5:p.r=s,p.g=c,p.b=d;break}return p.r=Math.round(p.r),p.g=Math.round(p.g),p.b=Math.round(p.b),ye({},p,{a:o})};var Ice=n=>{var{r:e,g:t,b:r,a:o}=bw(n);return"rgba("+e+", "+t+", "+r+", "+o+")"},nze=n=>{var{r:e,g:t,b:r}=n;return{r:e,g:t,b:r}},rze=n=>{var{h:e,s:t,l:r}=n;return{h:e,s:t,l:r}},vx=n=>Pce(bw(n)),Fce=n=>Oce(bw(n)),oze=n=>{var{h:e,s:t,v:r}=n;return{h:e,s:t,v:r}},Ri=n=>{var e,t,r,o,i,a,s,l;return typeof n=="string"&&yx(n)?(a=Df(n),s=n):typeof n!="string"&&(a=n),a&&(r=oze(a),i=bM(a),o=bw(a),l=Oce(o),s=vx(a),t=rze(i),e=nze(o)),{rgb:e,hsl:t,hsv:r,rgba:o,hsla:i,hsva:a,hex:s,hexa:l}};var yx=n=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(n);function Xn(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}var kce=_(z());var Ta=_(z());var _w=_(z());function w4(n){var e=(0,_w.useRef)(n);return(0,_w.useEffect)(()=>{e.current=n}),(0,_w.useCallback)((t,r)=>e.current&&e.current(t,r),[])}var Ew=n=>"touches"in n,S4=n=>{!Ew(n)&&n.preventDefault&&n.preventDefault()},Lce=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},b4=(n,e)=>{var t=n.getBoundingClientRect(),r=Ew(e)?e.touches[0]:e;return{left:Lce((r.pageX-(t.left+window.pageXOffset))/t.width),top:Lce((r.pageY-(t.top+window.pageYOffset))/t.height),width:t.width,height:t.height,x:r.pageX-(t.left+window.pageXOffset),y:r.pageY-(t.top+window.pageYOffset)}};var Mce=_(F()),ize=["prefixCls","className","onMove","onDown"],Ace=Ta.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-interactive",className:r,onMove:o,onDown:i}=n,a=Xn(n,ize),s=(0,Ta.useRef)(null),l=(0,Ta.useRef)(!1),[u,c]=(0,Ta.useState)(!1),d=w4(o),f=w4(i),p=y=>l.current&&!Ew(y)?!1:(l.current=Ew(y),!0),h=(0,Ta.useCallback)(y=>{S4(y);var C=Ew(y)?y.touches.length>0:y.buttons>0;C&&s.current?d&&d(b4(s.current,y),y):c(!1)},[d]),m=(0,Ta.useCallback)(()=>c(!1),[]),v=(0,Ta.useCallback)(y=>{var C=y?window.addEventListener:window.removeEventListener;C(l.current?"touchmove":"mousemove",h),C(l.current?"touchend":"mouseup",m)},[]);(0,Ta.useEffect)(()=>(v(u),()=>{u&&v(!1)}),[u,v]);var g=(0,Ta.useCallback)(y=>{S4(y.nativeEvent),p(y.nativeEvent)&&(f&&f(b4(s.current,y.nativeEvent),y.nativeEvent),c(!0))},[f]);return(0,Mce.jsx)("div",ye({},a,{className:[t,r||""].filter(Boolean).join(" "),style:ye({},a.style,{touchAction:"none"}),ref:s,tabIndex:0,onMouseDown:g,onTouchStart:g}))});Ace.displayName="Interactive";var _M=Ace;var v0t=_(z()),_4=_(F()),aze=["className","prefixCls","left","top","style","fillProps"],Nce=n=>{var{className:e,prefixCls:t,left:r,top:o,style:i,fillProps:a}=n,s=Xn(n,aze),l=ye({},i,{position:"absolute",left:r,top:o}),u=ye({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},a==null?void 0:a.style,{transform:r?"translate(-9px, -1px)":"translate(-1px, -9px)"});return(0,_4.jsx)("div",ye({className:t+"-pointer "+(e||""),style:l},s,{children:(0,_4.jsx)("div",ye({className:t+"-fill"},a,{style:u}))}))};var EM=_(F()),Vce=_(F()),sze=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],lze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",Gce=kce.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-alpha",className:r,hsva:o,background:i,bgProps:a={},innerProps:s={},pointerProps:l={},radius:u=0,width:c,height:d=16,direction:f="horizontal",style:p,onChange:h,pointer:m}=n,v=Xn(n,sze),g=D=>{h&&h(ye({},o,{a:f==="horizontal"?D.left:D.top}),D)},y=SM(Object.assign({},o,{a:1})),C="linear-gradient(to "+(f==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+y+" 100%)",w={};f==="horizontal"?w.left=o.a*100+"%":w.top=o.a*100+"%";var b=ye({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:u,background:"url("+lze+") left center",backgroundColor:"var(--alpha-background-color)"},{width:c,height:d},p,{position:"relative"}),E=m&&typeof m=="function"?m(ye({prefixCls:t},l,w)):(0,EM.jsx)(Nce,ye({},l,{prefixCls:t},w));return(0,Vce.jsxs)("div",ye({},v,{className:[t,t+"-"+f,r||""].filter(Boolean).join(" "),style:b,ref:e,children:[(0,EM.jsx)("div",ye({},a,{style:ye({inset:0,position:"absolute",background:i||C,borderRadius:u},a.style)})),(0,EM.jsx)(_M,ye({},s,{style:ye({},s.style,{inset:0,zIndex:1,position:"absolute"}),onMove:g,onDown:g,children:E}))]}))});Gce.displayName="Alpha";var Cx=Gce;var Hce=_(z()),xw=_(z()),E4=_(F()),$ce=_(F()),uze=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur"],cze=n=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(n),dze=n=>Number(String(n).replace(/%/g,"")),Bce=Hce.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-editable-input",placement:r="bottom",label:o,value:i,className:a,style:s,labelStyle:l,inputStyle:u,onChange:c,onBlur:d}=n,f=Xn(n,uze),[p,h]=(0,xw.useState)(i),m=(0,xw.useRef)(!1);(0,xw.useEffect)(()=>{n.value!==p&&(m.current||h(n.value))},[n.value]);function v(b,E){var D=(E||b.target.value).trim().replace(/^#/,"");cze(D)&&c&&c(b,D);var S=dze(D);isNaN(S)||c&&c(b,S),h(D)}function g(b){m.current=!1,h(n.value),d&&d(b)}var y={};r==="bottom"&&(y.flexDirection="column"),r==="top"&&(y.flexDirection="column-reverse"),r==="left"&&(y.flexDirection="row-reverse");var C=ye({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},y,s),w=ye({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},u);return(0,$ce.jsxs)("div",{className:[t,a||""].filter(Boolean).join(" "),style:C,children:[(0,E4.jsx)("input",ye({ref:e,value:p,onChange:v,onBlur:g,autoComplete:"off",onFocus:()=>m.current=!0},f,{style:w})),o&&(0,E4.jsx)("span",{style:ye({color:"var(--editable-input-label-color)",textTransform:"capitalize"},l),children:o})]})});Bce.displayName="EditableInput";var ov=Bce;var Wce=_(z());var wx=_(F()),zce=_(F()),fze=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],Uce=Wce.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-editable-input-rgba",hsva:r,placement:o="bottom",rProps:i={},gProps:a={},bProps:s={},aProps:l={},className:u,style:c,onChange:d}=n,f=Xn(n,fze),p=r?bw(r):{};function h(v){var g=Number(v.target.value);g&&g>255&&(v.target.value="255"),g&&g<0&&(v.target.value="0")}var m=(v,g,y)=>{typeof v=="number"&&(g==="a"&&(v<0&&(v=0),v>100&&(v=100),d&&d(Ri(Sw(ye({},p,{a:v/100}))))),v>255&&(v=255,y.target.value="255"),v<0&&(v=0,y.target.value="0"),g==="r"&&d&&d(Ri(Sw(ye({},p,{r:v})))),g==="g"&&d&&d(Ri(Sw(ye({},p,{g:v})))),g==="b"&&d&&d(Ri(Sw(ye({},p,{b:v})))))};return(0,zce.jsxs)("div",ye({ref:e,className:[t,u||""].filter(Boolean).join(" ")},f,{style:ye({fontSize:11,display:"flex"},c),children:[(0,wx.jsx)(ov,ye({label:"R",value:p.r||0,onBlur:h,placement:o,onChange:(v,g)=>m(g,"r",v)},i,{style:ye({},i.style)})),(0,wx.jsx)(ov,ye({label:"G",value:p.g||0,onBlur:h,placement:o,onChange:(v,g)=>m(g,"g",v)},a,{style:ye({marginLeft:5},i.style)})),(0,wx.jsx)(ov,ye({label:"B",value:p.b||0,onBlur:h,placement:o,onChange:(v,g)=>m(g,"b",v)},s,{style:ye({marginLeft:5},s.style)})),l&&(0,wx.jsx)(ov,ye({label:"A",value:p.a?parseInt(String(p.a*100),10):0,onBlur:h,placement:o,onChange:(v,g)=>m(g,"a",v)},l,{style:ye({marginLeft:5},l.style)}))]}))});Uce.displayName="EditableInputRGBA";var xM=Uce;var Oh=_(z());var x4=_(F()),jce=_(F()),pze=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],Kce=Oh.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-swatch",className:r,color:o,colors:i=[],style:a,rectProps:s={},onChange:l,addonAfter:u,addonBefore:c,rectRender:d}=n,f=Xn(n,pze),p=ye({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},s.style),h=(m,v)=>{l&&l(Df(m),Ri(Df(m)),v)};return(0,jce.jsxs)("div",ye({ref:e},f,{className:[t,r||""].filter(Boolean).join(" "),style:ye({display:"flex",flexWrap:"wrap",position:"relative"},a),children:[c&&Oh.default.isValidElement(c)&&c,i&&Array.isArray(i)&&i.map((m,v)=>{var g="",y="";typeof m=="string"&&(g=m,y=m),typeof m=="object"&&m.color&&(g=m.title||m.color,y=m.color);var C=o&&o.toLocaleLowerCase()===y.toLocaleLowerCase(),w=d&&d({title:g,color:y,checked:!!C,style:ye({},p,{background:y}),onClick:E=>h(y,E)});if(w)return(0,x4.jsx)(Oh.Fragment,{children:w},v);var b=s.children&&Oh.default.isValidElement(s.children)?Oh.default.cloneElement(s.children,{color:y,checked:C}):null;return(0,x4.jsx)("div",ye({tabIndex:0,title:g,onClick:E=>h(y,E)},s,{children:b,style:ye({},p,{background:y})}),v)}),u&&Oh.default.isValidElement(u)&&u]}))});Kce.displayName="Swatch";var qce=Kce;var Rw=_(z());function D4(n){if(n==null)throw new TypeError("Cannot destructure "+n)}var DM=_(z());var R4=_(z()),Yce=_(z()),Xce=_(F()),hze={marginRight:0,marginBottom:0,borderRadius:0,boxSizing:"border-box",height:25,width:25};function T4(n){var{style:e,title:t,checked:r,color:o,onClick:i,rectProps:a}=n,s=(0,Yce.useRef)(null),l=(0,R4.useCallback)(()=>{s.current.style.zIndex="2",s.current.style.outline="#fff solid 2px",s.current.style.boxShadow="rgb(0 0 0 / 25%) 0 0 5px 2px"},[]),u=(0,R4.useCallback)(()=>{r||(s.current.style.zIndex="0",s.current.style.outline="initial",s.current.style.boxShadow="initial")},[r]),c=r?{zIndex:1,outline:"#fff solid 2px",boxShadow:"rgb(0 0 0 / 25%) 0 0 5px 2px"}:{zIndex:0};return(0,Xce.jsx)("div",ye({ref:s,title:t},a,{onClick:i,onMouseEnter:l,onMouseLeave:u,style:ye({},e,{marginRight:0,marginBottom:0,borderRadius:0,boxSizing:"border-box",height:25,width:25},hze,c,a==null?void 0:a.style)}))}var Sx=_(F()),Zce=_(F()),mze=["prefixCls","placement","className","style","color","colors","rectProps","onChange","rectRender"],gze=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],jr=function(n){return n.Left="L",n.LeftTop="LT",n.LeftBottom="LB",n.Right="R",n.RightTop="RT",n.RightBottom="RB",n.Top="T",n.TopRight="TR",n.TopLeft="TL",n.Bottom="B",n.BottomLeft="BL",n.BottomRight="BR",n}({}),Qce=DM.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-github",placement:r=jr.TopRight,className:o,style:i,color:a,colors:s=gze,rectProps:l={},onChange:u,rectRender:c}=n,d=Xn(n,mze),f=typeof a=="string"&&yx(a)?Df(a):a,p=a?vx(f):"",h=w=>u&&u(Ri(w)),m=ye({"--github-border":"1px solid rgba(0, 0, 0, 0.2)","--github-background-color":"#fff","--github-box-shadow":"rgb(0 0 0 / 15%) 0px 3px 12px","--github-arrow-border-color":"rgba(0, 0, 0, 0.15)",width:200,borderRadius:4,background:"var(--github-background-color)",boxShadow:"var(--github-box-shadow)",border:"var(--github-border)",position:"relative",padding:5},i),v={borderStyle:"solid",position:"absolute"},g=ye({},v),y=ye({},v);/^T/.test(r)&&(g.borderWidth="0 8px 8px",g.borderColor="transparent transparent var(--github-arrow-border-color)",y.borderWidth="0 7px 7px",y.borderColor="transparent transparent var(--github-background-color)"),r===jr.TopRight&&(g.top=-8,y.top=-7),r===jr.Top&&(g.top=-8,y.top=-7),r===jr.TopLeft&&(g.top=-8,y.top=-7),/^B/.test(r)&&(g.borderWidth="8px 8px 0",g.borderColor="var(--github-arrow-border-color) transparent transparent",y.borderWidth="7px 7px 0",y.borderColor="var(--github-background-color) transparent transparent",r===jr.BottomRight&&(g.top="100%",y.top="100%"),r===jr.Bottom&&(g.top="100%",y.top="100%"),r===jr.BottomLeft&&(g.top="100%",y.top="100%")),/^(B|T)/.test(r)&&((r===jr.Top||r===jr.Bottom)&&(g.left="50%",g.marginLeft=-8,y.left="50%",y.marginLeft=-7),(r===jr.TopRight||r===jr.BottomRight)&&(g.right=10,y.right=11),(r===jr.TopLeft||r===jr.BottomLeft)&&(g.left=7,y.left=8)),/^L/.test(r)&&(g.borderWidth="8px 8px 8px 0",g.borderColor="transparent var(--github-arrow-border-color) transparent transparent",y.borderWidth="7px 7px 7px 0",y.borderColor="transparent var(--github-background-color) transparent transparent",g.left=-8,y.left=-7),/^R/.test(r)&&(g.borderWidth="8px 0 8px 8px",g.borderColor="transparent transparent transparent var(--github-arrow-border-color)",y.borderWidth="7px 0 7px 7px",y.borderColor="transparent transparent transparent var(--github-background-color)",g.right=-8,y.right=-7),/^(L|R)/.test(r)&&((r===jr.RightTop||r===jr.LeftTop)&&(g.top=5,y.top=6),(r===jr.Left||r===jr.Right)&&(g.top="50%",y.top="50%",g.marginTop=-8,y.marginTop=-7),(r===jr.LeftBottom||r===jr.RightBottom)&&(g.top="100%",y.top="100%",g.marginTop=-21,y.marginTop=-20));var C=w=>{var b=ye({},(D4(w),w)),E=c&&c(ye({},b));return E||(0,Sx.jsx)(T4,ye({},b,{rectProps:l}))};return(0,Sx.jsx)(qce,ye({ref:e,className:[t,o].filter(Boolean).join(" "),colors:s,color:p,rectRender:C},d,{onChange:h,style:m,rectProps:{style:{marginRight:0,marginBottom:0,borderRadius:0,height:25,width:25}},addonBefore:(0,Zce.jsxs)(DM.Fragment,{children:[(0,Sx.jsx)("div",{style:g}),(0,Sx.jsx)("div",{style:y})]})}))});Qce.displayName="Github";var Jce=Qce;var RM=_(z());var X0t=_(z()),ede=_(z()),P4=_(F()),tde=n=>{var{className:e,color:t,left:r,top:o,prefixCls:i}=n,a={position:"absolute",top:o,left:r},s={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:t};return(0,ede.useMemo)(()=>(0,P4.jsx)("div",{className:i+"-pointer "+(e||""),style:a,children:(0,P4.jsx)("div",{className:i+"-fill",style:s})}),[o,r,t,e,i])};var O4=_(F()),vze=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],nde=RM.default.forwardRef((n,e)=>{var t,{prefixCls:r="w-color-saturation",radius:o=0,pointer:i,className:a,hue:s=0,style:l,hsva:u,onChange:c}=n,d=Xn(n,vze),f=ye({width:200,height:200,borderRadius:o},l,{position:"relative"}),p=(m,v)=>{c&&u&&c({h:u.h,s:m.left*100,v:(1-m.top)*100,a:u.a})},h=(0,RM.useMemo)(()=>{if(!u)return null;var m={top:100-u.v+"%",left:u.s+"%",color:SM(u)};return i&&typeof i=="function"?i(ye({prefixCls:r},m)):(0,O4.jsx)(tde,ye({prefixCls:r},m))},[u,i,r]);return(0,O4.jsx)(_M,ye({className:[r,a||""].filter(Boolean).join(" ")},d,{style:ye({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((t=u==null?void 0:u.h)!=null?t:s)+", 100%, 50%))"},f),ref:e,onMove:p,onDown:p,children:h}))});nde.displayName="Saturation";var rde=nde;var ode=_(z());var ide=_(F()),yze=["prefixCls","className","hue","onChange","direction"],ade=ode.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-hue",className:r,hue:o=0,onChange:i,direction:a="horizontal"}=n,s=Xn(n,yze);return(0,ide.jsx)(Cx,ye({ref:e,className:t+" "+(r||"")},s,{direction:a,background:"linear-gradient(to "+(a==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:o,s:100,v:100,a:o/360},onChange:(l,u)=>{i&&i({h:a==="horizontal"?360*u.left:360*u.top})}}))});ade.displayName="Hue";var sde=ade;var lde=_(z());var ude=_(F()),Cze=["prefixCls","hsva","hProps","sProps","lProps","aProps","className","onChange"],cde=lde.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-editable-input-hsla",hsva:r,hProps:o={},sProps:i={},lProps:a={},aProps:s={},className:l,onChange:u}=n,c=Xn(n,Cze),d=r?bM(r):{h:0,s:0,l:0,a:0},f=(p,h,m)=>{typeof p=="number"&&(h==="h"&&(p<0&&(p=0),p>360&&(p=360),u&&u(Ri(gx(ye({},d,{h:p}))))),h==="s"&&(p<0&&(p=0),p>100&&(p=100),u&&u(Ri(gx(ye({},d,{s:p}))))),h==="l"&&(p<0&&(p=0),p>100&&(p=100),u&&u(Ri(gx(ye({},d,{l:p}))))),h==="a"&&(p<0&&(p=0),p>1&&(p=1),u&&u(Ri(gx(ye({},d,{a:p}))))))};return(0,ude.jsx)(xM,ye({ref:e,hsva:r,rProps:ye({label:"H",value:Math.round(d.h)},o,{onChange:(p,h)=>f(h,"h",p)}),gProps:ye({label:"S",value:Math.round(d.s)+"%"},i,{onChange:(p,h)=>f(h,"s",p)}),bProps:ye({label:"L",value:Math.round(d.l)+"%"},a,{onChange:(p,h)=>f(h,"l",p)}),aProps:ye({label:"A",value:Math.round(d.a*100)/100},s,{onChange:(p,h)=>f(h,"a",p)}),className:[t,l||""].filter(Boolean).join(" ")},c))});cde.displayName="EditableInputHSLA";var dde=cde;var fde=_(z());var bx=_(z()),TM=_(F()),wze=["style"];function I4(n){var{style:e}=n,t=Xn(n,wze),r=(0,bx.useRef)(null),o=(0,bx.useCallback)(()=>{r.current.style.backgroundColor="var(--chrome-arrow-background-color)"},[]),i=(0,bx.useCallback)(()=>{r.current.style.backgroundColor="transparent"},[]);return(0,TM.jsx)("div",ye({ref:r,style:ye({marginLeft:5,cursor:"pointer",transition:"background-color .3s",borderRadius:2},e)},t,{onMouseEnter:o,onMouseLeave:i,children:(0,TM.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",style:{display:"block"},children:(0,TM.jsx)("path",{d:"M373.888 576h276.224c9.322667 0 14.293333 11.178667 9.173333 18.773333l-1.258666 1.557334-138.112 146.858666a10.709333 10.709333 0 0 1-14.293334 1.365334l-1.536-1.365334-138.112-146.858666c-6.592-6.997333-2.666667-18.645333 5.973334-20.16l1.941333-0.170667h276.224-276.224z m146.026667-295.189333l138.112 146.858666c7.04 7.509333 2.069333 20.330667-7.914667 20.330667H373.888c-9.984 0-14.976-12.821333-7.914667-20.330667l138.112-146.858666a10.730667 10.730667 0 0 1 15.829334 0z",fill:"var(--chrome-arrow-fill)"})})}))}var bl=_(F()),Dw=_(F()),Sze=["prefixCls","className","style","color","inputType","rectProps","onChange"],Jc=function(n){return n.HEXA="hexa",n.RGBA="rgba",n.HSLA="hsla",n}({}),pde=Rw.default.forwardRef((n,e)=>{var{prefixCls:t="w-color-chrome",className:r,style:o,color:i,inputType:a=Jc.RGBA,rectProps:s={},onChange:l}=n,u=Xn(n,Sze),c=typeof i=="string"&&yx(i)?Df(i):i||{h:0,s:0,l:0,a:0},d=C=>l&&l(Ri(C)),[f,p]=(0,fde.useState)(a),h=()=>{f===Jc.RGBA&&p(Jc.HSLA),f===Jc.HSLA&&p(Jc.HEXA),f===Jc.HEXA&&p(Jc.RGBA)},m={paddingTop:6},v={textAlign:"center",paddingTop:4,paddingBottom:4},g=ye({"--chrome-arrow-fill":"#333","--chrome-arrow-background-color":"#e8e8e8",borderRadius:0,flexDirection:"column",width:230,padding:0},o),y={"--chrome-alpha-box-shadow":"rgb(0 0 0 / 25%) 0px 0px 1px inset",borderRadius:"50%",background:Ice(c),boxShadow:"var(--chrome-alpha-box-shadow)"};return(0,bl.jsx)(Jce,ye({ref:e,color:c,style:g,colors:void 0,className:[t,r].filter(Boolean).join(" "),placement:jr.TopLeft},u,{addonAfter:(0,Dw.jsxs)(Rw.Fragment,{children:[(0,bl.jsx)(rde,{hsva:c,style:{width:"100%",height:130},onChange:C=>{d(ye({},c,C,{a:c.a}))}}),(0,Dw.jsxs)("div",{style:{padding:15,display:"flex",alignItems:"center"},children:[(0,bl.jsx)(Cx,{width:24,height:24,hsva:c,radius:2,style:{marginRight:15,borderRadius:"50%"},bgProps:{style:{background:"transparent"}},innerProps:{style:y},pointer:()=>(0,bl.jsx)(Rw.Fragment,{})}),(0,Dw.jsxs)("div",{style:{flex:1},children:[(0,bl.jsx)(sde,{hue:c.h,style:{width:"100%"},bgProps:{style:{borderRadius:2}},onChange:C=>{d(ye({},c,C))}}),(0,bl.jsx)(Cx,{hsva:c,style:{marginTop:10},bgProps:{style:{borderRadius:2}},onChange:C=>{d(ye({},c,C))}})]})]}),(0,Dw.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",padding:"0 15px 15px 15px",userSelect:"none"},children:[(0,Dw.jsxs)("div",{style:{flex:1},children:[f==Jc.RGBA&&(0,bl.jsx)(xM,{hsva:c,rProps:{labelStyle:m,inputStyle:v},gProps:{labelStyle:m,inputStyle:v},bProps:{labelStyle:m,inputStyle:v},aProps:{labelStyle:m,inputStyle:v},onChange:C=>d(C.hsva)}),f===Jc.HEXA&&(0,bl.jsx)(ov,{label:"HEX",labelStyle:m,inputStyle:v,value:c.a>0&&c.a<1?Fce(c).toLocaleUpperCase():vx(c).toLocaleUpperCase(),onChange:(C,w)=>{typeof w=="string"&&d(Df(/^#/.test(w)?w:"#"+w))}}),f===Jc.HSLA&&(0,bl.jsx)(dde,{hsva:c,hProps:{labelStyle:m,inputStyle:v},sProps:{labelStyle:m,inputStyle:v},lProps:{labelStyle:m,inputStyle:v},aProps:{labelStyle:m,inputStyle:v},onChange:C=>d(C.hsva)})]}),(0,bl.jsx)(I4,{onClick:h})]})]}),rectRender:()=>(0,bl.jsx)(Rw.Fragment,{})}))});pde.displayName="Chrome";var F4=pde;var _x=_(z());var Au=_(F());function Ih(n){let[e,t]=(0,_x.useState)(!1),[r,o]=(0,_x.useState)();(0,_x.useEffect)(()=>{o(n.color)},[n.color]);let{refs:i,floatingStyles:a,context:s}=Fo({open:e,placement:"bottom-start",onOpenChange:c=>t(c),middleware:[Er(6),Xr(),tc(),nc()],whileElementsMounted:Yr}),l=Io(s),{getFloatingProps:u}=Lo([l]);return(0,Au.jsxs)(Au.Fragment,{children:[(0,Au.jsx)("div",{className:"color-indicator",ref:i.setReference,style:{backgroundColor:r},onClick:()=>t(!e)}),r&&(0,Au.jsxs)("div",{className:"color-label",children:[(0,Au.jsx)("span",{children:r!=null?r:""}),(0,Au.jsx)("span",{className:"color-reset-button",onClick:()=>{n.onReset?n.onReset(n.defaultColor):n.onChange(n.defaultColor)},children:"x"})]}),e?(0,Au.jsx)("div",{ref:i.setFloating,style:{zIndex:1,...a},...u(),children:(0,Au.jsx)(F4,{color:r||"#FFFFFF",onChange:c=>{n.onChange(c.hexa)}})}):null]})}ue();var iv=_(F());function ed(n){return(0,iv.jsxs)("div",{className:"slider-container",children:[(0,iv.jsx)("input",{type:"range",min:n.min,max:n.max,value:n.value,onChange:e=>{n.onChange(Number(e.target.value))}}),(0,iv.jsxs)("div",{className:"slider-label-container",children:[n.value==n.defaultValue?n.defaultValueLabel||R.default_value:(0,iv.jsxs)("span",{children:[n.value.toFixed(0),n.unit||""]}),(0,iv.jsx)(et,{onClick:()=>{n.onChange(n.defaultValue||-1)},children:"x"})]})]})}var Ds=_(F());function Lr(n){var o;let e=n.widget,t=(0,L4.useMemo)(()=>e.type!=="multi",[e.type]),r=(0,L4.useMemo)(()=>e.type!=="multi",[e.type]);return(0,Ds.jsxs)(Ds.Fragment,{children:[r&&(0,Ds.jsx)(J,{label:R.background_style,children:(0,Ds.jsx)(Tce,{value:e.backgroundStyle||"none",onChange:i=>{n.onChange("backgroundStyle",i)}})}),(0,Ds.jsx)(J,{label:R.background_color,children:(0,Ds.jsx)(Ih,{color:e==null?void 0:e.backgroundColor,onChange:i=>{n.onChange("backgroundColor",i)}})}),t&&(0,Ds.jsx)(J,{label:R.font_color,children:(0,Ds.jsx)(Ih,{color:e==null?void 0:e.fontColor,onChange:i=>{n.onChange("fontColor",i)}})}),(0,Ds.jsx)(J,{label:R.width_ratio,children:(0,Ds.jsx)(ed,{value:(o=e==null?void 0:e.maxWidthRatio)!=null?o:100,defaultValue:-1,defaultValueLabel:R.auto_value,min:10,max:100,unit:"%",onChange:i=>{n.onChange("maxWidthRatio",i)}})}),n.children]})}var li=_(F());function mde(n){let e=n.widget;return(0,li.jsx)(hde.Fragment,{children:(0,li.jsx)(Pn,{hideContentBorder:!0,sortable:!1,closeable:!1,addable:!1,tabHeaderContextMenu:n.tabHeaderContextMenu,tabStyle:"text-style",items:[{id:"basic_setting",title:R.basic_setting,children:(0,li.jsxs)(li.Fragment,{children:[(0,li.jsx)(Di,{title:e.title,titleAlign:e.titleAlign,onChange:function(t){n.onChange("title",t)},onAlignChange:function(t){n.onChange("titleAlign",t)}}),(0,li.jsx)(J,{label:R.show_start_time,children:(0,li.jsx)("input",{defaultChecked:e.showStartDateTime===!0,type:"checkbox",onChange:t=>{n.onChange("showStartDateTime",t.target.checked)}})}),(0,li.jsx)(J,{label:R.start_time,children:(0,li.jsx)("input",{className:"input",defaultValue:e.startDateTime,type:"datetime-local",step:1,onChange:t=>{let r=new Date(t.target.value),o=pe.fromJSDate(r).toFormat(po);n.onChange("startDateTime",o)}})}),(0,li.jsx)(J,{label:R.select_time_unit,children:(0,li.jsx)(wM,{defaultTimePatternText:e.timeTextPattern,onChange:t=>{n.onChange("timeTextPattern",t)}})})]})},{id:"style_setting",title:R.style_setting,children:(0,li.jsx)(Lr,{widget:e,onChange:n.onChange,children:(0,li.jsx)(J,{label:R.picture,children:(0,li.jsx)(oc,{value:e.picture,onChange:t=>{n.onChange("picture",t)}})})})}]})})}var uv=_(z());var PM=class extends hn{constructor(t){super(t,"countdown");this.backgroundStyle="card",this.repeatType="none",this.showEndDateTime=!0,this.endHour=0,this.endMinute=0,this.endSecond=0}};var OM=class extends hn{constructor(t){super(t,"dateProgress");this.backgroundStyle="card",this.showDateIndicator=!0,this.showProgressIndicator=!0,this.startDateTimeType="$specifiedDateTime",this.endDateTimeType="$specifiedDateTime",this.uiType="bar"}};var IM=class extends hn{constructor(t){super(t,"timing");this.backgroundStyle="card",this.showStartDateTime=!0,this.timeTextPattern="yMdHms"}};var Tw=class extends hn{constructor(t){super(t,"count");this.backgroundStyle="card",this.query={type:"page",filter:new op}}};var FM=_(F());function gde(n){let e=n.widget;return e?(0,FM.jsx)("div",{className:"widget-preview",children:(0,FM.jsx)(Da,{widget:e,isRoot:!1})}):(0,FM.jsx)("div",{})}var Ex=_(z());ue();var Zn=_(F());function vde(n){let e=n.widget,t=["$now","$today","$tomorrow","$yesterday"],r=(0,Ex.useMemo)(()=>e.startDateTimeType===Dp||!e.startDateTimeType,[e.startDateTimeType]),o=(0,Ex.useMemo)(()=>e.endDateTimeType===Dp||!e.endDateTimeType,[e.endDateTimeType]);return(0,Zn.jsx)(Ex.Fragment,{children:(0,Zn.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,tabStyle:"text-style",sortable:!1,closeable:!1,addable:!1,items:[{id:"basic",title:R.basic_setting,children:(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(Di,{title:e.title,titleAlign:e.titleAlign,onChange:function(i){n.onChange("title",i)},onAlignChange:function(i){n.onChange("titleAlign",i)}}),(0,Zn.jsxs)(J,{label:R.start_time,children:[(0,Zn.jsx)(Mp,{excludes:t,value:e.startDateTimeType||Dp,onChange:i=>{n.onChange("startDateTimeType",i)}}),r&&(0,Zn.jsx)("input",{defaultValue:e.startDateTime,type:"datetime-local",step:1,onChange:i=>{let a=new Date(i.target.value),s=pe.fromJSDate(a).toFormat(po);n.onChange("startDateTime",s)}})]}),(0,Zn.jsxs)(J,{label:R.end_time,children:[(0,Zn.jsx)(Mp,{excludes:t,value:e.endDateTimeType||"$specifiedDateTime",onChange:i=>{n.onChange("endDateTimeType",i)}}),o&&(0,Zn.jsx)("input",{defaultValue:e.endDateTime,type:"datetime-local",step:1,onChange:i=>{let a=new Date(i.target.value),s=pe.fromJSDate(a).toFormat(po);n.onChange("endDateTime",s)}})]}),(0,Zn.jsx)(J,{label:R.show_date_indicator,children:(0,Zn.jsx)("input",{defaultChecked:e.showDateIndicator===!0,type:"checkbox",onChange:i=>{n.onChange("showDateIndicator",i.target.checked)}})}),(0,Zn.jsx)(J,{label:R.show_progress_indicator,children:(0,Zn.jsx)("input",{defaultChecked:e.showProgressIndicator===!0,type:"checkbox",onChange:i=>{n.onChange("showProgressIndicator",i.target.checked)}})}),(0,Zn.jsx)(J,{label:R.ui_type,children:(0,Zn.jsx)(Qc,{options:[{label:R.circle,value:"ring",icon:(0,Zn.jsx)(GS,{}),choosed:e.uiType==="ring"},{label:R.rectangle,value:"bar",icon:(0,Zn.jsx)(fm,{}),choosed:e.uiType==="bar"}],multiple:!1,onChoose:i=>{let a=i[0];n.onChange("uiType",a.value)}})})]})},{id:"style",title:R.style_setting,children:(0,Zn.jsx)(Lr,{widget:e,onChange:n.onChange,children:(0,Zn.jsx)(J,{label:R.picture,children:(0,Zn.jsx)(oc,{value:e.picture,onChange:i=>{n.onChange("picture",i)}})})})}]})})}var yde=_(z());var Pw=_(z());ue();var Fh=_(F());function A4(n){let[e,t]=(0,Pw.useState)(Fq(n.defaultMonth)),[r,o]=(0,Pw.useState)(Lq(n.defaultDate)),[i,a]=(0,Pw.useState)(n.defaultTime);return(0,Pw.useEffect)(()=>{n.onChange(new M4(e,r,i))},[e,r,i]),(0,Fh.jsxs)("div",{className:"month-date-picker",children:[n.showMonthPicker!==!1&&(0,Fh.jsxs)("select",{className:"mont-date-picker-input",value:e.toString(),onChange:s=>{t(parseInt(s.target.value))},children:[(0,Fh.jsx)("option",{disabled:!0,children:R.please_select_month}),[...Array(12).keys()].map(s=>(0,Fh.jsx)("option",{value:s,children:s+1},s))]}),n.showDatePicker!==!1&&(0,Fh.jsx)(jt,{selectedKey:r.toString(),options:Eze(e),onChange:function(s){o(parseInt(s))}}),(0,Fh.jsx)("input",{className:"mont-date-picker-input",type:"time",value:i,step:1,onChange:s=>{a(s.target.value)}})]})}var M4=class{constructor(e,t,r){this.month=e;this.date=t;this.time=r}},bze=[31,29,31,30,31,30,31,31,30,31,30,31],_ze=[{key:"32",value:"32",label:R.end_of_month}],Eze=n=>[..._ze,...[...Array(bze[n]).keys()].map(e=>({key:e+1+"",label:e+1+"",value:e+1+""}))];ue();var Je=_(F());function Cde(n){var t,r,o,i;let e=n.widget;return(0,Je.jsx)(yde.Fragment,{children:(0,Je.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)(Di,{title:e.title,titleAlign:e.titleAlign,onChange:function(a){n.onChange([{name:"title",value:a}])},onAlignChange:a=>{n.onChange([{name:"titleAlign",value:a}])}}),(0,Je.jsx)(J,{label:R.repeat_type,children:(0,Je.jsx)(xze,{defaultValue:e.repeatType,onChange:a=>{n.onChange([{name:"repeatType",value:a}])}})}),(0,Je.jsxs)("div",{className:"form-item",children:[e.repeatType=="none"&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:"label",children:R.end_time}),(0,Je.jsx)("div",{className:"content",children:(0,Je.jsx)("input",{type:"datetime-local",step:1,className:"input",defaultValue:sc(new Date((t=e.endYear)!=null?t:new Date().getFullYear(),(r=e.endMonth)!=null?r:new Date().getMonth(),(o=e.endDayOfMonth)!=null?o:new Date().getDate(),e.endHour,e.endMinute,e.endSecond)),onChange:a=>{let s=new Date(a.target.value);n.onChange([{name:"endYear",value:s.getFullYear()},{name:"endMonth",value:s.getMonth()},{name:"endDayOfMonth",value:s.getDate()},{name:"endHour",value:s.getHours()},{name:"endMinute",value:s.getMinutes()},{name:"endSecond",value:s.getSeconds()}])}})})]}),e.repeatType=="daily"&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:"label",children:R.end_time}),(0,Je.jsx)("div",{className:"content",children:(0,Je.jsx)("input",{type:"time",step:1,className:"input",defaultValue:Hb(e.endHour,e.endMinute,e.endSecond),onChange:a=>{let s=Gb(a.target.value);n.onChange([{name:"endHour",value:s.hour},{name:"endMinute",value:s.minute},{name:"endSecond",value:s.second}])}})})]}),e.repeatType=="weekly"&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:"label",children:R.end_time}),(0,Je.jsxs)("div",{className:"vertical-content",children:[(0,Je.jsx)(Dze,{value:(i=e.endDayOfWeek)==null?void 0:i.toString(),onChange:a=>{n.onChange([{name:"endDayOfWeek",value:a}])}}),(0,Je.jsx)("input",{type:"time",step:1,className:"input",defaultValue:Hb(e.endHour,e.endMinute,e.endSecond),onChange:a=>{let s=Gb(a.target.value);n.onChange([{name:"endHour",value:s.hour},{name:"endMinute",value:s.minute},{name:"endSecond",value:s.second}])}})]})]}),e.repeatType=="monthly"&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:"label",children:R.end_time}),(0,Je.jsx)("div",{className:"content",children:(0,Je.jsx)(A4,{defaultTime:Hb(e.endHour,e.endMinute,e.endSecond),defaultDate:e.endDayOfMonth,defaultMonth:e.endMonth,onChange:a=>{let s=Gb(a.time);n.onChange([{name:"endYear",value:void 0},{name:"endMonth",value:void 0},{name:"endDayOfMonth",value:a.date},{name:"endHour",value:s.hour},{name:"endMinute",value:s.minute},{name:"endSecond",value:s.second}])},showMonthPicker:!1})})]}),e.repeatType=="yearly"&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:"label",children:R.end_time}),(0,Je.jsx)("div",{className:"content",children:(0,Je.jsx)(A4,{defaultTime:Hb(e.endHour,e.endMinute,e.endSecond),defaultDate:e.endDayOfMonth,defaultMonth:e.endMonth,onChange:a=>{let s=Gb(a.time);n.onChange([{name:"endYear",value:void 0},{name:"endMonth",value:a.month},{name:"endDayOfMonth",value:a.date},{name:"endHour",value:s.hour},{name:"endMinute",value:s.minute},{name:"endSecond",value:s.second}])}})})]})]}),(0,Je.jsx)(J,{label:R.select_time_unit,children:(0,Je.jsx)(wM,{defaultTimePatternText:e.timeTextPattern,onChange:a=>{n.onChange([{name:"timeTextPattern",value:a}])}})}),(0,Je.jsx)(J,{label:R.show_end_time,children:(0,Je.jsx)("input",{defaultChecked:e.showEndDateTime===!0,type:"checkbox",onChange:a=>{n.onChange([{name:"showEndDateTime",value:a.target.checked}])}})})]})},{id:"style",title:R.style_setting,children:(0,Je.jsx)(Lr,{widget:e,onChange:(a,s)=>{n.onChange([{name:a,value:s}])},children:(0,Je.jsx)(J,{label:R.picture,children:(0,Je.jsx)(oc,{value:e.picture,onChange:a=>{n.onChange([{name:"picture",value:a}])}})})})}]})})}function xze(n){let e=n.defaultValue,t=n.onChange;return(0,Je.jsxs)("select",{className:"contribution-select",value:e,onChange:r=>{t(r.target.value)},children:[(0,Je.jsx)("option",{value:"daily",children:R.daily}),(0,Je.jsx)("option",{value:"weekly",children:R.weekly}),(0,Je.jsx)("option",{value:"monthly",children:R.monthly}),(0,Je.jsx)("option",{value:"yearly",children:R.yearly}),(0,Je.jsx)("option",{value:"none",children:R.no_repeat})]})}function Dze(n){let e=Rze.map(t=>n.value?{...t,choosed:t.value==n.value.toString()}:t);return(0,Je.jsx)(Qc,{options:e,multiple:!1,onChoose:t=>{let r=t[0];n.onChange(parseInt(r.value))}})}var Rze=[{label:R.monday,value:"1",choosed:!0},{label:R.tuesday,value:"2"},{label:R.wednesday,value:"3"},{label:R.thursday,value:"4"},{label:R.friday,value:"5"},{label:R.saturday,value:"6"},{label:R.sunday,value:"0"}];ue();var wde=_(z());ue();var co=_(F());function Sde(n){var o;let e=n.widget,t=e.query,r=i=>{n.onChange([{name:"query",value:{...e.query,filter:i}}])};return(0,co.jsx)(wde.Fragment,{children:(0,co.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,co.jsxs)(co.Fragment,{children:[(0,co.jsx)(Di,{title:e.title,titleAlign:e.titleAlign,onChange:function(i){n.onChange([{name:"title",value:i}])},onAlignChange:i=>{n.onChange([{name:"titleAlign",value:i}])}}),(0,co.jsx)(J,{label:R.count_type,children:(0,co.jsx)("select",{className:"contribution-select",defaultValue:(o=e.query)==null?void 0:o.type,onChange:i=>{n.onChange([{name:"query",value:{}}])},children:(0,co.jsx)("option",{value:"page",children:R.page})})}),(0,co.jsx)(J,{label:R.filter,children:(0,co.jsx)(co.Fragment,{})}),(0,co.jsx)("div",{className:"form-item",children:(0,co.jsx)("div",{className:"vertical-content condition-container",children:(0,co.jsx)(Dc,{filter:t.filter,onChange:i=>{r(i)}})})})]})},{id:"style",title:R.style_setting,children:(0,co.jsx)(Lr,{widget:e,onChange:(i,a)=>{n.onChange([{name:i,value:a}])},children:(0,co.jsx)(J,{label:R.picture,children:(0,co.jsx)(oc,{value:e.picture,onChange:i=>{n.onChange([{name:"picture",value:i}])}})})})}]})})}var LM=_(F());function bde(n){let e=n.widget.widgets,t=r=>{n.onChange("widgets",r)};return(0,LM.jsx)("div",{className:"form-item",children:(0,LM.jsx)(Pn,{tabHeaderContextMenu:n.tabHeaderContextMenu,tabStyle:"text-style",closeable:!0,editable:!0,onChange:r=>{let o=r.map(i=>e.find(a=>a.id===i.id)).filter(i=>i!=null);t(o)},afterEdit:r=>{let o=[...e],i=o.find(a=>a.id===r.id);i&&(i.tabTitle=r.title,t(o))},onCreate:()=>{let r=[...e],o=new Tw(Ze());return r.push(o),t(r),o.id},items:e.map((r,o)=>({id:r.id,title:r.tabTitle==null?ws(r.type):r.tabTitle,children:(0,LM.jsx)(N4,{component:n.component,widget:r,autoSave:!0,onSave:function(i){let a=e.map(s=>s.id==i.id?i:s);t(a)}},r.id)}))})})}var _de=_(z());ue();var Ut=_(F());function Ede(n){var r;let e=n.widget,t=e.filter;return(0,Ut.jsx)(_de.Fragment,{children:(0,Ut.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(J,{label:R.content_type,children:(0,Ut.jsxs)("select",{className:"contribution-select",value:e.contentType,onChange:o=>{n.onChange("contentType",o.target.value)},children:[(0,Ut.jsx)("option",{value:"page",children:R.page}),(0,Ut.jsx)("option",{value:"block",children:R.block})]})}),(0,Ut.jsx)(J,{label:R.cover_type,children:(0,Ut.jsx)(k4,{value:e.coverType,onChange:o=>{n.onChange("coverType",o)}})}),(0,Ut.jsx)(J,{children:(0,Ut.jsx)(V4,{coverType:e==null?void 0:e.coverType,coverValue:e==null?void 0:e.coverValue,onChange:o=>{n.onChange("coverValue",o)}})}),(0,Ut.jsx)(J,{label:R.filter,children:(0,Ut.jsx)(Ut.Fragment,{})}),(0,Ut.jsx)("div",{className:"form-item",children:(0,Ut.jsx)("div",{className:"vertical-content condition-container",children:(0,Ut.jsx)(Dc,{filter:t,onChange:o=>{n.onChange("filter",o)}})})})]})},{id:"style",title:R.style_setting,children:(0,Ut.jsx)(Lr,{widget:e,onChange:n.onChange,children:(0,Ut.jsx)(J,{label:R.max_height,children:(0,Ut.jsx)(ed,{value:(r=e.maxHeight)!=null?r:300,defaultValueLabel:R.auto_value,defaultValue:-1,min:50,max:1200,unit:"px",onChange:o=>{n.onChange("maxHeight",o)}})})})}]})})}function k4(n){return(0,Ut.jsxs)("select",{className:"contribution-select contribution-full-width",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:[(0,Ut.jsx)("option",{value:"none",children:R.none}),(0,Ut.jsx)("option",{value:"url",children:R.url}),(0,Ut.jsx)("option",{value:"pageProperty",children:R.page_property}),(0,Ut.jsx)("option",{value:"pageFirstImage",children:R.first_image_in_page})]})}function V4(n){let{coverType:e,coverValue:t,onChange:r}=n;return e=="url"?(0,Ut.jsx)("input",{className:"input",value:t!=null?t:"",onChange:o=>{r(o.target.value)}}):e=="pageProperty"?(0,Ut.jsx)(iu,{value:t||"",onChange:function(o){r(o.name)}}):(0,Ut.jsx)(Ut.Fragment,{})}var MM=class extends hn{constructor(t){super(t,"quote");this.backgroundStyle="card",this.contentType="page",this.coverType="pageFirstImage",this.filter=new op,this.maxHeight=300}};var AM=class extends hn{constructor(t){super(t,"customCard");this.backgroundStyle="card",this.title="",this.description="",this.pictureShape="round",this.picturePos="top",this.showButton=!1,this.button=new G4("")}},Tze=()=>({type:"url",url:""}),G4=class{constructor(e){this.text=e;this.text=e,this.action=Tze()}};var Rde=_(z());ue();ht();var xde=_(z());var H4=_(F());function Dde(n){let e=_e(),t=(0,xde.useMemo)(()=>{let r=e.commands.commands,o=[];for(let i in r){let a=r[i];o.push(a)}return o.map(i=>({key:i.id,value:i.id,label:i.name,icon:(0,H4.jsx)(qo,{})}))},[]);return(0,H4.jsx)(Us,{value:n.defaultValue,onInput:r=>{n.onChange({id:r,name:r})},onSelect:r=>{n.onChange({id:r,name:r})},items:t})}var vt=_(F());function Tde(n){let e=n.widget,t=r=>{n.onChange("button",r)};return(0,vt.jsx)(Rde.Fragment,{children:(0,vt.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(Di,{title:e.title,onChange:function(r){n.onChange("title",r)},showAlign:!1}),(0,vt.jsx)(J,{label:R.description,children:(0,vt.jsx)("textarea",{className:"contribution-full-width",value:e.description||"",onChange:r=>{n.onChange("description",r.target.value)},rows:4,minLength:12})}),(0,vt.jsx)(J,{label:R.picture,children:(0,vt.jsx)(oc,{value:e.picture,onChange:r=>{n.onChange("picture",r)}})}),e.picture&&(0,vt.jsx)(J,{label:R.picture_shape,children:(0,vt.jsx)(Pze,{value:e.pictureShape,onChange:r=>{n.onChange("pictureShape",r)}})}),e.picture&&(0,vt.jsx)(J,{label:R.picture_pos,children:(0,vt.jsx)(Oze,{value:e.picturePos,onChange:r=>{n.onChange("picturePos",r)}})}),(0,vt.jsxs)("div",{className:"form-item",children:[(0,vt.jsx)("div",{className:"label",children:R.show_button}),(0,vt.jsxs)("div",{className:"vertical-content",children:[(0,vt.jsx)("input",{defaultChecked:e.showButton===!0,type:"checkbox",onChange:r=>{n.onChange("showButton",r.target.checked)}}),(0,vt.jsx)(Ize,{widget:e,onButtonActionChange:t})]})]})]})},{id:"style",title:R.style_setting,children:(0,vt.jsx)(Lr,{widget:e,onChange:n.onChange})}]})})}function Pze(n){return(0,vt.jsxs)("select",{className:"contribution-select",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:[(0,vt.jsx)("option",{value:"circle",children:R.circle}),(0,vt.jsx)("option",{value:"round",children:R.round})]})}function Oze(n){return(0,vt.jsxs)("select",{className:"contribution-select",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:[(0,vt.jsx)("option",{value:"top",children:R.top}),(0,vt.jsx)("option",{value:"left",children:R.left})]})}function Ize(n){var r,o,i,a;let e=n.widget;if(!e.showButton)return(0,vt.jsx)(vt.Fragment,{});let t=e.button;return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)("input",{className:"input",value:t==null?void 0:t.text,placeholder:R.button_name,onChange:s=>{let l={...t,text:s.target.value};n.onButtonActionChange(l)}}),(0,vt.jsx)(Fze,{value:(r=t==null?void 0:t.action)==null?void 0:r.type,onChange:s=>{let l={...t==null?void 0:t.action,type:s},u={...t,action:l};n.onButtonActionChange(u)}}),((o=t==null?void 0:t.action)==null?void 0:o.type)==="command"?(0,vt.jsx)(Dde,{defaultValue:(i=t==null?void 0:t.action)==null?void 0:i.commandName,onChange:s=>{let l={...t==null?void 0:t.action,commandId:s.id,commandName:s.name},u={...t,action:l};n.onButtonActionChange(u)}}):(0,vt.jsx)("input",{className:"input",value:(a=t==null?void 0:t.action)==null?void 0:a.url,onChange:s=>{let l={...t==null?void 0:t.action,url:s.target.value},u={...t,action:l};n.onButtonActionChange(u)}})]})}function Fze(n){return(0,vt.jsxs)("select",{className:"contribution-select",value:n.value||"url",onChange:e=>{n.onChange(e.target.value)},children:[(0,vt.jsx)("option",{value:"",disabled:!0,children:R.please_select_option}),(0,vt.jsx)("option",{value:"url",children:R.button_action_url}),(0,vt.jsx)("option",{value:"command",children:R.button_action_command})]})}var NM=class extends hn{constructor(t){super(t,"checkIn");this.cellShape="round",this.backgroundStyle="card",this.tasks=[]}},kM=class{constructor(e,t){this.id=e,this.checkInRecordType="task",this.tag="#checkIn",this.name=t}};var Pde=_(z());ue();var ln=_(F());function Ode(n){let e=n.widget,t=o=>{n.onChange("tasks",o)},r=()=>{let o=Ze(),i=new kM(o,""),a=[...e.tasks,i];return t(a),o};return(0,ln.jsx)(Pde.Fragment,{children:(0,ln.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,ln.jsxs)(ln.Fragment,{children:[(0,ln.jsx)(Di,{title:e.title,titleAlign:e.titleAlign,onChange:function(o){n.onChange("title",o)},onAlignChange:function(o){n.onChange("titleAlign",o)}}),(0,ln.jsx)(J,{label:R.task,children:(0,ln.jsx)(ln.Fragment,{})}),(0,ln.jsx)(J,{hideLabel:!0,children:(0,ln.jsx)(Pn,{items:e.tasks.map((o,i)=>({id:o.id,title:o.name||o.tag||R.task+" "+i,children:(0,ln.jsx)(Lze,{task:o,onChange:a=>{let s=e.tasks.map(l=>l.id===a.id?a:l);t(s)}},o.id)})),onChange:function(o){let i=o.map(a=>e.tasks.find(s=>s.id===a.id)).filter(a=>a!=null);t(i)},onCreate:()=>r()})})]})},{id:"style",title:R.style_setting,children:(0,ln.jsx)(Lr,{widget:e,onChange:n.onChange,children:(0,ln.jsx)(J,{label:R.cell_shape,children:(0,ln.jsx)(Mze,{value:e.cellShape,onChange:o=>{n.onChange("cellShape",o)}})})})}]})})}function Lze(n){let{task:e,onChange:t}=n;return(0,ln.jsxs)(ln.Fragment,{children:[(0,ln.jsx)(J,{label:R.check_in_record_save_way,children:(0,ln.jsxs)("select",{className:"contribution-select",value:e.checkInRecordType,onChange:r=>{t({...e,checkInRecordType:r.target.value})},children:[(0,ln.jsx)("option",{value:"pageProperty",children:R.save_as_page_property}),(0,ln.jsx)("option",{value:"task",children:R.save_as_task_item})]})}),e.checkInRecordType==="task"&&(0,ln.jsx)(J,{label:R.tag,children:(0,ln.jsx)("input",{className:"input",type:"text",value:e.tag,onChange:r=>{t({...e,tag:r.target.value})}})}),(0,ln.jsx)(J,{label:e.checkInRecordType=="pageProperty"?R.task_name:R.remark,children:(0,ln.jsx)("input",{className:"input",value:e.name,onChange:r=>{t({...e,name:r.target.value})}})})]})}function Mze(n){return(0,ln.jsxs)("select",{className:"contribution-select",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:[(0,ln.jsx)("option",{value:"round",children:R.round}),(0,ln.jsx)("option",{value:"circle",children:R.circle})]})}var VM=class extends hn{constructor(t){super(t,"dataview");this.query="",this.queryType="dataview",this.backgroundStyle="card",this.maxHeight=300,this.dynamicParamComponents=[]}};ue();var av=_(F());function Ide(n){return(0,av.jsxs)("div",{className:"form-group",children:[n.label&&(0,av.jsxs)("div",{className:"form-group-header",children:[(0,av.jsx)("span",{className:"label",children:n.label}),(0,av.jsx)("span",{className:"icon",children:n.icon?n.icon:(0,av.jsx)(l0,{})})]}),n.children]})}var Fde=_(z());var sv=_(F());function Lde(n){var r;let[e,t]=(0,Fde.useState)((r=n.defaultOpen)!=null?r:!1);return(0,sv.jsxs)("div",{className:`collapse ${n.className?n.className:""} ${e?"opening":""}`,children:[(0,sv.jsxs)("div",{className:"collapse-header",onClick:()=>t(!e),children:[(0,sv.jsx)("span",{className:"title",children:n.title}),(0,sv.jsx)("span",{className:"icon",children:e?"\u25B2":"\u25BC"})]}),(0,sv.jsx)("div",{className:e?"collapse-content":"collapse-content hide",children:n.children})]})}ue();var Lh=_(F());function Mde(n){return(0,Lh.jsx)(jt,{selectedKey:n.value,options:Aze,onChange:function(e){n.onChange(e)}})}var Aze=[{key:"text",value:"text",label:R.type_text,description:R.type_text_description,icon:(0,Lh.jsx)(rm,{})},{key:"number",value:"number",label:R.type_number,description:R.type_number_description,icon:(0,Lh.jsx)(ju,{})},{key:"checkbox",value:"checkbox",label:R.type_checkbox,description:R.type_checkbox_description,icon:(0,Lh.jsx)(gd,{})},{key:"select",value:"select",label:R.type_select,description:R.type_select_description,icon:(0,Lh.jsx)(yd,{})},{key:"tagSuggestions",value:"tagSuggestions",label:R.tag_suggestions,description:R.tag_suggestions_description,icon:(0,Lh.jsx)(pm,{})},{key:"propertyValueSuggestions",value:"propertyValueSuggestions",label:R.property_value_suggestions,description:R.property_value_suggestions_description,icon:(0,Lh.jsx)(cm,{})}];var Ue=_(F());function Ade(n){var r,o;let e=n.widget,t=e.query;return(0,Ue.jsx)(Ue.Fragment,{children:(0,Ue.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,tabStyle:"text-style",sortable:!1,closeable:!1,addable:!1,items:[{id:"basic",title:R.basic_setting,children:(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(Di,{title:e.title,titleAlign:e.titleAlign,onChange:function(i){n.onChange("title",i)},onAlignChange:function(i){n.onChange("titleAlign",i)}}),(0,Ue.jsx)(J,{label:R.dataview_query_type,children:(0,Ue.jsx)(Nze,{value:e.queryType,onChange:i=>{n.onChange("queryType",i)}})}),(0,Ue.jsx)(J,{label:R.dynamic_param,children:(0,Ue.jsx)(Ue.Fragment,{})}),(0,Ue.jsx)(J,{hideLabel:!0,children:(0,Ue.jsx)("div",{className:"description",children:R.dynamic_param_description})}),(r=e.dynamicParamComponents)==null?void 0:r.map((i,a)=>(0,Ue.jsx)(kze,{comp:i,onRemove:()=>{var l;let s=(l=e.dynamicParamComponents)==null?void 0:l.filter(u=>u.id!==i.id);n.onChange("dynamicParamComponents",s)},onChange:s=>{var u;let l=(u=e.dynamicParamComponents)==null?void 0:u.map((c,d)=>d===a?s:c);n.onChange("dynamicParamComponents",l)}},i.id)),(0,Ue.jsx)(J,{hideLabel:!0,contentDirection:"column",children:(0,Ue.jsx)("div",{className:"button",onClick:()=>{let i=e.dynamicParamComponents?[...e.dynamicParamComponents]:[];i.push({id:Ze(),type:"text",name:"",defaultValue:"",placeholder:"",fromProperty:""}),n.onChange("dynamicParamComponents",i)},children:"+"})}),(0,Ue.jsx)(J,{label:R.dataview_query,children:(0,Ue.jsx)("textarea",{className:"contribution-full-width",rows:10,value:t,onChange:i=>{let a=i.target.value;n.onChange("query",a)}})})]})},{id:"style",title:R.style_setting,children:(0,Ue.jsx)(Lr,{widget:e,onChange:n.onChange,children:(0,Ue.jsx)(J,{label:R.max_height,children:(0,Ue.jsx)(ed,{value:(o=e.maxHeight)!=null?o:300,defaultValue:-1,defaultValueLabel:R.auto_value,min:50,max:1200,unit:"px",onChange:i=>{n.onChange("maxHeight",i)}})})})}]})})}function Nze(n){return(0,Ue.jsxs)("select",{className:"contribution-select",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:[(0,Ue.jsx)("option",{value:"dataview",children:"dataview"}),(0,Ue.jsx)("option",{value:"dataviewjs",children:"dataviewjs"})]})}function kze(n){var e;return(0,Ue.jsx)(Lde,{title:n.comp.name||R.dynamic_param,defaultOpen:!1,className:"form-item form-group contribution-full-width",children:(0,Ue.jsxs)("div",{className:"vertical-content contribution-full-width",children:[(0,Ue.jsx)(J,{hideLabel:!0,contentDirection:"column",children:(0,Ue.jsx)("div",{className:"button warning",onClick:()=>{n.onRemove()},children:"x"})}),(0,Ue.jsx)(J,{label:R.component_type,children:(0,Ue.jsx)(Mde,{value:n.comp.type,onChange:function(t){let r={...n.comp,type:t};n.onChange(r)}})}),n.comp.type=="select"&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(J,{label:R.option,children:(0,Ue.jsx)(Ue.Fragment,{})}),(e=n.comp.options)==null?void 0:e.map((t,r)=>(0,Ue.jsxs)(Ide,{children:[(0,Ue.jsx)(J,{label:R.label,children:(0,Ue.jsx)("input",{className:"input",type:"text",value:t.label,onChange:o=>{var s;let i=(s=n.comp.options)==null?void 0:s.map(l=>l.id===t.id?{...l,label:o.target.value}:l),a={...n.comp,options:i};n.onChange(a)}})}),(0,Ue.jsx)(J,{label:R.value,children:(0,Ue.jsx)("input",{className:"input",type:"text",value:t.value,onChange:o=>{var s;let i=(s=n.comp.options)==null?void 0:s.map(l=>l.id===t.id?{...l,value:o.target.value}:l),a={...n.comp,options:i};n.onChange(a)}})}),(0,Ue.jsx)(J,{hideLabel:!0,contentDirection:"column",children:(0,Ue.jsx)("div",{className:"button",onClick:()=>{let i=(n.comp.options?[...n.comp.options]:[]).filter(s=>s.id!==t.id),a={...n.comp,options:i};n.onChange(a)},children:"x"})})]},t.id)),(0,Ue.jsx)(J,{hideLabel:!0,contentDirection:"column",children:(0,Ue.jsx)("div",{className:"button",onClick:()=>{let t=n.comp.options?[...n.comp.options]:[];t.push({id:Ze(),label:"",value:""});let r={...n.comp,options:t};n.onChange(r)},children:"+"})})]}),n.comp.type=="propertyValueSuggestions"&&(0,Ue.jsx)(J,{label:R.param_component_from_property,children:(0,Ue.jsx)(iu,{value:n.comp.fromProperty,onChange:function(t){let r={...n.comp,fromProperty:t.name};n.onChange(r)}})}),(0,Ue.jsx)(J,{label:R.param_component_label,children:(0,Ue.jsx)("input",{className:"input",type:"text",value:n.comp.label||"",onChange:t=>{let r={...n.comp,label:t.target.value};n.onChange(r)}})}),(0,Ue.jsx)(J,{label:R.param_name,children:(0,Ue.jsx)("input",{className:"input",type:"text",value:n.comp.name||"",onChange:t=>{let r={...n.comp,name:t.target.value};n.onChange(r)}})}),(0,Ue.jsx)(J,{label:R.default_value,children:(0,Ue.jsx)("input",{className:"input",type:"text",value:n.comp.defaultValue||"",onChange:t=>{let r={...n.comp,defaultValue:t.target.value};n.onChange(r)}})}),["text","number"].includes(n.comp.type)&&(0,Ue.jsx)(J,{label:R.placeholder,children:(0,Ue.jsx)("input",{className:"input",type:"text",value:n.comp.placeholder||"",onChange:t=>{let r={...n.comp,placeholder:t.target.value};n.onChange(r)}})})]})})}var GM=_(z());ue();ue();var fo=_(F()),Nde=[{label:R.chart_bar,value:"bar",key:"bar",icon:(0,fo.jsx)(om,{})},{label:R.chart_line,value:"line",key:"line",icon:(0,fo.jsx)(e0,{})},{label:R.chart_pie,value:"pie",key:"pie",icon:(0,fo.jsx)(i0,{})},{label:R.chart_doughnut,value:"doughnut",key:"doughnut",icon:(0,fo.jsx)(am,{})}],kde=[{label:R.none,value:"$none",key:"$none",icon:(0,fo.jsx)(ra,{})},{label:R.to_year,value:"$toYear",key:"$toYear",icon:(0,fo.jsx)(ra,{})},{label:R.to_month,value:"$toYearMonth",key:"$toYearMonth",icon:(0,fo.jsx)(ra,{})},{label:R.to_quarter,value:"$toYearQuarter",key:"$toYearQuarter",icon:(0,fo.jsx)(ra,{})},{label:R.to_week,value:"$toYearWeek",key:"$toYearWeek",icon:(0,fo.jsx)(ra,{})},{label:R.to_date,value:"$toDate",key:"$toDate",icon:(0,fo.jsx)(ra,{})}],Vde=[{label:R.sum,value:"$sum",key:"$sum",icon:(0,fo.jsx)(ra,{})},{label:R.avg,value:"$avg",key:"$avg",icon:(0,fo.jsx)(ra,{})},{label:R.max,value:"$max",key:"$max",icon:(0,fo.jsx)(ra,{})},{label:R.min,value:"$min",key:"$min",icon:(0,fo.jsx)(ra,{})}],Gde=[{label:R.top,value:"top",key:"top",icon:(0,fo.jsx)(vd,{})},{label:R.bottom,value:"bottom",key:"bottom",icon:(0,fo.jsx)(vd,{})},{label:R.left,value:"left",key:"left",icon:(0,fo.jsx)(vd,{})},{label:R.right,value:"right",key:"right",icon:(0,fo.jsx)(vd,{})},{label:R.hidden,value:"hidden",key:"hidden",icon:(0,fo.jsx)(vd,{})}];var $de=_(F());function Hde(n){return(0,$de.jsx)(jt,{selectedKey:n.value,options:Gde,onChange:function(e){n.onChange(e)}})}var Wde=_(F());function Bde(n){return(0,Wde.jsx)(jt,{selectedKey:n.value,options:Vde,onChange:function(e){n.onChange(e)}})}var Ude=_(F());function zde(n){return(0,Ude.jsx)(jt,{selectedKey:n.value,options:kde,onChange:function(e){n.onChange(e)}})}var Kde=_(F());function jde(n){return(0,Kde.jsx)(jt,{selectedKey:n.value,options:Nde,onChange:function(e){n.onChange(e)}})}var Ht=_(F());function qde(n){var o;let e=n.widget,t=i=>{n.onChange([{name:"filter",value:i}])},r=(0,GM.useMemo)(()=>e.chartType=="bar"||e.chartType=="line",[e.chartType]);return(0,Ht.jsx)(GM.Fragment,{children:(0,Ht.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)(Di,{title:e.title,titleAlign:e.titleAlign,onChange:function(i){n.onChange([{name:"title",value:i}])},onAlignChange:i=>{n.onChange([{name:"titleAlign",value:i}])}}),(0,Ht.jsx)(J,{label:R.chart_type,children:(0,Ht.jsx)(jde,{value:e.chartType||"bar",onChange:i=>{n.onChange([{name:"chartType",value:i}])}})}),(0,Ht.jsx)(J,{label:R.filter,children:(0,Ht.jsx)(Ht.Fragment,{})}),(0,Ht.jsx)("div",{className:"form-item",children:(0,Ht.jsx)("div",{className:"vertical-content condition-container",children:(0,Ht.jsx)(Dc,{filter:e.filter,onChange:i=>{t(i)}})})}),(0,Ht.jsx)(J,{label:r?R.x_axis_property:R.property,children:(0,Ht.jsx)(iu,{value:e.labelProperty,onChange:function(i){n.onChange([{name:"labelProperty",value:i.name}])}})}),(0,Ht.jsx)(J,{label:r?R.x_axis_property_format:R.property_format,children:(0,Ht.jsx)(zde,{value:e.labelFormat||"$none",onChange:i=>{n.onChange([{name:"labelFormat",value:i}])}})}),r&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)(J,{label:R.y_axis_property,children:(0,Ht.jsx)(iu,{value:e.valueProperty,additionalProperties:[U5],onChange:function(i){n.onChange([{name:"valueProperty",value:i.name}])}})}),(0,Ht.jsx)(J,{label:R.y_axis_property_format,children:(0,Ht.jsx)(Bde,{value:e.valueFormat||"$sum",onChange:i=>{n.onChange([{name:"valueFormat",value:i}])}})})]})]})},{id:"style",title:R.style_setting,children:(0,Ht.jsxs)(Lr,{widget:e,onChange:(i,a)=>{n.onChange([{name:i,value:a}])},children:[(0,Ht.jsx)(J,{label:R.max_height,children:(0,Ht.jsx)(ed,{value:(o=e.maxHeight)!=null?o:300,defaultValue:-1,defaultValueLabel:R.auto_value,min:50,max:1200,unit:"px",onChange:i=>{n.onChange([{name:"maxHeight",value:i}])}})}),(0,Ht.jsx)(J,{label:R.chart_label_position,children:(0,Ht.jsx)(Hde,{value:e.chartLabelPosition||"top",onChange:i=>{n.onChange([{name:"chartLabelPosition",value:i}])}})}),(0,Ht.jsxs)(J,{label:R.chart_color,contentDirection:"column",children:[(e.chartColorSet||[]).map((i,a)=>(0,Ht.jsx)(J,{hideLabel:!0,children:(0,Ht.jsx)(Ih,{color:i,onReset:()=>{let s=e.chartColorSet.filter((l,u)=>u!=a);n.onChange([{name:"chartColorSet",value:s}])},onChange:s=>{let l=[...e.chartColorSet];s&&(l[a]=s,n.onChange([{name:"chartColorSet",value:l}]))}})},a)),(0,Ht.jsx)("div",{className:"button",onClick:()=>{let i=[...e.chartColorSet,""];n.onChange([{name:"chartColorSet",value:i}])},children:"+"})]})]})}]})})}var HM=class extends hn{constructor(t){super(t,"clock");this.maxHeight=300,this.backgroundStyle="none",this.clockOptions={showTimeLabel:!1,dialType:"none"}}};var Yde=_(z());ue();var Sn=_(F());function Xde(n){var o,i,a;let e=n.widget,t=(s,l)=>{n.onChange("clockOptions",{...e.clockOptions,[s]:l})},r=[{label:R.clock_dial_background_color,property:"dialBackgroundColor",bindValue:()=>{var s;return((s=e.clockOptions)==null?void 0:s.dialBackgroundColor)||tg.dialBackgroundColor}},{label:R.clock_marker_color,property:"markerColor",bindValue:()=>{var s;return((s=e.clockOptions)==null?void 0:s.markerColor)||tg.markerColor}}];return(0,Sn.jsx)(Yde.Fragment,{children:(0,Sn.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)(J,{label:R.clock_dial_type,children:(0,Sn.jsx)($ze,{value:((o=e.clockOptions)==null?void 0:o.dialType)||"none",onChange:s=>{t("dialType",s)}})}),(0,Sn.jsx)(J,{label:R.clock_show_time_label,contentDirection:"column",children:(0,Sn.jsx)("input",{type:"checkbox",checked:(i=e.clockOptions)==null?void 0:i.showTimeLabel,onChange:s=>{t("showTimeLabel",s.target.checked)}})}),(0,Sn.jsx)(J,{label:R.clock_show_date_label,contentDirection:"column",children:(0,Sn.jsx)("input",{type:"checkbox",checked:(a=e.clockOptions)==null?void 0:a.showDateLabel,onChange:s=>{t("showDateLabel",s.target.checked)}})})]})},{id:"style",title:R.style_setting,children:(0,Sn.jsxs)(Lr,{widget:e,onChange:n.onChange,children:[(0,Sn.jsx)(Gze,{widget:e,onChange:function(s,l){t(s,l)}}),r.map((s,l)=>(0,Sn.jsx)(Hze,{label:s.label,color:s.bindValue(),onChange:function(u){t(s.property,u)}},l))]})}]})})}function Gze(n){let e=n.widget,t=[{label:R.clock_second_hand_color,property:"secondHandColor",bindValue:()=>{var r;return((r=e.clockOptions)==null?void 0:r.secondHandColor)||tg.secondHandColor}},{label:R.clock_minute_hand_color,property:"minuteHandColor",bindValue:()=>{var r;return((r=e.clockOptions)==null?void 0:r.minuteHandColor)||tg.minuteHandColor}},{label:R.clock_hour_hand_color,property:"hourHandColor",bindValue:()=>{var r;return((r=e.clockOptions)==null?void 0:r.hourHandColor)||tg.hourHandColor}}];return(0,Sn.jsx)(J,{label:R.clock_pointer_color,children:(0,Sn.jsx)("div",{className:"pointer-color-container",children:t.map((r,o)=>(0,Sn.jsxs)("div",{className:"pointer-color-item",children:[(0,Sn.jsx)("div",{className:"pointer-color-label",children:r.label}),(0,Sn.jsx)("div",{className:"pointer-color-picker",children:(0,Sn.jsx)(Ih,{color:r.bindValue(),onChange:function(i){n.onChange(r.property,i)}})})]},o))})})}function Hze(n){let{label:e,color:t,onChange:r}=n;return(0,Sn.jsx)(J,{label:e,children:(0,Sn.jsx)(Ih,{color:t,onChange:function(o){r(o)}})})}function $ze(n){return(0,Sn.jsxs)("select",{className:"contribution-select",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:[(0,Sn.jsx)("option",{value:"none",children:R.none}),(0,Sn.jsx)("option",{value:"circle",children:R.clock_circle}),(0,Sn.jsx)("option",{value:"square",children:R.clock_square})]})}var $M=class extends hn{constructor(t){super(t,"markdown");this.backgroundStyle="card",this.maxHeight=300,this.contentAlign="left",this.markdownsSource=$4.File,this.markdownValue=""}},$4=(t=>(t.Content="content",t.File="file",t))($4||{});var Zde=_(z());ue();var Wo=_(F());function Qde(n){var t;let e=n.widget;return(0,Wo.jsx)(Zde.Fragment,{children:(0,Wo.jsx)(Pn,{hideContentBorder:!0,tabHeaderContextMenu:n.tabHeaderContextMenu,sortable:!1,closeable:!1,addable:!1,tabStyle:"text-style",items:[{id:"basic",title:R.basic_setting,children:(0,Wo.jsxs)(Wo.Fragment,{children:[(0,Wo.jsx)(J,{label:R.content_type,children:(0,Wo.jsx)(Bze,{value:e.markdownsSource||"file",onChange:r=>{n.onChange("markdownsSource",r)}})}),(0,Wo.jsxs)(J,{label:"",children:[e.markdownsSource=="content"&&(0,Wo.jsx)("textarea",{className:"contribution-full-width",value:e.markdownValue,rows:10,onChange:r=>{n.onChange("markdownValue",r.target.value)}}),e.markdownsSource!="content"&&(0,Wo.jsx)(Ap,{value:e.markdownValue,fileExtensions:["md"],onInput:r=>{n.onChange("markdownValue",r)},onSelect:function(r){n.onChange("markdownValue",r)}})]})]})},{id:"style",title:R.style_setting,children:(0,Wo.jsx)(Lr,{widget:e,onChange:n.onChange,children:(0,Wo.jsx)(J,{label:R.max_height,children:(0,Wo.jsx)(ed,{value:(t=e.maxHeight)!=null?t:500,defaultValue:-1,defaultValueLabel:R.auto_value,min:50,max:1200,unit:"px",onChange:r=>{n.onChange("maxHeight",r)}})})})}]})})}function Bze(n){return(0,Wo.jsxs)("select",{className:"contribution-select",value:n.value,onChange:e=>{n.onChange(e.target.value)},children:[(0,Wo.jsx)("option",{value:"content",children:R.text_content}),(0,Wo.jsx)("option",{value:"file",children:R.file_path})]})}var Jde=_(z());ue();var lv=_(F());function td(n){return(0,lv.jsxs)("div",{className:"contribution-widget-block",onClick:n.onClick,children:[n.icon&&(0,lv.jsx)("div",{className:"block-icon",children:n.icon}),(0,lv.jsxs)("div",{className:"block-main",children:[(0,lv.jsx)("div",{className:"block-title",children:n.title}),n.description&&(0,lv.jsx)("div",{className:"block-description",children:n.description})]})]})}var wr=_(F());function efe(n){let e=n.widget,t=Br();return(0,wr.jsx)(Jde.Fragment,{children:(0,wr.jsx)(Pn,{hideContentBorder:!0,sortable:!1,closeable:!1,addable:!1,tabHeaderContextMenu:n.tabHeaderContextMenu,tabStyle:"text-style",items:[{id:"basic_setting",title:R.basic_setting,children:(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(J,{hideLabel:!0,children:(0,wr.jsx)(Qc,{multiple:!1,options:[{value:"gallary",label:"gallary",icon:(0,wr.jsx)(QS,{size:24}),choosed:e.viewType=="gallary"},{value:"table",label:"table",icon:(0,wr.jsx)(c0,{size:24}),choosed:e.viewType=="table"}],onChoose:function(r){n.onChange("viewType",r[0].value)}})}),(0,wr.jsx)(J,{hideLabel:!0,children:(0,wr.jsx)(td,{title:R.view_setting,description:R.view_setting_description,icon:(0,wr.jsx)(d0,{}),onClick:r=>{let o="/contribution-widget/"+e.id+"/dynamic-data-view/view-setting";t(o)}})}),(0,wr.jsx)(J,{hideLabel:!0,children:(0,wr.jsx)(td,{title:R.datasource_setting,description:R.datasource_setting_description,icon:(0,wr.jsx)(US,{}),onClick:r=>{let o="/contribution-widget/"+e.id+"/dynamic-data-view/datasource-setting";t(o)}})}),(0,wr.jsx)(J,{hideLabel:!0,children:(0,wr.jsx)(td,{title:R.property_setting,description:R.property_setting_description,icon:(0,wr.jsx)(yd,{}),onClick:r=>{let o="/contribution-widget/"+e.id+"/dynamic-data-view/property-setting";t(o)}})}),(0,wr.jsx)(J,{hideLabel:!0,children:(0,wr.jsx)(td,{title:R.template_setting,description:R.template_setting_description,icon:(0,wr.jsx)(qS,{}),onClick:r=>{let o="/contribution-widget/"+e.id+"/dynamic-data-view/template-setting";t(o)}})})]})}]})})}var ar=_(F());function tfe(n){return(0,ar.jsx)(N4,{...n})}var N4=(0,uv.memo)(n=>{let[e,t]=(0,uv.useState)(n.widget);return(0,uv.useEffect)(()=>{var r;(((r=n.widget)==null?void 0:r.id)!=(e==null?void 0:e.id)||n.widget.type!=(e==null?void 0:e.type))&&t(n.widget)},[n.widget]),(0,uv.useEffect)(()=>{e&&n.autoSave!==!1&&n.onSave(e)},[e,n.autoSave]),(0,ar.jsx)("div",{className:"contribution-widget-form-container",children:(0,ar.jsxs)("div",{className:"form",children:[n.showWidgetSelect!==!1&&(0,ar.jsx)(Wze,{widgetModel:e,setWidgetModel:t,createWidgetModal:BM}),(e==null?void 0:e.type)==="timing"&&(0,ar.jsx)(mde,{widget:e,onChange:(r,o)=>{let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="dateProgress"&&(0,ar.jsx)(vde,{widget:e,onChange:(r,o)=>{let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="countdown"&&(0,ar.jsx)(Cde,{widget:e,onChange:r=>{let o={...e};r.forEach(i=>{o[i.name]=i.value}),t(o)}}),(e==null?void 0:e.type)==="count"&&(0,ar.jsx)(Sde,{widget:e,onChange:r=>{let o={...e};r.forEach(i=>{o[i.name]=i.value}),t(o)}}),(e==null?void 0:e.type)==="quote"&&(0,ar.jsx)(Ede,{widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="customCard"&&(0,ar.jsx)(Tde,{widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="checkIn"&&(0,ar.jsx)(Ode,{widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="chart"&&(0,ar.jsx)(qde,{widget:e,onChange:r=>{let o={...e};r.forEach(i=>{o[i.name]=i.value}),t(o)}}),(e==null?void 0:e.type)==="dataview"&&(0,ar.jsx)(Ade,{widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="multi"&&(0,ar.jsx)(bde,{component:n.component,widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="clock"&&(0,ar.jsx)(Xde,{widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="markdown"&&(0,ar.jsx)(Qde,{widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),(e==null?void 0:e.type)==="dynamicDataView"&&(0,ar.jsx)(efe,{widget:e,onChange:function(r,o){let i={...e};i[r]=o,t(i)}}),n.showPreview!==!1&&!["multi","dynamicDataView"].includes(e.type)&&(0,ar.jsx)(J,{hideLabel:!0,contentDirection:"column",children:(0,ar.jsx)(gde,{widget:e})}),n.autoSave!==!0&&(0,ar.jsx)("div",{className:"form-footer",children:(0,ar.jsx)("div",{className:"button success",onClick:()=>{e&&n.onSave(e)},children:R.save})})]})})});function Wze(n){let{widgetModel:e,setWidgetModel:t,createWidgetModal:r}=n,o=qc.filter(i=>i.description).map((i,a)=>({key:i.value,label:i.name,value:i.value,icon:i.icon,description:i.description}));return(0,ar.jsx)(jt,{selectedKey:(e==null?void 0:e.type)||"",options:o,onChange:function(i){let a=i;if(a!=(e==null?void 0:e.type)){let s=r(a,e?e.id:Ze());if(a=="multi"&&e){let l=s,u={...e,id:Ze()};l.widgets.push(u)}t(s)}}})}var BM=(n,e)=>{let t=e||Ze();switch(n){case"countdown":return new PM(t);case"dateProgress":return new OM(t);case"timing":return new IM(t);case"count":return new Tw(t);case"quote":return new MM(t);case"multi":return new qi(t);case"checkIn":return new NM(t);case"customCard":return new AM(t);case"dataview":return new VM(t);case"chart":return new nR(t);case"clock":return new HM(t);case"markdown":return new $M(t);case"dynamicDataView":return new sL(t);case"ref":throw new Error("Can not create widget caused by invalid widget type: ref")}};var nd=_(F());function nfe(){let n=Fp(),e=Fr(i=>i.widgetModel.value),t=uo(),{widgetId:r}=bo();if(!r)throw new Cn("widgetId is required");let o=Wr(e,r);if(!o)throw new Cn("can not find widget");return(0,nd.jsxs)("div",{className:"widget-item-form",children:[(0,nd.jsx)(zze,{widget:o}),(0,nd.jsx)(tfe,{widget:o,showWidgetSelect:!1,autoSave:!0,showPreview:(o==null?void 0:o.type)!="multi",component:n,onSave:i=>{let a=qt(e,i);t(Ft(a))}})]})}function zze(n){let{widget:e}=n,t=qc.find(o=>o.value==(e==null?void 0:e.type)),r=Br();return(0,nd.jsxs)("div",{className:"widget-type-switch-button",onClick:()=>{r(rfe.replace(":widgetId",(e==null?void 0:e.id)||""))},children:[(t==null?void 0:t.icon)&&(0,nd.jsx)("span",{className:"button-icon",children:t.icon}),(0,nd.jsx)("span",{className:"button-label",children:t==null?void 0:t.name}),(0,nd.jsx)("span",{className:"button-icon",children:(0,nd.jsx)(im,{})})]})}var Mh=_(F());function B4(){let{parentId:n,widgetId:e}=bo(),t=Br(),r=Fr(l=>l.widgetModel.value),o=uo(),i=l=>{if(n){let u=BM(l);if(u){let c=i4(r,n,u);o(Ft(c)),s(l,u.id)}else throw new Cn("create widget failed")}},a=l=>{if(e){let u=Wr(r,e);if((u==null?void 0:u.type)==l){s(l,u.id);return}let c=BM(l,e);if(l=="multi"){let f=c,p={...u,id:Ze()};f.widgets.push(p)}let d=qt(r,c);o(Ft(d)),s(l,e)}},s=(l,u)=>{t(-1),l=="multi"?t(mw.replace(":widgetId",u)):t(CM.replace(":widgetId",u))};return(0,Mh.jsx)("div",{className:"widget-list widget-select-list",children:qc.map(l=>(0,Mh.jsxs)("div",{className:"widget-list-item",onClick:()=>{let u=l.value;n?i(u):a(u)},children:[(0,Mh.jsx)(et,{children:l.icon}),(0,Mh.jsxs)("span",{className:"item-title",children:[(0,Mh.jsx)("div",{children:l.name}),(0,Mh.jsx)("div",{className:"description",children:l.description})]})]},l.value))})}ue();var ofe=_(F());function Ah(n){return(0,ofe.jsx)("div",{className:"contribution-widget-form",children:n.children})}ue();var afe=_(F());function ife(n){return(0,afe.jsx)(jt,{selectedKey:n.value,options:jze,onChange:function(e){n.onChange(e)}})}var jze=[{label:R.small,value:"gallary-small",key:"gallary-small"},{label:R.medium,value:"gallary-medium",key:"gallary-medium"},{label:R.large,value:"gallary-large",key:"gallary-large"}];ue();var lfe=_(F());function sfe(n){return(0,lfe.jsx)(jt,{selectedKey:n.value,options:Kze,onChange:function(e){n.onChange(e)}})}var Kze=[{label:R.open_page_in_current,value:"current",key:"current"},{label:R.open_page_in_split,value:"split",key:"split"},{label:R.open_page_in_tab,value:"tab",key:"tab"},{label:R.open_page_in_window,value:"window",key:"window"}];ue();var ufe=_(F());function WM(n){return(0,ufe.jsx)(jt,{selectedKey:n.value,options:qze,onChange:function(e){n.onChange(e)}})}var qze=[{key:"contains",value:"contains",label:R.picture_contains},{key:"fill",value:"fill",label:R.picture_fill}];var Rs=_(F());function cfe(){let n=Fr(a=>a.widgetModel.value),e=uo(),{widgetId:t}=bo();if(!t)throw new Cn("widgetId is required");let r=Wr(n,t);if(!r)throw new Cn("can not find widget");let i={...Vg,...r.viewOptions};return(0,Rs.jsxs)(Ah,{children:[(0,Rs.jsx)(J,{label:R.open_page_in,children:(0,Rs.jsx)(sfe,{value:i.openPageIn||"split",onChange:function(a){let s={...r,viewOptions:{...i,openPageIn:a}},l=qt(n,s);e(Ft(l))}})}),(0,Rs.jsx)(J,{label:R.gallary_item_size,children:(0,Rs.jsx)(ife,{value:i.itemSize||"gallary-small",onChange:function(a){let s={...r,viewOptions:{...i,itemSize:a}},l=qt(n,s);e(Ft(l))}})}),(0,Rs.jsx)(J,{label:R.cover_type,children:(0,Rs.jsx)(k4,{value:i.cover.type,onChange:function(a){let s={...r,viewOptions:{...i,cover:{...i.cover,type:a}}},l=qt(n,s);e(Ft(l))}})}),(0,Rs.jsx)(J,{label:"",children:(0,Rs.jsx)(V4,{coverType:i.cover.type,coverValue:i.cover.value,onChange:function(a){let s={...r,viewOptions:{...i,cover:{...i.cover,value:a}}},l=qt(n,s);e(Ft(l))}})}),(0,Rs.jsx)(J,{label:R.picture_layout,children:(0,Rs.jsx)(WM,{value:i.cover.fit||"contains",onChange:function(a){let s={...r,viewOptions:{...i,cover:{...i.cover,fit:a}}},l=qt(n,s);e(Ft(l))}})})]})}ue();var zo=_(F());function dfe(){var l;let n=Fr(u=>u.widgetModel.value),e=uo(),{widgetId:t}=bo();if(!t)throw new Cn("widgetId is required");let r=Wr(n,t);if(!r)throw new Cn("can not find widget");let i={...C$,...r.datasource},a=(u,c)=>{let d={...r};d[u]=c;let f=qt(n,d);e(Ft(f))},s=u=>{let c={...i,storage:{location:u}};a("datasource",c)};return(0,zo.jsxs)(Ah,{children:[(0,zo.jsx)(J,{label:R.filter,children:(0,zo.jsx)(zo.Fragment,{})}),(0,zo.jsx)(J,{hideLabel:!0,children:(0,zo.jsx)(Dc,{filter:i.filter,onChange:u=>{let c={...i,filter:u};a("datasource",c)}})}),(0,zo.jsx)(J,{label:R.sort,children:(0,zo.jsx)(zo.Fragment,{})}),(0,zo.jsx)(J,{hideLabel:!0,children:(0,zo.jsx)(UO,{sort:i.sort,onChange:function(u){let c={...i,sort:u};a("datasource",c)}})}),(0,zo.jsx)(J,{label:R.data_save_location,children:(0,zo.jsx)(Ap,{onlyFolder:!0,includeFolder:!0,value:((l=i.storage)==null?void 0:l.location)||"",onInput:function(u){s(u)},onSelect:u=>{s(u)}})}),(0,zo.jsx)(J,{label:R.data_limit,children:(0,zo.jsx)("input",{className:"input",type:"number",value:i.dataLimit,onChange:u=>{let c={...i,dataLimit:parseInt(u.target.value)};a("datasource",c)}})})]})}var ffe=_(z()),pfe=_(F());var zM=(0,ffe.forwardRef)(function(e,t){return(0,pfe.jsx)("div",{className:"contribution-list-item",onClick:e.onClick,style:e.style,...e.attrs,ref:t,children:e.children})});var hfe=_(F());function UM(n){return(0,hfe.jsx)("div",{className:"item-content",children:n.children})}var Xi=_(F());function mfe(){let n=Fr(u=>u.widgetModel.value),e=uo(),{widgetId:t}=bo();if(!t)throw new Cn("widgetId is required");let r=Wr(n,t);if(!r)throw new Cn("can not find widget");let o=r,i=o.properties,a=u=>{let{active:c,over:d}=u;if(c.id!==d.id){let f=i.findIndex(g=>g.id==c.id),p=i.findIndex(g=>g.id==d.id),h=Zc(i,f,p),m={...r,properties:h},v=qt(n,m);e(Ft(v))}},s=u=>{let c=o.properties.map(p=>p.id===u.id?u:p),d={...r,properties:c},f=qt(n,d);e(Ft(f))},l=bh(wl(Cl),wl(yl,{coordinateGetter:Rh}));return(0,Xi.jsxs)(vn,{direction:"vertical",children:[(0,Xi.jsx)(Gg,{widget:o,onChange:function(u){let c=qt(n,u);e(Ft(c))}}),(0,Xi.jsx)(Eh,{onDragEnd:a,sensors:l,collisionDetection:_h,children:(0,Xi.jsx)(QC,{children:(0,Xi.jsx)(xh,{items:o.properties,children:o.properties.map(u=>(0,Xi.jsx)(Yze,{widgetId:t,property:u,onChange:c=>{s(c)}},u.id))})})})]})}function Yze(n){let{property:e,widgetId:t}=n,r=Br(),{attributes:o,listeners:i,setNodeRef:a,setActivatorNodeRef:s,transform:l,transition:u}=Dh({id:e.id}),c={transform:Ra.Transform.toString(l),transition:u};return(0,Xi.jsxs)(zM,{onClick:()=>{let d="/contribution-widget/"+t+"/dynamic-data-view/property-setting/"+e.id;r(d)},style:{...c},attrs:{...o},ref:a,children:[(0,Xi.jsx)(et,{attrs:{...i},ref:s,children:(0,Xi.jsx)(Ll,{size:14})}),(0,Xi.jsx)(UM,{children:GE(e)}),(0,Xi.jsx)(et,{onClick:d=>{d.preventDefault(),d.stopPropagation();let f={...e,isShow:!e.isShow};n.onChange(f)},children:e.isShow?(0,Xi.jsx)(sm,{size:14}):(0,Xi.jsx)(jS,{size:14})})]},e.id)}ue();var Cfe=require("obsidian");ue();Mo();var W4=_(F()),jM=class{accept(e){return e.type=="checkbox"}render(e){return(0,W4.jsx)(Xze,{...e})}};function Xze(n){let{property:e,onChange:t}=n;return(0,W4.jsx)("input",{className:"input",type:"checkbox",value:e.defaultValue,onChange:r=>{t==null||t(r.target.value)}})}var z4=_(F()),KM=class{accept(e){return e.type=="datetime"}render(e){return(0,z4.jsx)(Zze,{...e})}};function Zze(n){let{property:e,onChange:t}=n;return(0,z4.jsx)(Mp,{value:e.defaultValue,onChange:function(r){t==null||t(r)},excludes:[Dp]})}var U4=_(F()),qM=class{accept(e){return!0}render(e){return(0,U4.jsx)(Qze,{...e})}};function Qze(n){let{property:e,onChange:t}=n;return(0,U4.jsx)(Cc,{property:e.name,value:e.defaultValue,onInput:function(r){t==null||t(r)},onSelect:r=>{t==null||t(r)}})}ht();var j4=_(F()),YM=class{accept(e){return e.type=="multiSelect"}render(e){return(0,j4.jsx)(Jze,{...e})}};function Jze(n){let{property:e,onChange:t}=n,r=_e(),o=[];return Array.isArray(e.defaultValue)?o=e.defaultValue.map((a,s)=>a):e.defaultValue===null||e.defaultValue===void 0||e.defaultValue.trim&&e.defaultValue.trim()==""?o=[]:o=[e.defaultValue],(0,j4.jsx)(_c,{value:o,items:(()=>e.name=="tags"?yp(r,""):js(r,e.name).filter(a=>a!=null&&a!=null).map((a,s)=>({key:a,label:a,value:a})))(),onInputEnter:a=>{let s=[...o,a];t==null||t(Ao(s))},onSelect:a=>{let s=[...o,a];t==null||t(Ao(s))},onRemove:a=>{let s=o.filter(l=>l!=a);t==null||t(s)}})}var K4=_(F()),XM=class{accept(e){return e.type=="number"}render(e){return(0,K4.jsx)(e4e,{...e})}};function e4e(n){let{property:e,onChange:t}=n;return(0,K4.jsx)("input",{type:"number",className:"contribution-full-width",value:e.defaultValue,onChange:r=>{t==null||t(r.target.value)}})}var gfe=[new KM,new jM,new XM,new YM,new qM];var Pa=_(F());function vfe(n){return n.property.type=="backlinkCount"||n.property.type=="formula"?(0,Pa.jsx)(Pa.Fragment,{}):(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(J,{label:R.default_value,contentDirection:"column",children:(0,Pa.jsx)(t4e,{...n})}),(0,Pa.jsx)(J,{hideLabel:!0,children:(0,Pa.jsx)(Et,{children:R.dynamic_dataview_default_value_description})})]})}function t4e(n){let{property:e,onChange:t}=n;for(let r of gfe)if(r.accept(e))return(0,Pa.jsx)(J,{hideLabel:!0,children:r.render({property:e,onChange:o=>{t("defaultValue",o)}})});return(0,Pa.jsx)(Pa.Fragment,{})}var wfe=_(z());ue();var ZM=_(z());var Ti=_(F());function yfe(n){let{property:e,onChange:t}=n,r=e.options;if(e.type=="number"){let o=(r==null?void 0:r.prefix)||"",i=(r==null?void 0:r.suffix)||"";return(0,Ti.jsxs)(Ti.Fragment,{children:[(0,Ti.jsx)(J,{label:R.content_prefix,children:(0,Ti.jsx)("input",{type:"text",value:o,onChange:a=>{let s={...r,prefix:a.target.value};t("options",s)}})}),(0,Ti.jsx)(J,{label:R.content_suffix,children:(0,Ti.jsx)("input",{type:"text",value:i,onChange:a=>{let s={...r,suffix:a.target.value};t("options",s)}})})]})}if(e.type=="formula")return(0,Ti.jsx)(n4e,{property:e,onChange:t});if(e.type=="image"){let o=(r==null?void 0:r.fit)||"contains";return(0,Ti.jsx)(J,{label:R.picture_layout,children:(0,Ti.jsx)(WM,{value:o,onChange:function(i){let a={...r,fit:i};t("options",a)}})})}return(0,Ti.jsx)(Ti.Fragment,{})}function n4e(n){let{property:e,onChange:t}=n,r=e.options,[o,i]=(0,ZM.useState)((r==null?void 0:r.formula)||""),a=GL(s=>{let l={...r,formula:s};t("options",l)},500);return(0,ZM.useEffect)(()=>{a(o)},[o]),(0,Ti.jsx)(J,{label:R.type_formula,children:(0,Ti.jsx)("input",{type:"text",className:"input",value:o,onChange:s=>{i(s.target.value)}})})}var ui=_(F());function Sfe(){let n=Fr(f=>f.widgetModel.value),e=Br(),t=uo(),{widgetId:r,propertyId:o}=bo();if(!r)throw new Cn("widgetId is required");let i=Wr(n,r);if(!i)throw new Cn("can not find widget");let a=i,s=a.properties,l=s.find(f=>f.id===o);if(!l)throw new Cn("can not find property");let u=(f,p)=>{let h=s.map(g=>{if(g.id===l.id){let y={...g};return y[f]=p,y}return g}),m={...i,properties:h},v=qt(n,m);t(Ft(v))},c=f=>{let p=s.filter(v=>v.id!==f),h={...i,properties:p},m=qt(n,h);t(Ft(m)),new Cfe.Notice(R.delete_success),e(-1)},d=(0,wfe.useMemo)(()=>Gi(l.name),[l.name]);return(0,ui.jsxs)(Ah,{children:[(0,ui.jsx)(J,{label:R.property_name,children:(0,ui.jsx)(Gg,{property:l,widget:a,onChange:function(f){let p=qt(n,f);t(Ft(p))}})}),(0,ui.jsx)(J,{label:R.alias,children:(0,ui.jsx)("input",{className:"input",value:l.alias||"",placeholder:R.none,onChange:f=>{u("alias",f.target.value)}})}),(0,ui.jsx)(J,{label:R.property_type,children:d?(0,ui.jsx)(pr,{tag:R.internal_property}):(0,ui.jsx)(EL,{disabled:d,value:l.type,onChange:function(f){u("type",f)}})}),(0,ui.jsx)(yfe,{property:l,onChange:(f,p)=>u(f,p)}),!d&&(0,ui.jsx)(vfe,{property:l,onChange:(f,p)=>u(f,p)}),(0,ui.jsx)(J,{hideLabel:!0,children:(0,ui.jsx)(JC,{})}),(0,ui.jsx)(J,{hideLabel:!0,contentDirection:"column",children:(0,ui.jsx)(et,{onClick:()=>{c(l.id)},icon:(0,ui.jsx)(Cd,{size:14}),children:R.delete})})]})}ue();var Ts=_(F());function bfe(){let n=Fr(c=>c.widgetModel.value),e=uo(),{widgetId:t}=bo();if(!t)throw new Cn("widgetId is required");let r=Wr(n,t);if(!r)throw new Cn("can not find widget");let i=r.templates||[],a=c=>{let{active:d,over:f}=c;if(d.id!==f.id){let p=i.findIndex(y=>y.id==d.id),h=i.findIndex(y=>y.id==f.id),m=Zc(i,p,h),v={...r,templates:m},g=qt(n,v);e(Ft(g))}},s=c=>{let d=i.map(h=>h.id===c.id?c:h),f={...r,templates:d},p=qt(n,f);e(Ft(p))},l=bh(wl(Cl),wl(yl,{coordinateGetter:Rh})),u=c=>{let d=new fC(Ze());d.path=c;let f=[...i,d],p={...r,templates:f},h=qt(n,p);e(Ft(h))};return(0,Ts.jsxs)(vn,{direction:"vertical",children:[(0,Ts.jsx)(Ap,{placeholder:R.click_to_add,value:"",includeFolder:!1,fileExtensions:["md"],onSelect:u}),(0,Ts.jsx)(Eh,{onDragEnd:a,sensors:l,collisionDetection:_h,children:(0,Ts.jsx)(QC,{children:(0,Ts.jsx)(xh,{items:i,children:i.map(c=>(0,Ts.jsx)(r4e,{widgetId:t,template:c,onChange:d=>{s(d)}},c.id))})})})]})}function r4e(n){let{template:e,widgetId:t}=n,r=Br(),{attributes:o,listeners:i,setNodeRef:a,setActivatorNodeRef:s,transform:l,transition:u}=Dh({id:e.id}),c={transform:Ra.Transform.toString(l),transition:u};return(0,Ts.jsxs)(zM,{onClick:()=>{let d="/contribution-widget/"+t+"/dynamic-data-view/template-setting/"+e.id;r(d)},style:{...c},attrs:{...o},ref:a,children:[(0,Ts.jsx)(et,{attrs:{...i},ref:s,children:(0,Ts.jsx)(Ll,{size:14})}),(0,Ts.jsx)(pr,{tag:e.type}),(0,Ts.jsx)(UM,{children:e.path})]},e.id)}ue();var Efe=require("obsidian");ht();Mo();ht();var JM=_(z());var Ow=require("obsidian"),QM=_(F());function _fe(n){let[e,t]=(0,JM.useState)([]),r=_e();(0,JM.useEffect)(()=>{let i=r.vault.getFiles().filter(s=>n.includeFolder?!0:s instanceof Ow.TFile).filter(s=>n.fileExtensions&&s instanceof Ow.TFile?n.fileExtensions.contains(s.extension.toLowerCase()):!0).sort((s,l)=>s.basename.localeCompare(l.basename)),a=i.map(s=>s.parent).filter(s=>s!=null).reduce((s,l)=>(!l||s.some(u=>u.path==l.path)||s.push(l),s),[]);n.onlyFolder?t(a):t([...i,...a])},[n.fileExtensions]);let o=e.sort((i,a)=>i.path.localeCompare(a.path)).map(i=>({key:i.path,value:i,label:i instanceof Ow.TFile?i.basename:i.path,description:i instanceof Ow.TFile?i.path:"",icon:i instanceof Ow.TFile?(0,QM.jsx)(lm,{}):(0,QM.jsx)(um,{})}));return(0,QM.jsx)(Jd,{selectedKey:n.value,options:o,onChange:i=>{n.onChange(i.path)}})}var _l=_(F());function xfe(){let n=Fr(f=>f.widgetModel.value),e=Br(),t=uo(),r=_e(),{widgetId:o,templateId:i}=bo();if(!o)throw new Cn("widgetId is required");let a=Wr(n,o);if(!a)throw new Cn("can not find widget");let l=a.templates,u=l.find(f=>f.id===i)||new fC(Ze()),c=(f,p)=>{let h=l.find(y=>y.id===u.id),m;h?m=l.map(y=>{if(y.id===u.id){let C={...y};return C[f]=p,C}return y}):m=[...l,{...u,[f]:p}];let v={...a,templates:m},g=qt(n,v);t(Ft(g))},d=f=>{let p=l.filter(v=>v.id!==f),h={...a,templates:p},m=qt(n,h);t(Ft(m)),new Efe.Notice(R.delete_success),e(-1)};return(0,_l.jsxs)(Ah,{children:[(0,_l.jsx)(J,{label:R.file_path,children:(0,_l.jsx)(_fe,{value:u.path,fileExtensions:["md"],onChange:function(f){c("path",f)}})}),(0,_l.jsx)(J,{label:R.template_type,children:(0,_l.jsx)(o4e,{value:u.type,onChange:function(f){c("type",f)}})}),!tJ(r)&&u.type=="templater"&&(0,_l.jsx)(Et,{type:"warning",children:R.warning_no_templater_installed}),(0,_l.jsx)(J,{hideLabel:!0,contentDirection:"column",children:(0,_l.jsx)(et,{onClick:()=>{d(u.id)},icon:(0,_l.jsx)(Cd,{size:14}),children:R.delete})})]})}function o4e(n){return(0,_l.jsx)(jt,{selectedKey:n.value,options:i4e,onChange:function(e){n.onChange(e)}})}var i4e=[{label:R.default,value:"default",key:"default"},{label:"Templater",value:"templater",key:"templater"}];var El=_(F()),Ef="/contribution-widget",Dfe="change-type/:widgetId",Rfe="create/:parentId",Tfe=":widgetId",q4=":widgetId/multi";var CM=`${Ef}/${Tfe}`,mw=`${Ef}/${q4}`,rfe=`${Ef}/${Dfe}`,_ce=`${Ef}/${Rfe}`,a4e=[{path:Ef,element:(0,El.jsx)(Oue,{}),children:[{path:Dfe,element:(0,El.jsx)(B4,{})},{path:Rfe,element:(0,El.jsx)(B4,{})},{path:q4,element:(0,El.jsx)(bce,{})},{path:Tfe,element:(0,El.jsx)(nfe,{})},{path:":widgetId/dynamic-data-view/view-setting",element:(0,El.jsx)(cfe,{})},{path:":widgetId/dynamic-data-view/datasource-setting",element:(0,El.jsx)(dfe,{})},{path:":widgetId/dynamic-data-view/property-setting",element:(0,El.jsx)(mfe,{})},{path:":widgetId/dynamic-data-view/property-setting/:propertyId",element:(0,El.jsx)(Sfe,{})},{path:":widgetId/dynamic-data-view/template-setting",element:(0,El.jsx)(bfe,{})},{path:":widgetId/dynamic-data-view/template-setting/:templateId",element:(0,El.jsx)(xfe,{})}]}];function Y4(n){return kz(a4e,{initialEntries:[Ef,Ef+"/"+q4.replace(":widgetId",n.id||"none")]})}var X4=_(F());function Pfe(n){let e=n.widget,[t,r]=(0,eA.useState)(Y4(e));return(0,eA.useEffect)(()=>{r(Y4(n.widget))},[n.widget.id]),(0,X4.jsx)(Pue,{widget:e,onSave:n.onSave,onClose:n.onClose,children:(0,X4.jsx)(Ile,{router:t})})}var rd=_(F());function Da(n){let[e,t]=Z4.useState(n.widget),[r,o]=Z4.useState(!1);(0,Q4.useEffect)(()=>{t(n.widget)},[n.widget]);let i=_e();(0,Q4.useEffect)(()=>{if(e.type!="ref")return;let s=e,l=u=>{if(s!=null&&s.refId&&u.id==(s==null?void 0:s.refId)){let c={...s,widget:u.widget};t(c)}};return i.vault.on($h,l),()=>{i.vault.off($h,l)}},[e]);let a={};return e.maxWidthRatio&&(a.maxWidth=`${e.maxWidthRatio}%`),(0,rd.jsxs)("div",{className:"contribution-widget","data-widget-id":e.id,style:{...a,...n.style},...n.attrs,children:[n.isRoot&&(0,rd.jsx)(l4e,{onClick:s=>{o(!r)}}),(0,rd.jsx)(s4e,{isRoot:n.isRoot,widget:e,onSave:s=>{var l;t(s),(l=n.onSave)==null||l.call(n,s)},showEditing:()=>{r||o(!0)}}),n.children,r&&n.isRoot&&(0,rd.jsx)(Pfe,{widget:e,onSave:function(s){var l;t(s),(l=n.onSave)==null||l.call(n,s)},onClose:()=>{var s;(s=n.onSave)==null||s.call(n,e),o(!1)}})]})}function s4e(n){let e=n.widget,t={};e.fontColor&&(t.color=e.fontColor),e.backgroundColor&&(t.backgroundColor=e.backgroundColor);let r=wz.find(o=>o.accept(e));return r?r.render({widget:e,isRoot:n.isRoot,style:t,onSave:n.onSave,onEdit:n.showEditing}):(0,rd.jsx)("div",{children:(0,rd.jsxs)("p",{children:["not support widget type ",e.type]})})}function l4e(n){return(0,rd.jsx)("div",{className:"floating-widget-edit-menu",onClick:e=>n.onClick(e),children:(0,rd.jsx)(JS,{})})}var J4=_(z());ht();ue();var Ife=_(F());function Ofe(n){return(0,Ife.jsx)("span",{className:`contribution-description ${n.type}`,children:n.children})}var Rf=_(F()),tA=class extends Tf.MarkdownRenderChild{constructor(t,r,o,i,a){super(o);this.app=t,this.plugin=r,this.source=i,this.ctx=a,this.root=(0,Ffe.createRoot)(o)}onunload(){setTimeout(()=>{this.root.unmount(),this.containerEl.empty()})}onload(){let t=this.parseCodeToWidget(),r=t.type==="ref";try{let o=this.getActualWidget(t);this.root.render((0,Rf.jsx)(J4.StrictMode,{children:(0,Rf.jsx)(md.Provider,{value:this.app,children:(0,Rf.jsx)(hf.Provider,{value:this.plugin,children:(0,Rf.jsx)(ug.Provider,{value:this,children:(0,Rf.jsx)(Qd.Provider,{value:this.containerEl,children:(0,Rf.jsx)(Da,{isRoot:!0,widget:o,onSave:i=>{if(r)this.saveRefWidget(t,i),o=i;else{let a=this.saveAsNewRefWidget(i);o=this.getActualWidget(a)}}})})})})})}))}catch(o){this.root.render((0,Rf.jsx)(J4.StrictMode,{children:(0,Rf.jsx)(Ofe,{type:"error",children:o.message})}))}}getActualWidget(t){if(t.type!="ref")return t;let o=t.refId;if(o==null)throw new Error("refId is undefined");let i=this.plugin.settings.widgets.find(a=>a.id===o);if(i!=null&&i.widget)return i.widget;{let a=R.err_can_not_find_widget_by_refId.format(o||"");throw new Error(a)}}saveAsNewRefWidget(t){let o={id:Ze(),name:"",widget:t,createAt:new Date().toISOString(),updateAt:new Date().toISOString()},i=[...this.plugin.settings.widgets];i.push(o);let a={...this.plugin.settings,widgets:i};this.plugin.replaceSettings(a);let s={id:Ze(),type:"ref",refId:o.id};return this.updateCode(s),s}saveRefWidget(t,r){let o=this.plugin.settings.widgets.find(l=>l.id==t.refId);if(!o)return;let i={...o,widget:r,updateAt:new Date().toISOString()},a=this.plugin.settings.widgets.map(l=>t.refId==l.id?i:l),s={...this.plugin.settings,widgets:a};this.plugin.replaceSettings(s),this.app.vault.trigger($h,i)}updateCode(t){let r=(0,Tf.stringifyYaml)(t),o=this.containerEl.parentElement;o&&yK(this.app,o,this.source||"",r)}insertCode(t){let r=(0,Tf.stringifyYaml)(t),o=this.app.workspace.getActiveViewOfType(Tf.MarkdownView);if(!o)return;let i=o.editor,a=`\`\`\`${Gu}
${r}
\`\`\`
`;i.replaceSelection(a)}parseCodeToWidget(){if(this.source&&this.source.trim()!="")try{return(0,Tf.parseYaml)(this.source)}catch(t){throw t}return new qi(Ze())}};var xx=class{process(e,t,r,o,i){let a=o.createDiv();i.addChild(new tA(e,t,a,r,i))}};ue();var e6={widgets:[]};var nA=class{constructor(e,t){this.id=e,this.type="ref",this.refId=t}};var Lfe=require("obsidian"),Mfe=_(IS()),Afe=_(z());ht();var cv=_(F()),rA=class extends Lfe.ItemView{constructor(t,r,o){super(t);this.plugin=r,this.pluginSettings=o}getViewType(){return gv}getDisplayText(){if(!this.widget)return"";let t=this.widget.widget;return t.tabTitle||t.title||ws(t.type)}getIcon(){return Hh}async onOpen(){if(!this.widget)return;let{contentEl:t}=this,r=this.widget;this.root=(0,Mfe.createRoot)(t),this.root.render((0,cv.jsx)(Afe.StrictMode,{children:(0,cv.jsx)(md.Provider,{value:this.app,children:(0,cv.jsx)(hf.Provider,{value:this.plugin,children:(0,cv.jsx)(ug.Provider,{value:this,children:(0,cv.jsx)(Qd.Provider,{value:this.containerEl,children:(0,cv.jsx)(Da,{isRoot:!0,widget:r.widget,onSave:o=>{this.saveRefWidget(r.id,o)}})})})})})}))}async onClose(){this.root.unmount(),this.contentEl.empty()}async setState(t,r){this.refId=t;let o=this.plugin.settings.widgets.find(i=>i.id==t);return this.widget=o,await super.setState(t,r),this.onOpen()}getState(){return this.refId}saveRefWidget(t,r){let o=this.plugin.settings.widgets.find(l=>l.id==t);if(!o)return;let i={...o,widget:r,updateAt:new Date().toISOString()},a=this.plugin.settings.widgets.map(l=>t==l.id?i:l),s={...this.plugin.settings,widgets:a};this.plugin.replaceSettings(s),this.app.vault.trigger($h,i)}};var jfe=require("obsidian"),Kfe=_(IS()),qfe=_(z());ht();var Mw=_(z());ue();ue();var Dx=require("obsidian"),Nfe=_(z()),Pf=_(F());function kfe(n){let[e,t]=(0,Nfe.useState)("");return(0,Pf.jsx)("div",{className:"contribution-widget-form-container",children:(0,Pf.jsxs)("div",{className:"form",children:[(0,Pf.jsx)(J,{hideLabel:!0,children:(0,Pf.jsx)("textarea",{rows:18,cols:38,value:e,className:"contribution-full-width",onChange:r=>{t(r.target.value)}})}),(0,Pf.jsxs)(J,{hideLabel:!0,children:[(0,Pf.jsx)("div",{className:"button",onClick:()=>{try{let r=(0,Dx.parseYaml)(e);n.onImport(r),new Dx.Notice(R.import_success)}catch(r){new Dx.Notice("import failed, invalid format")}},children:R.import}),(0,Pf.jsx)("div",{className:"button",onClick:()=>n.onCancel(),children:R.cancel})]})]})})}var od=_(F());function Vfe(n){let{title:e}=n;return(0,od.jsxs)(KP,{children:[(0,od.jsxs)(Tp,{children:[n.icon,n.display]}),(0,od.jsx)(pc,{isDismissable:!0,onOpenChange:t=>{var r;t||(r=n.onCancel)==null||r.call(n)},children:(0,od.jsx)(fc,{children:({close:t})=>(0,od.jsxs)(od.Fragment,{children:[n.title&&(0,od.jsx)(dc,{slot:"title",children:e}),typeof n.children=="function"?n.children(t):n.children]})})})]})}var Iw=_(F());function Gfe(n){let e=r=>{let i={id:Ze(),name:"",createAt:new Date().toISOString(),updateAt:new Date().toISOString(),widget:r};n.onCreate(i)},t=()=>{e(new qi(Ze()))};return(0,Iw.jsxs)("div",{className:"header",children:[(0,Iw.jsx)(Tp,{onClick:()=>t(),type:"primary",children:R.create_widget}),(0,Iw.jsx)(Vfe,{display:R.import,title:R.import,children:r=>(0,Iw.jsx)(kfe,{onImport:o=>{e(o),r()},onCancel:()=>{r()}})})]})}ue();ue();var Ps=_(F());function Hfe(n){let{title:e}=n;return(0,Ps.jsxs)(KP,{children:[(0,Ps.jsxs)(Tp,{children:[n.icon,n.display]}),(0,Ps.jsx)(bH,{children:(0,Ps.jsx)(pc,{isDismissable:!0,isOpen:!0,onOpenChange:t=>{var r;t||(r=n.onCancel)==null||r.call(n)},children:(0,Ps.jsx)(fc,{children:({close:t})=>(0,Ps.jsxs)("div",{className:"contribution-confirm",children:[(0,Ps.jsx)(dc,{slot:"title",children:e}),(0,Ps.jsx)("div",{className:"confirm-content",children:n.children}),(0,Ps.jsxs)("div",{className:"confirm-footer",children:[(0,Ps.jsx)(Tp,{onClick:()=>{n.onConfirm(),t()},children:R.confirm}),(0,Ps.jsx)(Tp,{onClick:()=>{var r;(r=n.onCancel)==null||r.call(n),t()},children:R.cancel})]})]})})})})]})}Mo();ht();var dv=require("obsidian"),Fw=_(z());var Qn=_(F()),c4e=(0,Fw.lazy)(()=>Promise.resolve().then(()=>(Bfe(),$fe)));function Wfe(n){let{widgetWrapper:e,onDelete:t,onUpdate:r}=n,o=(0,Fw.useRef)(null),i=_e(),a=async d=>{let f=`\`\`\`${Gu}
id: ${Ze()}
type: 'ref'
refId: '${d}'
\`\`\`
    `;try{await navigator.clipboard.writeText(f),new dv.Notice(R.copy_success)}catch(p){new dv.Notice("Copy error",p.message)}},s=async d=>{let f=(0,dv.stringifyYaml)(d.widget),p=`\`\`\`${Gu}
${f}
\`\`\`
    `;try{await navigator.clipboard.writeText(p),new dv.Notice(R.copy_success)}catch(h){new dv.Notice("Copy error",h.message)}},l=d=>{i.internalPlugins.plugins["global-search"].instance.openGlobalSearch(d)},u=async d=>{let f=i.workspace.getLeaf(!0);await f.setViewState({type:gv,active:!1,state:d.id}),i.workspace.revealLeaf(f)},c=d=>{let f=d.widget;return f.type=="multi"?f.widgets.map(h=>h.tabTitle||h.title||ws(h.type)||"").filter(h=>h!=""):[f.tabTitle||f.title||ws(f.type)||""].filter(p=>p!="")};return(0,Qn.jsxs)("div",{className:"widget-data",onClick:d=>{var f;(f=n.onClick)==null||f.call(n,e)},children:[(0,Qn.jsxs)("div",{ref:o,className:"widget-description",children:[(0,Qn.jsxs)(vn,{children:[(0,Qn.jsx)("span",{className:"label",children:R.remark}),(0,Qn.jsx)("input",{className:"input",value:e.name||"",onClick:d=>{d.stopPropagation()},onChange:d=>{let f={...e,name:d.target.value,updateAt:new Date().toISOString()};r(f)}})]}),(0,Qn.jsxs)(Et,{children:["ID: ",e.id]}),(0,Qn.jsxs)(vn,{children:[(0,Qn.jsx)(et,{onClick:d=>{d.stopPropagation(),a(e.id)},icon:(0,Qn.jsx)(zS,{size:14}),children:R.copy}),(0,Qn.jsx)(et,{onClick:d=>{d.stopPropagation(),s(e)},icon:(0,Qn.jsx)(u0,{size:14}),children:R.share}),(0,Qn.jsx)(et,{onClick:d=>{d.stopPropagation(),l(e.id)},icon:(0,Qn.jsx)(dm,{size:14}),children:R.search}),(0,Qn.jsx)(et,{onClick:d=>{d.stopPropagation(),u(e)},icon:(0,Qn.jsx)(rp,{size:14}),children:R.open_page_in_window}),(0,Qn.jsx)(Hfe,{display:R.delete,icon:(0,Qn.jsx)(Cd,{size:14}),title:R.confirm_to_delete,onCancel:function(){},onConfirm:function(){t(e.id)},children:R.operation_can_not_recover})]}),(0,Qn.jsxs)(Et,{children:[R.create_at," ",e.createAt]}),n.showTags&&(0,Qn.jsx)(vn,{wrap:!0,children:c(e).map((d,f)=>(0,Qn.jsx)(pr,{tag:d},f))}),(0,Qn.jsx)(Fw.Suspense,{fallback:(0,Qn.jsx)("h1",{children:"loading"}),children:(0,Qn.jsx)(c4e,{id:e.id})})]}),n.children]})}var aA=_(z());ue();var Of=_(F());function zfe(n){let{widgets:e,onRemove:t,onUpdate:r}=n,o=(0,aA.useRef)(null),[i,a]=(0,aA.useState)(null);return(0,Of.jsxs)("div",{className:"widget-grid",children:[e.map(s=>(0,Of.jsx)(Wfe,{widgetWrapper:s,onDelete:t,onUpdate:r,showTags:!0,onClick:l=>{a(l)}},s.id)),(0,Of.jsx)("div",{className:"widget-preview",ref:o,children:i&&(0,Of.jsxs)("div",{className:"widget-preview-modal",children:[(0,Of.jsx)(vn,{gap:8,children:(0,Of.jsxs)(et,{onClick:()=>{a(null)},children:["x"," "+R.close]})}),(0,Of.jsx)(Da,{widget:i.widget,isRoot:!0,onSave:s=>{r({...i,widget:s})}})]})})]})}var Lw=_(F());function Ufe(n){let[e,t]=(0,Mw.useState)(n.settings.widgets||[]),r=(0,Mw.useRef)(null),o=l=>{let u={...n.settings,widgets:l};n.onSave(u)};(0,Mw.useEffect)(()=>{t(n.settings.widgets)},[n.settings.widgets]);let i=l=>{let u=[l,...e];o(u),t(u),setTimeout(()=>{let c=r.current;c&&(c.scrollTop=c.scrollHeight)},100)};return(0,Lw.jsxs)("div",{className:"contribution-widget-database",children:[(0,Lw.jsx)(Gfe,{onCreate:l=>i(l)}),(0,Lw.jsx)("div",{className:"main",children:(0,Lw.jsx)(zfe,{widgets:e,onRemove:l=>{let u=e.filter(c=>c.id!==l);o(u),t(u)},onUpdate:l=>{let u=e.map(c=>c.id===l.id?(l.createAt=c.createAt,l.updateAt=new Date().toISOString(),l):c);o(u),t(u)}})})]})}var fv=_(F()),sA=class extends jfe.ItemView{constructor(t,r,o){super(t);this.plugin=r,this.pluginSettings=o}getViewType(){return Vw}getDisplayText(){return"Components Database"}getIcon(){return Hh}async onOpen(){let{contentEl:t}=this;this.root=(0,Kfe.createRoot)(t),this.root.render((0,fv.jsx)(qfe.StrictMode,{children:(0,fv.jsx)(md.Provider,{value:this.app,children:(0,fv.jsx)(hf.Provider,{value:this.plugin,children:(0,fv.jsx)(ug.Provider,{value:this,children:(0,fv.jsx)(Qd.Provider,{value:t,children:(0,fv.jsx)(Ufe,{onSave:r=>this.plugin.replaceSettings(r),settings:this.pluginSettings})})})})})}))}async onClose(){this.root.unmount(),this.contentEl.empty()}};var Zi=_(F());function Yfe(){let e=NL().manifest.version;return(0,Zi.jsxs)("div",{className:"description-container",children:[(0,Zi.jsx)(td,{title:"\u5173\u6CE8\u516C\u4F17\u53F7",icon:(0,Zi.jsx)(s0,{}),description:"\u3010\u70B9\u51FB\u8DF3\u8F6C\u3011\u516C\u4F17\u53F7\u56DE\u590D<obsidian \u52A0\u7FA4>\u53EF\u4EE5\u52A0\u5165\u5185\u6D4B\u7FA4\uFF0C\u83B7\u53D6\u6700\u65B0\u7248\u672C\u548C\u4F7F\u7528\u5E2E\u52A9",onClick:t=>{window.open("https://mp.weixin.qq.com/s/G3tZajvK4v_rm7ZC1UcCsg")}}),(0,Zi.jsx)(td,{title:"\u7248\u672C",icon:(0,Zi.jsx)(ju,{}),description:`${e}`,onClick:t=>{}}),(0,Zi.jsx)(td,{title:"\u6302\u4EF6\u79CD\u7C7B",icon:(0,Zi.jsx)(v0,{}),description:"\u5F53\u524D\u7248\u672C\u6709 "+qc.length+" \u79CD\u6302\u4EF6",onClick:t=>{}}),(0,Zi.jsx)(td,{title:"\u5176\u4ED6\u4F5C\u54C1",description:(0,Zi.jsxs)("ul",{children:[(0,Zi.jsx)("li",{children:(0,Zi.jsx)("a",{href:"https://github.com/vran-dev/obsidian-contribution-graph",children:"Contribution Graph"})}),(0,Zi.jsx)("li",{children:(0,Zi.jsx)("a",{href:"https://github.com/vran-dev/obsidian-attachment-pro",children:"Attachment Pro"})})]})})]})}ht();var Xfe=require("obsidian"),Zfe=_(z()),Qfe=_(IS()),Aw=_(F()),lA=class extends Xfe.PluginSettingTab{constructor(t){super(t.app,t);this.plugin=t}display(){let{containerEl:t}=this;this.root=(0,Qfe.createRoot)(t),this.root.render((0,Aw.jsx)(Zfe.StrictMode,{children:(0,Aw.jsx)(md.Provider,{value:this.app,children:(0,Aw.jsx)(hf.Provider,{value:this.plugin,children:(0,Aw.jsx)(Qd.Provider,{value:t,children:(0,Aw.jsx)(Yfe,{})})})})}))}hide(){this.root.unmount(),this.containerEl.empty()}};var uA=class extends Nw.Plugin{constructor(){super(...arguments);this.settings=e6}async onload(){await this.loadSettings(),this.registerContextMenu(),this.registerCommands(),this.registerWidgetView(),this.registerCodeblockProcessor(),this.addSettingTab(new lA(this))}onunload(){}async loadSettings(){this.settings=Object.assign({},e6,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}registerCodeblockProcessor(){this.registerMarkdownCodeBlockProcessor(r6,(t,r,o)=>{new xx().process(this.app,this,t,r,o)}),this.registerMarkdownCodeBlockProcessor(Gu,(t,r,o)=>{new xx().process(this.app,this,t,r,o)})}registerContextMenu(){this.registerEvent(this.app.workspace.on("editor-menu",(t,r,o)=>{t.addItem(i=>{i.setTitle(R.create_widget),i.setIcon(Hh),i.onClick(()=>{this.createWidget()})})}))}registerWidgetView(){this.registerView(Vw,t=>new sA(t,this,this.settings)),this.registerView(gv,t=>new rA(t,this,this.settings))}registerCommands(){this.addCommand({id:"open-components-database",name:"open components database",callback:()=>{this.initLeaf(Vw)}}),this.addCommand({id:"create-widget",name:R.create_widget,icon:Hh,callback:()=>{this.createWidget()}})}initLeaf(t){let r=this.app.workspace.getLeavesOfType(t);if(r.length){r[0].setViewState({type:t,active:!0});return}this.app.workspace.getLeaf(!1).setViewState({type:t,active:!0})}createWidget(){let t=this.app.workspace.getActiveViewOfType(Nw.MarkdownView);if(!t)return;let r=Ze(),o={id:r,name:"",widget:new qi(Ze()),createAt:new Date().toISOString(),updateAt:new Date().toISOString()},i=[...this.settings.widgets];i.push(o);let a={...this.settings,widgets:i};this.replaceSettings(a);let s=new nA(Ze(),r),l=(0,Nw.stringifyYaml)(s),u=t.editor,c=`\`\`\`${Gu}
${l}
\`\`\`
`;u.replaceSelection(c)}async replaceSettings(t){this.settings=Object.assign({},this.settings,t),await this.saveSettings()}};
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

ag-grid-community/dist/ag-grid-community.cjs.js:
  (**
   * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
   * @link https://www.ag-grid.com/
  ' * @license MIT
   *)
  (**
   * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
   * @version v31.1.1
   * @link https://www.ag-grid.com/
   * @license MIT
   *)

react-dom/cjs/react-dom-server-legacy.browser.production.min.js:
  (**
   * @license React
   * react-dom-server-legacy.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-server.browser.production.min.js:
  (**
   * @license React
   * react-dom-server.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-with-selector.production.min.js:
  (**
   * @license React
   * use-sync-external-store-with-selector.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/createLucideIcon.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/a-large-small.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/app-window.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-left-to-line.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-right-to-line.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-up-narrow-wide.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/bar-chart-3.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/book-open.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/calendar-clock.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/check-square-2.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-down.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-right.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-dot.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/clock-1.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/clock-10.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/clock.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/code.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/columns-3.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/compass.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy-plus.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/database-zap.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye-off.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-digit.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-type.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/folder.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/function-square.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/grid-2x2.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/grip.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/hash.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/image.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/layers.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/layout-grid.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/layout-template.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/line-chart.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/link.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/list-filter.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/list.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/more-horizontal.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/move-left.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/panel-left-open.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/percent.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pie-chart.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/presentation.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/rss.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/search.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/settings-2.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/share-2.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/sheet.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/sliders-horizontal.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-pen.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/sticky-note.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/tag.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/text-quote.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/text-search.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/timer.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/trash-2.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/trash.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/type.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/wand.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/x.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.316.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.4.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.4.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

@tanstack/react-virtual/build/lib/_virtual/_rollupPluginBabelHelpers.mjs:
  (**
   * react-virtual
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

@tanstack/virtual-core/build/lib/_virtual/_rollupPluginBabelHelpers.mjs:
  (**
   * virtual-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

@tanstack/virtual-core/build/lib/utils.mjs:
  (**
   * virtual-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

@tanstack/virtual-core/build/lib/index.mjs:
  (**
   * virtual-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

@tanstack/react-virtual/build/lib/index.mjs:
  (**
   * react-virtual
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.2.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

chart.js/dist/helpers.js:
  (*!
   * Chart.js v4.4.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

@remix-run/router/dist/router.js:
  (**
   * @remix-run/router v1.15.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router/dist/index.js:
  (**
   * React Router v6.22.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router-dom/dist/index.js:
  (**
   * React Router DOM v6.22.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)
*/
